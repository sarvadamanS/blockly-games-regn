// Automatically generated file.  Do not edit!

var b,h={g:{}};h.g.hc={};h.g.hc.Zh=function(a){return a*Math.PI/180};h.g.hc.RC=function(a){return 180*a/Math.PI};h.g.hc.bk=function(a,c,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(c,d))};
h.V={Qb:1,Pc:2,Rb:3,jd:4};
h.bb={};h.Ts=40;h.ct=125;h.nx=5;h.Lx=10;h.$b=28;h.us=h.$b;h.Xw=8;h.io=250;h.jo=10;h.Uw=30;h.by=750;h.My=100;h.ox=!0;h.Qx=.45;h.Rx=.65;h.QF={width:96,height:124,url:"sprites.png"};h.bb.Fd={Jd:-1,Vl:0,We:1};h.GD=0;h.HD=1;h.ED=1;h.FD=2;h.ui=[];h.ui[h.V.Qb]=h.V.Pc;h.ui[h.V.Pc]=h.V.Qb;h.ui[h.V.Rb]=h.V.jd;h.ui[h.V.jd]=h.V.Rb;h.xt="VARIABLE";h.et="PROCEDURE";h.FF="RENAME_VARIABLE_ID";h.CD="DELETE_VARIABLE_ID";h.bb.Xl="_TEMP_COLLAPSED_INPUT";h.bb.Wl="_TEMP_COLLAPSED_FIELD";h.g.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();
h.K={};h.g.global.Blockly||(h.g.global.Blockly={});h.g.global.Blockly.Msg||(h.g.global.Blockly.Msg=h.K);h.g.gb={};h.g.gb.parse=function(a){a=String(a).toLowerCase().trim();var c=h.g.gb.names[a];if(c)return c;c="0x"==a.substring(0,2)?"#"+a.substring(2):a;c="#"==c[0]?c:"#"+c;if(/^#[0-9a-f]{6}$/.test(c))return c;if(/^#[0-9a-f]{3}$/.test(c))return["#",c[1],c[1],c[2],c[2],c[3],c[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),c=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=c&&256>c&&0<=d&&256>d)?h.g.gb.Fr(a,c,d):null};
h.g.gb.Fr=function(a,c,d){c=a<<16|c<<8|d;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)};h.g.gb.Yu=function(a){a=h.g.gb.parse(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
h.g.gb.cv=function(a){var c=h.Qx,d=255*h.Rx,e=0,f=0,g=0;if(0==c)g=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-c);var m=d*(1-c*l);c=d*(1-c*(1-l));switch(k){case 1:e=m;f=d;g=a;break;case 2:e=a;f=d;g=c;break;case 3:e=a;f=m;g=d;break;case 4:e=c;f=a;g=d;break;case 5:e=d;f=a;g=m;break;case 6:case 0:e=d,f=c,g=a}}return h.g.gb.Fr(Math.floor(e),Math.floor(f),Math.floor(g))};
h.g.gb.hp=function(a,c,d){a=h.g.gb.parse(a);if(!a)return null;c=h.g.gb.parse(c);if(!c)return null;a=h.g.gb.Yu(a);c=h.g.gb.Yu(c);return h.g.gb.Fr(Math.round(c[0]+d*(a[0]-c[0])),Math.round(c[1]+d*(a[1]-c[1])),Math.round(c[2]+d*(a[2]-c[2])))};h.g.gb.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};h.g.N=function(a,c){this.x=a;this.y=c};h.g.N.kf=function(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1};h.g.N.Op=function(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)};h.g.N.rB=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};h.g.N.Om=function(a,c){return new h.g.N(a.x-c.x,a.y-c.y)};h.g.N.sum=function(a,c){return new h.g.N(a.x+c.x,a.y+c.y)};h.g.N.prototype.clone=function(){return new h.g.N(this.x,this.y)};h.g.N.prototype.scale=function(a){this.x*=a;this.y*=a;return this};
h.g.N.prototype.translate=function(a,c){this.x+=a;this.y+=c;return this};h.g.Rect=function(a,c,d,e){this.top=a;this.bottom=c;this.left=d;this.right=e};h.g.Rect.prototype.contains=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};h.g.Qa={};h.g.Qa.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};h.g.Qa.Mr=function(a){return a.length?a.reduce(function(c,d){return c.length<d.length?c:d}).length:0};h.g.Qa.Lz=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.Qa.Mr(a);for(var e=0;e<c;e++){for(var f=a[0][e],g=1;g<a.length;g++)if(f!=a[g][e])return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g][e])&&" "!=f)return d;return c};
h.g.Qa.Mz=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.Qa.Mr(a);for(var e=0;e<c;e++){for(var f=a[0].substr(-e-1,1),g=1;g<a.length;g++)if(f!=a[g].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g].charAt(a[g].length-e-1))&&" "!=f)return d;return c};h.g.Qa.dD=function(a){var c=h.F.$x;a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=h.g.Qa.eD(a[d],c);return a.join("\n")};
h.g.Qa.eD=function(a,c){if(a.length<=c)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>c&&(c=d[e].length);e=-Infinity;var f=1;do{var g=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=h.g.Qa.Ew(d,a,c);e=h.g.Qa.bs(d,a,c);a=h.g.Qa.fD(d,a);f++}while(e>g);return k};
h.g.Qa.bs=function(a,c,d){for(var e=[0],f=[],g=0;g<a.length;g++)e[e.length-1]+=a[g].length,!0===c[g]?(e.push(0),f.push(a[g].charAt(a[g].length-1))):!1===c[g]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(g=c=0;g<e.length;g++)c-=2*Math.pow(Math.abs(d-e[g]),1.5),c-=Math.pow(a-e[g],1.5),-1!=".?!".indexOf(f[g])?c+=d/3:-1!=",;)]}".indexOf(f[g])&&(c+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(c+=.5);return c};
h.g.Qa.Ew=function(a,c,d){for(var e=h.g.Qa.bs(a,c,d),f,g=0;g<c.length-1;g++)if(c[g]!=c[g+1]){var k=[].concat(c);k[g]=!k[g];k[g+1]=!k[g+1];var l=h.g.Qa.bs(a,k,d);l>e&&(e=l,f=k)}return f?h.g.Qa.Ew(a,f,d):c};h.g.Qa.fD=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==c[e]&&d.push(c[e]?"\n":" ");return d.join("")};h.g.Rc=function(a,c){this.width=a;this.height=c};h.g.Rc.kf=function(a,c){return a==c?!0:a&&c?a.width==c.width&&a.height==c.height:!1};h.g.style={};h.g.style.mf=function(a){if("none"!=h.g.style.Pu(a,"display"))return h.g.style.Nu(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var g=a.offsetWidth;a=a.offsetHeight;c.display=d;c.position=f;c.visibility=e;return new h.g.Rc(g,a)};h.g.style.Nu=function(a){return new h.g.Rc(a.offsetWidth,a.offsetHeight)};h.g.style.Pu=function(a,c){return h.g.style.getComputedStyle(a,c)||h.g.style.yA(a,c)||a.style&&a.style[c]};
h.g.style.getComputedStyle=function(a,c){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""};h.g.style.yA=function(a,c){return a.currentStyle?a.currentStyle[c]:null};h.g.style.ph=function(a){var c=new h.g.N(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new h.g.N(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);c.x=a.left+d.x;c.y=a.top+d.y;return c};
h.g.style.NA=function(){var a=document.body,c=document.documentElement;return new h.g.N(a.scrollLeft||c.scrollLeft,a.scrollTop||c.scrollTop)};h.g.style.JH=function(a,c){a.style.display=c?"":"none"};h.g.style.pH=function(a){return"rtl"==h.g.style.Pu(a,"direction")};
h.g.style.vA=function(a){var c=h.g.style.getComputedStyle(a,"borderLeftWidth"),d=h.g.style.getComputedStyle(a,"borderRightWidth"),e=h.g.style.getComputedStyle(a,"borderTopWidth");a=h.g.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(e),right:parseFloat(d),bottom:parseFloat(a),left:parseFloat(c)}};h.g.style.xC=function(a,c){a=h.g.style.BA(a,c);c.scrollLeft=a.x;c.scrollTop=a.y};
h.g.style.BA=function(a,c){var d=h.g.style.ph(a),e=h.g.style.ph(c),f=h.g.style.vA(c),g=d.x-e.x-f.left;d=d.y-e.y-f.top;a=h.g.style.Nu(a);e=c.clientHeight-a.height;f=c.scrollLeft;var k=c.scrollTop;f+=Math.min(g,Math.max(g-(c.clientWidth-a.width),0));k+=Math.min(d,Math.max(d-e,0));return new h.g.N(f,k)};h.g.userAgent={};
(function(a){function c(e){return-1!=d.indexOf(e.toUpperCase())}h.g.userAgent.raw=a;var d=h.g.userAgent.raw.toUpperCase();h.g.userAgent.Id=c("Trident")||c("MSIE");h.g.userAgent.Vg=c("Edge");h.g.userAgent.Yx=c("JavaFX");h.g.userAgent.tD=(c("Chrome")||c("CriOS"))&&!h.g.userAgent.Vg;h.g.userAgent.At=c("WebKit")&&!h.g.userAgent.Vg;h.g.userAgent.Mx=c("Gecko")&&!h.g.userAgent.At&&!h.g.userAgent.Id&&!h.g.userAgent.Vg;h.g.userAgent.Rl=c("Android");a=h.g.global.navigator&&h.g.global.navigator.maxTouchPoints;h.g.userAgent.Hj=
c("iPad")||c("Macintosh")&&0<a;h.g.userAgent.Qs=c("iPod");h.g.userAgent.Ps=c("iPhone")&&!h.g.userAgent.Hj&&!h.g.userAgent.Qs;h.g.userAgent.ey=c("Macintosh");h.g.userAgent.Sy=h.g.userAgent.Hj||h.g.userAgent.Rl&&!c("Mobile")||c("Silk");h.g.userAgent.XE=!h.g.userAgent.Sy&&(h.g.userAgent.Qs||h.g.userAgent.Ps||h.g.userAgent.Rl||c("IEMobile"))})(h.g.global.navigator&&h.g.global.navigator.userAgent||"");
h.g.EB=function(a){a.preventDefault();a.stopPropagation()};h.g.mn=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable||a.target.dataset&&"true"==a.target.dataset.rH};
h.g.Rd=function(a){var c=new h.g.N(0,0),d=a.getAttribute("x");d&&(c.x=parseInt(d,10));if(d=a.getAttribute("y"))c.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(h.g.Rd.Zy))c.x+=Number(d[1]),d[3]&&(c.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(h.g.Rd.$y))&&(c.x+=Number(a[1]),a[3]&&(c.y+=Number(a[3])));return c};
h.g.jq=function(a){for(var c=0,d=0;a;){var e=h.g.Rd(a);c+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new h.g.N(c,d)};h.g.Rd.Zy=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;h.g.Rd.$y=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;h.g.Qk=function(a){return a.ctrlKey&&h.g.userAgent.ey?!0:2==a.button};
h.g.al=function(a,c,d){var e=c.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=c.getScreenCTM().inverse());return e.matrixTransform(d)};h.g.JA=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*h.Ts,y:a.deltaY*h.Ts};case 2:return{x:a.deltaX*h.ct,y:a.deltaY*h.ct}}};h.g.SC=function(a){return h.g.Ur(a,!0)};h.g.Kc=function(a){if("string"!=typeof a)return a;a=h.g.Ur(a,!1);return a.length?String(a[0]):""};
h.g.Tt=function(a){for(var c=h.K,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==c[d[e].toUpperCase().slice(6,-1)]&&console.warn("No message string for "+d[e]+" in "+a)};
h.g.Ur=function(a,c){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var g=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):c&&"0"<=l&&"9">=l?(f=2,g=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?g+=l:(d.push(parseInt(g,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=h.g.Qa.startsWith(l,"BKY_")?
l.substring(4):null)&&l in h.K?(f=h.K[l],"string"==typeof f?Array.prototype.push.apply(d,h.g.Ur(f,c)):c?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);c=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&c.push(l),a.length=0,c.push(d[k]));(l=a.join(""))&&c.push(l);a.length=0;return c};h.g.lf=function(){for(var a=h.g.lf.lw.length,c=[],d=0;20>d;d++)c[d]=h.g.lf.lw.charAt(Math.random()*a);return c.join("")};
h.g.lf.lw="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
h.g.Ah=function(){if(void 0!==h.g.Ah.qp)return h.g.Ah.qp;if(!h.g.global.getComputedStyle)return!1;var a=document.createElement("p"),c="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";c=h.g.global.getComputedStyle(a);if(!c)return document.body.removeChild(a),!1;c=c.getPropertyValue(d[e])}document.body.removeChild(a);
h.g.Ah.qp="none"!==c;return h.g.Ah.qp};h.g.hw=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var c=setInterval(function(){"complete"==document.readyState&&(clearInterval(c),a())},10)};h.g.MA=function(){var a=h.g.style.NA();return new h.g.Rect(a.y,document.documentElement.clientHeight+a.y,a.x,document.documentElement.clientWidth+a.x)};
h.g.Yj=function(a,c){c=a.indexOf(c);if(-1==c)return!1;a.splice(c,1);return!0};h.g.EA=function(){var a=document.documentElement,c=window;return h.g.userAgent.Id&&c.pageYOffset!=a.scrollTop?new h.g.N(a.scrollLeft,a.scrollTop):new h.g.N(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop)};h.g.Cu=function(a){var c=Object.create(null),d=p(a,!0);if(a=u(a))a=d.indexOf(a),d.splice(a,d.length-a);a=0;for(var e;e=d[a];a++)c[e.type]?c[e.type]++:c[e.type]=1;return c};
h.g.GH=function(a,c){var d=c.x;c=c.y;var e=aa(a).getBoundingClientRect();d=new h.g.N(d-e.left,c-e.top);c=h.g.jq(a.yb);return h.g.N.Om(d,c).scale(1/a.scale)};h.g.En=function(a){var c="string"==typeof a?h.g.Kc(a):a,d=Number(c);if(!isNaN(d)&&0<=d&&360>=d)return{$A:d,Ik:h.g.gb.cv(d)};if(d=h.g.gb.parse(c))return{$A:null,Ik:d};d='Invalid colour: "'+c+'"';a!=c&&(d+=' (from "'+a+'")');throw Error(d);};h.Touch={};h.Touch.tt="ontouchstart"in h.g.global||!!(h.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!h.g.global.navigator||!h.g.global.navigator.maxTouchPoints&&!h.g.global.navigator.msMaxTouchPoints);h.Touch.Jl=null;h.Touch.ne={};
h.g.global.PointerEvent?h.Touch.ne={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:h.Touch.tt&&(h.Touch.ne={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});h.rn=0;
h.qB=function(a,c){h.tg();a.changedTouches&&1!=a.changedTouches.length||(h.rn=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);c&&ba(c,a)},h.by))};h.tg=function(){h.rn&&(clearTimeout(h.rn),h.rn=0)};h.Touch.Bm=function(){h.Touch.Jl=null};h.Touch.Or=function(a){return!h.Touch.iB(a)||h.Touch.Gz(a)};
h.Touch.Ym=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};h.Touch.Gz=function(a){var c=h.Touch.Ym(a);return void 0!==h.Touch.Jl&&null!==h.Touch.Jl?h.Touch.Jl==c:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(h.Touch.Jl=c,!0):!1};
h.Touch.AC=function(a){if(h.g.Qa.startsWith(a.type,"touch")){var c=a.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY}};h.Touch.iB=function(a){return h.g.Qa.startsWith(a.type,"touch")||h.g.Qa.startsWith(a.type,"mouse")||h.g.Qa.startsWith(a.type,"pointer")};h.Touch.on=function(a){return h.g.Qa.startsWith(a.type,"touch")||h.g.Qa.startsWith(a.type,"pointer")};
h.Touch.IC=function(a){var c=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)c[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else c.push(a);return c};h.R={};h.R.La=function(a,c,d,e,f,g){function k(t){var ia=!f;t=h.Touch.IC(t);for(var wa=0,R;R=t[wa];wa++)if(!ia||h.Touch.Or(R))h.Touch.AC(R),d?e.call(d,R):e(R),l=!0}var l=!1,m=[];if(h.g.global.PointerEvent&&c in h.Touch.ne)for(var n=0,q;q=h.Touch.ne[c][n];n++)a.addEventListener(q,k,!1),m.push([a,q,k]);else if(a.addEventListener(c,k,!1),m.push([a,c,k]),c in h.Touch.ne){var r=function(t){k(t);var ia=!g;l&&ia&&t.preventDefault()};for(n=0;q=h.Touch.ne[c][n];n++)a.addEventListener(q,r,!1),m.push([a,q,r])}return m};
h.R.bind=function(a,c,d,e){function f(n){d?e.call(d,n):e(n)}var g=[];if(h.g.global.PointerEvent&&c in h.Touch.ne)for(var k=0,l;l=h.Touch.ne[c][k];k++)a.addEventListener(l,f,!1),g.push([a,l,f]);else if(a.addEventListener(c,f,!1),g.push([a,c,f]),c in h.Touch.ne){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var q=n.changedTouches[0];n.clientX=q.clientX;n.clientY=q.clientY}f(n);n.preventDefault()};for(k=0;l=h.Touch.ne[c][k];k++)a.addEventListener(l,m,!1),g.push([a,l,m])}return g};
h.R.ub=function(a){for(;a.length;){var c=a.pop(),d=c[2];c[0].removeEventListener(c[1],d,!1)}return d};h.mc=function(){this.Zt=Object.create(null);this.Bz=Object.create(null)};function ca(a,c){var d=h.mc.Nc.kx;d=String(d).toLowerCase();return-1!==a.Zt[c].AG.indexOf(d)}function da(a,c){c=String(c).toLowerCase();c=a.Bz[c];if(!c)return[];var d=[],e=[],f=a.Zt;c.forEach(function(g){e.push(f[g])});e.sort(function(g,k){return g.weight-k.weight});e.forEach(function(g){d.push(g.Yt)});return d}h.mc.Nc=function(a){this.Uq=a};h.mc.Nc.prototype.toString=function(){return this.Uq};h.mc.Nc.zy=new h.mc.Nc("positionable");
h.mc.Nc.px=new h.mc.Nc("drag_target");h.mc.Nc.kx=new h.mc.Nc("delete_area");h.mc.Nc.Nw=new h.mc.Nc("autohideable");
h.g.G=function(a){this.OC=a};h.g.G.prototype.toString=function(){return this.OC};h.g.G.ao=new h.g.G("animate");h.g.G.Tw=new h.g.G("circle");h.g.G.uD=new h.g.G("clipPath");h.g.G.ys=new h.g.G("defs");h.g.G.Cs=new h.g.G("feComposite");h.g.G.ZD=new h.g.G("feComponentTransfer");h.g.G.$D=new h.g.G("feFlood");h.g.G.aE=new h.g.G("feFuncA");h.g.G.Bx=new h.g.G("feGaussianBlur");h.g.G.Cx=new h.g.G("fePointLight");h.g.G.Dx=new h.g.G("feSpecularLighting");h.g.G.Jx=new h.g.G("filter");h.g.G.iE=new h.g.G("foreignObject");
h.g.G.Oc=new h.g.G("g");h.g.G.vo=new h.g.G("image");h.g.G.Kj=new h.g.G("line");h.g.G.Te=new h.g.G("path");h.g.G.dt=new h.g.G("pattern");h.g.G.yy=new h.g.G("polygon");h.g.G.Ve=new h.g.G("rect");h.g.G.Sj=new h.g.G("svg");h.g.G.st=new h.g.G("text");h.g.G.ut=new h.g.G("tspan");h.g.j={};h.g.j.nm="http://www.w3.org/2000/svg";h.g.j.to="http://www.w3.org/1999/xhtml";h.g.j.fh="http://www.w3.org/1999/xlink";h.g.j.Qf={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};h.g.j.Md=null;h.g.j.np=0;h.g.j.ym=null;h.g.j.S=function(a,c,d){a=document.createElementNS(h.g.j.nm,String(a));for(var e in c)a.setAttribute(e,c[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
h.g.j.Bb=function(a,c){var d=a.getAttribute("class")||"";-1==(" "+d+" ").indexOf(" "+c+" ")&&(d&&(d+=" "),a.setAttribute("class",d+c))};h.g.j.AH=function(a,c){c=c.split(" ");for(var d=0;d<c.length;d++)h.g.j.Jc(a,c[d])};h.g.j.Jc=function(a,c){var d=a.getAttribute("class");if(-1!=(" "+d+" ").indexOf(" "+c+" ")){d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=c||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class")}};
h.g.j.tq=function(a,c){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+c+" ")};h.g.j.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};h.g.j.Lk=function(a,c){var d=c.nextSibling;c=c.parentNode;if(!c)throw Error("Reference node has no parent.");d?c.insertBefore(a,d):c.appendChild(a)};h.g.j.containsNode=function(a,c){return!!(a.compareDocumentPosition(c)&h.g.j.Qf.DOCUMENT_POSITION_CONTAINED_BY)};
h.g.j.Mn=function(a,c){a.style.transform=c;a.style["-webkit-transform"]=c};h.g.j.Al=function(){h.g.j.np++;h.g.j.Md||(h.g.j.Md=Object.create(null))};h.g.j.Bl=function(){h.g.j.np--;h.g.j.np||(h.g.j.Md=null)};h.g.j.bH=function(a){var c=a.textContent+"\n"+a.className.baseVal,d;if(h.g.j.Md&&(d=h.g.j.Md[c]))return d;try{d=h.g.userAgent.Id||h.g.userAgent.Vg?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}h.g.j.Md&&(h.g.j.Md[c]=d);return d};
h.g.j.iq=function(a,c,d,e){return h.g.j.FA(a,c+"pt",d,e)};h.g.j.FA=function(a,c,d,e){var f=a.textContent;a=f+"\n"+a.className.baseVal;var g;if(h.g.j.Md&&(g=h.g.j.Md[a]))return g;h.g.j.ym||(g=document.createElement("canvas"),g.className="blocklyComputeCanvas",document.body.appendChild(g),h.g.j.ym=g.getContext("2d"));h.g.j.ym.font=d+" "+c+" "+e;g=h.g.j.ym.measureText(f).width;h.g.j.Md&&(h.g.j.Md[a]=g);return g};
h.g.j.uB=function(a,c,d){var e=document.createElement("span");e.style.font=c+" "+a+" "+d;e.textContent="Hg";a=document.createElement("div");a.style.width="1px";a.style.height="0px";c=document.createElement("div");c.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;");c.appendChild(e);c.appendChild(a);document.body.appendChild(c);try{d={},c.style.alignItems="baseline",d.Ld=a.offsetTop-e.offsetTop,c.style.alignItems="flex-end",d.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(c)}return d};
h.B=function(){};h.B.lp=null;h.B.xd=null;h.B.$v=null;h.B.Sl=16;h.B.ps=1;h.B.ks=12;h.B.bt=16;h.B.bo=.25;h.B.bp=null;h.B.Qh=null;h.B.Xd="";h.B.Yd="";
h.B.hb=function(){if(!h.B.ie){var a=document.createElement("div");a.className="blocklyDropDownDiv";(h.Dn||document.body).appendChild(a);h.B.ie=a;var c=document.createElement("div");c.className="blocklyDropDownContent";a.appendChild(c);h.B.hf=c;c=document.createElement("div");c.className="blocklyDropDownArrow";a.appendChild(c);h.B.ld=c;h.B.ie.style.opacity=0;h.B.ie.style.transition="transform "+h.B.bo+"s, opacity "+h.B.bo+"s";a.addEventListener("focusin",function(){h.g.j.Bb(a,"blocklyFocused")});a.addEventListener("focusout",
function(){h.g.j.Jc(a,"blocklyFocused")})}};h.B.zC=function(a){h.B.lp=a};h.B.CA=function(){return h.B.hf};h.B.Hz=function(){h.B.hf.textContent="";h.B.hf.style.width=""};h.B.Je=function(a,c){h.B.ie.style.backgroundColor=a;h.B.ie.style.borderColor=c};h.B.MH=function(a,c,d,e){return h.B.kw(h.B.Lu(c),a,d,e)};h.B.FC=function(a,c){h.B.$v=!0;h.B.kw(h.B.Mu(a),a,c)};h.B.Lu=function(a){var c=a.Aa(),d=c.getBBox(),e=a.A.scale;a=d.height*e;d=d.width*e;c=h.g.style.ph(c);return new h.g.Rect(c.y,c.y+a,c.x,c.x+d)};
h.B.Mu=function(a){if(a.Db)c=a.Db.getBoundingClientRect(),a=h.g.style.ph(a.Db),e=c.width,c=c.height;else{var c=v(a.J);var d=a.J.A.scale;a=h.g.style.ph(ea(a));var e=c.width*d;c=c.height*d;h.g.userAgent.Mx?(a.x+=1.5*d,a.y+=1.5*d):h.g.userAgent.Vg||h.g.userAgent.Id||(a.x-=.5*d,a.y-=.5*d);e+=1*d;c+=1*d}d=new h.g.Rect(a.y,a.y+c,a.x,a.x+e);return new h.g.Rect(d.top,d.bottom,d.left,d.right)};
h.B.kw=function(a,c,d,e){var f=a.left+(a.right-a.left)/2,g=a.bottom;a=a.top;e&&(a+=e);e=c.W();for(var k=e.A;k.options.Ic;)k=k.options.Ic;h.B.zC(w(k).parentNode);return h.B.show(c,e.L,f,g,f,a,d)};h.B.show=function(a,c,d,e,f,g,k){h.B.xd=a;h.B.Qh=k||null;a=h.B.ie;a.style.direction=c?"rtl":"ltr";c=h.oh();h.B.Xd=c.kb.Pd();h.B.Yd=c.nf().Pd();h.g.j.Bb(a,h.B.Xd);h.g.j.Bb(a,h.B.Yd);return h.B.jl(d,e,f,g)};
h.B.wA=function(){var a=h.g.style.ph(h.B.lp),c=h.g.style.mf(h.B.lp);return{left:a.x,right:a.x+c.width,top:a.y,bottom:a.y+c.height,width:c.width,height:c.height}};h.B.GA=function(a,c,d,e){var f=h.B.wA(),g=h.g.style.mf(h.B.ie);return c+g.height<f.bottom?h.B.Ku(a,c,f,g):e-g.height>f.top?h.B.Ju(d,e,f,g):c+g.height<document.documentElement.clientHeight?h.B.Ku(a,c,f,g):e-g.height>document.documentElement.clientTop?h.B.Ju(d,e,f,g):h.B.HA(a,f,g)};
h.B.Ku=function(a,c,d,e){a=h.B.nq(a,d.left,d.right,e.width);return{zq:a.Qi,Aq:c,Zp:a.Qi,$p:c+h.B.bt,Ei:a.Ei,ep:-(h.B.Sl/2+h.B.ps),vm:!0,cp:!0}};h.B.Ju=function(a,c,d,e){a=h.B.nq(a,d.left,d.right,e.width);return{zq:a.Qi,Aq:c-e.height,Zp:a.Qi,$p:c-e.height-h.B.bt,Ei:a.Ei,ep:e.height-2*h.B.ps-h.B.Sl/2,vm:!1,cp:!0}};h.B.HA=function(a,c,d){a=h.B.nq(a,c.left,c.right,d.width);return{zq:a.Qi,Aq:0,Zp:a.Qi,$p:0,vm:null,Ei:null,ep:null,cp:!1}};
h.B.nq=function(a,c,d,e){var f=a;a=h.g.hc.bk(c,a-e/2,d-e);f-=h.B.Sl/2;c=h.g.hc.bk(h.B.ks,f-a,e-h.B.ks-h.B.Sl);return{Ei:c,Qi:a}};h.B.isVisible=function(){return!!h.B.xd};h.B.Jk=function(a,c){h.B.xd===a&&(c?h.B.wq():h.B.sb())};h.B.sb=function(){var a=h.B.ie;a.style.transform="translate(0, 0)";a.style.opacity=0;h.B.bp=setTimeout(function(){h.B.wq()},1E3*h.B.bo);h.B.Qh&&(h.B.Qh(),h.B.Qh=null)};
h.B.wq=function(){if(h.B.isVisible()){h.B.bp&&clearTimeout(h.B.bp);var a=h.B.ie;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";h.B.Qh&&(h.B.Qh(),h.B.Qh=null);h.B.Hz();h.B.xd=null;h.B.Xd&&(h.g.j.Jc(a,h.B.Xd),h.B.Xd="");h.B.Yd&&(h.g.j.Jc(a,h.B.Yd),h.B.Yd="");x(h.oh())}};
h.B.jl=function(a,c,d,e){a=h.B.GA(a,c,d,e);a.cp?(h.B.ld.style.display="",h.B.ld.style.transform="translate("+a.Ei+"px,"+a.ep+"px) rotate(45deg)",h.B.ld.setAttribute("class",a.vm?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):h.B.ld.style.display="none";c=Math.floor(a.zq);d=Math.floor(a.Aq);e=Math.floor(a.Zp);var f=Math.floor(a.$p),g=h.B.ie;g.style.left=c+"px";g.style.top=d+"px";g.style.display="block";g.style.opacity=1;g.style.transform="translate("+(e-c)+"px,"+
(f-d)+"px)";return!!a.vm};h.B.CH=function(){if(h.B.xd){var a=h.B.xd,c=a.W();a=h.B.$v?h.B.Mu(a):h.B.Lu(c);c=a.left+(a.right-a.left)/2;h.B.jl(c,a.bottom,c,a.top)}else h.B.sb()};h.u={};h.u.qj=Object.create(null);h.u.Bj="default";h.u.M=function(a){this.Uq=a};h.u.M.prototype.toString=function(){return this.Uq};h.u.M.vs=new h.u.M("connectionChecker");h.u.M.Aj=new h.u.M("cursor");h.u.M.Ab=new h.u.M("event");h.u.M.oc=new h.u.M("field");h.u.M.RENDERER=new h.u.M("renderer");h.u.M.Ty=new h.u.M("toolbox");h.u.M.To=new h.u.M("theme");h.u.M.ZF=new h.u.M("toolboxItem");h.u.M.Kx=new h.u.M("flyoutsVerticalToolbox");h.u.M.hE=new h.u.M("flyoutsHorizontalToolbox");h.u.M.Xs=new h.u.M("metricsManager");
h.u.M.os=new h.u.M("blockDragger");
h.u.register=function(a,c,d,e){if(!(a instanceof h.u.M)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof c||""==c.trim())throw Error('Invalid name "'+c+'". The name must be a non-empty string.');c=c.toLowerCase();if(!d)throw Error("Can not register a null value");var f=h.u.qj[a];f||(f=h.u.qj[a]=Object.create(null));h.u.$C(a,d);if(!e&&f[c])throw Error('Name "'+
c+'" with type "'+a+'" already registered.');f[c]=d};h.u.$C=function(a,c){switch(a){case String(h.u.M.oc):if("function"!=typeof c.Z)throw Error('Type "'+a+'" must have a fromJson function');}};h.u.unregister=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();var d=h.u.qj[a];d&&d[c]?delete h.u.qj[a][c]:console.warn("Unable to unregister ["+c+"]["+a+"] from the registry.")};
h.u.Hu=function(a,c,d){a=String(a).toLowerCase();c=c.toLowerCase();var e=h.u.qj[a];if(!e||!e[c]){c="Unable to find ["+c+"]["+a+"] in the registry.";if(d)throw Error(c+" You must require or register a "+a+" plugin.");console.warn(c);return null}return e[c]};h.u.cH=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();return(a=h.u.qj[a])?!!a[c]:!1};h.u.fq=function(a,c,d){return h.u.Hu(a,c,d)};h.u.mq=function(a,c){return h.u.Hu(a,c)};
h.u.Ti=function(a,c,d){c=c.plugins[a.toString()]||h.u.Bj;return"function"==typeof c?c:h.u.fq(a,c,d)};h.h={};h.h.Tu="";h.h.Fa=!0;h.h.Kp=0;h.h.zj="create";h.h.ji=h.h.zj;h.h.Ug="delete";h.h.ns=h.h.Ug;h.h.wj="change";h.h.Og=h.h.wj;h.h.Mj="move";h.h.Pg=h.h.Mj;h.h.qm="var_create";h.h.rm="var_delete";h.h.Zo="var_rename";h.h.Xo="ui";h.h.Tl="drag";h.h.xi="selected";h.h.xj="click";h.h.Eo="marker_move";h.h.qs="bubble_open";h.h.aG="trashcan_open";h.h.$F="toolbox_item_select";h.h.Uo="theme_change";h.h.Uj="viewport_change";h.h.Yl="comment_create";h.h.ts="comment_delete";h.h.ss="comment_change";h.h.yj="comment_move";
h.h.so="finished_loading";h.h.Sw=[h.h.ji,h.h.Pg,h.h.Yl,h.h.yj];h.h.Fj=[];h.h.Ha=function(a){h.h.isEnabled()&&(h.h.Fj.length||setTimeout(h.h.pA,0),h.h.Fj.push(a))};h.h.pA=function(){for(var a=h.h.filter(h.h.Fj,!0),c=h.h.Fj.length=0,d;d=a[c];c++)if(d.Mb){var e=h.eb.Bk(d.Mb);if(e){var f=d;if(f.Fa)for(e.bi.push(f),e.ml.length=0;e.bi.length>e.Vs&&0<=e.Vs;)e.bi.shift();for(var g=0;d=e.sf[g];g++)d(f)}}};
h.h.filter=function(a,c){a=a.slice();c||a.reverse();for(var d=[],e=Object.create(null),f=0,g;g=a[f];f++)if(!g.ej()){var k=[g.mv?h.h.Xo:g.type,g.Za,g.Mb].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:g,index:f},d.push(g);else if(g.type==h.h.Mj&&l.index==f-1)m.Nh=g.Nh,m.Mh=g.Mh,m.wg=g.wg,l.index=f;else if(g.type==h.h.wj&&g.element==m.element&&g.name==m.name)m.newValue=g.newValue;else if(g.type==h.h.Uj)m.Ed=g.Ed,m.Dd=g.Dd,m.scale=g.scale,m.bl=g.bl;else if(g.type!=h.h.xj||m.type!=h.h.qs)e[k]={event:g,
index:f},d.push(g)}a=d.filter(function(n){return!n.ej()});c||a.reverse();for(f=1;g=a[f];f++)g.type==h.h.wj&&"mutation"==g.element&&a.unshift(a.splice(f,1)[0]);return a};h.h.Iz=function(){for(var a=0,c;c=h.h.Fj[a];a++)c.Fa=!1};h.h.disable=function(){h.h.Kp++};h.h.enable=function(){h.h.Kp--};h.h.isEnabled=function(){return 0==h.h.Kp};h.h.Lb=function(){return h.h.Tu};h.h.qa=function(a){h.h.Tu="boolean"==typeof a?a?h.g.lf():"":a};
h.h.Eu=function(a){var c=[];a=p(a,!1);for(var d=0,e;e=a[d];d++)c[d]=e.id;return c};h.h.Z=function(a){var c=h.h.get(a.type);if(!c)throw Error("Unknown event type.");c=new c;c.Z(a);c.Mb=(void 0).id;return c};h.h.get=function(a){return h.u.fq(h.u.M.Ab,a)};
h.h.OG=function(a){if((a.type==h.h.Mj||a.type==h.h.zj)&&a.Mb){var c=h.eb.Bk(a.Mb),d=c.Gc(a.Za);if(d){a=h.h.Fa;try{h.h.Fa=!1;var e=d.getParent();if(e&&e.isEnabled()){var f=p(d,!1);c=0;for(var g;g=f[c];c++)g.xf(!0)}else if((d.P||d.$)&&!c.Yc()){do d.xf(!1),d=u(d);while(d)}}finally{h.h.Fa=a}}}};
h.h.Abstract=function(){this.Xc=null;this.Mb=void 0;this.group=h.h.Lb();this.Fa=h.h.Fa};b=h.h.Abstract.prototype;b.mv=!1;b.oa=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};b.Z=function(a){this.Xc=!1;this.group=a.group};b.ej=function(){return!1};b.run=function(){};function y(a){if(a.Mb)var c=h.eb.Bk(a.Mb);if(!c)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return c};h.g.object={};h.g.object.T=function(a,c){a.v=c.prototype;a.prototype=Object.create(c.prototype);a.prototype.constructor=a};h.g.object.vg=function(a,c){for(var d in c)a[d]=c[d]};h.g.object.Oi=function(a,c){for(var d in c)a[d]=null!=c[d]&&"object"===typeof c[d]?h.g.object.Oi(a[d]||Object.create(null),c[d]):c[d];return a};h.g.object.values=function(a){return Object.values?Object.values(a):Object.keys(a).map(function(c){return a[c]})};h.g.xml={};h.g.xml.oy="https://developers.google.com/blockly/xml";h.g.xml.document=function(){return document};h.g.xml.createElement=function(a){return h.g.xml.document().createElementNS(h.g.xml.oy,a)};h.g.xml.createTextNode=function(a){return h.g.xml.document().createTextNode(a)};h.g.xml.PC=function(a){return(new DOMParser).parseFromString(a,"text/xml")};h.g.xml.xe=function(a){return(new XMLSerializer).serializeToString(a)};h.Ia={qe:h.V.Qb,Qc:h.V.Rb,je:5};h.I={};h.I.bD=function(){var a=z,c=h.g.xml.createElement("xml"),d=h.I.aD(h.ma.iz(a));d.hasChildNodes()&&c.appendChild(d);var e=[].concat(a.Yn);1<e.length&&(a.Ke.offset=Math.sin(h.g.hc.Zh(h.eb.gt)),a.L&&(a.Ke.offset*=-1),e.sort(a.Ke));d=0;for(var f;f=e[d];d++)c.appendChild(f.qw(!0));a=a.cc(!0);for(d=0;e=a[d];d++)c.appendChild(h.I.jp(e,!0));return c};
h.I.aD=function(a){for(var c=h.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=h.g.xml.createElement("variable");f.appendChild(h.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.yc();c.appendChild(f)}return c};h.I.jp=function(a,c){if(a.td()&&(a=A(a,!1)[0],!a))return new DocumentFragment;var d;a.A.L&&(d=a.A.$m());c=h.I.Yf(a,c);var e=a.ab();c.setAttribute("x",Math.round(a.A.L?d-e.x:e.x));c.setAttribute("y",Math.round(e.y));return c};
h.I.nA=function(a){var c=!1;a.name&&(a.ht?c=!0:a.Cj&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),c=!0));return c?(c=h.g.xml.createElement("field"),c.setAttribute("name",a.name||""),c.textContent=a.getValue(),c):null};h.I.gz=function(a,c){for(var d=0,e;e=a.O[d];d++)for(var f=0,g;g=e.Va[f];f++)(g=h.I.nA(g))&&c.appendChild(g)};
h.I.Yf=function(a,c){if(a.td())return(a=A(a,!1)[0])?h.I.Yf(a):new DocumentFragment;var d=h.g.xml.createElement(a.Da?"shadow":"block");d.setAttribute("type",a.type);c||d.setAttribute("id",a.id);if(a.ic){var e=a.ic();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}h.I.gz(a,d);if(e=a.ff.text){var f=a.ff.size,g=a.ff.Uv,k=h.g.xml.createElement("comment");k.appendChild(h.g.xml.createTextNode(e));k.setAttribute("pinned",g);k.setAttribute("h",f.height);k.setAttribute("w",f.width);d.appendChild(k)}a.data&&
(e=h.g.xml.createElement("data"),e.appendChild(h.g.xml.createTextNode(a.data)),d.appendChild(e));for(e=0;f=a.O[e];e++){var l;g=!0;if(f.type!=h.Ia.je){var m=f.connection.ta();f.type==h.Ia.qe?l=h.g.xml.createElement("value"):f.type==h.Ia.Qc&&(l=h.g.xml.createElement("statement"));k=f.connection.Wi();!k||m&&m.Da||l.appendChild(h.I.Xt(k,c));m&&(k=h.I.Yf(m,c),k.nodeType==h.g.j.Qf.ELEMENT_NODE&&(l.appendChild(k),g=!1));l.setAttribute("name",f.name);g||d.appendChild(l)}}void 0!=a.pf&&a.pf!=a.fB&&d.setAttribute("inline",
a.pf);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.lg()||a.Da||d.setAttribute("deletable",!1);a.ec()||a.Da||d.setAttribute("movable",!1);a.sd()||d.setAttribute("editable",!1);if(e=u(a))k=h.I.Yf(e,c),k.nodeType==h.g.j.Qf.ELEMENT_NODE&&(l=h.g.xml.createElement("next"),l.appendChild(k),d.appendChild(l));k=a.ga&&a.ga.Wi();!k||e&&e.Da||l.appendChild(h.I.Xt(k,c));return d};
h.I.Xt=function(a,c){for(var d=a=a.cloneNode(!0),e;d;)if(c&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==h.g.j.Qf.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&h.g.j.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==h.g.j.Qf.TEXT_NODE&&""==e.data.trim()&&h.g.j.removeNode(e))}return a};h.I.xe=function(a){return h.g.xml.xe(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")};
h.I.PG=function(a){a=h.I.xe(a).split("<");for(var c="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(c=c.substring(2));a[d]=c+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(c+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};h.I.Me=function(a){var c=h.g.xml.PC(a);if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return c.documentElement};
h.I.BG=function(a,c){c.Lc(!1);c.clear();a=h.I.dg(a,c);c.Lc(!0);return a};
h.I.dg=function(a,c){if(a instanceof h.eb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;c.L&&(e=c.$m());d=[];h.g.j.Al();var f=h.h.Lb();f||h.h.qa(!0);c.Lc&&c.Lc(!1);var g=!0;try{for(var k=0,l;l=a.childNodes[k];k++){var m=l.nodeName.toLowerCase(),n=l;if("block"==m||"shadow"==m&&!h.h.Fa){var q=h.I.Sm(n,c);d.push(q.id);var r=n.hasAttribute("x")?parseInt(n.getAttribute("x"),10):10,t=n.hasAttribute("y")?parseInt(n.getAttribute("y"),10):10;isNaN(r)||
isNaN(t)||q.moveBy(c.L?e-r:r,t);g=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==m)c.pa?h.Ci?h.Ci.Ak(n):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):h.Et?h.Et.Ak(n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==m){if(g)h.I.iA(n,c);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
g=!1}}}}finally{f||h.h.qa(!1),h.g.j.Bl()}c.Lc&&c.Lc(!0);h.h.Ha(new (h.h.get(h.h.so))(c));return d};h.I.pG=function(a,c){var d;Object.prototype.hasOwnProperty.call(c,"scale")&&(d=fa(c));a=h.I.dg(a,c);if(d&&d.top!=d.bottom){var e=d.bottom;var f=c.L?d.right:d.left;var g=Infinity,k=-Infinity,l=Infinity;for(d=0;d<a.length;d++){var m=c.Gc(a[d]).ab();m.y<l&&(l=m.y);m.x<g&&(g=m.x);m.x>k&&(k=m.x)}e=e-l+10;f=c.L?f-k:f-g;for(d=0;d<a.length;d++)c.Gc(a[d]).moveBy(f,e)}return a};
h.I.Sm=function(a,c){if(a instanceof h.eb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}h.h.disable();d=c.Si();try{var e=h.I.Qp(a,c),f=p(e,!1);if(c.pa){ha(e,!1);for(var g=f.length-1;0<=g;g--)f[g].zh();for(g=f.length-1;0<=g;g--)f[g].Ga(!1);setTimeout(function(){e.we||ha(e,!0)},1);B(e);C(c)}else for(g=f.length-1;0<=g;g--);}finally{h.h.enable()}if(h.h.isEnabled()){a=h.ma.tA(c,d);for(g=0;g<a.length;g++)c=a[g],h.h.Ha(new (h.h.get(h.h.qm))(c));h.h.Ha(new (h.h.get(h.h.zj))(e))}return e};
h.I.iA=function(a,c){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==h.g.j.Qf.ELEMENT_NODE){var f=e.getAttribute("type"),g=e.getAttribute("id");c.Nd(e.textContent,f,g)}};
h.I.sB=function(a){for(var c={Bv:[],jh:[],data:[],vk:[],input:[],next:[]},d=0,e;e=a.childNodes[d];d++)if(e.nodeType!=h.g.j.Qf.TEXT_NODE)switch(e.nodeName.toLowerCase()){case "mutation":c.Bv.push(e);break;case "comment":if(!h.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}c.jh.push(e);break;case "data":c.data.push(e);break;case "title":case "field":c.vk.push(e);break;case "value":case "statement":c.input.push(e);break;case "next":c.next.push(e);break;default:console.warn("Ignoring unknown tag: "+
e.nodeName)}return c};h.I.nz=function(a,c){for(var d=!1,e=0,f;f=a[e];e++)c.Vc&&(c.Vc(f),c.zh&&(d=!0));return d};h.I.jz=function(a,c){for(var d=0,e;e=a[d];d++){var f=e.textContent,g="true"==e.getAttribute("pinned"),k=parseInt(e.getAttribute("w"),10);e=parseInt(e.getAttribute("h"),10);c.lj(f);c.ff.Uv=g;isNaN(k)||isNaN(e)||(c.ff.size=new h.g.Rc(k,e));g&&c.zA&&!c.Zc&&setTimeout(function(){c.od.Vb(!0)},1)}};h.I.kz=function(a,c){for(var d=0,e;e=a[d];d++)c.data=e.textContent};
h.I.lz=function(a,c){for(var d=0,e;e=a[d];d++){var f=e.getAttribute("name");h.I.hA(c,f,e)}};h.I.yu=function(a){for(var c={$j:null,ak:null},d=0,e;e=a.childNodes[d];d++)e.nodeType==h.g.j.Qf.ELEMENT_NODE&&("block"==e.nodeName.toLowerCase()?c.$j=e:"shadow"==e.nodeName.toLowerCase()&&(c.ak=e));return c};
h.I.mz=function(a,c,d,e){for(var f=0,g;g=a[f];f++){var k=g.getAttribute("name"),l=ja(d,k);if(!l){console.warn("Ignoring non-existent input "+k+" in block "+e);break}g=h.I.yu(g);if(g.$j){if(!l.connection)throw TypeError("Input connection does not exist.");h.I.Qp(g.$j,c,l.connection,!1)}g.ak&&l.connection.tl(g.ak)}};
h.I.oz=function(a,c,d){for(var e=0,f;f=a[e];e++){f=h.I.yu(f);if(f.$j){if(!d.ga)throw TypeError("Next statement does not exist.");if(d.ga.isConnected())throw TypeError("Next statement is already connected.");h.I.Qp(f.$j,c,d.ga,!0)}f.ak&&d.ga&&d.ga.tl(f.ak)}};
h.I.Qp=function(a,c,d,e){var f=a.getAttribute("type");if(!f)throw TypeError("Block type unspecified: "+a.outerHTML);var g=a.getAttribute("id");g=c.hj(f,g);var k=h.I.sB(a),l=h.I.nz(k.Bv,g);h.I.jz(k.jh,g);h.I.kz(k.data,g);if(d)if(e)if(g.$)d.connect(g.$);else throw TypeError("Next block does not have previous statement.");else if(g.P)d.connect(g.P);else if(g.$)d.connect(g.$);else throw TypeError("Child block does not have output or previous statement.");h.I.lz(k.vk,g);h.I.mz(k.input,c,g,f);h.I.oz(k.next,
c,g);l&&g.zh();(c=a.getAttribute("inline"))&&g.Gg("true"==c);(c=a.getAttribute("disabled"))&&g.xf("true"!=c&&"disabled"!=c);if(c=a.getAttribute("deletable"))g.Dp="true"==c;(c=a.getAttribute("movable"))&&g.Jr("true"==c);(c=a.getAttribute("editable"))&&g.Ir("true"==c);(c=a.getAttribute("collapsed"))&&g.Vh("true"==c);if("shadow"==a.nodeName.toLowerCase()){a=A(g,!1);for(c=0;d=a[c];c++)if(!d.Da)throw TypeError("Shadow block not allowed non-shadow child.");if(ka(g).length)throw TypeError("Shadow blocks cannot have variable references.");
g.Lr(!0)}return g};h.I.hA=function(a,c,d){var e=D(a,c);e?e.Ak(d):console.warn("Ignoring non-existent field "+c+" in block "+a.type)};h.I.bA=function(a){for(var c=0,d;d=a.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};h.h.ee=function(a){h.h.ee.v.constructor.call(this);this.Za=(this.Xc="undefined"==typeof a)?"":a.id;this.Mb=this.Xc?"":a.A.id};h.g.object.T(h.h.ee,h.h.Abstract);h.h.ee.prototype.oa=function(){var a=h.h.ee.v.oa.call(this);a.blockId=this.Za;return a};h.h.ee.prototype.Z=function(a){h.h.ee.v.Z.call(this,a);this.Za=a.blockId};
h.h.Rg=function(a,c,d,e,f){h.h.bx.v.constructor.call(this,a);a&&(this.element="undefined"==typeof c?"":c,this.name="undefined"==typeof d?"":d,this.oldValue="undefined"==typeof e?"":e,this.newValue="undefined"==typeof f?"":f)};h.g.object.T(h.h.Rg,h.h.ee);h.h.bx=h.h.Rg;b=h.h.Rg.prototype;b.type=h.h.wj;b.oa=function(){var a=h.h.Rg.v.oa.call(this);a.element=this.element;this.name&&(a.name=this.name);a.oldValue=this.oldValue;a.newValue=this.newValue;return a};
b.Z=function(a){h.h.Rg.v.Z.call(this,a);this.element=a.element;this.name=a.name;this.oldValue=a.oldValue;this.newValue=a.newValue};b.ej=function(){return this.oldValue==this.newValue};
b.run=function(a){var c=y(this).Gc(this.Za);if(c)switch(c.Wd&&c.Wd.Vb(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(c=D(c,this.name))?c.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":c.lj(a||null);break;case "collapsed":c.Vh(!!a);break;case "disabled":c.xf(!a);break;case "inline":c.Gg(!!a);break;case "mutation":var d="";c.ic&&(d=(d=c.ic())&&h.I.xe(d));if(c.Vc){var e=h.I.Me(a||"<mutation/>");c.Vc(e)}h.h.Ha(new h.h.Rg(c,"mutation",null,d,
a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.Za)};h.h.ge=function(a){h.h.ge.v.constructor.call(this,a);a&&(a.Da&&(this.Fa=!1),this.xml=a.A.pa?h.I.jp(a):h.I.Yf(a),this.xh=h.h.Eu(a))};h.g.object.T(h.h.ge,h.h.ee);h.h.nD=h.h.ge;h.h.ge.prototype.type=h.h.zj;h.h.ge.prototype.oa=function(){var a=h.h.ge.v.oa.call(this);a.xml=h.I.xe(this.xml);a.ids=this.xh;this.Fa||(a.recordUndo=this.Fa);return a};
h.h.ge.prototype.Z=function(a){h.h.ge.v.Z.call(this,a);this.xml=h.I.Me(a.xml);this.xh=a.ids;void 0!==a.recordUndo&&(this.Fa=a.recordUndo)};h.h.ge.prototype.run=function(a){var c=y(this);if(a)a=h.g.xml.createElement("xml"),a.appendChild(this.xml),h.I.dg(a,c);else{a=0;for(var d;d=this.xh[a];a++){var e=c.Gc(d);e?e.H(!1):d==this.Za&&console.warn("Can't uncreate non-existent block: "+d)}}};
h.h.ke=function(a){h.h.ke.v.constructor.call(this,a);if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.Da&&(this.Fa=!1);this.cr=a.A.pa?h.I.jp(a):h.I.Yf(a);this.xh=h.h.Eu(a)}};h.g.object.T(h.h.ke,h.h.ee);h.h.oD=h.h.ke;h.h.ke.prototype.type=h.h.Ug;h.h.ke.prototype.oa=function(){var a=h.h.ke.v.oa.call(this);a.oldXml=h.I.xe(this.cr);a.ids=this.xh;this.Fa||(a.recordUndo=this.Fa);return a};
h.h.ke.prototype.Z=function(a){h.h.ke.v.Z.call(this,a);this.cr=h.I.Me(a.oldXml);this.xh=a.ids;void 0!==a.recordUndo&&(this.Fa=a.recordUndo)};h.h.ke.prototype.run=function(a){var c=y(this);if(a){a=0;for(var d;d=this.xh[a];a++){var e=c.Gc(d);e?e.H(!1):d==this.Za&&console.warn("Can't delete non-existent block: "+d)}}else a=h.g.xml.createElement("xml"),a.appendChild(this.cr),h.I.dg(a,c)};
h.h.Yg=function(a){h.h.Yg.v.constructor.call(this,a);a&&(a.Da&&(this.Fa=!1),a=la(this),this.Jv=a.Qv,this.Gv=a.dv,this.Yq=a.ju)};h.g.object.T(h.h.Yg,h.h.ee);h.h.pD=h.h.Yg;b=h.h.Yg.prototype;b.type=h.h.Mj;b.oa=function(){var a=h.h.Yg.v.oa.call(this);this.Nh&&(a.newParentId=this.Nh);this.Mh&&(a.newInputName=this.Mh);this.wg&&(a.newCoordinate=Math.round(this.wg.x)+","+Math.round(this.wg.y));this.Fa||(a.recordUndo=this.Fa);return a};
b.Z=function(a){h.h.Yg.v.Z.call(this,a);this.Nh=a.newParentId;this.Mh=a.newInputName;if(a.newCoordinate){var c=a.newCoordinate.split(",");this.wg=new h.g.N(Number(c[0]),Number(c[1]))}void 0!==a.recordUndo&&(this.Fa=a.recordUndo)};b.Sh=function(){var a=la(this);this.Nh=a.Qv;this.Mh=a.dv;this.wg=a.ju};function la(a){var c=y(a).Gc(a.Za);a={};var d=c.getParent();if(d){if(a.Qv=d.id,c=ma(d,c))a.dv=c.name}else a.ju=c.ab();return a}
b.ej=function(){return this.Jv==this.Nh&&this.Gv==this.Mh&&h.g.N.kf(this.Yq,this.wg)};
b.run=function(a){var c=y(this),d=c.Gc(this.Za);if(d){var e=a?this.Nh:this.Jv,f=a?this.Mh:this.Gv,g=a?this.wg:this.Yq;a=null;if(e&&(a=c.Gc(e),!a)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&E(d);if(g)f=d.ab(),d.moveBy(g.x-f.x,g.y-f.y);else{d=d.P||d.$;c=d.type;if(f){if(a=ja(a,f))var k=a.connection}else c==h.V.jd&&(k=a.ga);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.Za)};
h.u.register(h.u.M.Ab,h.h.zj,h.h.ge);h.u.register(h.u.M.Ab,h.h.Ug,h.h.ke);h.u.register(h.u.M.Ab,h.h.wj,h.h.Rg);h.u.register(h.u.M.Ab,h.h.Mj,h.h.Yg);h.h.Gj=function(a){this.Xc="undefined"==typeof a;this.Mb=a?a.id:"";this.group=h.h.Lb();this.Fa=!1};h.g.object.T(h.h.Gj,h.h.Abstract);h.h.Gj.prototype.type=h.h.so;h.h.Gj.prototype.oa=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Mb&&(a.workspaceId=this.Mb);return a};h.h.Gj.prototype.Z=function(a){this.Xc=!1;this.Mb=a.workspaceId;this.group=a.group};h.u.register(h.u.M.Ab,h.h.so,h.h.Gj);h.h.pe=function(a){h.h.pe.v.constructor.call(this);this.Xc="undefined"==typeof a;this.Mb=a?a:"";this.Fa=!1};h.g.object.T(h.h.pe,h.h.Abstract);h.h.pe.prototype.mv=!0;h.h.Vf=function(a,c,d,e){h.h.Vf.v.constructor.call(this,a?a.A.id:void 0);this.Za=a?a.id:null;this.element="undefined"==typeof c?"":c;this.oldValue="undefined"==typeof d?"":d;this.newValue="undefined"==typeof e?"":e};h.g.object.T(h.h.Vf,h.h.pe);h.h.Vf.prototype.type=h.h.Xo;
h.h.Vf.prototype.oa=function(){var a=h.h.Vf.v.oa.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.Za&&(a.blockId=this.Za);return a};h.h.Vf.prototype.Z=function(a){h.h.Vf.v.Z.call(this,a);this.element=a.element;this.newValue=a.newValue;this.Za=a.blockId};h.u.register(h.u.M.Ab,h.h.Xo,h.h.Vf);h.h.Ze=function(a){h.h.Ze.v.constructor.call(this);this.Mg=(this.Xc="undefined"==typeof a)?"":a.yc();this.Mb=this.Xc?"":a.A.id};h.g.object.T(h.h.Ze,h.h.Abstract);h.h.Ze.prototype.oa=function(){var a=h.h.Ze.v.oa.call(this);a.varId=this.Mg;return a};h.h.Ze.prototype.Z=function(a){h.h.Ze.v.oa.call(this);this.Mg=a.varId};h.h.$e=function(a){h.h.$e.v.constructor.call(this,a);a&&(this.di=a.type,this.ci=a.name)};h.g.object.T(h.h.$e,h.h.Ze);h.h.$e.prototype.type=h.h.qm;
h.h.$e.prototype.oa=function(){var a=h.h.$e.v.oa.call(this);a.varType=this.di;a.varName=this.ci;return a};h.h.$e.prototype.Z=function(a){h.h.$e.v.Z.call(this,a);this.di=a.varType;this.ci=a.varName};h.h.$e.prototype.run=function(a){var c=y(this);a?c.Nd(this.ci,this.di,this.Mg):c.Pi(this.Mg)};h.h.af=function(a){h.h.af.v.constructor.call(this,a);a&&(this.di=a.type,this.ci=a.name)};h.g.object.T(h.h.af,h.h.Ze);h.h.af.prototype.type=h.h.rm;
h.h.af.prototype.oa=function(){var a=h.h.af.v.oa.call(this);a.varType=this.di;a.varName=this.ci;return a};h.h.af.prototype.Z=function(a){h.h.af.v.Z.call(this,a);this.di=a.varType;this.ci=a.varName};h.h.af.prototype.run=function(a){var c=y(this);a?c.Pi(this.Mg):c.Nd(this.ci,this.di,this.Mg)};h.h.bf=function(a,c){h.h.bf.v.constructor.call(this,a);a&&(this.Zq=a.name,this.Vq="undefined"==typeof c?"":c)};h.g.object.T(h.h.bf,h.h.Ze);h.h.bf.prototype.type=h.h.Zo;
h.h.bf.prototype.oa=function(){var a=h.h.bf.v.oa.call(this);a.oldName=this.Zq;a.newName=this.Vq;return a};h.h.bf.prototype.Z=function(a){h.h.bf.v.Z.call(this,a);this.Zq=a.oldName;this.Vq=a.newName};h.h.bf.prototype.run=function(a){var c=y(this);a?c.Th(this.Mg,this.Vq):c.Th(this.Mg,this.Zq)};h.u.register(h.u.M.Ab,h.h.qm,h.h.$e);h.u.register(h.u.M.Ab,h.h.rm,h.h.af);h.u.register(h.u.M.Ab,h.h.Zo,h.h.bf);h.rs=function(a){this.gk=a;this.hb()};b=h.rs.prototype;b.Ya=null;b.ze=null;b.gk=null;b.Eg=1;b.El=null;b.Vt=new h.g.N(0,0);b.hb=function(){this.Ya||(this.Ya=h.g.j.S(h.g.G.Sj,{xmlns:h.g.j.nm,"xmlns:html":h.g.j.to,"xmlns:xlink":h.g.j.fh,version:"1.1","class":"blocklyBlockDragSurface"},this.gk),this.ze=h.g.j.S(h.g.G.Oc,{},this.Ya))};function na(a,c){if(a.ze.childNodes.length)throw Error("Already dragging a block.");a.ze.appendChild(c);a.Ya.style.display="block";a.El=new h.g.N(0,0)}
b.ai=function(a,c){this.El=new h.g.N(a*this.Eg,c*this.Eg);a=this.El.x;c=this.El.y;a=a.toFixed(0);c=c.toFixed(0);this.Ya.style.display="block";h.g.j.Mn(this.Ya,"translate3d("+a+"px, "+c+"px, 0px)")};b.oq=function(){var a=h.g.Rd(this.Ya);return new h.g.N(a.x/this.Eg,a.y/this.Eg)};b.Lb=function(){return this.ze};b.Aa=function(){return this.Ya};
b.Am=function(a){a?a.appendChild(this.ze.firstChild):this.ze.removeChild(this.ze.firstChild);this.Ya.style.display="none";if(this.ze.childNodes.length)throw Error("Drag group was not cleared.");this.El=null};h.Gd={};h.Gd.Bq=!1;h.Gd.register=function(a){if(h.Gd.Bq)throw Error("CSS already injected");Array.prototype.push.apply(h.Gd.no,a);a.length=0};h.Gd.kg=function(a,c){if(!h.Gd.Bq){h.Gd.Bq=!0;var d=h.Gd.no.join("\n");h.Gd.no.length=0;a&&(a=c.replace(/[\\/]$/,""),d=d.replace(/<<<PATH>>>/g,a),a=document.createElement("style"),a.id="blockly-common-style",d=document.createTextNode(d),a.appendChild(d),document.head.insertBefore(a,document.head.firstChild))}};
h.Gd.no=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;",
"border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;",
"}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;",
"}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",
".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {",
"margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;",
"}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",
".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {",
"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {",
"background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];
h.Xg=function(a,c){this.Xi=a;this.Pr=c.spacing;this.qv=c.length;this.oB=(this.Kq=a.firstChild)&&this.Kq.nextSibling;this.HC=c.snap};h.Xg.prototype.Eg=1;h.Xg.prototype.H=function(){this.Xi=null};h.Xg.prototype.update=function(a){this.Eg=a;var c=this.Pr*a||100;this.Xi.setAttribute("width",c);this.Xi.setAttribute("height",c);c=Math.floor(this.Pr/2)+.5;var d=c-this.qv/2,e=c+this.qv/2;c*=a;d*=a;e*=a;oa(this.Kq,a,d,e,c,c);oa(this.oB,a,c,c,d,e)};
function oa(a,c,d,e,f,g){a&&(a.setAttribute("stroke-width",c),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",g))}h.Xg.prototype.moveTo=function(a,c){this.Xi.setAttribute("x",a);this.Xi.setAttribute("y",c);(h.g.userAgent.Id||h.g.userAgent.Vg)&&this.update(this.Eg)};
h.Xg.hb=function(a,c,d){a=h.g.j.S(h.g.G.dt,{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<c.length&&0<c.spacing?(h.g.j.S(h.g.G.Kj,{stroke:c.colour},a),1<c.length&&h.g.j.S(h.g.G.Kj,{stroke:c.colour},a)):h.g.j.S(h.g.G.Kj,{},a);return a};h.dh=function(a,c,d,e){this.name=a;this.Xf=c||Object.create(null);this.sp=d||Object.create(null);this.$t=e||Object.create(null);this.fontStyle=Object.create(null);this.Rr=null;h.u.register(h.u.M.To,a,this)};h.dh.prototype.Pd=function(){return this.name+"-theme"};function F(a,c){return(c=a.$t[c])&&"string"==typeof c&&F(a,c)?F(a,c):c?String(c):null}
h.dh.aA=function(a,c){var d=new h.dh(a),e=c.base;e&&("string"==typeof e&&(e=h.u.mq(h.u.M.To,e)),e instanceof h.dh&&(h.g.object.Oi(d,e),d.name=a));h.g.object.Oi(d.Xf,c.blockStyles);h.g.object.Oi(d.sp,c.categoryStyles);h.g.object.Oi(d.$t,c.componentStyles);h.g.object.Oi(d.fontStyle,c.fontStyle);null!=c.startHats&&(d.Rr=c.startHats);return d};h.Ye={};h.Ye.Ff={};h.Ye.Ff.$z={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
h.Ye.Ff.sp={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"}};h.Ye.Ff=new h.dh("classic",h.Ye.Ff.$z,h.Ye.Ff.sp);h.g.Ij={};h.g.Ij.DB=0;h.g.Ij.Iu=function(){return"blockly-"+(h.g.Ij.DB++).toString(36)};h.g.YE=function(){};h.g.la={};h.g.la.mo="categoryToolbox";h.g.la.Hs="flyoutToolbox";h.g.la.Zb={pm:0,co:1,Jd:2,We:3};h.g.la.iu=function(a){if(!a)return null;if(a instanceof Element||"string"==typeof a)a=h.g.la.pr(a),a=h.g.la.Sz(a);h.g.la.ZC(a);return a};h.g.la.ZC=function(a){var c=a.kind;a=a.contents;if(c&&c!=h.g.la.Hs&&c!=h.g.la.mo)throw Error("Invalid toolbox kind "+c+". Please supply either "+h.g.la.Hs+" or "+h.g.la.mo);if(!a)throw Error("Toolbox must have a contents attribute.");};
h.g.la.KG=function(a){return a?a.contents?a.contents:Array.isArray(a)&&0<a.length&&!a[0].nodeType?a:h.g.la.ds(a):[]};h.g.la.Hk=function(a){if(!a)return!1;var c=a.kind;return c?c==h.g.la.mo:!!a.contents.filter(function(d){return"CATEGORY"==d.kind.toUpperCase()}).length};h.g.la.gH=function(a){return a&&a.contents?!!a.contents.filter(function(c){return"CATEGORY"==c.kind.toUpperCase()}).length:!1};h.g.la.Sz=function(a){var c={contents:h.g.la.ds(a)};a instanceof Node&&h.g.la.Ht(a,c);return c};
h.g.la.ds=function(a){var c=[],d=a.childNodes;d||(d=a);a=0;for(var e;e=d[a];a++)if(e.tagName){var f={},g=e.tagName.toUpperCase();f.kind=g;"BLOCK"==g?f.blockxml=e:e.childNodes&&0<e.childNodes.length&&(f.contents=h.g.la.ds(e));h.g.la.Ht(e,f);c.push(f)}return c};h.g.la.Ht=function(a,c){for(var d=0;d<a.attributes.length;d++){var e=a.attributes[d];-1<e.nodeName.indexOf("css-")?(c.cssconfig=c.cssconfig||{},c.cssconfig[e.nodeName.replace("css-","")]=e.value):c[e.nodeName]=e.value}};
h.g.la.pr=function(a){if(a){if("string"!=typeof a&&(h.g.userAgent.Id&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=h.I.Me(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};h.hd=function(a){var c=!!a.readOnly;if(c)var d=null,e=!1,f=!1,g=!1,k=!1,l=!1,m=!1;else d=h.g.la.iu(a.toolbox),e=h.g.la.Hk(d),f=a.trashcan,void 0===f&&(f=e),g=a.collapse,void 0===g&&(g=e),k=a.comments,void 0===k&&(k=e),l=a.disable,void 0===l&&(l=e),m=a.sounds,void 0===m&&(m=!0);var n=!!a.rtl;var q="end"!==a.toolboxPosition==n?h.g.la.Zb.We:h.g.la.Zb.Jd;var r=a.css;void 0===r&&(r=!0);var t="https://blockly-demo.appspot.com/static/media/";a.media?t=a.media:a.path&&(t=a.path+"media/");var ia=void 0===
a.oneBasedIndex?!0:!!a.oneBasedIndex,wa=a.renderer||"geras",R=a.plugins||{};this.L=n;this.RB=ia;this.collapse=g;this.Kz=k;this.disable=l;this.readOnly=c;this.Xk=a.maxBlocks||Infinity;this.tn=a.maxInstances;this.Sv=t;this.Hk=e;this.Ub=h.hd.TB(a,e);this.Wu=f;this.YA=m;this.WA=r;this.Fh=d;this.Su=h.hd.SB(a);this.ob=h.hd.VB(a);this.$h=q;this.QC=h.hd.UB(a);this.ew=wa;this.fw=a.rendererOverrides;this.rq=null;this.Ic=a.parentWorkspace;this.plugins=R};h.qD=function(){};
h.hd.TB=function(a,c){var d=a.move||{},e={};void 0===d.scrollbars&&void 0===a.scrollbars?e.scrollbars=c:"object"==typeof d.scrollbars?(e.scrollbars={},e.scrollbars.yq=!!d.scrollbars.horizontal,e.scrollbars.vertical=!!d.scrollbars.vertical,e.scrollbars.yq&&e.scrollbars.vertical?e.scrollbars=!0:e.scrollbars.yq||e.scrollbars.vertical||(e.scrollbars=!1)):e.scrollbars=!!d.scrollbars||!!a.scrollbars;e.rj=e.scrollbars&&void 0!==d.wheel?!!d.wheel:"object"==typeof e.scrollbars;e.ye=e.scrollbars?void 0===d.drag?
!0:!!d.drag:!1;return e};h.hd.VB=function(a){a=a.zoom||{};var c={};c.controls=void 0===a.controls?!1:!!a.controls;c.rj=void 0===a.wheel?!1:!!a.wheel;c.LC=void 0===a.startScale?1:Number(a.startScale);c.Yk=void 0===a.maxScale?3:Number(a.maxScale);c.$k=void 0===a.minScale?.3:Number(a.minScale);c.wC=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);c.Tv=void 0===a.pinch?c.rj||c.controls:!!a.pinch;return c};
h.hd.SB=function(a){a=a.grid||{};var c={};c.spacing=Number(a.spacing)||0;c.gb=a.colour||"#888";c.length=void 0===a.length?1:Number(a.length);c.NH=0<c.spacing&&!!a.snap;return c};h.hd.UB=function(a){a=a.theme||h.Ye.Ff;return"string"==typeof a?h.u.mq(h.u.M.To,a):a instanceof h.dh?a:h.dh.aA(a.name||"builtin"+h.g.Ij.Iu(),a)};h.hd.pr=function(a){h.g.Lm.warn("Blockly.Options.parseToolboxTree","September 2020","September 2021","Blockly.utils.toolbox.parseToolboxTree");return h.g.la.pr(a)};
h.qt=function(a,c,d){this.C=a;c=void 0===c?!0:c;d=void 0===d?!0:d;var e=c&&d;c&&(this.Eb=new h.Oa(a,!0,e,"blocklyMainWorkspaceScrollbar",void 0));d&&(this.Ib=new h.Oa(a,!1,e,"blocklyMainWorkspaceScrollbar",void 0));e&&(this.hk=h.g.j.S(h.g.G.Ve,{height:h.Oa.ad,width:h.Oa.ad,"class":"blocklyScrollbarBackground"},null),h.g.j.Lk(this.hk,a.Af));this.Pa=null};b=h.qt.prototype;
b.H=function(){h.g.j.removeNode(this.hk);this.Pa=this.C=this.hk=null;this.Eb&&(this.Eb.H(),this.Eb=null);this.Ib&&(this.Ib.H(),this.Ib=null)};
b.resize=function(){var a=this.C.Be();if(a){var c=!1,d=!1;this.Pa&&this.Pa.Xb==a.Xb&&this.Pa.lc==a.lc&&this.Pa.Dc==a.Dc&&this.Pa.tc==a.tc?(this.Pa&&this.Pa.scrollWidth==a.scrollWidth&&this.Pa.Dd==a.Dd&&this.Pa.scrollLeft==a.scrollLeft||(c=!0),this.Pa&&this.Pa.scrollHeight==a.scrollHeight&&this.Pa.Ed==a.Ed&&this.Pa.scrollTop==a.scrollTop||(d=!0)):d=c=!0;if(c||d){try{h.h.disable(),this.Eb&&c&&this.Eb.resize(a),this.Ib&&d&&this.Ib.resize(a)}finally{h.h.enable()}pa(this.C)}this.Eb&&this.Ib&&(this.Pa&&
this.Pa.Xb==a.Xb&&this.Pa.tc==a.tc||this.hk.setAttribute("x",this.Ib.position.x),this.Pa&&this.Pa.lc==a.lc&&this.Pa.Dc==a.Dc||this.hk.setAttribute("y",this.Eb.position.y));this.Pa=a}};b.set=function(a,c,d){this.Eb&&this.Eb.set(a,!1);this.Ib&&this.Ib.set(c,!1);if(d||void 0===d)a={},this.Eb&&(a.x=qa(this.Eb)),this.Ib&&(a.y=qa(this.Ib)),this.C.Nn(a)};b.rl=function(a){this.Eb&&this.Eb.rl(a);this.Ib&&this.Ib.rl(a)};
b.isVisible=function(){var a=!1;this.Eb&&(a=this.Eb.isVisible());this.Ib&&(a=a||this.Ib.isVisible());return a};
h.Oa=function(a,c,d,e,f){this.C=a;this.Ag=d||!1;this.wh=c;this.Gh=void 0!==f?f:h.Oa.ix;this.ratio=this.Pa=null;this.ik(e);this.position=new h.g.N(0,0);a=h.Oa.ad;c?(this.zf.setAttribute("height",a),this.Ge.setAttribute("height",a),this.cd.setAttribute("height",a-5),this.cd.setAttribute("y",2.5),this.qn="width",this.Vv="x"):(this.zf.setAttribute("width",a),this.Ge.setAttribute("width",a),this.cd.setAttribute("width",a-5),this.cd.setAttribute("x",2.5),this.qn="height",this.Vv="y");this.Mv=h.R.La(this.zf,
"mousedown",this,this.KB);this.Nv=h.R.La(this.cd,"mousedown",this,this.LB)};b=h.Oa.prototype;b.Pv=new h.g.N(0,0);b.nw=0;b.Ad=0;b.gg=0;b.Gk=0;b.Rk=!0;b.zp=!0;h.Oa.ad=15;h.Touch.tt&&(h.Oa.ad=25);h.Oa.ix=.5;h.Oa.vB=function(a,c){return a.Xb==c.Xb&&a.lc==c.lc&&a.Dd==c.Dd&&a.Ed==c.Ed&&a.Dc==c.Dc&&a.tc==c.tc&&a.scrollWidth==c.scrollWidth&&a.scrollHeight==c.scrollHeight&&a.scrollLeft==c.scrollLeft&&a.scrollTop==c.scrollTop};b=h.Oa.prototype;
b.H=function(){ra();h.R.ub(this.Mv);this.Mv=null;h.R.ub(this.Nv);this.Nv=null;h.g.j.removeNode(this.Ge);this.zf=this.ra=this.Ge=null;this.cd&&(this.C.Mc.unsubscribe(this.cd),this.cd=null);this.C=null};function sa(a,c){return c=0>=c||isNaN(c)?0:Math.min(c,a.Ad)}function ta(a,c){a.gg=c;a.cd.setAttribute(a.qn,a.gg)}function ua(a,c){return c=0>=c||isNaN(c)?0:Math.min(c,a.Ad-a.gg)}function G(a,c){a.Gk=c;a.cd.setAttribute(a.Vv,a.Gk)}
function va(a,c){a.Ad=c;a.Ge.setAttribute(a.qn,a.Ad);a.zf.setAttribute(a.qn,a.Ad)}b.setPosition=function(a,c){this.position.x=a;this.position.y=c;h.g.j.Mn(this.Ge,"translate("+(this.position.x+this.Pv.x)+"px,"+(this.position.y+this.Pv.y)+"px)")};b.resize=function(a){if(!a&&(a=this.C.Be(),!a))return;if(!this.Pa||!h.Oa.vB(a,this.Pa)){if(this.wh){var c=a;xa(this,c)?ya(this,c):za(this,c)}else c=a,xa(this,c)?Aa(this,c):Ba(this,c);this.Pa=a;Ca(this)}};
function xa(a,c){return a.Pa?a.Pa.Xb!==c.Xb||a.Pa.lc!==c.lc||a.Pa.tc!==c.tc||a.Pa.Dc!==c.Dc:!0}function ya(a,c){var d=c.Xb-2*a.Gh;a.Ag&&(d-=h.Oa.ad);va(a,Math.max(0,d));d=c.tc+a.Gh;a.Ag&&a.C.L&&(d+=h.Oa.ad);a.setPosition(d,c.Dc+c.lc-h.Oa.ad-a.Gh);za(a,c)}function za(a,c){if(c.Xb>=c.scrollWidth)ta(a,a.Ad),G(a,0),a.Ag||a.Vb(!1);else{a.Ag||a.Vb(!0);var d=a.Ad*c.Xb/c.scrollWidth;d=sa(a,d);ta(a,d);d=c.scrollWidth-c.Xb;var e=a.Ad-a.gg;c=(c.Dd-c.scrollLeft)/d*e;c=ua(a,c);G(a,c);a.ratio=e/d}}
function Aa(a,c){var d=c.lc-2*a.Gh;a.Ag&&(d-=h.Oa.ad);va(a,Math.max(0,d));a.setPosition(a.C.L?c.tc+a.Gh:c.tc+c.Xb-h.Oa.ad-a.Gh,c.Dc+a.Gh);Ba(a,c)}function Ba(a,c){if(c.lc>=c.scrollHeight)ta(a,a.Ad),G(a,0),a.Ag||a.Vb(!1);else{a.Ag||a.Vb(!0);var d=a.Ad*c.lc/c.scrollHeight;d=sa(a,d);ta(a,d);d=c.scrollHeight-c.lc;var e=a.Ad-a.gg;c=(c.Ed-c.scrollTop)/d*e;c=ua(a,c);G(a,c);a.ratio=e/d}}
b.ik=function(a){var c="blocklyScrollbar"+(this.wh?"Horizontal":"Vertical");a&&(c+=" "+a);this.Ge=h.g.j.S(h.g.G.Sj,{"class":c},null);this.ra=h.g.j.S(h.g.G.Oc,{},this.Ge);this.zf=h.g.j.S(h.g.G.Ve,{"class":"blocklyScrollbarBackground"},this.ra);a=Math.floor((h.Oa.ad-5)/2);this.cd=h.g.j.S(h.g.G.Ve,{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.ra);this.C.Mc.subscribe(this.cd,"scrollbarColour","fill");this.C.Mc.subscribe(this.cd,"scrollbarOpacity","fill-opacity");h.g.j.Lk(this.Ge,w(this.C))};
b.isVisible=function(){return this.Rk};b.rl=function(a){var c=a!=this.zp;this.zp=a;c&&Da(this)};b.Vb=function(a){var c=a!=this.isVisible();if(this.Ag)throw Error("Unable to toggle visibility of paired scrollbars.");this.Rk=a;c&&Da(this)};function Da(a){a.zp&&a.isVisible()?a.Ge.setAttribute("display","block"):a.Ge.setAttribute("display","none")}
b.KB=function(a){x(this.C);h.Touch.Bm();ra();if(h.g.Qk(a))a.stopPropagation();else{var c=h.g.al(a,w(this.C),Ea(this.C));c=this.wh?c.x:c.y;var d=h.g.jq(this.cd);d=this.wh?d.x:d.y;var e=this.Gk,f=.95*this.gg;c<=d?e-=f:c>=d+this.gg&&(e+=f);G(this,ua(this,e));Ca(this);a.stopPropagation();a.preventDefault()}};
b.LB=function(a){x(this.C);ra();h.g.Qk(a)?a.stopPropagation():(this.JC=this.Gk,Fa(this.C),this.nw=this.wh?a.clientX:a.clientY,h.Oa.yg=h.R.La(document,"mouseup",this,this.PB),h.Oa.xg=h.R.La(document,"mousemove",this,this.MB),a.stopPropagation(),a.preventDefault())};b.MB=function(a){G(this,ua(this,this.JC+((this.wh?a.clientX:a.clientY)-this.nw)));Ca(this)};b.PB=function(){Ga(this.C);h.Touch.Bm();ra()};
function ra(){h.dc(!0);h.Oa.yg&&(h.R.ub(h.Oa.yg),h.Oa.yg=null);h.Oa.xg&&(h.R.ub(h.Oa.xg),h.Oa.xg=null)}function qa(a){a=a.Gk/(a.Ad-a.gg);isNaN(a)&&(a=0);return a}function Ca(a){var c=qa(a),d={};a.wh?d.x=c:d.y=c;a.C.Nn(d)}b.set=function(a,c){G(this,ua(this,a*this.ratio));(c||void 0===c)&&Ca(this)};h.F={};h.F.visible=!1;h.F.Gi=!1;h.F.$x=50;h.F.yv=0;h.F.xl=0;h.F.Iq=0;h.F.Jq=0;h.F.Ua=null;h.F.il=null;h.F.Zs=0;h.F.$s=10;h.F.By=10;h.F.Px=750;h.F.Do=5;h.F.Sa=null;h.F.LA=function(){var a=h.F.Qu(h.F.Ua);if(a){for(a=a.Zd;"function"==typeof a;)a=a();if("string"!=typeof a)throw Error("Tooltip function must return a string.");return a}return""};h.F.Qu=function(a){for(;a&&a.Zd;){if("string"==typeof a.Zd||"function"==typeof a.Zd)return a;a=a.Zd}return null};
h.F.hb=function(){h.F.Sa||(h.F.Sa=document.createElement("div"),h.F.Sa.className="blocklyTooltipDiv",(h.Dn||document.body).appendChild(h.F.Sa))};h.F.Zj=function(a){a.xB=h.R.bind(a,"mouseover",null,h.F.OB);a.wB=h.R.bind(a,"mouseout",null,h.F.NB);a.addEventListener("mousemove",h.F.Ov,!1)};h.F.vw=function(a){a&&(h.R.ub(a.xB),h.R.ub(a.wB),a.removeEventListener("mousemove",h.F.Ov))};h.F.OB=function(a){h.F.Gi||(a=h.F.Qu(a.currentTarget),h.F.Ua!=a&&(h.F.sb(),h.F.il=null,h.F.Ua=a),clearTimeout(h.F.yv))};
h.F.NB=function(){h.F.Gi||(h.F.yv=setTimeout(function(){h.F.Ua=null;h.F.il=null;h.F.sb()},1),clearTimeout(h.F.xl))};h.F.Ov=function(a){if(h.F.Ua&&h.F.Ua.Zd&&!h.F.Gi)if(h.F.visible){var c=h.F.Iq-a.pageX;a=h.F.Jq-a.pageY;Math.sqrt(c*c+a*a)>h.F.By&&h.F.sb()}else h.F.il!=h.F.Ua&&(clearTimeout(h.F.xl),h.F.Iq=a.pageX,h.F.Jq=a.pageY,h.F.xl=setTimeout(h.F.GC,h.F.Px))};h.F.H=function(){h.F.Ua=null;h.F.il=null;h.F.sb()};
h.F.sb=function(){h.F.visible&&(h.F.visible=!1,h.F.Sa&&(h.F.Sa.style.display="none"));h.F.xl&&clearTimeout(h.F.xl)};h.F.block=function(){h.F.sb();h.F.Gi=!0};h.F.YC=function(){h.F.Gi=!1};
h.F.GC=function(){if(!h.F.Gi&&(h.F.il=h.F.Ua,h.F.Sa)){h.F.Sa.textContent="";var a=h.F.LA();a=h.g.Qa.dD(a);a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[c]));h.F.Sa.appendChild(d)}a=h.F.Ua.L;c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;h.F.Sa.style.direction=a?"rtl":"ltr";h.F.Sa.style.display="block";h.F.visible=!0;var e=h.F.Iq;e=a?e-(h.F.Zs+h.F.Sa.offsetWidth):e+h.F.Zs;var f=h.F.Jq+h.F.$s;f+
h.F.Sa.offsetHeight>d+window.scrollY&&(f-=h.F.Sa.offsetHeight+2*h.F.$s);a?e=Math.max(h.F.Do-window.scrollX,e):e+h.F.Sa.offsetWidth>c+window.scrollX-2*h.F.Do&&(e=c-h.F.Sa.offsetWidth-2*h.F.Do);h.F.Sa.style.top=f+"px";h.F.Sa.style.left=e+"px"}};h.g.pb={};h.g.pb.Kw="aria-";h.g.pb.Ky="role";h.g.pb.km={kE:"grid",lE:"gridcell",mE:"group",ay:"listbox",jy:"menu",ky:"menuitem",WE:"menuitemcheckbox",sy:"option",BF:"presentation",Qo:"row",bG:"tree",cG:"treeitem"};h.g.pb.State={Iw:"activedescendant",wD:"colcount",lx:"disabled",LD:"expanded",FE:"invalid",Zx:"label",LE:"labelledby",OE:"level",uF:"orientation",AF:"posinset",HF:"rowcount",xi:"selected",LF:"setsize",fG:"valuemax",gG:"valuemin"};h.g.pb.Ig=function(a,c){a.setAttribute(h.g.pb.Ky,c)};
h.g.pb.Sn=function(a,c,d){Array.isArray(d)&&(d=d.join(" "));a.setAttribute(h.g.pb.Kw+c,d)};h.qE=function(){};h.rE=function(){};h.sE=function(){};h.BE=function(){};h.g.Lm={};h.g.Lm.warn=function(a,c,d,e){a=a+" was deprecated on "+c+" and will be deleted on "+d+".";e&&(a+="\nUse "+e+" instead.");console.warn(a)};h.sa=function(a,c){this.J=a;this.type=c};h.sa.Ul=0;h.sa.Fy=1;h.sa.Iy=2;h.sa.Hy=3;h.sa.Cy=4;h.sa.Dy=5;h.sa.Gy=6;h.sa.Ey=7;b=h.sa.prototype;b.va=null;b.we=!1;b.Ii=null;b.Tn=null;b.x=0;b.y=0;
b.Fm=function(a){var c=this.W(),d=a.W();a.isConnected()&&a.disconnect();if(this.isConnected()){var e=this.Wi(!0);this.Tn=null;var f=this.ta();if(f.Da)f.H(!1);else{this.disconnect();var g=f}this.Tn=e}var k;h.h.isEnabled()&&(k=new (h.h.get(h.h.Pg))(d));h.sa.Qz(this,a);d.Qn(c);k&&(k.Sh(),h.h.Ha(k));g&&(a=this.type===h.V.Qb?g.P:g.$,(d=h.sa.Du(d,a))?a.connect(d):a.dr(this))};b.H=function(){if(this.isConnected()){this.tl(null);var a=this.ta();a&&E(a)}this.we=!0};b.W=function(){return this.J};
function H(a){return a.type==h.V.Qb||a.type==h.V.Rb}b.isConnected=function(){return!!this.va};b.rp=function(a){h.g.Lm.warn("Connection.prototype.canConnectWithReason","July 2020","July 2021","the workspace's connection checker");return this.J.A.gf.rp(this,a,!1)};b.dr=function(){};b.connect=function(a){if(this.va!=a&&I(this.J.A.gf,this,a,!1)){var c=h.h.Lb();c||h.h.qa(!0);H(this)?this.Fm(a):a.Fm(this);c||h.h.qa(!1)}};
h.sa.Qz=function(a,c){if(!a||!c)throw Error("Cannot connect null connections.");a.va=c;c.va=a};h.sa.KA=function(a,c){var d=null;c=c.P;for(var e=c.J.A.gf,f=0,g;g=a.O[f];f++)if((g=g.connection)&&I(e,c,g,!1)){if(d)return null;d=g}return d};h.sa.AA=function(a,c){for(var d;d=h.sa.KA(a,c);)if(a=d.ta(),!a||a.Da)return d;return null};h.sa.Du=function(a,c){if(c.type===h.V.Pc)return h.sa.AA(a,c.W());a=a.pn(!0);var d=c.J.A.gf;return a&&I(d,c,a,!1)?a:null};b=h.sa.prototype;
b.disconnect=function(){var a=this.va;if(!a)throw Error("Source connection not connected.");if(a.va!=this)throw Error("Target connection not connected to source connection.");if(H(this)){var c=this.J;var d=a.W();a=this}else c=a.W(),d=this.J;var e=h.h.Lb();e||h.h.qa(!0);this.Lp(c,d);d.Da||a.ol();e||h.h.qa(!1)};b.Lp=function(a,c){var d;h.h.isEnabled()&&(d=new (h.h.get(h.h.Pg))(c));this.va=this.va.va=null;c.Qn(null);d&&(d.Sh(),h.h.Ha(d))};
b.ol=function(){var a=this.W(),c=this.Wi();if(a.A&&c)if(a=h.I.Sm(c,a.A),a.P)this.connect(a.P);else if(a.$)this.connect(a.$);else throw Error("Child block does not have output or previous statement.");};b.ta=function(){return this.isConnected()?this.va.W():null};b.Lv=function(){!this.isConnected()||this.va&&I(this.J.A.gf,this,this.va,!1)||E(H(this)?this.ta():this.J)};b.kj=function(a){a?(Array.isArray(a)||(a=[a]),this.Ii=a,this.Lv()):this.Ii=null};
b.tl=function(a){this.Tn=a;a=this.ta();a?a.Da&&(a.H(!1),this.ol()):this.ol()};b.Wi=function(a){return a&&this.ta().Da?h.I.Yf(this.ta()):this.Tn};b.Cv=function(){return[]};b.Ce=function(){for(var a=null,c=this.J.O,d=0;d<c.length;d++)if(c[d].connection===this){a=c[d];break}return a};h.wE=function(){};h.xs=function(){};function I(a,c,d,e,f){return a.rp(c,d,e,f)==h.sa.Ul}h.xs.prototype.rp=function(a,c,d,e){if(a&&c){if(H(a)){var f=a.W();var g=c.W()}else g=a.W(),f=c.W();f=f==g?h.sa.Fy:c.type!=h.ui[a.type]?h.sa.Iy:f.A!==g.A?h.sa.Dy:f.Da&&!g.Da?h.sa.Gy:h.sa.Ul}else f=h.sa.Hy;if(f!=h.sa.Ul)a=f;else{a:if(f=a.Ii,g=c.Ii,f&&g){for(var k=0;k<f.length;k++)if(-1!=g.indexOf(f[k])){f=!0;break a}f=!1}else f=!0;a=f?d&&!Ha(a,c,e||0)?h.sa.Ey:h.sa.Ul:h.sa.Cy}return a};
function Ha(a,c,d){if(Ia(a,c)>d||c.W().td())return!1;switch(c.type){case h.V.jd:return a.va||-1!=h.Ri.indexOf(c)?a=!1:c.va?(a=c.ta(),a=a.td()?!(a.$&&a.$.ta()):!1):a=!0,a;case h.V.Pc:if(c.isConnected()&&!c.ta().td()||a.isConnected())return!1;break;case h.V.Qb:if(c.isConnected()&&!c.ta().ec()&&!c.ta().Da)return!1;break;case h.V.Rb:if(c.isConnected()&&!a.W().ga&&!c.ta().Da&&c.ta().ga)return!1;break;default:return!1}return-1!=h.Ri.indexOf(c)?!1:!0}h.u.register(h.u.M.vs,h.u.Bj,h.xs);h.zt=function(a){this.Xa=Object.create(null);this.A=a};b=h.zt.prototype;b.clear=function(){this.Xa=Object.create(null)};b.cw=function(a,c){var d=this.fg(c,a.type),e=J(this.A,!1);h.h.qa(!0);try{if(d&&d.yc()!=a.yc()){var f=a.type;c!=d.name&&Ja(d,c,e);for(c=0;c<e.length;c++){d=void 0;for(var g=0;d=e[c].O[g];g++)for(var k=0;d.Va[k];k++);}h.h.Ha(new (h.h.get(h.h.rm))(a));this.Xa[f].splice(this.Zm(f).indexOf(a),1)}else Ja(a,c,e)}finally{h.h.qa(!1)}};
b.Th=function(a,c){var d=this.qh(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.cw(d,c)};function Ja(a,c,d){h.h.Ha(new (h.h.get(h.h.Zo))(a,c));a.name=c;for(a=0;a<d.length;a++)for(var e=d[a],f=0;c=e.O[f];f++)for(var g=0;c.Va[g];g++);}
b.Nd=function(a,c,d){var e=this.fg(a,c);if(e){if(d&&e.yc()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.yc()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.qh(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||h.g.lf();c=c||"";e=new h.sm(this.A,a,c,e);a=this.Xa[c]||[];a.push(e);delete this.Xa[c];this.Xa[c]=a;return e};
b.Pi=function(a){var c=this.qh(a);if(c){var d=c.name,e=this.qq(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=Ka(f,"NAME");d=h.K.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);h.alert(d);return}var g=this;1<e.length?(d=h.K.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),h.confirm(d,function(k){k&&c&&La(g,c,e)})):La(g,c,e)}else console.warn("Can't delete non-existent variable: "+a)};
function La(a,c,d){var e=h.h.Lb();e||h.h.qa(!0);try{for(var f=0;f<d.length;f++)d[f].H(!0);var g=a.Xa[c.type];a=0;for(var k;k=g[a];a++)if(k.yc()==c.yc()){g.splice(a,1);h.h.Ha(new (h.h.get(h.h.rm))(c));break}}finally{e||h.h.qa(!1)}}b.fg=function(a,c){if(c=this.Xa[c||""])for(var d=0,e;e=c[d];d++)if(h.Zg.kf(e.name,a))return e;return null};b.qh=function(a){for(var c=Object.keys(this.Xa),d=0;d<c.length;d++)for(var e=c[d],f=0,g;g=this.Xa[e][f];f++)if(g.yc()==a)return g;return null};
b.Zm=function(a){return(a=this.Xa[a||""])?a.slice():[]};b.Si=function(){var a=[],c;for(c in this.Xa)a=a.concat(this.Xa[c]);return a};b.cq=function(){var a=[],c;for(c in this.Xa)for(var d=this.Xa[c],e=0,f;f=d[e];e++)a.push(f.name);return a};b.qq=function(a){for(var c=[],d=J(this.A,!1),e=0;e<d.length;e++){var f=ka(d[e]);if(f)for(var g=0;g<f.length;g++)f[g].yc()==a&&c.push(d[e])}return c};h.eb=function(a){this.id=h.g.lf();h.eb.Vj[this.id]=this;this.options=a||new h.hd({});this.L=!!this.options.L;this.$h=this.options.$h;this.gf=new (h.u.Ti(h.u.M.vs,this.options,!0))(this);this.Hl=[];this.Yn=[];this.Em=Object.create(null);this.sf=[];this.bi=[];this.ml=[];this.ip=Object.create(null);this.Df=Object.create(null);this.Xa=new h.zt(this);this.Hn=null};b=h.eb.prototype;b.pa=!1;b.Eq=!1;b.Vs=1024;b.Hm=null;b.H=function(){this.sf.length=0;this.clear();delete h.eb.Vj[this.id]};h.eb.gt=3;b=h.eb.prototype;
b.Ke=function(a,c){a=a.ab();c=c.ab();return a.y+h.eb.prototype.Ke.offset*a.x-(c.y+h.eb.prototype.Ke.offset*c.x)};b.tm=function(a){this.Hl.push(a)};b.Kn=function(a){if(!h.g.Yj(this.Hl,a))throw Error("Block not present in workspace's list of top-most blocks.");};b.cc=function(a){var c=[].concat(this.Hl);a&&1<c.length&&(this.Ke.offset=Math.sin(h.g.hc.Zh(h.eb.gt)),this.L&&(this.Ke.offset*=-1),c.sort(this.Ke));return c};function Ma(a,c){return a.Df[c]?a.Df[c].slice(0):[]}
function J(a,c){if(c){a=a.cc(!0);c=[];for(var d=0;d<a.length;d++)c.push.apply(c,p(a[d],!0))}else for(c=a.cc(!1),d=0;d<c.length;d++)c.push.apply(c,A(c[d],!1));return c.filter(function(e){return!e.td()})}b.clear=function(){this.Eq=!0;try{var a=h.h.Lb();for(a||h.h.qa(!0);this.Hl.length;)this.Hl[0].H(!1);for(;this.Yn.length;)this.Yn[this.Yn.length-1].H(!1);a||h.h.qa(!1);this.Xa.clear();this.Hn&&this.Hn.clear()}finally{this.Eq=!1}};b.Th=function(a,c){this.Xa.Th(a,c)};
b.Nd=function(a,c,d){return this.Xa.Nd(a,c,d)};b.qq=function(a){return this.Xa.qq(a)};b.Pi=function(a){this.Xa.Pi(a)};b.fg=function(a,c){return this.Xa.fg(a,c)};b.qh=function(a){return this.Xa.qh(a)};b.Zm=function(a){return this.Xa.Zm(a)};b.Si=function(){return this.Xa.Si()};b.cq=function(){return this.Xa.cq()};b.$m=function(){return 0};b.hj=function(a,c){return new h.ki(this,a,c)};
function Na(a,c){if(!Oa(a))return!0;var d=0,e;for(e in c){if(c[e]>(a.options.tn?(void 0!==a.options.tn[e]?a.options.tn[e]:Infinity)-Ma(a,e).length:Infinity))return!1;d+=c[e]}return d>(isNaN(a.options.Xk)?Infinity:a.options.Xk-J(a,!1).length)?!1:!0}function Oa(a){return Infinity!=a.options.Xk||!!a.options.tn}
function Pa(a,c){var d=c?a.ml:a.bi;a=c?a.bi:a.ml;var e=d.pop();if(e){for(var f=[e];d.length&&e.group&&e.group==d[d.length-1].group;)f.push(d.pop());for(d=0;e=f[d];d++)a.push(e);f=h.h.filter(f,c);h.h.Fa=!1;try{for(d=0;e=f[d];d++)e.run(c)}finally{h.h.Fa=!0}}}function Qa(){var a=z;a.bi.length=0;a.ml.length=0;h.h.Iz()}b.Gc=function(a){return this.ip[a]||null};h.eb.Vj=Object.create(null);h.eb.Bk=function(a){return h.eb.Vj[a]||null};
h.eb.getAll=function(){var a=[],c;for(c in h.eb.Vj)a.push(h.eb.Vj[c]);return a};h.Ft=function(a){this.gk=a;this.hb()};b=h.Ft.prototype;b.Ya=null;b.gk=null;b.hb=function(){this.Ya||(this.Ya=h.g.j.S(h.g.G.Sj,{xmlns:h.g.j.nm,"xmlns:html":h.g.j.to,"xmlns:xlink":h.g.j.fh,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.gk.appendChild(this.Ya))};b.ai=function(a,c){a=a.toFixed(0);c=c.toFixed(0);this.Ya.style.display="block";h.g.j.Mn(this.Ya,"translate3d("+a+"px, "+c+"px, 0px)")};b.oq=function(){return h.g.Rd(this.Ya)};
b.Am=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var c=this.Ya.childNodes[0],d=this.Ya.childNodes[1];if(!(c&&d&&h.g.j.tq(c,"blocklyBlockCanvas")&&h.g.j.tq(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.wr?h.g.j.Lk(c,this.wr):a.insertBefore(c,a.firstChild);h.g.j.Lk(d,c);this.Ya.style.display="none";if(this.Ya.childNodes.length)throw Error("Drag surface was not cleared.");h.g.j.Mn(this.Ya,
"");this.wr=null};h.i={};h.i.register=function(a,c){h.u.register(h.u.M.RENDERER,a,c)};h.i.unregister=function(a){h.u.unregister(h.u.M.RENDERER,a)};h.i.Wa=function(a,c,d){a=new (h.u.fq(h.u.M.RENDERER,a))(a);a.Wa(c,d);return a};h.D=function(a,c,d){if(!c)throw Error("Cannot create a node without a location.");this.Ll=a;this.ya=c;this.Gw=null;(a=d||null)&&a.Fw&&(this.Gw=a.Fw)};h.D.types={oc:"field",Jb:"block",fd:"input",$g:"output",Pf:"next",Rf:"previous",bh:"stack",Cc:"workspace"};h.D.Of=!1;h.D.hx=-20;h.D.iH=function(a){switch(a){case h.D.types.Rf:case h.D.types.Pf:case h.D.types.fd:case h.D.types.$g:return!0}return!1};h.D.jk=function(a){return a?new h.D(h.D.types.oc,a):null};
h.D.cg=function(a){if(!a)return null;var c=a.type;return c==h.V.Qb||c==h.V.Rb&&a.Ce()?h.D.kh(a.Ce()):c==h.V.Rb?new h.D(h.D.types.Pf,a):c==h.V.Pc?new h.D(h.D.types.$g,a):c==h.V.jd?new h.D(h.D.types.Rf,a):null};h.D.kh=function(a){return a&&a.connection?new h.D(h.D.types.fd,a.connection):null};h.D.ag=function(a){return a?new h.D(h.D.types.Jb,a):null};h.D.Im=function(a){return a?new h.D(h.D.types.bh,a):null};h.D.Yz=function(a,c){return c&&a?new h.D(h.D.types.Cc,a,{Fw:c}):null};
h.D.MG=function(a){var c=a.$||a.P;return c?h.D.cg(c):h.D.ag(a)};b=h.D.prototype;b.getType=function(){return this.Ll};function Ra(a,c){a=a.ya;a instanceof h.ki||(a=a.W());if(!a||!a.A)return null;var d=a.Sd();a=d.A.cc(!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return c=e+(c?1:-1),-1==c||c==a.length?null:h.D.Im(a[c]);throw Error("Couldn't find "+(c?"next":"previous")+" stack?!");}
function Sa(a){if(!a)return null;do var c=a.$&&a.$.ta();while(c&&u(c)==a&&(a=c));return(c=a.$||a.P)&&c.va&&c.va.Ce()?h.D.kh(c.va.Ce()):h.D.Im(a)}b.W=function(){return this.getType()===h.D.types.Jb?this.ya:this.getType()===h.D.types.bh?this.ya:this.getType()===h.D.types.Cc?null:this.ya.W()};
b.next=function(){switch(this.Ll){case h.D.types.bh:return Ra(this,!0);case h.D.types.$g:var a=this.ya;return h.D.ag(a.W());case h.D.types.oc:a:{var c=this.ya,d=c.Ce();a=c.W();c=d.Va.indexOf(c)+1;d=a.O.indexOf(d);for(var e;e=a.O[d];d++){for(var f=e.Va;c<f.length;){if(K(f[c])||h.D.Of){a=h.D.jk(f[c]);break a}c++}c=0;if(e.connection){a=h.D.kh(e);break a}}a=null}return a;case h.D.types.fd:a:{c=this.ya.Ce();a=c.W();for(c=a.O.indexOf(c)+1;d=a.O[c];c++){e=d.Va;f=0;for(var g;g=e[f];f++)if(K(g)||h.D.Of){a=
h.D.jk(g);break a}if(d.connection){a=h.D.kh(d);break a}}a=null}return a;case h.D.types.Jb:return h.D.cg(this.ya.ga);case h.D.types.Rf:return a=this.ya,h.D.ag(a.W());case h.D.types.Pf:return a=this.ya,h.D.cg(a.va)}return null};
b.jg=function(){switch(this.Ll){case h.D.types.Cc:var a=this.ya.cc(!0);if(0<a.length)return h.D.Im(a[0]);break;case h.D.types.bh:a=this.ya;var c=a.$||a.P;return c?h.D.cg(c):h.D.ag(a);case h.D.types.Jb:a=this.ya;a:{a=a.O;c=0;for(var d;d=a[c];c++){for(var e=d.Va,f=0,g;g=e[f];f++)if(K(g)||h.D.Of){a=h.D.jk(g);break a}if(d.connection){a=h.D.kh(d);break a}}a=null}return a;case h.D.types.fd:return h.D.cg(this.ya.va)}return null};
b.Cg=function(){switch(this.Ll){case h.D.types.bh:return Ra(this,!1);case h.D.types.oc:a:{var a=this.ya;var c=a.Ce();var d=a.W();a=c.Va.indexOf(a)-1;for(var e=d.O.indexOf(c),f;f=d.O[e];e--){if(f.connection&&f!==c){c=h.D.kh(f);break a}for(f=f.Va;-1<a;){if(K(f[a])||h.D.Of){c=h.D.jk(f[a]);break a}a--}0<=e-1&&(a=d.O[e-1].Va.length-1)}c=null}return c;case h.D.types.fd:a:{c=this.ya.Ce();d=c.W();for(a=d.O.indexOf(c);e=d.O[a];a--){if(e.connection&&e!==c){c=h.D.kh(e);break a}e=e.Va;f=e.length-1;for(var g;g=
e[f];f--)if(K(g)||h.D.Of){c=h.D.jk(g);break a}}c=null}return c;case h.D.types.Jb:return c=this.ya,h.D.cg(c.$||c.P);case h.D.types.Rf:c=this.ya;if((c=c.va)&&!c.Ce())return h.D.cg(c);break;case h.D.types.Pf:return c=this.ya,h.D.ag(c.W())}return null};
b.zg=function(){switch(this.Ll){case h.D.types.bh:var a=this.ya,c=a.ab();return h.D.Yz(a.A,new h.g.N(c.x,c.y+h.D.hx));case h.D.types.$g:return a=this.ya,(c=a.va)?h.D.cg(c):h.D.Im(a.W());case h.D.types.oc:return h.D.ag(this.ya.W());case h.D.types.fd:return a=this.ya,h.D.ag(a.W());case h.D.types.Jb:return a=this.ya,Sa(a);case h.D.types.Rf:return a=this.ya,Sa(a.W());case h.D.types.Pf:return a=this.ya,Sa(a.W())}return null};h.Yb=Object.create(null);h.wa={};h.wa.tj=Object.create(null);h.wa.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(h.wa.tj[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof c)throw Error('Error: Extension "'+a+'" must be a function');h.wa.tj[a]=c};h.wa.yH=function(a,c){if(!c||"object"!=typeof c)throw Error('Error: Mixin "'+a+'" must be a object');h.wa.register(a,function(){this.vg(c)})};
h.wa.zH=function(a,c,d,e){var f='Error when registering mutator "'+a+'": ';h.wa.St(f,c.Vc,"domToMutation");h.wa.St(f,c.ic,"mutationToDom");var g=h.wa.Ut(c,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');h.wa.register(a,function(){if(g){if(!h.ny)throw Error(f+"Missing require for Blockly.Mutator");this.jw(new h.ny(e||[]))}this.vg(c);d&&d.apply(this)})};h.wa.unregister=function(a){h.wa.tj[a]?delete h.wa.tj[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')};
h.wa.apply=function(a,c,d){var e=h.wa.tj[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)h.wa.Fz(a,c);else var f=h.wa.lq(c);e.apply(c);if(d)h.wa.Dz('Error after applying mutator "'+a+'": ',c);else if(!h.wa.AB(f,c))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
h.wa.St=function(a,c,d){if(!c)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof c)throw Error(a+'" required property "'+d+'" must be a function');};h.wa.Fz=function(a,c){if(h.wa.lq(c).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+c.id);};
h.wa.Ut=function(a,c){var d=void 0!==a.yp,e=void 0!==a.Cp;if(d&&e){if("function"!=typeof a.yp)throw Error(c+"compose must be a function.");if("function"!=typeof a.Cp)throw Error(c+"decompose must be a function.");return!0}if(!d&&!e)return!1;throw Error(c+'Must have both or neither of "compose" and "decompose"');};
h.wa.Dz=function(a,c){if("function"!=typeof c.Vc)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof c.ic)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');h.wa.Ut(c,a)};h.wa.lq=function(a){var c=[];void 0!==a.Vc&&c.push(a.Vc);void 0!==a.ic&&c.push(a.ic);void 0!==a.yp&&c.push(a.yp);void 0!==a.Cp&&c.push(a.Cp);return c};h.wa.AB=function(a,c){c=h.wa.lq(c);if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++)if(a[d]!=c[d])return!1;return!0};
h.wa.uG=function(a,c){var d=[];"object"==typeof document&&h.g.hw(function(){for(var e in c)h.g.Tt(c[e])});return function(){this.type&&-1==d.indexOf(this.type)&&(h.wa.Ez(this,a,c),d.push(this.type));this.Jg(function(){var e=String(Ka(this,a)),f=c[e];null==f?-1==d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=h.g.Kc(f);return f}.bind(this))}};
h.wa.Ez=function(a,c,d){var e=D(a,c);if(!Ta(e)){e=e.getOptions();for(var f=0;f<e.length;++f){var g=e[f][1];null==d[g]&&console.warn("No tooltip mapping for value "+g+" of field "+c+" of block type "+a.type)}}};h.wa.vG=function(a,c){"object"==typeof document&&h.g.hw(function(){h.g.Tt(a)});return function(){this.Jg(function(){var d=D(this,c);return h.g.Kc(a).replace("%1",d?Ua(d):"")}.bind(this))}};h.wa.lA=function(){this.TC=this.Zd;this.Jg(function(){var a=this.getParent();return a&&Va(a)&&a.Zd||this.TC}.bind(this))};
h.wa.register("parent_tooltip_when_inline",h.wa.lA);h.eg={};h.eg.register=function(a,c){h.u.register(h.u.M.oc,a,c)};h.eg.unregister=function(a){h.u.unregister(h.u.M.oc,a)};h.eg.Z=function(a){var c=h.u.mq(h.u.M.oc,a.type);return c?c.Z(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};h.zE=function(){};h.Ta={};h.Ta.Mp=0;h.Ta.Pm=null;h.Ta.fA=function(a){var c=a.A,d=a.Aa();c.re.play("delete");a=Wa(c,d);d=d.cloneNode(!0);d.VC=a.x;d.WC=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");w(c).appendChild(d);d.Mt=d.getBBox();h.Ta.tu(d,c.L,new Date,c.scale)};h.Ta.tu=function(a,c,d,e){var f=(new Date-d)/150;1<f?h.g.j.removeNode(a):(a.setAttribute("transform","translate("+(a.VC+(c?-1:1)*a.Mt.width*e/2*f)+","+(a.WC+a.Mt.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(h.Ta.tu,10,a,c,d,e))};
h.Ta.Rz=function(a){var c=a.A,d=c.scale;c.re.play("click");if(!(1>d)){var e=Wa(c,a.Aa());a.P?(e.x+=(a.L?3:-3)*d,e.y+=13*d):a.$&&(e.x+=(a.L?-23:23)*d,e.y+=3*d);a=h.g.j.S(h.g.G.Tw,{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},w(c));h.Ta.du(a,new Date,d)}};h.Ta.du=function(a,c,d){var e=(new Date-c)/150;1<e?h.g.j.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,h.Ta.Mp=setTimeout(h.Ta.du,10,a,c,d))};
h.Ta.eA=function(a){a.A.re.play("disconnect");if(!(1>a.A.scale)){var c=v(a).height;c=Math.atan(10/c)/Math.PI*180;a.L||(c*=-1);h.Ta.su(a.Aa(),c,new Date)}};h.Ta.su=function(a,c,d){var e=(new Date-d)/200;1<e?a.yl="":(a.yl="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*c)+")",h.Ta.Pm=a,h.Ta.Mp=setTimeout(h.Ta.su,10,a,c,d));a.setAttribute("transform",a.Kl+a.yl)};h.Ta.Np=function(){if(h.Ta.Pm){clearTimeout(h.Ta.Mp);var a=h.Ta.Pm;a.yl="";a.setAttribute("transform",a.Kl);h.Ta.Pm=null}};h.h.Ef=function(a,c,d){h.h.Ef.v.constructor.call(this,a?a.A.id:void 0);this.Za=a?a.id:null;this.kv=c;this.Nt=d};h.g.object.T(h.h.Ef,h.h.pe);h.h.Ef.prototype.type=h.h.Tl;h.h.Ef.prototype.oa=function(){var a=h.h.Ef.v.oa.call(this);a.isStart=this.kv;a.blockId=this.Za;a.blocks=this.Nt;return a};h.h.Ef.prototype.Z=function(a){h.h.Ef.v.Z.call(this,a);this.kv=a.isStart;this.Za=a.blockId;this.Nt=a.blocks};h.u.register(h.u.M.Ab,h.h.Tl,h.h.Ef);h.tE=function(){};h.pc=function(a){this.Lg=h.selected=a;this.C=a.A;this.sg=this.Gq=null;this.xk=Xa(this,this.Lg);this.fc=this.qb=null;this.ae=!1;this.tk=this.xq=this.Hh=null;this.wm=Ya(this)};h.pc.wi={wo:0,Ux:1,ft:2};h.pc.As="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.";h.pc.prototype.H=function(){this.wm.length=0;h.h.disable();try{this.xk&&this.xk.H(),this.sg&&this.sg.H()}finally{h.h.enable()}};
h.pc.prototype.update=function(a,c){var d=this.qb&&this.fc?h.us:h.$b;for(var e=null,f=null,g=0;g<this.wm.length;g++){var k=this.wm[g],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.In)}d={closest:e,local:f,In:d};if((this.ae=this.Nr(d,c))||Za(this,d,a)){h.h.disable();d.closest?(a=this.qb!=d.closest,c=this.fc!=d.local,this.qb&&this.fc&&(a||c||this.ae)&&$a(this)):$a(this);this.fc=this.qb=this.Hh=null;if(!this.ae&&(a=d.closest,c=d.local,a))if(a==this.qb||a.W().td())console.log("Trying to connect to an insertion marker");
else{this.qb=a;this.fc=c;a=this.qb;c=this.fc;d=this.Lg;c.type==h.V.Pc||c.type==h.V.jd?((e=!a.isConnected())||(e=a.ta(),e=!!h.sa.Du(d,c.type===h.V.Pc?e.P:e.$)),c=e?h.pc.wi.wo:h.pc.wi.ft):c=h.pc.wi.wo;switch(c){case h.pc.wi.Ux:this.xq=this.qb.W();break;case h.pc.wi.wo:e=this.fc;c=this.qb;d=this.Gq&&e==this.Gq?this.sg:this.xk;e=d.kq(e.W(),e);if(e==this.Hh)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");d.Ga();d.pa=!0;d.Aa().setAttribute("visibility","visible");e&&
c&&(e.type!=h.V.Rb&&e.type!=h.V.Qb||d.moveBy(c.x-e.x,c.y-e.y));c&&e.connect(c);this.Hh=e;break;case h.pc.wi.ft:this.tk=this.qb.ta(),L(this.tk.jb,"blocklyReplaceable",!0)}a&&(d=a.J.A.kb.aa(),c=ab(d,a),a.type==h.V.Qb||a.type==h.V.Pc?(d=d.Ai,c=h.g.s.moveBy(0,-d)+h.g.s.U("v",d)+c.yd+h.g.s.U("v",d)):(d=d.Pj-d.fe,c=h.g.s.moveBy(-d,0)+h.g.s.U("h",d)+c.Bg+h.g.s.U("h",d)),d=a.J.ab(),h.sa.av=h.g.j.S(h.g.G.Te,{"class":"blocklyHighlightedConnectionPath",d:c,transform:"translate("+(a.x-d.x)+","+(a.y-d.y)+")"+
(a.J.L?" scale(-1 1)":"")},a.J.Aa()))}h.h.enable()}};
function Xa(a,c){var d=c.type;h.h.disable();try{var e=a.C.hj(d);e.iw(!0);if(c.ic){var f=c.ic();f&&e.Vc(f)}for(a=0;a<c.O.length;a++){var g=c.O[a];if(g.name!=h.bb.Xl){var k=e.O[a];if(!k)throw Error(h.pc.As.replace("%1","an input"));for(d=0;d<g.Va.length;d++){var l=g.Va[d],m=k.Va[d];if(!m)throw Error(h.pc.As.replace("%1","a field"));m.setValue(l.getValue())}}}e.Vh(c.isCollapsed());e.Gg(Va(c));e.zh();e.Aa().setAttribute("visibility","hidden")}finally{h.h.enable()}return e}
function Ya(a){var c=a.Lg.Qd(!1),d=a.Lg.pn(!0);if(d&&d!=a.Lg.ga){c.push(d);a.Gq=d;if(a.sg){h.h.disable();try{a.sg.H()}finally{h.h.enable()}}a.sg=Xa(a,d.W())}return c}
function Za(a,c,d){var e=c.local,f=c.closest;c=c.In;if(e&&f){if(a.fc&&a.qb){if(a.qb==f&&a.fc==e)return!1;e=a.fc.x+d.x-a.qb.x;a=a.fc.y+d.y-a.qb.y;a=Math.sqrt(e*e+a*a);return!(f&&c>a-h.Xw)}if(a.fc||a.qb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.fc||!a.qb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
h.pc.prototype.Nr=function(a,c){return c&&ca(this.C.ck,c.id)?c.cD(this.Lg,a&&!!a.closest):!1};
function $a(a){a.qb&&a.qb.ta()&&(h.g.j.removeNode(h.sa.av),delete h.sa.av);if(a.tk)L(a.tk.jb,"blocklyReplaceable",!1),a.tk=null;else if(a.xq)a.xq=null;else if(a.Hh)if(a.Hh){var c=a.Hh,d=c.W(),e=d.ga,f=d.$,g=d.P;g=c.type==h.V.Qb&&!(g&&g.va);!(c!=e||f&&f.va)||g?E(c.ta(),!1):c.type==h.V.Rb&&c!=e?(e=c.va,E(e.W(),!1),f=f?f.va:null,E(d,!0),f&&f.connect(e)):E(d,!0);if(c.va)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.Hh=null;(a=d.Aa())&&a.setAttribute("visibility",
"hidden")}else console.log("No insertion marker connection to disconnect")}h.pc.prototype.Ui=function(){var a=[];this.xk&&a.push(this.xk);this.sg&&a.push(this.sg);return a};h.uj=function(a,c){this.Ma=a;this.C=c;this.Ae=new h.pc(this.Ma);this.ib=null;this.ae=!1;this.Cd=this.Ma.ab();this.Tm=h.uj.dB(a)};h.uj.prototype.H=function(){this.Tm.length=0;this.Ae&&this.Ae.H()};h.uj.dB=function(a){var c=[];a=p(a,!1);for(var d=0,e;e=a[d];d++){e=M(e);for(var f=0;f<e.length;f++){var g={location:e[f].ZG(),icon:e[f]};c.push(g)}}return c};b=h.uj.prototype;
b.zl=function(a,c){h.h.Lb()||h.h.qa(!0);var d=new (h.h.get(h.h.Tl))(this.Ma,!0,p(this.Ma,!1));h.h.Ha(d);this.C.ln&&bb(this.Ma);h.g.j.Al();this.C.Lc(!1);h.Ta.Np();if(this.Ma.getParent()||c&&this.Ma.ga&&this.Ma.ga.ta())E(this.Ma,c),a=this.ij(a),a=h.g.N.sum(this.Cd,a),this.Ma.translate(a.x,a.y),h.Ta.eA(this.Ma),a=this.Ae,a.wm=Ya(a);this.Ma.Fg(!0);a=this.Ma;a.Nl&&(c=a.ab(),a.Aa().removeAttribute("transform"),a.A.Sc.ai(c.x,c.y),(c=a.Aa())&&na(a.A.Sc,c))};
b.ye=function(a,c){c=this.ij(c);var d=h.g.N.sum(this.Cd,c);this.Ma.Tq(d);for(d=0;d<this.Tm.length;d++){var e=this.Tm[d];e.icon.KH(h.g.N.sum(e.location,c))}d=this.ib;this.ib=cb(this.C,a);this.Ae.update(c,this.ib);a=this.ae;this.ae=this.Ae.ae;a!=this.ae&&this.Ma.Hr(this.ae);this.ib!==d&&(d&&d.HB(this.Ma),this.ib&&this.ib.GB(this.Ma));this.ib&&this.ib.IB(this.Ma)};
b.qk=function(a,c){this.ye(a,c);this.Tm=[];a=new (h.h.get(h.h.Tl))(this.Ma,!1,p(this.Ma,!1));h.h.Ha(a);h.g.j.Bl();h.Ta.Np();if(this.ib&&this.ib.EC(this.Ma))c=this.Cd;else{var d=this.ij(c);c=h.g.N.sum(this.Cd,d)}a=this.Ma;a.Nl&&(a.translate(c.x,c.y),a.A.Sc.Am(a.A.yb));this.ib&&this.ib.JB(this.Ma);this.ae?(this.wk(),this.Ma.H(!1,!0),h.Ri=[],c=!0):c=!1;c||(this.Ma.Fg(!1),d?(db(this.Ma,d.x,d.y),this.wk(),this.Ae.qb?(d=this.Ae,d.qb&&(h.h.disable(),$a(d),h.h.enable(),d.fc.connect(d.qb),d.Lg.pa&&(h.Ta.Rz((H(d.fc)?
d.qb:d.fc).W()),bb(d.Lg.Sd())))):this.Ma.Ga(),eb(this.Ma)):h.mp(this.Ma.A,this.C.Kh.Fk(!0),this.Ma));this.C.Lc(!0);h.h.qa(!1)};b.wk=function(){var a=new (h.h.get(h.h.Pg))(this.Ma);a.Yq=this.Cd;a.Sh();h.h.Ha(a)};b.ij=function(a){a=new h.g.N(a.x/this.C.scale,a.y/this.C.scale);this.C.ln&&a.scale(1/this.C.options.Ic.scale);return a};b.Ui=function(){return this.Ae&&this.Ae.Ui?this.Ae.Ui():[]};h.u.register(h.u.M.os,h.u.Bj,h.uj);h.xE=function(){};h.AE=function(){};h.vE=function(){};h.ua=function(a,c,d,e,f,g){this.C=a;this.hf=c;this.DC=d;this.ir=this.gr=this.Av=this.gw=null;this.we=!1;d=h.ua.Lw;this.C.L&&(d=-d);this.qz=h.g.hc.Zh(d);a.Af.appendChild(this.ik(c,!(!f||!g)));this.Cb=e;this.dw&&fb(this);f&&g||(a=this.hf.getBBox(),f=a.width+2*h.ua.ce,g=a.height+2*h.ua.ce);gb(this,f,g);fb(this);hb(this);this.dw=!0};h.ua.ce=6;h.ua.Mw=5;h.ua.Lw=20;h.ua.hs=4;h.ua.Jw=8;h.ua.yg=null;h.ua.xg=null;
h.ua.Wr=function(){h.ua.yg&&(h.R.ub(h.ua.yg),h.ua.yg=null);h.ua.xg&&(h.R.ub(h.ua.xg),h.ua.xg=null)};h.ua.vz=function(){h.Touch.Bm();h.ua.Wr()};b=h.ua.prototype;b.dw=!1;b.Cb=null;b.Ie=0;b.Dg=0;b.Ob=0;b.Td=0;b.fp=!0;
b.ik=function(a,c){this.md=h.g.j.S(h.g.G.Oc,{},null);var d={filter:"url(#"+this.C.kb.aa().Um+")"};h.g.userAgent.Yx&&(d={});d=h.g.j.S(h.g.G.Oc,d,this.md);this.Ot=h.g.j.S(h.g.G.Te,{},d);this.xm=h.g.j.S(h.g.G.Ve,{"class":"blocklyDraggable",x:0,y:0,rx:h.ua.ce,ry:h.ua.ce},d);c?(this.vf=h.g.j.S(h.g.G.Oc,{"class":this.C.L?"blocklyResizeSW":"blocklyResizeSE"},this.md),c=2*h.ua.ce,h.g.j.S(h.g.G.yy,{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.vf),h.g.j.S(h.g.G.Kj,{"class":"blocklyResizeLine",x1:c/
3,y1:c-1,x2:c-1,y2:c/3},this.vf),h.g.j.S(h.g.G.Kj,{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.vf)):this.vf=null;this.C.options.readOnly||(this.gr=h.R.La(this.xm,"mousedown",this,this.uz),this.vf&&(this.ir=h.R.La(this.vf,"mousedown",this,this.tC)));this.md.appendChild(a);return this.md};b.Aa=function(){return this.md};
b.uz=function(a){var c=ib(this.C,a);if(c){if(c.$i)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");c.bd||(c.bd=this);c.vd=a}};b.vl=function(){};b.lg=function(){return!1};b.Hr=function(){};
b.tC=function(a){var c=this.md.parentNode;c.lastChild!==this.md&&c.appendChild(this.md);h.ua.Wr();h.g.Qk(a)||(this.C.zl(a,new h.g.N(this.C.L?-this.Ob:this.Ob,this.Td)),h.ua.yg=h.R.La(document,"mouseup",this,h.ua.vz),h.ua.xg=h.R.La(document,"mousemove",this,this.uC),h.dc());a.stopPropagation()};b.uC=function(a){this.fp=!1;var c=this.C;a=h.g.al(a,w(c),Ea(c));a.x/=c.scale;a.y/=c.scale;c=h.g.N.sum(c.uu,a);gb(this,this.C.L?-c.x:c.x,c.y);this.C.L&&fb(this)};
function jb(a,c,d){var e=a.C.L?a.Cb.x-c.x-a.Ob:c.x+a.Cb.x;c=c.y+a.Cb.y;return Math.max(0,Math.min(1,(Math.min(e+a.Ob,d.left+d.width)-Math.max(e,d.left))*(Math.min(c+a.Td,d.top+d.height)-Math.max(c,d.top))/(a.Ob*a.Td)))}function fb(a){var c=a.Cb.x;c=a.C.L?c-(a.Ie+a.Ob):c+a.Ie;a.moveTo(c,a.Dg+a.Cb.y)}b.moveTo=function(a,c){this.md.setAttribute("transform","translate("+a+","+c+")")};b.Fg=function(a){!a&&this.Av&&this.Av()};
function gb(a,c,d){var e=2*h.ua.ce;c=Math.max(c,e+45);d=Math.max(d,e+20);a.Ob=c;a.Td=d;a.xm.setAttribute("width",c);a.xm.setAttribute("height",d);a.vf&&(a.C.L?a.vf.setAttribute("transform","translate("+2*h.ua.ce+","+(d-e)+") scale(-1 1)"):a.vf.setAttribute("transform","translate("+(c-e)+","+(d-e)+")"));if(a.fp){c=kb(a.C.Kh,!0);d=-a.Ob/4;if(!(a.Ob>c.width)){if(a.C.L){e=a.Cb.x-d;var f=e-a.Ob;var g=c.left+c.width,k=c.left+h.Oa.ad/a.C.scale}else f=d+a.Cb.x,e=f+a.Ob,k=c.left,g=c.left+c.width-h.Oa.ad/a.C.scale;
a.C.L?f<k?d=-(k-a.Cb.x+a.Ob):e>g&&(d=-(g-a.Cb.x)):f<k?d=k-a.Cb.x:e>g&&(d=g-a.Cb.x-a.Ob)}f=d;d=-a.Td/4;if(!(a.Td>c.height)){e=a.Cb.y+d;g=e+a.Td;k=c.top;var l=c.top+c.height-h.Oa.ad/a.C.scale,m=a.Cb.y;e<k?d=k-m:g>l&&(d=l-m-a.Td)}k=d;g=a.DC.getBBox();d={x:f,y:-a.Td-a.C.kb.aa().Lj};e={x:-a.Ob-30,y:k};k={x:g.width,y:k};l={x:f,y:g.height};f=g.width<g.height?k:l;g=g.width<g.height?l:k;k=jb(a,d,c);l=jb(a,e,c);m=jb(a,f,c);c=Math.max(k,l,m,jb(a,g,c));k==c?(a.Ie=d.x,a.Dg=d.y):l==c?(a.Ie=e.x,a.Dg=e.y):m==c?(a.Ie=
f.x,a.Dg=f.y):(a.Ie=g.x,a.Dg=g.y)}fb(a);hb(a);a.gw&&a.gw()}
function hb(a){var c=[],d=a.Ob/2,e=a.Td/2,f=-a.Ie,g=-a.Dg;if(d==f&&e==g)c.push("M "+d+","+e);else{g-=e;f-=d;a.C.L&&(f*=-1);var k=Math.sqrt(g*g+f*f),l=Math.acos(f/k);0>g&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),q=Math.cos(m),r=new h.g.Rc(a.Ob,a.Td);m=(r.width+r.height)/h.ua.Mw;m=Math.min(m,r.width,r.height)/4;r=1-h.ua.Jw/k;f=d+r*f;g=e+r*g;r=d+m*q;var t=e+m*n;d-=m*q;e-=m*n;n=l+a.qz;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/h.ua.hs;k=Math.cos(n)*k/h.ua.hs;c.push("M"+
r+","+t);c.push("C"+(r+k)+","+(t+l)+" "+f+","+g+" "+f+","+g);c.push("C"+f+","+g+" "+(d+k)+","+(e+l)+" "+d+","+e)}c.push("z");a.Ot.setAttribute("d",c.join(" "))}b.Je=function(a){this.xm.setAttribute("fill",a);this.Ot.setAttribute("fill",a)};b.H=function(){this.gr&&h.R.ub(this.gr);this.ir&&h.R.ub(this.ir);h.ua.Wr();h.g.j.removeNode(this.md);this.we=!0};b.Tq=function(a,c){a?a.ai(c.x,c.y):this.moveTo(c.x,c.y);this.Ie=this.C.L?this.Cb.x-c.x-this.Ob:c.x-this.Cb.x;this.Dg=c.y-this.Cb.y;hb(this)};
b.ab=function(){return new h.g.N(this.C.L?-this.Ie+this.Cb.x-this.Ob:this.Cb.x+this.Ie,this.Cb.y+this.Dg)};h.ua.Me=function(a){var c=h.g.j.S(h.g.G.st,{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:h.ua.ce},null);a=a.split("\n");for(var d=0;d<a.length;d++){var e=h.g.j.S(h.g.G.ut,{dy:"1em",x:h.ua.ce},c),f=document.createTextNode(a[d]);e.appendChild(f)}return c};
h.ua.LG=function(a,c,d){d=new h.ua(c.A,a,c.jb.zb,d,null,null);d.md.dataset&&(d.md.dataset.blockId=c.id);if(c.L){c=a.getBBox().width;for(var e=0,f;f=a.childNodes[e];e++)f.setAttribute("text-anchor","end"),f.setAttribute("x",c+h.ua.ce)}return d};h.h.Oe=function(a){this.te=(this.Xc="undefined"==typeof a)?"":a.id;this.Mb=this.Xc?"":a.A.id;this.group=h.h.Lb();this.Fa=h.h.Fa};h.g.object.T(h.h.Oe,h.h.Abstract);h.h.Oe.prototype.oa=function(){var a=h.h.Oe.v.oa.call(this);this.te&&(a.commentId=this.te);return a};h.h.Oe.prototype.Z=function(a){h.h.Oe.v.Z.call(this,a);this.te=a.commentId};h.h.li=function(a,c,d){h.h.li.v.constructor.call(this,a);a&&(this.zn="undefined"==typeof c?"":c,this.yn="undefined"==typeof d?"":d)};h.g.object.T(h.h.li,h.h.Oe);
b=h.h.li.prototype;b.type=h.h.ss;b.oa=function(){var a=h.h.li.v.oa.call(this);a.oldContents=this.zn;a.newContents=this.yn;return a};b.Z=function(a){h.h.li.v.Z.call(this,a);this.zn=a.oldContents;this.yn=a.newContents};b.ej=function(){return this.zn==this.yn};b.run=function(a){var c;(c=y(this).Em[this.te]||null)?c.IH(a?this.yn:this.zn):console.warn("Can't change non-existent comment: "+this.te)};h.h.Pe=function(a){h.h.Pe.v.constructor.call(this,a);a&&(this.xml=a.qw())};h.g.object.T(h.h.Pe,h.h.Oe);
h.h.Pe.prototype.type=h.h.Yl;h.h.Pe.prototype.oa=function(){var a=h.h.Pe.v.oa.call(this);a.xml=h.I.xe(this.xml);return a};h.h.Pe.prototype.Z=function(a){h.h.Pe.v.Z.call(this,a);this.xml=h.I.Me(a.xml)};h.h.Pe.prototype.run=function(a){h.h.ws(this,a)};h.h.ws=function(a,c){var d=y(a);c?(c=h.g.xml.createElement("xml"),c.appendChild(a.xml),h.I.dg(c,d)):(d=d.Em[a.te]||null)?d.H(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.te)};
h.h.Qe=function(a){h.h.Qe.v.constructor.call(this,a);a&&(this.xml=a.qw())};h.g.object.T(h.h.Qe,h.h.Oe);h.h.Qe.prototype.type=h.h.ts;h.h.Qe.prototype.oa=function(){return h.h.Qe.v.oa.call(this)};h.h.Qe.prototype.Z=function(a){h.h.Qe.v.Z.call(this,a)};h.h.Qe.prototype.run=function(a){h.h.ws(this,!a)};h.h.mi=function(a){h.h.mi.v.constructor.call(this,a);a&&(this.xp=a,this.Ph=a.Ru(),this.Lh=null)};h.g.object.T(h.h.mi,h.h.Oe);b=h.h.mi.prototype;
b.Sh=function(){if(!this.xp)throw Error("Tried to record the new position of a comment on the same event twice.");this.Lh=this.xp.Ru();this.xp=null};b.type=h.h.yj;b.oa=function(){var a=h.h.mi.v.oa.call(this);this.Ph&&(a.oldCoordinate=Math.round(this.Ph.x)+","+Math.round(this.Ph.y));this.Lh&&(a.newCoordinate=Math.round(this.Lh.x)+","+Math.round(this.Lh.y));return a};
b.Z=function(a){h.h.mi.v.Z.call(this,a);if(a.oldCoordinate){var c=a.oldCoordinate.split(",");this.Ph=new h.g.N(Number(c[0]),Number(c[1]))}a.newCoordinate&&(c=a.newCoordinate.split(","),this.Lh=new h.g.N(Number(c[0]),Number(c[1])))};b.ej=function(){return h.g.N.kf(this.Ph,this.Lh)};b.run=function(a){var c;if(c=y(this).Em[this.te]||null){a=a?this.Lh:this.Ph;var d=c.Ru();c.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.te)};h.u.register(h.u.M.Ab,h.h.Yl,h.h.Pe);
h.u.register(h.u.M.Ab,h.h.ss,h.h.li);h.u.register(h.u.M.Ab,h.h.yj,h.h.mi);h.u.register(h.u.M.Ab,h.h.ts,h.h.Qe);h.vj=function(a,c){this.wb=a;this.C=c;this.ib=null;this.Ol=!1;this.Cd=this.wb.ab();this.mh=h.g.Ah()&&c.Sc?c.Sc:null};h.vj.prototype.H=function(){this.mh=this.C=this.wb=null};function lb(a,c,d){d=a.ij(d);d=h.g.N.sum(a.Cd,d);a.wb.Tq(a.mh,d);d=a.ib;a.ib=cb(a.C,c);c=a.Ol;a.Ol=a.Nr(a.ib);c!=a.Ol&&a.wb.Hr(a.Ol);a.ib!==d&&(d&&d.HB(a.wb),a.ib&&a.ib.GB(a.wb));a.ib&&a.ib.IB(a.wb)}h.vj.prototype.Nr=function(a){return a&&ca(this.C.ck,a.id)?a.cD(this.wb,!1):!1};
function mb(a,c,d){lb(a,c,d);a.ib&&a.ib.EC(a.wb)?c=a.Cd:(c=a.ij(d),c=h.g.N.sum(a.Cd,c));a.wb.moveTo(c.x,c.y);a.ib&&a.ib.JB(a.wb);a.Ol?(a.wk(),a.wb.H(!1,!0)):(a.mh&&a.mh.Am(a.C.Af),a.wb.Fg&&a.wb.Fg(!1),a.wk());a.C.Lc(!0);h.h.qa(!1)}h.vj.prototype.wk=function(){if(this.wb.hH){var a=new (h.h.get(h.h.yj))(this.wb);a.Ph=this.Cd;a.Sh();h.h.Ha(a)}};h.vj.prototype.ij=function(a){a=new h.g.N(a.x/this.C.scale,a.y/this.C.scale);this.C.ln&&a.scale(1/this.C.options.Ic.scale);return a};h.h.Gf=function(a,c,d){h.h.Gf.v.constructor.call(this,a?a.A.id:c);this.Za=a?a.id:null;this.ow=d};h.g.object.T(h.h.Gf,h.h.pe);h.h.Gf.prototype.type=h.h.xj;h.h.Gf.prototype.oa=function(){var a=h.h.Gf.v.oa.call(this);a.targetType=this.ow;this.Za&&(a.blockId=this.Za);return a};h.h.Gf.prototype.Z=function(a){h.h.Gf.v.Z.call(this,a);this.ow=a.targetType;this.Za=a.blockId};h.u.register(h.u.M.Ab,h.h.xj,h.h.Gf);h.Wj=function(a){this.C=a;this.bv=nb(this.C);this.Cw=ob(this.C);this.MC=new h.g.N(a.scrollX,a.scrollY)};h.Wj.prototype.H=function(){this.C=null};h.Wj.prototype.zl=function(){h.selected&&pb(h.selected);Fa(this.C)};h.Wj.prototype.qk=function(a){this.ye(a);Ga(this.C)};
h.Wj.prototype.ye=function(a){a=h.g.N.sum(this.MC,a);if(this.bv&&this.Cw)this.C.scroll(a.x,a.y);else if(this.bv)this.C.scroll(a.x,this.C.scrollY);else if(this.Cw)this.C.scroll(this.C.scrollX,a.y);else throw new TypeError("Invalid state.");};h.le=function(a,c){this.xv=null;this.wc=new h.g.N(0,0);this.xb=this.Wb=this.mj=this.nj=this.bd=null;this.Bp=c;this.Mk=this.Bh=this.Nk=this.rh=!1;this.vd=a;this.xa=this.gi=this.se=this.Zf=this.Cn=this.Bn=null;this.hn=this.$i=this.Rt=!1;this.Xu=!h.ox};b=h.le.prototype;b.H=function(){h.Touch.Bm();h.F.YC();this.Bp.bc=null;this.Bn&&h.R.ub(this.Bn);this.Cn&&h.R.ub(this.Cn);this.se&&this.se.H();this.gi&&this.gi.H();this.Zf&&this.Zf.H()};
function qb(a,c){a.wc=h.g.N.Om(new h.g.N(c.clientX,c.clientY),a.xv);if(a.rh)var d=!1;else a.rh=h.g.N.rB(a.wc)>(a.xa?h.Lx:h.nx),d=a.rh;if(d){if(a.Rt)throw Error("updateIsDragging_ should only be called once per gesture.");a.Rt=!0;a.bd?(a.Mk=!0,a.Zf=new h.vj(a.bd,a.xb),d=a.Zf,h.h.Lb()||h.h.qa(!0),d.C.Lc(!1),d.wb.fp=!1,d.mh&&(d.wb.moveTo(0,0),d.mh.ai(d.Cd.x,d.Cd.y),na(d.mh,d.wb.Aa())),d.wb.Fg&&d.wb.Fg(!0),lb(a.Zf,a.vd,a.wc),d=!0):d=!1;if(!d){a.Wb?(a.xa?(a.Wb&&a.xa.fH(a.Wb)?!a.xa.lB()||a.xa.kH(a.wc)?
(a.xb=a.xa.Xn,rb(a.xb),h.h.Lb()||h.h.qa(!0),a.mj=null,a.Wb=a.xa.Tz(a.Wb),a.Wb.select(),d=!0):d=!1:d=!1,a.Bh=d):a.Wb.ec()&&(a.Bh=!0),a.Bh?(a.se=new (h.u.Ti(h.u.M.os,a.Bp.options,!0))(a.Wb,a.xb),a.se.zl(a.wc,a.Xu),a.se.ye(a.vd,a.wc),d=!0):d=!1):d=!1;if(d=!d)if(a.xa)d=a.xa.lB();else if(d=a.xb)d=a.xb,d=d.options.Ub&&d.options.Ub.ye;d&&(a.gi=new h.Wj(a.xb),a.Nk=!0,a.gi.zl())}h.tg()}a.vd=c}
b.Pp=function(a){h.g.mn(a)?this.cancel():(this.$i=!0,h.Ta.Np(),rb(this.xb),this.xb.ln&&this.xb.resize(),h.dc(!!this.xa),x(this.xb),this.vd=a,h.F.block(),this.Wb&&this.Wb.select(),h.g.Qk(a)?ba(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||h.qB(a,this),this.xv=new h.g.N(a.clientX,a.clientY),this.Xu=a.altKey||a.ctrlKey||a.metaKey,this.Zj(a)))};
b.Zj=function(a){this.Bn=h.R.La(document,"mousemove",null,this.Yi.bind(this));this.Cn=h.R.La(document,"mouseup",null,this.an.bind(this));a.preventDefault();a.stopPropagation()};b.Yi=function(a){qb(this,a);this.Nk?this.gi.ye(this.wc):this.Bh?this.se.ye(this.vd,this.wc):this.Mk&&lb(this.Zf,this.vd,this.wc);a.preventDefault();a.stopPropagation()};
b.an=function(a){qb(this,a);h.tg();if(this.hn)console.log("Trying to end a gesture recursively.");else{this.hn=!0;if(this.Mk)mb(this.Zf,a,this.wc);else if(this.Bh)this.se.qk(a,this.wc);else if(this.Nk)this.gi.qk(this.wc);else if(this.bd&&!this.rh)this.bd.BC&&this.bd.BC(),this.bd.select&&this.bd.select();else if(sb(this)){var c=this.nj,d=this.vd;K(c)&&c.Un(d);tb(this)}else!this.mj||this.rh||sb(this)?this.mj||this.bd||this.nj||this.rh||(c=this.Bp,h.selected&&pb(h.selected),c=this.xb||c,h.h.Ha(new (h.h.get(h.h.xj))(null,
c.id,"workspace"))):(this.xa&&this.xa.Lt?this.Wb.isEnabled()&&(h.h.Lb()||h.h.qa(!0),eb(this.xa.Tz(this.Wb))):(c=new (h.h.get(h.h.xj))(this.mj,this.xb.id,"block"),h.h.Ha(c)),tb(this),h.h.qa(!1));a.preventDefault();a.stopPropagation();this.H()}};b.cancel=function(){this.hn||(h.tg(),this.Mk?mb(this.Zf,this.vd,this.wc):this.Bh?this.se.qk(this.vd,this.wc):this.Nk&&this.gi.qk(this.wc),this.H())};
function ba(a,c){a.Wb?(tb(a),h.dc(!!a.xa),a.Wb.vl(c)):a.bd?a.bd.vl(c):a.xb&&!a.xa&&(h.dc(),a.xb.vl(c));c.preventDefault();c.stopPropagation();a.H()}function tb(a){a.Wb&&!a.xa&&bb(a.Wb)}function ub(a,c){c.Da?ub(a,c.getParent()):a.Wb=c}function sb(a){return(a.nj?K(a.nj):!1)&&!a.rh&&(!a.xa||!a.xa.Lt)}b.Yc=function(){return this.Nk||this.Bh||this.Mk};b.Ui=function(){return this.se?this.se.Ui():[]};h.le.yh=function(){for(var a=h.eb.getAll(),c=0,d;d=a[c];c++)if(d.bc)return!0;return!1};h.HE=function(){};h.jm=function(){this.qd=this.Od=this.gb=null;this.type="marker"};function vb(a,c){var d=a.Od;a.Od=c;a.qd&&a.qd.draw(d,a.Od)}h.jm.prototype.draw=function(){this.qd&&this.qd.draw(this.Od,this.Od)};h.jm.prototype.sb=function(){this.qd&&this.qd.sb()};h.jm.prototype.H=function(){this.qd&&this.qd.H()};h.Hf=function(){h.Hf.v.constructor.call(this);this.type="cursor"};h.g.object.T(h.Hf,h.jm);h.Hf.prototype.next=function(){var a=this.Od;if(!a)return null;for(a=a.next();a&&a.next()&&(a.getType()==h.D.types.Pf||a.getType()==h.D.types.Jb);)a=a.next();a&&vb(this,a);return a};h.Hf.prototype.jg=function(){var a=this.Od;if(!a)return null;if(a.getType()==h.D.types.Rf||a.getType()==h.D.types.$g)a=a.next();(a=a.jg())&&vb(this,a);return a};
h.Hf.prototype.Cg=function(){var a=this.Od;if(!a)return null;for(a=a.Cg();a&&a.Cg()&&(a.getType()==h.D.types.Pf||a.getType()==h.D.types.Jb);)a=a.Cg();a&&vb(this,a);return a};h.Hf.prototype.zg=function(){var a=this.Od;if(!a)return null;(a=a.zg())&&a.getType()==h.D.types.Jb&&(a=a.Cg()||a);a&&vb(this,a);return a};h.u.register(h.u.M.Aj,h.u.Bj,h.Hf);h.Nj=function(a){this.jf=this.pd=null;this.Wk=Object.create(null);this.C=a};h.Nj.Us="local_marker_1";b=h.Nj.prototype;b.Ck=function(){return this.pd};b.Ek=function(a){return this.Wk[a]||null};b.wf=function(a){a?(this.C.yb.appendChild(a),this.jf=a):this.jf=null};b.Hg=function(a){a?this.C.yb&&(this.jf?this.C.yb.insertBefore(a,this.jf):this.C.yb.appendChild(a)):this.uf=null};
b.H=function(){for(var a=Object.keys(this.Wk),c=0,d;d=a[c];c++){var e=this.Wk[d];if(e)e.H(),delete this.Wk[d];else throw Error("Marker with ID "+d+" does not exist. Can only unregister markers that exist.");}this.Wk=null;this.pd&&(this.pd.H(),this.pd=null)};h.X={};h.X.xd=null;h.X.Qm=null;h.X.Xd="";h.X.Yd="";h.X.hb=function(){h.X.Sa||(h.X.Sa=document.createElement("div"),h.X.Sa.className="blocklyWidgetDiv",(h.Dn||document.body).appendChild(h.X.Sa))};h.X.show=function(a,c,d){h.X.sb();h.X.xd=a;h.X.Qm=d;a=h.X.Sa;a.style.direction=c?"rtl":"ltr";a.style.display="block";c=h.oh();h.X.Xd=c.kb.Pd();h.X.Yd=c.nf().Pd();h.g.j.Bb(a,h.X.Xd);h.g.j.Bb(a,h.X.Yd)};
h.X.sb=function(){if(h.X.isVisible()){h.X.xd=null;var a=h.X.Sa;a.style.display="none";a.style.left="";a.style.top="";h.X.Qm&&h.X.Qm();h.X.Qm=null;a.textContent="";h.X.Xd&&(h.g.j.Jc(a,h.X.Xd),h.X.Xd="");h.X.Yd&&(h.g.j.Jc(a,h.X.Yd),h.X.Yd="");x(h.oh())}};h.X.isVisible=function(){return!!h.X.xd};h.X.Jk=function(a){h.X.xd==a&&h.X.sb()};h.X.jl=function(a,c,d){h.X.Sa.style.left=a+"px";h.X.Sa.style.top=c+"px";h.X.Sa.style.height=d+"px"};
h.X.XB=function(a,c,d,e){var f=h.X.Az(a,c,d);a=h.X.zz(a,c,d,e);0>f?h.X.jl(a,0,d.height+f):h.X.jl(a,f,d.height)};h.X.zz=function(a,c,d,e){if(e)return c=Math.max(c.right-d.width,a.left),Math.min(c,a.right-d.width);c=Math.min(c.left,a.right-d.width);return Math.max(c,a.left)};h.X.Az=function(a,c,d){return c.bottom+d.height>=a.bottom?c.top-d.height:c.bottom};h.dd=function(a,c,d){this.Ne=this.po;this.tw=this.Bw=null;this.jc=new h.g.Rc(0,0);this.o=this.Sq=this.Yh=this.kc=this.Db=this.Fc=this.uf=this.jf=null;d&&this.dk(d);this.setValue(a);c&&(this.Bw=c)};b=h.dd.prototype;b.po=null;b.name=void 0;b.we=!1;b.wv=50;b.J=null;b.mg=!0;b.Ng=!0;b.Wt=null;h.dd.Ys="\u00a0";b=h.dd.prototype;b.Cj=!0;b.ht=!1;b.dk=function(a){var c=a.tooltip;"string"==typeof c&&(c=h.g.Kc(a.tooltip));c&&this.Jg(c)};
b.aa=function(){!this.o&&this.J&&this.J.A&&this.J.A.pa&&(this.o=this.J.A.kb.aa());return this.o};b.W=function(){return this.J};b.Wa=function(){this.Fc||(this.Fc=h.g.j.S(h.g.G.Oc,{},null),this.isVisible()||(this.Fc.style.display="none"),this.J.Aa().appendChild(this.Fc),this.cn(),wb(this),this.Jg(this.tw),h.F.Zj(ea(this)),this.Sq=h.R.La(ea(this),"mousedown",this,this.cl))};b.cn=function(){xb(this);yb(this)};
function xb(a){a.Db=h.g.j.S(h.g.G.Ve,{rx:a.aa().dm,ry:a.aa().dm,x:0,y:0,height:a.jc.height,width:a.jc.width,"class":"blocklyFieldRect"},a.Fc)}function yb(a){a.kc=h.g.j.S(h.g.G.st,{"class":"blocklyText"},a.Fc);a.aa().qo&&a.kc.setAttribute("dominant-baseline","central");a.Yh=document.createTextNode("");a.kc.appendChild(a.Yh)}b.Ak=function(a){this.setValue(a.textContent)};b.H=function(){h.B.Jk(this);h.X.Jk(this);h.F.vw(ea(this));this.Sq&&h.R.ub(this.Sq);h.g.j.removeNode(this.Fc);this.we=!0};
function wb(a){var c=a.Fc;a.Cj&&c&&(a.J.sd()?(h.g.j.Bb(c,"blocklyEditableText"),h.g.j.Jc(c,"blocklyNonEditableText"),c.style.cursor=a.Aj):(h.g.j.Bb(c,"blocklyNonEditableText"),h.g.j.Jc(c,"blocklyEditableText"),c.style.cursor=""))}function K(a){return!!a.J&&a.J.sd()&&!!a.Un&&"function"===typeof a.Un}b.isVisible=function(){return this.Ng};b.Vb=function(a){if(this.Ng!=a){this.Ng=a;var c=this.Aa();c&&(c.style.display=a?"block":"none")}};b.Aa=function(){return this.Fc};b.Tb=function(){};
b.Dr=function(){this.Yh&&(this.Yh.nodeValue=zb(this));this.zw()};b.zw=function(){var a=this.aa(),c=this.Db?this.aa().Dj:0,d=2*c,e=a.em,f=0;this.kc&&(f=h.g.j.iq(this.kc,a.Wg,a.Jf,a.If),d+=f);this.Db&&(e=Math.max(e,a.Ds));this.jc.height=e;this.jc.width=d;Ab(this,c,f);Bb(this)};function Ab(a,c,d){if(a.kc){var e=a.aa(),f=a.jc.height/2;a.kc.setAttribute("x",a.J.L?a.jc.width-d-c:c);a.kc.setAttribute("y",e.qo?f:f-e.em/2+e.Gs)}}
function Bb(a){a.Db&&(a.Db.setAttribute("width",a.jc.width),a.Db.setAttribute("height",a.jc.height),a.Db.setAttribute("rx",a.aa().dm),a.Db.setAttribute("ry",a.aa().dm))}b.mf=function(){if(!this.isVisible())return new h.g.Rc(0,0);this.mg?(this.Dr(),this.mg=!1):this.Ng&&0==this.jc.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Dr());return this.jc};
function zb(a){var c=Ua(a);if(!c)return h.dd.Ys;c.length>a.wv&&(c=c.substring(0,a.wv-2)+"\u2026");c=c.replace(/\s/g,h.dd.Ys);a.J&&a.J.L&&(c+="\u200f");return c}function Ua(a){if(a.pq){var c=a.pq.call(a);if(null!==c)return String(c)}return String(a.getValue())}b.Vk=function(){this.mg=!0;this.o=null};function Cb(a){a.mg=!0;a.J&&a.J.pa&&(a.J.Ga(),a.J.Ec(),a.Zr())}
b.setValue=function(a){if(null!==a){var c=this.Rm(a);a=Db(this,a,c);if(!(a instanceof Error)){if(c=this.Bw)if(c=c.call(this,a),a=Db(this,a,c),a instanceof Error)return;c=this.J;if(!c||!c.we){var d=this.getValue();d===a?this.nk(a):(c&&h.h.isEnabled()&&h.h.Ha(new (h.h.get(h.h.Og))(c,"field",this.name||null,d,a)),this.nk(a),this.mg&&Cb(this))}}}};function Db(a,c,d){if(null===d)return a.mg&&Cb(a),Error();void 0!==d&&(c=d);return c}b.getValue=function(){return this.Ne};
b.Rm=function(a){return null===a||void 0===a?null:a};b.nk=function(a){this.Ne=a;this.mg=!0};b.cl=function(a){if(this.J&&this.J.A&&(a=ib(this.J.A,a))){if(a.$i)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.nj||(a.nj=this)}};b.Jg=function(a){a||""===a||(a=this.J);var c=ea(this);c?c.Zd=a:this.tw=a};function ea(a){return a.Wt||a.Aa()}
b.Ce=function(){for(var a=null,c=this.J,d=c.O,e=0;e<c.O.length;e++)for(var f=d[e],g=f.Va,k=0;k<g.length;k++)if(g[k]===this){a=f;break}return a};b.Gu=function(){return!1};b.wf=function(a){a?(this.Fc.appendChild(a),this.jf=a):this.jf=null};b.Hg=function(a){a?(this.Fc.appendChild(a),this.uf=a):this.uf=null};b.Zr=function(){var a=this.J.A;a.Sk&&this.jf&&a.Ck().draw();a.Sk&&this.uf&&a.Ek(h.Nj.Us).draw()};h.ed=function(a,c,d){this.zm=null;h.ed.v.constructor.call(this,a,null,d);d||(this.zm=c||null)};h.g.object.T(h.ed,h.dd);h.ed.prototype.po="";h.ed.Z=function(a){var c=h.g.Kc(a.text);return new h.ed(c,void 0,a)};h.ed.prototype.Cj=!1;h.ed.prototype.dk=function(a){h.ed.v.dk.call(this,a);this.zm=a["class"]};h.ed.prototype.cn=function(){yb(this);this.zm&&h.g.j.Bb(this.kc,this.zm)};h.ed.prototype.Rm=function(a){return null===a||void 0===a?null:String(a)};h.eg.register("field_label",h.ed);h.Rs=function(a,c,d,e){if(a!=h.Ia.je&&!c)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=c;this.J=d;this.connection=e;this.Va=[]};b=h.Rs.prototype;b.align=h.bb.Fd.Jd;b.Ng=!0;b.W=function(){return this.J};function N(a,c,d){Eb(a,a.Va.length,c,d);return a}
function Eb(a,c,d,e){if(0>c||c>a.Va.length)throw Error("index "+c+" out of bounds.");if(!(d||""==d&&e))return c;"string"==typeof d&&(d=h.eg.Z({type:"field_label",text:d}));if(d.J)throw Error("Field already bound to a block.");d.J=a.J;a.J.pa&&(d.Wa(),d.Tb());d.name=e;d.Vb(a.isVisible());d.vr&&(c=Eb(a,c,d.vr));a.Va.splice(c,0,d);++c;d.Tr&&(c=Eb(a,c,d.Tr));a.J.pa&&(a.J=a.J,a.J.Ga(),a.J.Ec());return c}b.isVisible=function(){return this.Ng};
b.Vb=function(a){if(this.Ng!=a){this.Ng=a;for(var c=0,d;d=this.Va[c];c++)d.Vb(a);if(this.connection){this.connection=this.connection;if(a)Fb(this.connection);else if(c=this.connection,O(c,!1),c.va)for(c=p(c.ta(),!1),d=0;d<c.length;d++){for(var e=c[d],f=e.Qd(!0),g=0;g<f.length;g++)O(f[g],!1);e=M(e);for(g=0;g<e.length;g++)e[g].Vb(!1)}if(c=this.connection.ta())c.Aa().style.display=a?"block":"none"}}};b.Vk=function(){for(var a=0,c;c=this.Va[a];a++)c.Vk()};
b.kj=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.kj(a)};function Gb(a,c){a.align=c;a.J.pa&&(a.J=a.J,a.J.Ga());return a}b.tl=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.tl(a)};b.Wi=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.Wi()};b.Wa=function(){if(this.J.A.pa)for(var a=0;a<this.Va.length;a++)this.Va[a].Wa()};
b.H=function(){for(var a=0,c;c=this.Va[a];a++)c.H();this.connection&&this.connection.H();this.J=null};h.ki=function(a,c,d){if(h.Generator&&"undefined"!=typeof h.Generator.prototype[c])throw Error('Block prototypeName "'+c+'" conflicts with Blockly.Generator members.');this.id=d&&!a.Gc(d)?d:h.g.lf();a.ip[this.id]=this;this.$=this.ga=this.P=null;this.O=[];this.pf=void 0;this.disabled=!1;this.Zd="";this.contextMenu=!0;this.He=null;this.df=[];this.wu=this.zv=this.Dp=!0;this.hh=this.Da=!1;this.jh=null;this.ff={text:null,Uv:!1,size:new h.g.Rc(160,80)};this.Hw=new h.g.N(0,0);this.A=a;this.Zc=a.ng;this.L=
a.L;this.dj=!1;this.De=void 0;this.pa=null;if(c){this.type=c;d=h.Yb[c];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+c);h.g.object.vg(this,d)}a.tm(this);a.Df[this.type]||(a.Df[this.type]=[]);a.Df[this.type].push(this);(a=h.h.Lb())||h.h.qa(!0);c=h.h.Fa;try{"function"==typeof this.Wa&&(h.h.Fa=!1,this.Wa(),h.h.Fa=c),h.h.isEnabled()&&h.h.Ha(new (h.h.get(h.h.ji))(this))}finally{a||h.h.qa(!1),h.h.Fa=c}this.fB=this.pf;if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=
typeof a)throw Error("onchange must be a function.");this.dl&&h.g.Yj(this.A.sf,this.dl);if(this.onchange=a)this.dl=a.bind(this),this.A.sf.push(this.dl)}};h.ki.Xl=h.bb.Xl;h.ki.Wl=h.bb.Wl;b=h.ki.prototype;b.data=null;b.we=!1;b.nd="#000000";b.Cl="";
b.H=function(a){if(this.A){this.dl&&h.g.Yj(this.A.sf,this.dl);E(this,a);h.h.isEnabled()&&h.h.Ha(new (h.h.get(h.h.ns))(this));h.h.disable();try{if(this.A){this.A.Kn(this);var c=this.A;c.Df[this.type].splice(c.Df[this.type].indexOf(this),1);c.Df[this.type].length||delete c.Df[this.type];delete this.A.ip[this.id];this.A=null}h.selected==this&&(h.selected=null);for(var d=this.df.length-1;0<=d;d--)this.df[d].H(!1);d=0;for(var e;e=this.O[d];d++)e.H();this.O.length=0;var f=this.Qd(!0);d=0;for(var g;g=f[d];d++)g.H()}finally{h.h.enable(),
this.we=!0}}};function E(a,c){if(a.P){var d=null;a.P.isConnected()&&(d=a.P.va,a.P.disconnect());if(d&&c){a:{c=null;for(var e=0;e<a.O.length;e++){var f=a.O[e].connection;if(f&&f.type==h.V.Qb&&f.va){if(c){c=null;break a}c=f}}}c&&c.isConnected()&&!c.ta().Da&&(c=c.va,c.disconnect(),I(a.A.gf,c,d,!1)?d.connect(c):c.dr(d))}}else a.$&&(d=null,a.$.isConnected()&&(d=a.$.va,a.$.disconnect()),e=u(a),c&&e&&!e.Da&&(c=a.ga.va,c.disconnect(),d&&I(a.A.gf,d,c,!1)&&d.connect(c)))}
b.Qd=function(){var a=[];this.P&&a.push(this.P);this.$&&a.push(this.$);this.ga&&a.push(this.ga);for(var c=0,d;d=this.O[c];c++)d.connection&&a.push(d.connection);return a};b.pn=function(a){for(var c=this.ga;c;){var d=c.ta();if(!d||a&&d.Da)return c;c=d.ga}return null};b.Ec=function(){};b.getParent=function(){return this.He};function ma(a,c){for(var d=0,e;e=a.O[d];d++)if(e.connection&&e.connection.ta()==c)return e;return null}
function Hb(a){do{var c=a;a=a.getParent();if(!a)return null}while(u(a)==c);return a}function u(a){return a.ga&&a.ga.ta()}b.Sd=function(){var a=this;do{var c=a;a=c.He}while(a);return c};function A(a,c){if(!c)return a.df;c=[];for(var d=0,e;e=a.O[d];d++)e.connection&&(e=e.connection.ta())&&c.push(e);(a=u(a))&&c.push(a);return c}
b.Qn=function(a){if(a!=this.He){if(this.He){h.g.Yj(this.He.df,this);if(this.$&&this.$.isConnected())throw Error("Still connected to previous block.");if(this.P&&this.P.isConnected())throw Error("Still connected to parent block.");this.He=null}else this.A.Kn(this);(this.He=a)?a.df.push(this):this.A.tm(this)}};function p(a,c){var d=[a];a=A(a,c);for(var e,f=0;e=a[f];f++)d.push.apply(d,p(e,c));return d}b.lg=function(){return this.Dp&&!this.Da&&!(this.A&&this.A.options.readOnly)};
b.ec=function(){return this.zv&&!this.Da&&!(this.A&&this.A.options.readOnly)};b.Jr=function(a){this.zv=a};b.Lr=function(a){this.Da=a};b.td=function(){return this.dj};b.iw=function(a){this.dj=a};b.sd=function(){return this.wu&&!(this.A&&this.A.options.readOnly)};b.Ir=function(a){this.wu=a;a=0;for(var c;c=this.O[a];a++)for(var d=0,e;e=c.Va[d];d++)wb(e)};
b.kq=function(a,c){var d=this.Qd(!0);a=a.Qd(!0);if(d.length!=a.length)throw Error("Connection lists did not match in length.");for(var e=0;e<a.length;e++)if(a[e]==c)return d[e];return null};b.Jg=function(a){this.Zd=a};b.gq=function(){return this.nd};b.Je=function(a){this.nd=h.g.En(a).Ik};b.Wh=function(a){this.Cl=a};
function D(a,c){if("string"!==typeof c)throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(void 0===c?"nothing":c+" of type "+typeof c)+" instead");for(var d=0,e;e=a.O[d];d++)for(var f=0,g;g=e.Va[f];f++)if(g.name===c)return g;return null}function ka(a){for(var c=0,d;d=a.O[c];c++)for(var e=0;d.Va[e];e++);return[]}function Ka(a,c){return(a=D(a,c))?a.getValue():null}
function Ib(a,c){a=D(a,"NAME");if(!a)throw Error('Field "NAME" not found.');a.setValue(c)}b.Rn=function(a,c){if(a){void 0===c&&(c=null);if(!this.$){if(this.P)throw Error("Remove output connection prior to adding previous connection.");this.$=this.Uk(h.V.jd)}this.$.kj(c)}else if(this.$){if(this.$.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.$.H();this.$=null}};
b.On=function(a,c){if(a)void 0===c&&(c=null),this.ga||(this.ga=this.Uk(h.V.Rb)),this.ga.kj(c);else if(this.ga){if(this.ga.isConnected())throw Error("Must disconnect next statement before removing connection.");this.ga.H();this.ga=null}};
b.Pn=function(a,c){if(a){void 0===c&&(c=null);if(!this.P){if(this.$)throw Error("Remove previous connection prior to adding output connection.");this.P=this.Uk(h.V.Pc)}this.P.kj(c)}else if(this.P){if(this.P.isConnected())throw Error("Must disconnect output value before removing connection.");this.P.H();this.P=null}};b.Gg=function(a){this.pf!=a&&(h.h.Ha(new (h.h.get(h.h.Og))(this,"inline",null,this.pf,a)),this.pf=a)};
function Va(a){if(void 0!=a.pf)return a.pf;for(var c=1;c<a.O.length;c++)if(a.O[c-1].type==h.Ia.je&&a.O[c].type==h.Ia.je)return!1;for(c=1;c<a.O.length;c++)if(a.O[c-1].type==h.Ia.qe&&a.O[c].type==h.Ia.je)return!0;return!1}b.isEnabled=function(){return!this.disabled};b.xf=function(a){this.isEnabled()!=a&&(h.h.Ha(new (h.h.get(h.h.Og))(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Jb(a){for(a=Hb(a);a;){if(a.disabled)return!0;a=Hb(a)}return!1}b.isCollapsed=function(){return this.hh};
b.Vh=function(a){this.hh!=a&&(h.h.Ha(new (h.h.get(h.h.Og))(this,"collapsed",null,this.hh,a)),this.hh=a)};
b.toString=function(a,c){function d(n){var q=n.Ii;!q&&n.va&&(q=n.va.Ii);return!!q&&(-1!=q.indexOf("Boolean")||-1!=q.indexOf("Number"))}function e(){k&&k.getType()==l.getType()&&k.ya==l.ya&&(k=null)}var f=[];c=c||"?";var g=h.D.Of;h.D.Of=!0;for(var k=h.D.ag(this),l=k;k;){switch(k.getType()){case h.D.types.fd:var m=k.ya;k.jg()?d(m)&&f.push("("):f.push(c);break;case h.D.types.oc:m=k.ya,m.name!=h.bb.Wl&&f.push(Ua(m))}m=k;k=m.jg()||m.next();if(!k){k=m.zg();for(e();k&&!k.next();)k=k.zg(),e(),k&&k.getType()==
h.D.types.fd&&d(k.ya)&&f.push(")");k&&(k=k.next())}}h.D.Of=g;for(c=2;c<f.length;c++)"("==f[c-2]&&")"==f[c]&&(f[c-2]=f[c-1],f.splice(c-1,2));f=f.reduce(function(n,q){return n+("("==n.substr(-1)||")"==q?"":" ")+q},"");f=f.trim()||"???";a&&f.length>a&&(f=f.substring(0,a-3)+"...");return f};function Kb(a,c){return a.gh(h.Ia.je,c||"")}
b.vg=function(a,c){if(void 0!==c&&"boolean"!=typeof c)throw Error("opt_disableCheck must be a boolean if provided");if(!c){c=[];for(var d in a)void 0!==this[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));}h.g.object.vg(this,a)};function Lb(a,c){var d=h.eg.Z(c);return!d&&c.alt?"string"==typeof c.alt?(c=Mb(c.alt))?Lb(a,c):null:Lb(a,c.alt):d}function Nb(a){return"input_value"==a||"input_statement"==a||"input_dummy"==a}
function Mb(a){return(a=a.trim())?{type:"field_label",text:a}:null}b.gh=function(a,c){var d=null;if(a==h.Ia.qe||a==h.Ia.Qc)d=this.Uk(a);a=new h.Rs(a,c,this,d);this.O.push(a);return a};b.Br=function(a,c){for(var d=0,e;e=this.O[d];d++)if(e.name==a)return e.H(),this.O.splice(d,1),!0;if(c)return!1;throw Error("Input not found: "+a);};function ja(a,c){for(var d=0,e;e=a.O[d];d++)if(e.name==c)return e;return null}
b.lj=function(a){this.ff.text!=a&&(h.h.Ha(new (h.h.get(h.h.Og))(this,"comment",null,this.ff.text,a)),this.jh=this.ff.text=a)};b.jw=function(){};b.ab=function(){return this.Hw};b.moveBy=function(a,c){if(this.He)throw Error("Block has parent.");var d=new (h.h.get(h.h.Pg))(this);this.Hw.translate(a,c);d.Sh();h.h.Ha(d)};b.Uk=function(a){return new h.sa(this,a)};h.i.GE=function(){};h.g.ba={lG:0,QE:3,Ow:8,SF:9,bF:12,xx:13,mm:16,Tg:17,ii:18,wF:19,rD:20,yx:27,Ny:32,wy:33,vy:34,wx:35,Ox:36,Jd:37,Yy:38,We:39,mx:40,zF:43,CF:44,EE:45,Ug:46,ZERO:48,ONE:49,dG:50,TF:51,jE:52,gE:53,OF:54,MF:55,JD:56,$E:57,eE:59,cE:61,bE:173,dE:163,DF:63,kD:64,gD:65,lD:66,lo:67,AD:68,E:69,MD:70,Oc:71,nE:72,pE:73,IE:74,JE:75,KE:76,PE:77,ZE:78,rF:79,vF:80,Q:81,EF:82,IF:83,RF:84,eG:85,Yo:86,iG:87,$o:88,az:89,Di:90,ri:91,mG:92,zD:93,qF:96,jF:97,pF:98,oF:99,fF:100,eF:101,nF:102,mF:103,dF:104,iF:105,hF:106,lF:107,
gF:109,kF:110,cF:111,ND:112,RD:113,SD:114,TD:115,UD:116,VD:117,WD:118,XD:119,YD:120,OD:121,PD:122,QD:123,aF:144,JF:145,fE:166,ME:183,KF:186,BD:189,KD:187,yD:188,xF:190,PF:191,jD:192,UF:192,NF:222,sF:219,mD:220,vD:221,kG:224,RE:224,SE:91,TE:93,jG:229,hG:252,yF:255};h.Fo=function(){this.Vd=[];this.Uh=this.Ua=this.An=this.wn=this.vn=this.ef=this.xn=this.vh=this.kr=null};b=h.Fo.prototype;
b.Ga=function(a){var c=document.createElement("div");c.className="blocklyMenu goog-menu blocklyNonSelectable";c.tabIndex=0;this.Uh&&h.g.pb.Ig(c,this.Uh);this.Ua=c;for(var d=0,e;e=this.Vd[d];d++)c.appendChild(e.hb());this.xn=h.R.La(c,"mouseover",this,this.UA,!0);this.ef=h.R.La(c,"click",this,this.PA,!0);this.vn=h.R.La(c,"mouseenter",this,this.SA,!0);this.wn=h.R.La(c,"mouseleave",this,this.TA,!0);this.An=h.R.La(c,"keydown",this,this.QA);a.appendChild(c)};
b.focus=function(){var a=this.Ua;a&&(a.focus({preventScroll:!0}),h.g.j.Bb(a,"blocklyFocused"))};b.Ig=function(a){this.Uh=a};b.H=function(){this.xn&&(h.R.ub(this.xn),this.xn=null);this.ef&&(h.R.ub(this.ef),this.ef=null);this.vn&&(h.R.ub(this.vn),this.vn=null);this.wn&&(h.R.ub(this.wn),this.wn=null);this.An&&(h.R.ub(this.An),this.An=null);for(var a=0,c;c=this.Vd[a];a++)c.H();this.Ua=null};
function Ob(a,c){for(var d=a.Ua;c&&c!=d;){if(h.g.j.tq(c,"blocklyMenuItem"))for(var e=0,f;f=a.Vd[e];e++)if(f.Ua==c)return f;c=c.parentElement}return null}b.yf=function(a){var c=this.vh;c&&(c.yf(!1),this.vh=null);a&&(a.yf(!0),this.vh=a,c=this.Ua,h.g.style.xC(a.Ua,c),h.g.pb.Sn(c,h.g.pb.State.Iw,a.yc()))};function Pb(a,c,d){c+=d;for(var e;e=a.Vd[c];){if(e.isEnabled()){a.yf(e);break}c+=d}}b.UA=function(a){(a=Ob(this,a.target))&&(a.isEnabled()?this.vh!=a&&this.yf(a):this.yf(null))};
b.PA=function(a){var c=this.kr;this.kr=null;c&&"number"==typeof a.clientX&&1>h.g.N.Op(c,new h.g.N(a.clientX,a.clientY))||(a=Ob(this,a.target))&&a.isEnabled()&&a.Xj&&a.Xj(a)};b.SA=function(){this.focus()};b.TA=function(){if(this.Ua){var a=this.Ua;a&&(a.blur(),h.g.j.Jc(a,"blocklyFocused"));this.yf(null)}};
b.QA=function(a){if(this.Vd.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var c=this.vh;switch(a.keyCode){case h.g.ba.xx:case h.g.ba.Ny:c&&c.isEnabled()&&c.Xj&&c.Xj(c);break;case h.g.ba.Yy:c=this.Vd.indexOf(this.vh);Pb(this,0>c?this.Vd.length:c,-1);break;case h.g.ba.mx:Pb(this,this.Vd.indexOf(this.vh),1);break;case h.g.ba.wy:case h.g.ba.Ox:Pb(this,-1,1);break;case h.g.ba.vy:case h.g.ba.wx:Pb(this,this.Vd.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
b.mf=function(){var a=this.Ua,c=h.g.style.mf(a);c.height=a.scrollHeight;return c};h.Go=function(a,c){this.hf=a;this.Ne=c;this.Vm=!0;this.Ua=null;this.Gr=!1;this.Uh=null;this.$u=this.up=this.tp=!1;this.Xj=null};b=h.Go.prototype;
b.hb=function(){var a=document.createElement("div");a.id=h.g.Ij.Iu();this.Ua=a;a.className="blocklyMenuItem goog-menuitem "+(this.Vm?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.up?"blocklyMenuItemSelected goog-option-selected ":"")+(this.$u?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.Gr?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var c=document.createElement("div");c.className="blocklyMenuItemContent goog-menuitem-content";if(this.tp){var d=document.createElement("div");
d.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";c.appendChild(d)}d=this.hf;"string"==typeof this.hf&&(d=document.createTextNode(this.hf));c.appendChild(d);a.appendChild(c);this.Uh&&h.g.pb.Ig(a,this.Uh);h.g.pb.Sn(a,h.g.pb.State.xi,this.tp&&this.up||!1);h.g.pb.Sn(a,h.g.pb.State.lx,!this.Vm);return a};b.H=function(){this.Ua=null};b.yc=function(){return this.Ua.id};b.getValue=function(){return this.Ne};b.Ig=function(a){this.Uh=a};
b.yf=function(a){this.$u=a;var c=this.Ua;c&&this.isEnabled()&&(a?(h.g.j.Bb(c,"blocklyMenuItemHighlight"),h.g.j.Bb(c,"goog-menuitem-highlight")):(h.g.j.Jc(c,"blocklyMenuItemHighlight"),h.g.j.Jc(c,"goog-menuitem-highlight")))};b.isEnabled=function(){return this.Vm};b.xf=function(a){this.Vm=a};function Qb(a,c,d){a.Xj=c.bind(d)};h.Ka={};h.Ka.Jm=null;h.Ka.Ac=null;h.Ka.show=function(a,c,d){h.X.show(h.Ka,d,h.Ka.H);if(c.length){var e=h.Ka.WB(c,d);h.Ka.Ac=e;h.Ka.YB(e,a,d);setTimeout(function(){e.focus()},1);h.Ka.Jm=null}else h.Ka.sb()};h.Ka.WB=function(a,c){var d=new h.Fo;d.Ig(h.g.pb.km.jy);for(var e=0,f;f=a[e];e++){var g=new h.Go(f.text);g.Gr=c;g.Ig(h.g.pb.km.ky);d.Vd.push(g);g.xf(f.enabled);f.enabled&&Qb(g,function(){h.Ka.sb();this.$a(this.scope)},f)}return d};
h.Ka.YB=function(a,c,d){var e=h.g.MA();c=new h.g.Rect(c.clientY+e.top,c.clientY+e.top,c.clientX+e.left,c.clientX+e.left);h.Ka.Xz(a);var f=a.mf();d&&(c.left+=f.width,c.right+=f.width,e.left+=f.width,e.right+=f.width);h.X.XB(e,c,f,d);a.focus()};h.Ka.Xz=function(a){a.Ga(h.X.Sa);var c=a.Ua;h.g.j.Bb(c,"blocklyContextMenu");h.R.La(c,"contextmenu",null,h.g.EB);a.focus()};h.Ka.sb=function(){h.X.Jk(h.Ka);h.Ka.Jm=null};h.Ka.H=function(){h.Ka.Ac&&(h.Ka.Ac.H(),h.Ka.Ac=null)};
h.Ka.zG=function(a,c){return function(){h.h.disable();try{var d=h.I.Sm(c,a.A),e=a.ab();e.x=a.L?e.x-h.$b:e.x+h.$b;e.y+=2*h.$b;d.moveBy(e.x,e.y)}finally{h.h.enable()}h.h.isEnabled()&&!d.Da&&h.h.Ha(new (h.h.get(h.h.ji))(d));d.select()}};h.Ka.DG=function(a){return{text:h.K.REMOVE_COMMENT,enabled:!0,$a:function(){h.h.qa(!0);a.H(!0,!0);h.h.qa(!1)}}};h.Ka.EG=function(a){return{text:h.K.DUPLICATE_COMMENT,enabled:!0,$a:function(){h.duplicate(a)}}};
h.Ka.XH=function(a,c){if(!h.Ci)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var d={enabled:!h.g.userAgent.Id};d.text=h.K.ADD_COMMENT;d.$a=function(){var e=new h.Ci(a,h.K.WORKSPACE_COMMENT_DEFAULT_TEXT,h.Ci.jx,h.Ci.jx),f=aa(a).getBoundingClientRect();f=new h.g.N(c.clientX-f.left,c.clientY-f.top);var g=h.g.jq(a.yb);f=h.g.N.Om(f,g);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.pa&&(e.zh(),e.Ga(),e.select())};return d};h.za=function(){h.za.u=this;this.zd=Object.create(null)};h.za.rc={Jb:"block",Cc:"workspace"};h.za.u=null;h.za.prototype.register=function(a){if(this.zd[a.id])throw Error('Menu item with ID "'+a.id+'" is already registered.');this.zd[a.id]=a};h.za.prototype.unregister=function(a){if(!this.zd[a])throw Error('Menu item with ID "'+a+'" not found.');delete this.zd[a]};h.za.prototype.getItem=function(a){return this.zd[a]||null};
function Rb(a,c){var d=[],e=h.za.u.zd;Object.keys(e).forEach(function(f){f=e[f];if(a==f.$c){var g=f.tb(c);"hidden"!=g&&(f={text:"function"==typeof f.xc?f.xc(c):f.xc,enabled:"enabled"==g,$a:f.$a,scope:c,weight:f.weight},d.push(f))}});d.sort(function(f,g){return f.weight-g.weight});return d}new h.za;h.h.Sf=function(a,c,d){h.h.Sf.v.constructor.call(this,d);this.Fv=a;this.Dv=c};h.g.object.T(h.h.Sf,h.h.pe);h.h.Sf.prototype.type=h.h.xi;h.h.Sf.prototype.oa=function(){var a=h.h.Sf.v.oa.call(this);a.oldElementId=this.Fv;a.newElementId=this.Dv;return a};h.h.Sf.prototype.Z=function(a){h.h.Sf.v.Z.call(this,a);this.Fv=a.oldElementId;this.Dv=a.newElementId};h.u.register(h.u.M.Ab,h.h.xi,h.h.Sf);h.uE=function(){};h.yE=function(){};h.vb=function(a,c){h.vb.v.constructor.call(this,a,c);this.lh=a.A.Hm[c];this.lu=a.A.Hm[h.ui[c]];this.Oh=new h.g.N(0,0);this.Cf=h.vb.oe.Bt;this.va=null};h.g.object.T(h.vb,h.sa);h.vb.oe={Bt:-1,wt:0,Bi:1};b=h.vb.prototype;b.H=function(){h.vb.v.H.call(this);this.Cf==h.vb.oe.Bi&&Sb(this.lh,this,this.y)};b.W=function(){return h.vb.v.W.call(this)};b.ta=function(){return h.vb.v.ta.call(this)};function Ia(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)}
function Tb(a,c){if(!a.J.A.Yc()){var d=a.J.Sd();if(!d.Zc){var e=!1;if(!d.ec()){d=c.W().Sd();if(!d.ec())return;c=a;e=!0}var f=h.selected==d;f||Ub(d.jb,!0);var g=c.x+h.$b+Math.floor(Math.random()*h.jo)-a.x,k=c.y+h.$b+Math.floor(Math.random()*h.jo)-a.y;e&&(k=-k);d.L&&(g=c.x-h.$b-Math.floor(Math.random()*h.jo)-a.x);d.moveBy(g,k);f||Ub(d.jb,!1)}}}
b.moveTo=function(a,c){if(this.Cf==h.vb.oe.Bt){var d=this.lh;d.rb.splice(Vb(d,c),0,this);this.Cf=h.vb.oe.Bi}else this.Cf==h.vb.oe.Bi&&(Sb(this.lh,this,this.y),d=this.lh,d.rb.splice(Vb(d,c),0,this));this.x=a;this.y=c};b.moveBy=function(a,c){this.moveTo(this.x+a,this.y+c)};function Wb(a,c){a.moveTo(c.x+a.Oh.x,c.y+a.Oh.y)}function P(a,c,d){a.Oh.x=c;a.Oh.y=d}
function Xb(a){var c=a.va.x-a.x,d=a.va.y-a.y;if(0!=c||0!=d){a=a.ta();var e=a.Aa();if(!e)throw Error("block is not rendered.");e=h.g.Rd(e);a.Aa().setAttribute("transform","translate("+(e.x-c)+","+(e.y-d)+")");db(a,-c,-d)}}
b.closest=function(a,c){var d=this.lu;if(d.rb.length){var e=this.y,f=this.x;this.x=f+c.x;this.y=e+c.y;var g=Vb(d,this.y);c=null;for(var k=a,l,m=g-1;0<=m&&Math.abs(d.rb[m].y-this.y)<=a;)l=d.rb[m],I(d.cu,this,l,!0,k)&&(c=l,k=Ia(l,this)),m--;for(;g<d.rb.length&&Math.abs(d.rb[g].y-this.y)<=a;)l=d.rb[g],I(d.cu,this,l,!0,k)&&(c=l,k=Ia(l,this)),g++;this.x=f;this.y=e;a={connection:c,In:k}}else a={connection:null,In:a};return a};
function O(a,c){c&&a.Cf==h.vb.oe.Bi||!c&&a.Cf==h.vb.oe.wt||a.J.Zc||(c?(c=a.lh,c.rb.splice(Vb(c,a.y),0,a),a.Cf=h.vb.oe.Bi):(a.Cf==h.vb.oe.Bi&&Sb(a.lh,a,a.y),a.Cf=h.vb.oe.wt))}function Fb(a){O(a,!0);var c=[];if(a.type!=h.V.Qb&&a.type!=h.V.Rb)return c;if(a=a.ta()){if(a.isCollapsed()){var d=[];a.P&&d.push(a.P);a.ga&&d.push(a.ga);a.$&&d.push(a.$)}else d=a.Qd(!0);for(var e=0;e<d.length;e++)c.push.apply(c,Fb(d[e]));c.length||(c[0]=a)}return c}
b.dr=function(a){var c=this.W();if(h.h.Fa){var d=h.h.Lb();setTimeout(function(){c.we||c.getParent()||(h.h.qa(d),Tb(this,a),h.h.qa(!1))}.bind(this),h.io)}};b.Lp=function(a,c){h.vb.v.Lp.call(this,a,c);a.pa&&a.Ga();c.pa&&(B(c),c.Ga(),c.Aa().style.display="block")};b.ol=function(){h.vb.v.ol.call(this);var a=this.ta();a&&(a.zh(),a.Ga(!1),a=this.W(),a.pa&&a.Ga())};b.Cv=function(a){return Yb(this.lu,this,a)};
b.Fm=function(a){h.vb.v.Fm.call(this,a);var c=this.W();a=a.W();var d=c.pa,e=a.pa;d&&B(c);e&&B(a);d&&e&&(this.type==h.V.Rb||this.type==h.V.jd?a.Ga():c.Ga());if(c=ma(c,a))c=c.isVisible(),a.Aa().style.display=c?"block":"none"};b.Lv=function(){!this.isConnected()||this.va&&I(this.J.A.gf,this,this.va,!1)||(E(H(this)?this.ta():this.J),this.J.Ec())};h.Qg=function(){h.Qg.v.constructor.call(this)};h.g.object.T(h.Qg,h.Hf);h.Qg.qC="basicCursor";b=h.Qg.prototype;b.next=function(){var a=this.Od;if(!a)return null;(a=Zb(this,a,this.$r))&&vb(this,a);return a};b.jg=function(){return this.next()};b.Cg=function(){var a=this.Od;if(!a)return null;(a=$b(this,a,this.$r))&&vb(this,a);return a};b.zg=function(){return this.Cg()};
function Zb(a,c,d){if(!c)return null;var e=c.jg()||c.next();if(d(e))return e;if(e)return Zb(a,e,d);c=ac(a,c.zg());return d(c)?c:c?Zb(a,c,d):null}function $b(a,c,d){if(!c)return null;var e=c.Cg();e=e?bc(a,e):c.zg();return d(e)?e:e?$b(a,e,d):null}b.$r=function(a){var c=!1;a=a&&a.getType();if(a==h.D.types.$g||a==h.D.types.fd||a==h.D.types.oc||a==h.D.types.Pf||a==h.D.types.Rf||a==h.D.types.Cc)c=!0;return c};function ac(a,c){if(!c)return null;var d=c.next();return d?d:ac(a,c.zg())}
function bc(a,c){if(!c.jg())return c;for(c=c.jg();c.next();)c=c.next();return bc(a,c)}h.u.register(h.u.M.Aj,h.Qg.qC,h.Qg);h.Wo=function(){h.Wo.v.constructor.call(this)};h.g.object.T(h.Wo,h.Qg);h.Wo.prototype.$r=function(a){a&&a.getType();return!1};h.Ra=function(a,c,d){this.ra=h.g.j.S(h.g.G.Oc,{},null);this.ra.Kl="";this.style=cc(a.kb.aa(),null);this.jb=a.kb.uv(this.ra,this.style);this.Cr=this.pa=!1;this.A=a;this.$=this.ga=this.P=null;this.Nl=h.g.Ah()&&!!a.Sc;var e=this.jb.zb;e.Zd=this;h.F.Zj(e);h.Ra.v.constructor.call(this,a,c,d);this.ra.dataset?this.ra.dataset.id=this.id:h.g.userAgent.Id&&this.ra.setAttribute("data-id",this.id)};h.g.object.T(h.Ra,h.ki);h.Ra.prototype.height=0;h.Ra.prototype.width=0;h.Ra.prototype.$n=null;h.Ra.DE=-1;
h.Ra.xD="TEMP_COLLAPSED_WARNING_";b=h.Ra.prototype;b.zh=function(){if(!this.A.pa)throw TypeError("Workspace is headless.");for(var a=0,c;c=this.O[a];a++)c.Wa();c=M(this);for(a=0;a<c.length;a++)c[a].Uz();this.Tb();L(this.jb,"blocklyDraggable",this.ec());a=this.Aa();this.A.options.readOnly||this.kA||!a||h.R.La(a,"mousedown",this,this.cl);this.kA=!0;a.parentNode||this.A.yb.appendChild(a)};
b.select=function(){if(this.Da&&this.getParent())this.getParent().select();else if(h.selected!=this){var a=null;if(h.selected){a=h.selected.id;h.h.disable();try{pb(h.selected)}finally{h.h.enable()}}a=new (h.h.get(h.h.xi))(a,this.id,this.A.id);h.h.Ha(a);h.selected=this;Ub(this.jb,!0)}};function pb(a){if(h.selected==a){var c=new (h.h.get(h.h.xi))(a.id,null,a.A.id);c.Mb=a.A.id;h.h.Ha(c);h.selected=null;Ub(a.jb,!1)}}b.Wd=null;b.jh=null;b.od=null;b.Dw=null;
function M(a){var c=[];a.Wd&&c.push(a.Wd);a.od&&c.push(a.od);a.Dw&&c.push(a.Dw);return c}b.Qn=function(a){var c=this.He;if(a!=c){h.g.j.Al();h.Ra.v.Qn.call(this,a);h.g.j.Bl();var d=this.Aa();if(!this.A.Eq&&d){var e=this.ab();a?(a.Aa().appendChild(d),a=this.ab(),db(this,a.x-e.x,a.y-e.y)):c&&(this.A.yb.appendChild(d),this.translate(e.x,e.y));this.Tb()}}};
b.ab=function(){var a=0,c=0,d=this.Nl?this.A.Sc.Lb():null,e=this.Aa();if(e){do{var f=h.g.Rd(e);a+=f.x;c+=f.y;this.Nl&&this.A.Sc.ze.firstChild==e&&(f=this.A.Sc.oq(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.A.yb&&e!=d)}return new h.g.N(a,c)};b.moveBy=function(a,c){if(this.He)throw Error("Block has parent.");var d=h.h.isEnabled();if(d)var e=new (h.h.get(h.h.Pg))(this);var f=this.ab();this.translate(f.x+a,f.y+c);db(this,a,c);d&&(e.Sh(),h.h.Ha(e));C(this.A)};
b.translate=function(a,c){this.Aa().setAttribute("transform","translate("+a+","+c+")")};b.moveTo=function(a){var c=this.ab();this.moveBy(a.x-c.x,a.y-c.y)};b.Tq=function(a){this.Nl?this.A.Sc.ai(a.x,a.y):(this.ra.Kl="translate("+a.x+","+a.y+")",this.ra.setAttribute("transform",this.ra.Kl+this.ra.yl))};
function dc(a){if(a.A&&!a.A.Yc()&&!a.getParent()&&!a.Zc){var c=a.A.rd;if(c&&c.HC){var d=c.Pr,e=d/2,f=a.ab();c=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;c=Math.round(c);d=Math.round(d);0==c&&0==d||a.moveBy(c,d)}}}function ec(a){var c=a.ab(),d=v(a);if(a.L){a=c.x-d.width;var e=c.x}else a=c.x,e=c.x+d.width;return new h.g.Rect(c.y,c.y+d.height,a,e)}b.Vk=function(){this.jb.bb=this.A.kb.aa();for(var a=0,c;c=this.O[a];a++)c.Vk()};
b.Vh=function(a){this.hh!=a&&(h.Ra.v.Vh.call(this,a),a?this.pa&&this.Ga():fc(this))};function fc(a){for(var c=a.isCollapsed(),d=h.bb.Xl,e=h.bb.Wl,f=0,g;g=a.O[f];f++)g.name!=d&&g.Vb(!c);if(c){g=M(a);for(f=0;c=g[f];f++)c.Vb(!1);f=a.toString(h.Uw);(g=D(a,e))?g.setValue(f):(g=ja(a,d)||Kb(a,d),N(g,new h.ed(f),e))}else B(a),a.Br(d)}
b.cl=function(a){var c=this.A&&ib(this.A,a);if(c){if(c.$i)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");c.mj||c.bd||(c.mj=this,this.Zc&&this!=this.Sd()?ub(c,this.Sd()):ub(c,this));c.vd=a}};b.showHelp=function(){var a="function"==typeof this.sh?this.sh():this.sh;a&&window.open(a)};
b.vl=function(a){if(this.A.options.readOnly||!this.contextMenu)var c=null;else c=Rb(h.za.rc.Jb,{block:this}),this.Zz&&this.Zz(c);c&&c.length&&(h.Ka.show(a,c,this.L),h.Ka.Jm=this)};function db(a,c,d){if(a.pa){for(var e=a.Qd(!1),f=0;f<e.length;f++)e[f].moveBy(c,d);e=M(a);for(f=0;f<e.length;f++)e[f].Oz();for(f=0;f<a.df.length;f++)db(a.df[f],c,d)}}
b.Fg=function(a){if(a){var c=this.Aa();c.Kl="";c.yl="";h.Ri=h.Ri.concat(this.Qd(!0));h.g.j.Bb(this.ra,"blocklyDragging")}else h.Ri=[],h.g.j.Jc(this.ra,"blocklyDragging");for(c=0;c<this.df.length;c++)this.df[c].Fg(a)};b.Jr=function(a){h.Ra.v.Jr.call(this,a);L(this.jb,"blocklyDraggable",a)};b.Ir=function(a){h.Ra.v.Ir.call(this,a);a=M(this);for(var c=0;c<a.length;c++)wb(a[c])};b.Lr=function(a){h.Ra.v.Lr.call(this,a);this.Tb()};
b.iw=function(a){this.dj!=a&&(this.dj=a)&&(this.Je(this.A.kb.aa().xo),L(this.jb,"blocklyInsertionMarker",!0))};b.Aa=function(){return this.ra};
b.H=function(a,c){if(this.A){h.F.H();h.F.vw(this.jb.zb);h.g.j.Al();var d=this.A;h.selected==this&&(pb(this),gc(this.A));h.Ka.Jm==this&&h.Ka.sb();c&&this.pa&&(E(this,a),h.Ta.fA(this));this.pa=!1;if(this.$n){for(var e in this.$n)clearTimeout(this.$n[e]);this.$n=null}c=M(this);for(e=0;e<c.length;e++)c[e].H();h.Ra.v.H.call(this,!!a);h.g.j.removeNode(this.ra);C(d);this.ra=null;h.g.j.Bl()}};
b.Tb=function(){this.jb.Tb(this);for(var a=M(this),c=0;c<a.length;c++)a[c].Tb();for(a=0;c=this.O[a];a++)for(var d=0,e;e=c.Va[d];d++)e.Tb()};function B(a){var c=A(a,!1);a.Tb();if(!a.isCollapsed()){a=0;for(var d;d=c[a];a++)d.pa&&B(d)}}b.zA=function(){return this.od};
b.lj=function(a){if(!h.Comment)throw Error("Missing require for Blockly.Comment");this.ff.text!=a&&(h.Ra.v.lj.call(this,a),a=null!=a,!!this.od==a?this.od.VH():(a?this.jh=this.od=new h.Comment(this):(this.od.H(),this.jh=this.od=null),this.pa&&(this.Ga(),this.Ec())))};b.jw=function(a){this.Wd&&this.Wd!==a&&this.Wd.H();a&&(a.HH(this),this.Wd=a,a.Uz());this.pa&&(this.Ga(),this.Ec())};b.xf=function(a){this.isEnabled()!=a&&(h.Ra.v.xf.call(this,a),this.pa&&!Jb(this)&&B(this))};
b.yf=function(a){this.pa&&this.jb.ww(a)};b.Hr=function(a){L(this.jb,"blocklyDraggingDelete",a)};b.gq=function(){return this.style.ih};b.Je=function(a){h.Ra.v.Je.call(this,a);a=hc(this.A.kb.aa(),this.nd);this.jb.Wh(a.style);this.style=a.style;this.Cl=a.name;this.Tb()};b.Wh=function(a){var c=cc(this.A.kb.aa(),a);this.Cl=a;if(c)this.De=c.De,this.jb.Wh(c),this.nd=c.ih,this.style=c,this.Tb();else throw Error("Invalid style name: "+a);};
function bb(a){do{var c=a.Aa(),d=c.parentNode,e=d.childNodes;e[e.length-1]!==c&&d.appendChild(c);a=a.getParent()}while(a)}b.Rn=function(a,c){h.Ra.v.Rn.call(this,a,c);this.pa&&(this.Ga(),this.Ec())};b.On=function(a,c){h.Ra.v.On.call(this,a,c);this.pa&&(this.Ga(),this.Ec())};b.Pn=function(a,c){h.Ra.v.Pn.call(this,a,c);this.pa&&(this.Ga(),this.Ec())};b.Gg=function(a){h.Ra.v.Gg.call(this,a);this.pa&&(this.Ga(),this.Ec())};b.Br=function(a,c){a=h.Ra.v.Br.call(this,a,c);this.pa&&(this.Ga(),this.Ec());return a};
b.gh=function(a,c){a=h.Ra.v.gh.call(this,a,c);this.pa&&(this.Ga(),this.Ec());return a};function ha(a,c){a.$&&O(a.$,c);a.P&&O(a.P,c);if(a.ga){O(a.ga,c);var d=a.ga.ta();d&&ha(d,c)}if(!a.hh)for(d=0;d<a.O.length;d++){var e=a.O[d].connection;e&&(O(e,c),(e=e.ta())&&ha(e,c))}}b.Qd=function(a){var c=[];if(a||this.pa)if(this.P&&c.push(this.P),this.$&&c.push(this.$),this.ga&&c.push(this.ga),a||!this.hh){a=0;for(var d;d=this.O[a];a++)d.connection&&c.push(d.connection)}return c};
b.pn=function(a){return h.Ra.v.pn.call(this,a)};b.kq=function(a,c){return h.Ra.v.kq.call(this,a,c)};b.Uk=function(a){return new h.vb(this,a)};b.Ec=function(){if(this.A&&!this.A.Yc()){var a=this.Sd();if(!a.Zc)for(var c=this.Qd(!1),d=0,e;e=c[d];d++){e.isConnected()&&H(e)&&e.ta().Ec();for(var f=e.Cv(h.$b),g=0,k;k=f[g];g++)e.isConnected()&&k.isConnected()||k.W().Sd()!=a&&(H(e)?Tb(k,e):Tb(e,k))}}};
function eb(a){var c=h.h.Lb();setTimeout(function(){h.h.qa(c);dc(a);h.h.qa(!1)},h.io/2);setTimeout(function(){h.h.qa(c);a.Ec();h.h.qa(!1)},h.io)}b.getParent=function(){return h.Ra.v.getParent.call(this)};b.Sd=function(){return h.Ra.v.Sd.call(this)};
b.Ga=function(a){if(!this.Cr){this.Cr=!0;try{this.pa=!0;h.g.j.Al();this.isCollapsed()&&fc(this);this.A.kb.Ga(this);var c=this.ab();this.$&&Wb(this.$,c);this.P&&Wb(this.P,c);for(var d=0;d<this.O.length;d++){var e=this.O[d].connection;e&&(Wb(e,c),e.isConnected()&&Xb(e))}this.ga&&(Wb(this.ga,c),this.ga.isConnected()&&Xb(this.ga));if(!1!==a){var f=this.getParent();f?f.Ga(!0):C(this.A)}h.g.j.Bl();this.Zr()}finally{this.Cr=!1}}};
b.Zr=function(){this.A.Sk&&this.jb.lk&&this.A.Ck().draw();this.A.Sk&&this.jb.Qq&&this.A.Ek(h.Nj.Us).draw()};b.wf=function(a){this.jb.wf(a)};b.Hg=function(a){this.jb.Hg(a)};function v(a){var c=a.height,d=a.width,e=u(a);e&&(e=v(e),a=a.A.kb.aa().Io,c+=e.height-a,d=Math.max(d,e.width));return{height:c,width:d}};h.ni=function(a){this.rb=[];this.cu=a};function ic(a,c,d){if(!a.rb.length)return-1;var e=Vb(a,d);if(e>=a.rb.length)return-1;d=c.y;for(var f=e;0<=f&&a.rb[f].y==d;){if(a.rb[f]==c)return f;f--}for(f=e;f<a.rb.length&&a.rb[f].y==d;){if(a.rb[f]==c)return f;f++}return-1}function Vb(a,c){if(!a.rb.length)return 0;for(var d=0,e=a.rb.length;d<e;){var f=Math.floor((d+e)/2);if(a.rb[f].y<c)d=f+1;else if(a.rb[f].y>c)e=f;else{d=f;break}}return d}
function Sb(a,c,d){c=ic(a,c,d);if(-1==c)throw Error("Unable to find connection in connectionDB.");a.rb.splice(c,1)}function Yb(a,c,d){function e(n){var q=g-f[n].x,r=k-f[n].y;Math.sqrt(q*q+r*r)<=d&&m.push(f[n]);return r<d}var f=a.rb,g=c.x,k=c.y;a=0;for(var l=c=f.length-2;a<l;)f[l].y<k?a=l:c=l,l=Math.floor((a+c)/2);var m=[];c=a=l;if(f.length){for(;0<=a&&e(a);)a--;do c++;while(c<f.length&&e(c))}return m}
h.ni.Wa=function(a){var c=[];c[h.V.Qb]=new h.ni(a);c[h.V.Pc]=new h.ni(a);c[h.V.Rb]=new h.ni(a);c[h.V.jd]=new h.ni(a);return c};h.h.Uf=function(a,c){h.h.Uf.v.constructor.call(this,c);this.pw=a};h.g.object.T(h.h.Uf,h.h.pe);h.h.Uf.prototype.type=h.h.Uo;h.h.Uf.prototype.oa=function(){var a=h.h.Uf.v.oa.call(this);a.themeName=this.pw;return a};h.h.Uf.prototype.Z=function(a){h.h.Uf.v.Z.call(this,a);this.pw=a.themeName};h.u.register(h.u.M.Ab,h.h.Uo,h.h.Uf);h.h.Wf=function(a,c,d,e,f){h.h.Wf.v.constructor.call(this,e);this.Ed=a;this.Dd=c;this.scale=d;this.bl=f};h.g.object.T(h.h.Wf,h.h.pe);h.h.Wf.prototype.type=h.h.Uj;h.h.Wf.prototype.oa=function(){var a=h.h.Wf.v.oa.call(this);a.viewTop=this.Ed;a.viewLeft=this.Dd;a.scale=this.scale;a.oldScale=this.bl;return a};h.h.Wf.prototype.Z=function(a){h.h.Wf.v.Z.call(this,a);this.Ed=a.viewTop;this.Dd=a.viewLeft;this.scale=a.scale;this.bl=a.oldScale};h.u.register(h.u.M.Ab,h.h.Uj,h.h.Wf);h.CE=function(){};h.Oj=function(a){this.C=a};function jc(a){var c=0,d=0;a&&(c=a.$m(),d=a.YG());return new h.g.Rc(c,d)}function kc(a){var c=jc(Q(a.C,!0));return{width:c.width,height:c.height,position:a.C.$h}}function lc(a){var c=jc(a.C.mb);return{width:c.width,height:c.height,position:a.C.$h}}function mc(a){var c=0,d=lc(a),e=kc(a),f=!!a.C.mb;a=!!Q(a.C,!0);var g=f?d.position:e.position,k=g==h.g.la.Zb.Jd;g=g==h.g.la.Zb.pm;f&&k?c=d.width:a&&k&&(c=e.width);k=0;f&&g?k=d.height:a&&g&&(k=e.height);return{top:k,left:c}}
function kb(a,c){c=c?a.C.scale:1;var d=nc(a.C),e=lc(a),f=kc(a),g=a.C.mb?e.position:f.position;if(a.C.mb)if(g==h.g.la.Zb.pm||g==h.g.la.Zb.co)d.height-=e.height;else{if(g==h.g.la.Zb.Jd||g==h.g.la.Zb.We)d.width-=e.width}else if(Q(a.C,!0))if(g==h.g.la.Zb.pm||g==h.g.la.Zb.co)d.height-=f.height;else if(g==h.g.la.Zb.Jd||g==h.g.la.Zb.We)d.width-=f.width;return{height:d.height/c,width:d.width/c,top:-a.C.scrollY/c,left:-a.C.scrollX/c}}
h.Oj.prototype.Xm=function(){var a=this.C.scale,c=fa(this.C);return{height:(c.bottom-c.top)*a,width:(c.right-c.left)*a,top:c.top*a,left:c.left*a}};
h.Oj.prototype.Fk=function(a,c,d){a=a?this.C.scale:1;var e=c||kb(this,!1);d=d||this.Xm();if(nb(this.C)&&ob(this.C))c={};else{c=nb(this.C);var f=ob(this.C),g=e||kb(this,!1);var k={};f||(k.top=g.top,k.bottom=g.top+g.height);c||(k.left=g.left,k.right=g.left+g.width);c=k}k=d.top+d.height;f=d.left+d.width;g=e.width;var l=e.height;var m=g/2,n=l/2;e=Math.min(d.top-n,k-l);k=Math.max(k+n,d.top+l);l=Math.min(d.left-m,f-g);d=Math.max(f+m,d.left+g);e=void 0!==c.top?c.top:e;f=void 0!==c.left?c.left:l;return{top:e/
a,left:f/a,width:((void 0!==c.right?c.right:d)-f)/a,height:((void 0!==c.bottom?c.bottom:k)-e)/a}};h.Oj.prototype.Be=function(){var a=lc(this),c=kc(this),d=nc(this.C),e=mc(this),f=kb(this),g=this.Xm(),k=this.Fk(!1,f,g);return{GG:g.height,JG:g.width,IG:g.top,HG:g.left,scrollHeight:k.height,scrollWidth:k.width,scrollTop:k.top,scrollLeft:k.left,lc:f.height,Xb:f.width,Ed:f.top,Dd:f.left,Dc:e.top,tc:e.left,OH:d.height,QH:d.width,TH:a.width,RH:a.height,$h:a.position,TG:c.width,SG:c.height}};
h.u.register(h.u.M.Xs,h.u.Bj,h.Oj);h.fm=function(a,c){this.xa=c;h.fm.v.constructor.call(this,a)};h.g.object.T(h.fm,h.Oj);h.fm.prototype.Xm=function(){try{var a=this.C.yb.getBBox()}catch(d){a={height:0,y:0,width:0,x:0}}var c=this.C.scale;return{height:a.height*c,width:a.width*c,top:a.y*c,left:a.x*c}};h.fm.prototype.Fk=function(a,c,d){c=d||this.Xm();d=this.xa.UE*this.C.scale;a=a?this.C.scale:1;return{height:(c.height+2*d)/a,width:(c.width+c.left+d)/a,top:0,left:0}};h.vt=function(a,c){this.C=a;this.Bf=c;this.Dl=[];this.ue=Object.create(null)};b=h.vt.prototype;b.nf=function(){return this.Bf};b.ul=function(a){var c=this.Bf;this.Bf=a;if(a=aa(this.C))c&&h.g.j.Jc(a,c.Pd()),h.g.j.Bb(a,this.Bf.Pd());for(c=0;a=this.Dl[c];c++)oc(a);c=0;a=Object.keys(this.ue);for(var d;d=a[c];c++)for(var e=0,f;f=this.ue[d][e];e++)f.element.style[f.propertyName]=this.Bf&&F(this.Bf,d)||"";h.dc()};
b.subscribe=function(a,c,d){this.ue[c]||(this.ue[c]=[]);this.ue[c].push({element:a,propertyName:d});a.style[d]=this.Bf&&F(this.Bf,c)||""};b.unsubscribe=function(a){if(a)for(var c=Object.keys(this.ue),d=0,e;e=c[d];d++){for(var f=this.ue[e],g=f.length-1;0<=g;g--)f[g].element===a&&f.splice(g,1);this.ue[e].length||delete this.ue[e]}};b.H=function(){this.ue=this.Dl=this.Bf=this.xd=null};h.Bc=function(a,c){h.Bc.v.constructor.call(this,a,c);this.jn=!1;this.Tc=Object.create(null);this.mw=this.kl=0;this.hv=this.jr=null};h.g.object.T(h.Bc,h.le);h.Bc.cz=5;h.Bc.dz=6;b=h.Bc.prototype;b.Pp=function(a){this.hv=this.xb.options.ob&&this.xb.options.ob.Tv;h.Bc.v.Pp.call(this,a);!this.hn&&h.Touch.on(a)&&pc(this,a)};
b.Zj=function(a){this.jr=h.R.La(document,"mousedown",null,this.VA.bind(this),!0);this.Bn=h.R.La(document,"mousemove",null,this.Yi.bind(this),!0);this.Cn=h.R.La(document,"mouseup",null,this.an.bind(this),!0);a.preventDefault();a.stopPropagation()};b.VA=function(a){!this.Yc()&&h.Touch.on(a)&&(pc(this,a),this.jn&&h.tg())};
b.Yi=function(a){if(this.Yc())h.Touch.Or(a)&&h.Bc.v.Yi.call(this,a);else if(this.jn){if(h.Touch.on(a)){this.Tc[h.Touch.Ym(a)]=qc(this,a);var c=Object.keys(this.Tc);if(this.hv&&2===c.length){c=Object.keys(this.Tc);c=h.g.N.Op(this.Tc[c[0]],this.Tc[c[1]])/this.mw;if(0<this.kl&&Infinity>this.kl){var d=c-this.kl;d=0<d?d*h.Bc.cz:d*h.Bc.dz;var e=this.xb,f=h.g.al(a,w(e),Ea(e));e.zoom(f.x,f.y,d)}this.kl=c;a.preventDefault()}else h.Bc.v.Yi.call(this,a)}h.tg()}else h.Bc.v.Yi.call(this,a)};
b.an=function(a){if(h.Touch.on(a)&&!this.Yc()){var c=h.Touch.Ym(a);this.Tc[c]&&delete this.Tc[c];2>Object.keys(this.Tc).length&&(this.Tc=Object.create(null),this.kl=0)}!this.jn||this.Yc()?h.Touch.Or(a)&&h.Bc.v.an.call(this,a):(a.preventDefault(),a.stopPropagation(),this.H())};b.H=function(){h.Bc.v.H.call(this);this.jr&&h.R.ub(this.jr)};function pc(a,c){a.Tc[h.Touch.Ym(c)]=qc(a,c);var d=Object.keys(a.Tc);2==d.length&&(a.mw=h.g.N.Op(a.Tc[d[0]],a.Tc[d[1]]),a.jn=!0,c.preventDefault())}
function qc(a,c){return a.xb?new h.g.N(c.changedTouches?c.changedTouches[0].pageX:c.pageX,c.changedTouches?c.changedTouches[0].pageY:c.pageY):null};h.Dt=function(a){this.nr=a;this.Rj=Object.create(null)};b=h.Dt.prototype;b.Hq=null;b.H=function(){this.Rj=this.nr=null};b.load=function(a,c){if(a.length){try{var d=new h.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var g=a[f],k=g.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new h.g.global.Audio(g);break}}e&&e.play&&(this.Rj[c]=e)}};
b.preload=function(){for(var a in this.Rj){var c=this.Rj[a];c.volume=.01;var d=c.play();void 0!==d?d.then(c.pause).catch(function(){}):c.pause();if(h.g.userAgent.Hj||h.g.userAgent.Ps)break}};b.play=function(a,c){var d=this.Rj[a];d?(a=new Date,null!=this.Hq&&a-this.Hq<h.My||(this.Hq=a,d=h.g.userAgent.Hj||h.g.userAgent.Rl?d:d.cloneNode(),d.volume=void 0===c?1:c,d.play())):this.nr&&this.nr.re.play(a,c)};
h.ac=function(a,c,d){h.ac.v.constructor.call(this,a);this.Kh=new (h.u.Ti(h.u.M.Xs,a,!0))(this);this.Be=a.Be||this.Kh.Be.bind(this.Kh);this.Nn=a.Nn||h.ac.CC;this.ck=new h.mc;this.Hm=h.ni.Wa(this.gf);c&&(this.Sc=c);d&&(this.ei=d);this.Zn=!!this.ei&&h.g.Ah();this.re=new h.Dt(a.Ic);this.rd=this.options.rq?new h.Xg(this.options.rq,a.Su):null;this.Ud=new h.Nj(this);this.sw=Object.create(null);this.zu=Object.create(null);h.ma&&h.ma.zk&&rc(this,h.xt,h.ma.zk);h.Na&&h.Na.zk&&(rc(this,h.et,h.Na.zk),this.sf.push(h.Na.zB));
this.Mc=this.options.Ic?this.options.Ic.Mc:new h.vt(this,this.options.QC||h.Ye.Ff);this.Mc.Dl.push(this);this.kb=h.i.Wa(this.options.ew||"geras",this.nf(),this.options.fw);this.pp=null;this.Sk=!1;this.Il=[];this.Rp=[];this.op=new h.g.Rc(0,0)};h.g.object.T(h.ac,h.eb);b=h.ac.prototype;b.Ln=null;b.pa=!0;b.Rk=!0;b.ng=!1;b.ln=!1;b.Er=!0;b.scrollX=0;b.scrollY=0;b.uu=null;b.scale=1;b.$q=1;b.Kv=0;b.Hv=0;b.pj=null;b.Gb=null;b.xa=null;b.mb=null;b.bc=null;b.Sc=null;b.ei=null;b.Zn=!1;b.gn=!1;b.Cq=null;b.pv=null;
b.Xn=null;b.fv=null;b.Dq=!0;b.wf=function(a){this.Ud.wf(a)};b.Hg=function(a){this.Ud.Hg(a)};b.Ek=function(a){return this.Ud?this.Ud.Ek(a):null};b.Ck=function(){return this.Ud?this.Ud.Ck():null};b.nf=function(){return this.Mc.nf()};b.ul=function(a){a||(a=h.Ye.Ff);this.Mc.ul(a)};function oc(a){a.ra&&a.kb.xr(a.ra,a.nf());sc(J(a,!1).filter(function(c){return!!c.Cl}));tc(a);a.mb&&oc(a.mb);a.isVisible()&&a.Vb(!0);a=new (h.h.get(h.h.Uo))(a.nf().name,a.id);h.h.Ha(a)}
function sc(a){for(var c=0,d;d=a[c];c++){var e=d.Cl;e&&(d.Wh(e),d.Wd&&d.Wd.UH())}}function Ea(a){if(a.Dq){var c=w(a).getScreenCTM();c&&(a.fv=c.inverse(),a.Dq=!1)}return a.fv}b.Ml=function(){this.Dq=!0};b.isVisible=function(){return this.Rk};function Wa(a,c){var d=0,e=0,f=1;if(h.g.j.containsNode(a.yb,c)||h.g.j.containsNode(a.Af,c))f=a.scale;do{var g=h.g.Rd(c);if(c==a.yb||c==a.Af)f=1;d+=g.x*f;e+=g.y*f;c=c.parentNode}while(c&&c!=w(a));return new h.g.N(d,e)}
function nc(a){a=a.op;return new h.g.Rc(a.width,a.height)}function aa(a){if(!a.Cq)for(var c=a.ra;c;){if(-1!=(" "+(c.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Cq=c;break}c=c.parentNode}return a.Cq}
b.hb=function(a){this.ra=h.g.j.S(h.g.G.Oc,{"class":"blocklyWorkspace"},null);a&&(this.zf=h.g.j.S(h.g.G.Ve,{height:"100%",width:"100%","class":a},this.ra),"blocklyMainBackground"==a&&this.rd?this.zf.style.fill="url(#"+this.rd.Xi.id+")":this.Mc.subscribe(this.zf,"workspaceBackgroundColour","fill"));this.yb=h.g.j.S(h.g.G.Oc,{"class":"blocklyBlockCanvas"},this.ra);this.Af=h.g.j.S(h.g.G.Oc,{"class":"blocklyBubbleCanvas"},this.ra);this.ng||(h.R.La(this.ra,"mousedown",this,this.cl,!1,!0),h.R.La(this.ra,
"wheel",this,this.QB));this.options.Hk&&(this.mb=new (h.u.Ti(h.u.M.Ty,this.options,!0))(this));this.rd&&this.rd.update(this.scale);uc(this);var c=h.u.Ti(h.u.M.Aj,this.options);c&&(a=this.Ud,c=new c,a.pd&&a.pd.qd&&a.pd.qd.H(),a.pd=c,a.pd&&(c=a.pd,c=new h.i.Mf(a.C,a.C.kb.aa(),c),a.pd.qd=c,a.wf(a.pd.qd.hb())));this.kb.hb(this.ra,this.nf());return this.ra};
b.H=function(){this.pa=!1;this.bc&&this.bc.cancel();this.ra&&(h.g.j.removeNode(this.ra),this.ra=null);this.Af=this.yb=null;this.mb&&(this.mb.H(),this.mb=null);this.xa&&(this.xa.H(),this.xa=null);this.pj&&(this.pj.H(),this.pj=null);this.Gb&&(this.Gb.H(),this.Gb=null);this.Pl&&(this.Pl.H(),this.Pl=null);this.re&&(this.re.H(),this.re=null);this.rd&&(this.rd.H(),this.rd=null);this.kb.H();this.Ud&&(this.Ud.H(),this.Ud=null);h.ac.v.H.call(this);if(this.Mc){var a=this.Mc,c=a.Dl.indexOf(this);if(0>c)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.Dl.splice(c,1);this.Mc.unsubscribe(this.zf);this.options.Ic||(this.Mc.H(),this.Mc=null)}this.zu=this.sw=this.Hm=null;this.options.Ic||(a=w(this))&&a.parentNode&&h.g.j.removeNode(a.parentNode);this.Ln&&(h.R.ub(this.Ln),this.Ln=null)};b.hj=function(a,c){return new h.Ra(this,a,c)};function Q(a,c){return a.xa||c?a.xa:a.mb?Q(a.mb):null}function C(a){a.Er&&a.pa&&(a.Gb&&a.Gb.resize(),a.Ml())}
b.resize=function(){this.mb&&this.mb.position();this.xa&&this.xa.position();var a=da(this.ck,h.mc.Nc.zy);var c=this.Kh;c={WH:kb(c),nG:mc(c),SH:lc(c)};for(var d=[],e=0,f;f=a[e];e++)f.position(c,d),(f=ec(f))&&d.push(f);this.Gb&&this.Gb.resize();this.Ml();uc(this)};function rb(a){var c=h.g.EA();h.g.N.kf(a.pv,c)||(a.pv=c,a.Ml(),uc(a))}function vc(a,c,d){var e=w(a);c&&(a.op.width=c,e.yz=c);d&&(a.op.height=d,e.xz=d)}
function w(a){if(!a.pp)for(var c=a.ra;c;){if("svg"==c.tagName){a.pp=c;break}c=c.parentNode}return a.pp}function pa(a){if(h.h.isEnabled()){var c=a.scale,d=-a.scrollY,e=-a.scrollX;if(!(c==a.$q&&1>Math.abs(d-a.Kv)&&1>Math.abs(e-a.Hv))){var f=new (h.h.get(h.h.Uj))(d,e,c,a.id,a.$q);a.$q=c;a.Kv=d;a.Hv=e;h.h.Ha(f)}}}
b.translate=function(a,c){if(this.Zn&&this.gn)this.ei.ai(a,c);else{var d="translate("+a+","+c+") scale("+this.scale+")";this.yb.setAttribute("transform",d);this.Af.setAttribute("transform",d)}if(this.Sc){d=this.Sc;var e=this.scale;d.Eg=e;var f=a.toFixed(0),g=c.toFixed(0);d.Vt.x=parseInt(f,10);d.Vt.y=parseInt(g,10);d.ze.setAttribute("transform","translate("+f+","+g+") scale("+e+")")}this.rd&&this.rd.moveTo(a,c);pa(this)};
function Ga(a){if(a.Zn){a.gn=!1;var c=a.ei.oq();a.ei.Am(a.ra);c="translate("+c.x+","+c.y+") scale("+a.scale+")";a.yb.setAttribute("transform",c);a.Af.setAttribute("transform",c)}}
function Fa(a){if(a.Zn&&!a.gn){a.gn=!0;var c=a.yb.previousSibling,d=parseInt(w(a).getAttribute("width"),10),e=parseInt(w(a).getAttribute("height"),10),f=h.g.Rd(a.yb),g=a.ei,k=a.yb,l=a.Af,m=a.scale;if(g.Ya.childNodes.length)throw Error("Already dragging a block.");g.wr=c;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");g.Ya.setAttribute("width",d);g.Ya.setAttribute("height",e);g.Ya.appendChild(k);g.Ya.appendChild(l);g.Ya.style.display=
"block";a.ei.ai(f.x,f.y)}}b.$m=function(){var a=this.Be();return a?a.Xb/this.scale:0};b.Vb=function(a){this.Rk=a;if(this.ra)if(this.Gb&&this.Gb.rl(a),Q(this)&&Q(this).rl(a),w(this).style.display=a?"block":"none",this.mb&&this.mb.Vb(a),a){a=J(this,!1);for(var c=a.length-1;0<=c;c--)a[c].Vk();this.Ga();this.mb&&this.mb.position()}else h.dc(!0)};b.Ga=function(){for(var a=J(this,!1),c=a.length-1;0<=c;c--)a[c].Ga(!1);if(this.bc)for(a=this.bc.Ui(),c=0;c<a.length;c++)a[c].Ga(!1);c=this.Ud;c.C.Sk&&c.jf&&c.C.Ck().draw()};
b.Fn=function(a){if(this.pa&&a.tagName&&!(a.getElementsByTagName("block").length>=(isNaN(this.options.Xk)?Infinity:this.options.Xk-J(this,!1).length)))if(this.bc&&this.bc.cancel(),"comment"==a.tagName.toLowerCase()){h.h.disable();try{var c=h.Ci.Ak(a),d=parseInt(a.getAttribute("x"),10),e=parseInt(a.getAttribute("y"),10);isNaN(d)||isNaN(e)||(this.L&&(d=-d),c.moveBy(d+50,e+50))}finally{h.h.enable()}h.h.isEnabled()&&h.Et.QG(c);c.select()}else{h.h.disable();try{var f=h.I.Sm(a,this),g=parseInt(a.getAttribute("x"),
10),k=parseInt(a.getAttribute("y"),10);if(!isNaN(g)&&!isNaN(k)){this.L&&(g=-g);do{a=!1;var l=J(this,!1);c=0;for(var m;m=l[c];c++){var n=m.ab();if(1>=Math.abs(g-n.x)&&1>=Math.abs(k-n.y)){a=!0;break}}if(!a){var q=f.Qd(!1);c=0;for(var r;r=q[c];c++)if(r.closest(h.$b,new h.g.N(g,k)).connection){a=!0;break}}a&&(g=this.L?g-h.$b:g+h.$b,k+=2*h.$b)}while(a);f.moveBy(g,k)}}finally{h.h.enable()}h.h.isEnabled()&&!f.Da&&h.h.Ha(new (h.h.get(h.h.ji))(f));f.select()}};
function tc(a){(a=a.ng?a.Xn:a)&&!a.bc&&a.mb&&Q(a.mb)&&a.mb.xH()}b.Th=function(a,c){h.ac.v.Th.call(this,a,c);tc(this)};b.Pi=function(a){h.ac.v.Pi.call(this,a);tc(this)};b.Nd=function(a,c,d){a=h.ac.v.Nd.call(this,a,c,d);tc(this);return a};function uc(a){var c=da(a.ck,h.mc.Nc.px);a.Rp=[];for(var d=0,e;e=c[d];d++){var f=e.UG();f&&a.Rp.push({Yt:e,Jz:f})}}function cb(a,c){for(var d=0,e;e=a.Rp[d];d++)if(e.Jz.contains(c.clientX,c.clientY))return e.Yt;return null}
b.cl=function(a){var c=ib(this,a);if(c){if(c.$i)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");c.xb||(c.xb=this);c.vd=a;c.Pp(a)}};b.zl=function(a,c){a=h.g.al(a,w(this),Ea(this));a.x/=this.scale;a.y/=this.scale;this.uu=h.g.N.Om(c,a)};b.Yc=function(){return null!=this.bc&&this.bc.Yc()};
b.ec=function(){return this.options.Ub&&!!this.options.Ub.scrollbars||this.options.Ub&&this.options.Ub.rj||this.options.Ub&&this.options.Ub.ye||this.options.ob&&this.options.ob.rj||this.options.ob&&this.options.ob.Tv};function nb(a){var c=!!a.Gb;return a.ec()&&(!c||c&&!!a.Gb.Eb)}function ob(a){var c=!!a.Gb;return a.ec()&&(!c||c&&!!a.Gb.Ib)}
b.QB=function(a){if(h.le.yh())a.preventDefault(),a.stopPropagation();else{var c=this.options.ob&&this.options.ob.rj,d=this.options.Ub&&this.options.Ub.rj;if(c||d){var e=h.g.JA(a);!c||!a.ctrlKey&&d?(c=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(c=this.scrollX-e.y,d=this.scrollY),this.scroll(c,d)):(e=-e.y/50,c=h.g.al(a,w(this),Ea(this)),this.zoom(c.x,c.y,e));a.preventDefault()}}};
function fa(a){a=[].concat(a.Il);if(!a.length)return new h.g.Rect(0,0,0,0);for(var c=ec(a[0]),d=1;d<a.length;d++){var e=a[d];e.td&&e.td()||(e=ec(e),e.top<c.top&&(c.top=e.top),e.bottom>c.bottom&&(c.bottom=e.bottom),e.left<c.left&&(c.left=e.left),e.right>c.right&&(c.right=e.right))}return c}b.vl=function(a){if(!this.options.readOnly&&!this.ng){var c=Rb(h.za.rc.Cc,{A:this});this.Pz&&this.Pz(c,a);h.Ka.show(a,c,this.L)}};
function x(a){if(a.options.Ic)x(a.options.Ic);else{h.Tk=a;document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{w(a).focus({preventScroll:!0})}catch(c){try{w(a).parentNode.setActive()}catch(d){w(a).parentNode.focus({preventScroll:!0})}}}}
b.zoom=function(a,c,d){d=Math.pow(this.options.ob.wC,d);var e=this.scale*d;if(this.scale!=e){e>this.options.ob.Yk?d=this.options.ob.Yk/this.scale:e<this.options.ob.$k&&(d=this.options.ob.$k/this.scale);var f=this.yb.getCTM(),g=w(this).createSVGPoint();g.x=a;g.y=c;g=g.matrixTransform(f.inverse());a=g.x;c=g.y;f=f.translate(a*(1-d),c*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
b.setScale=function(a){this.options.ob.Yk&&a>this.options.ob.Yk?a=this.options.ob.Yk:this.options.ob.$k&&a<this.options.ob.$k&&(a=this.options.ob.$k);this.scale=a;h.dc(!1);this.xa&&(this.xa.wH(),uc(this));this.rd&&this.rd.update(this.scale);a=this.Be();this.scrollX-=a.tc;this.scrollY-=a.Dc;a.Dd+=a.tc;a.Ed+=a.Dc;this.scroll(this.scrollX,this.scrollY);if(this.Gb)if(this.xa){var c=this.Gb;c.Eb&&ya(c.Eb,a);c.Ib&&Aa(c.Ib,a)}else c=this.Gb,c.Eb&&za(c.Eb,a),c.Ib&&Ba(c.Ib,a)};
b.scroll=function(a,c){h.dc(!0);var d=this.Be();a=Math.min(a,-d.scrollLeft);c=Math.min(c,-d.scrollTop);var e=d.scrollTop+Math.max(0,d.scrollHeight-d.lc);a=Math.max(a,-(d.scrollLeft+Math.max(0,d.scrollWidth-d.Xb)));c=Math.max(c,-e);this.scrollX=a;this.scrollY=c;this.Gb&&this.Gb.set(-(a+d.scrollLeft),-(c+d.scrollTop),!1);a+=d.tc;c+=d.Dc;this.translate(a,c)};
h.ac.CC=function(a){var c=this.Be();"number"==typeof a.x&&(this.scrollX=-(c.scrollLeft+(c.scrollWidth-c.Xb)*a.x));"number"==typeof a.y&&(this.scrollY=-(c.scrollTop+(c.scrollHeight-c.lc)*a.y));this.translate(this.scrollX+c.tc,this.scrollY+c.Dc)};b=h.ac.prototype;b.Gc=function(a){return h.ac.v.Gc.call(this,a)};b.cc=function(a){return h.ac.v.cc.call(this,a)};b.tm=function(a){this.Il.push(a);h.ac.v.tm.call(this,a)};b.Kn=function(a){h.g.Yj(this.Il,a);h.ac.v.Kn.call(this,a)};
b.Lc=function(a){var c=!this.Er&&a;this.Er=a;c&&C(this)};b.clear=function(){this.Lc(!1);h.ac.v.clear.call(this);this.Il=[];this.Lc(!0)};function wc(a,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.zu.CREATE_VARIABLE=c}function rc(a,c,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.sw[c]=d}
function ib(a,c){var d="mousedown"==c.type||"touchstart"==c.type||"pointerdown"==c.type,e=a.bc;return e?d&&e.$i?(console.warn("Tried to start the same gesture twice."),e.cancel(),null):e:d?(a.bc=new h.Bc(c,a),a.bc):null}function gc(a){a.bc&&a.bc.cancel()};h.kg=function(a,c){h.Cz();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!a||!h.g.j.containsNode(document,a))throw Error("Error: container is not in current document.");c=new h.hd(c||{});var d=document.createElement("div");d.className="injectionDiv";d.tabIndex=0;h.g.pb.Sn(d,h.g.pb.State.Zx,h.K.WORKSPACE_ARIA_LABEL);a.appendChild(d);a=h.ik(d,c);var e=new h.rs(d),f=new h.Ft(d),g=h.Vz(a,c,e,f);h.eB(g);h.Tk=g;h.Gl(g);d.addEventListener("focusin",function(){h.Tk=g});return g};
h.ik=function(a,c){a.setAttribute("dir","LTR");h.Gd.kg(c.WA,c.Sv);a=h.g.j.S(h.g.G.Sj,{xmlns:h.g.j.nm,"xmlns:html":h.g.j.to,"xmlns:xlink":h.g.j.fh,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var d=h.g.j.S(h.g.G.ys,{},a);c.rq=h.Xg.hb(String(Math.random()).substring(2),c.Su,d);return a};
h.Vz=function(a,c,d,e){c.Ic=null;c=new h.ac(c,d,e);d=c.options;c.scale=d.ob.LC;a.appendChild(c.hb("blocklyMainBackground"));h.g.j.Bb(aa(c),c.kb.Pd());h.g.j.Bb(aa(c),c.nf().Pd());if(!d.Hk&&d.Fh){e=h.g.G.Sj;var f=new h.hd({parentWorkspace:c,rtl:c.L,oneBasedIndex:c.options.RB,renderer:c.options.ew,rendererOverrides:c.options.fw,move:{scrollbars:!0}});f.$h=c.options.$h;c.xa=new (h.u.Ti(h.u.M.Kx,c.options,!0))(f);c.xa.Lt=!1;c.xa.OA().Vb(!0);e=c.xa.hb(e);h.g.j.Lk(e,a)}if(d.Wu){if(!h.Wy)throw Error("Missing require for Blockly.Trashcan");
c.pj=new h.Wy(c);e=c.pj.hb();c.ra.insertBefore(e,c.yb)}if(d.ob&&d.ob.controls){if(!h.ez)throw Error("Missing require for Blockly.ZoomControls");c.Pl=new h.ez(c);d=c.Pl.hb();c.ra.appendChild(d)}c.Mc.subscribe(a,"workspaceBackgroundColour","background-color");c.translate(0,0);c.sf.push(h.wz(c));h.Gl(c);h.X.hb();h.B.hb();h.F.hb();return c};h.mA=function(a,c){var d=null;switch(c.type){case h.h.ji:case h.h.Pg:(d=a.Gc(c.Za))&&(d=d.Sd());break;case h.h.Yl:case h.h.yj:d=a.Em[c.te]||null}return d};
h.Pt=function(a){var c=a.Kh;if(!(nb(c.C)&&ob(c.C)||a.Yc())){c=c.Fk(!0);for(var d=[].concat(a.Il),e=0,f;f=d[e];e++)h.mp(a,c,f)}};h.wz=function(a){return function(c){var d=a.Kh;if(!(nb(d.C)&&ob(d.C)||a.Yc()))if(-1!==h.h.Sw.indexOf(c.type)){d=d.Fk(!0);var e=h.mA(a,c);if(e){var f=h.h.Lb();h.h.qa(c.group);h.mp(a,d,e)&&!c.group&&console.warn("Moved object in bounds but there was no event group. This may break undo.");null!==f&&h.h.qa(f)}}else c.type===h.h.Uj&&c.scale>c.bl&&h.Pt(a)}};
h.mp=function(a,c,d){var e=ec(d),f=h.g.hc.bk(c.top,e.top,c.top+c.height-(e.bottom-e.top))-e.top,g=c.left;c=c.left+c.width-(e.right-e.left);a.L?g=Math.min(c,g):c=Math.max(g,c);return(a=h.g.hc.bk(g,e.left,c)-e.left)||f?(d.moveBy(a,f),!0):!1};
h.eB=function(a){var c=a.options,d=w(a);h.R.La(d.parentNode,"contextmenu",null,function(f){h.g.mn(f)||f.preventDefault()});d=h.R.La(window,"resize",null,function(){h.dc(!0);h.Gl(a);h.Pt(a)});a.Ln=d;h.kg.rz();if(c.Fh){d=a.mb;var e=Q(a,!0);d?d.Wa():e&&(e.Wa(a),e.show(c.Fh),"function"==typeof e.yC&&e.yC())}c.Wu&&a.pj.Wa();c.ob&&c.ob.controls&&a.Pl.Wa();c.Ub&&c.Ub.scrollbars?(a.Gb=new h.qt(a,!0===c.Ub.scrollbars||!!c.Ub.scrollbars.yq,!0===c.Ub.scrollbars||!!c.Ub.scrollbars.vertical),a.Gb.resize()):a.Nn({x:.5,
y:.5});c.YA&&h.kg.pB(c.Sv,a)};h.kg.rz=function(){h.gA||(h.R.La(document,"scroll",null,function(){for(var a=h.eb.getAll(),c=0,d;d=a[c];c++)d.Ml&&d.Ml()}),h.R.La(document,"keydown",null,h.er),h.R.bind(document,"touchend",null,h.tg),h.R.bind(document,"touchcancel",null,h.tg),h.g.userAgent.Hj&&h.R.La(window,"orientationchange",document,function(){h.Gl(h.oh())}));h.gA=!0};
h.kg.pB=function(a,c){function d(){for(;f.length;)h.R.ub(f.pop());e.preload()}var e=c.re;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(h.R.La(document,"mousemove",null,d,!0));f.push(h.R.La(document,"touchstart",null,d,!0))};h.Zg=function(a){this.sC=Object.create(null);if(a){a=a.split(",");for(var c=0;c<a.length;c++)this.sC[a[c]]=!0}this.reset()};h.Zg.DD="DEVELOPER_VARIABLE";h.Zg.prototype.reset=function(){this.lh=Object.create(null);Object.create(null);this.Xa=null};h.Zg.kf=function(a,c){return a.toLowerCase()==c.toLowerCase()};h.Na={};h.Na.py=h.et;h.Na.gx="x";h.Na.hz=function(a){var c=Ma(a,"procedures_defnoreturn").map(function(d){return d.Vi()});a=Ma(a,"procedures_defreturn").map(function(d){return d.Vi()});c.sort(h.Na.aw);a.sort(h.Na.aw);return[c,a]};h.Na.aw=function(a,c){return a[0].localeCompare(c[0],void 0,{sensitivity:"base"})};h.Na.oA=function(a,c){if(c.Zc)return a;for(a=a||h.K.UNNAMED_KEY||"unnamed";!h.Na.hB(a,c.A,c);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};
h.Na.hB=function(a,c,d){return!h.Na.jB(a,c,d)};h.Na.jB=function(a,c,d){c=J(c,!1);for(var e=0;e<c.length;e++)if(c[e]!=d&&c[e].Vi){var f=c[e].Vi();if(h.Zg.kf(f[0],a))return!0}return!1};h.Na.BH=function(a){a=a.trim();var c=h.Na.oA(a,this.W()),d=this.getValue();if(d!=a&&d!=c){a=J(this.W().A,!1);for(var e=0;e<a.length;e++)a[e].rC&&a[e].rC(d,c)}return c};
h.Na.zk=function(a){function c(g,k){for(var l=0;l<g.length;l++){var m=g[l][0],n=g[l][1],q=h.g.xml.createElement("block");q.setAttribute("type",k);q.setAttribute("gap",16);var r=h.g.xml.createElement("mutation");r.setAttribute("name",m);q.appendChild(r);for(m=0;m<n.length;m++){var t=h.g.xml.createElement("arg");t.setAttribute("name",n[m]);r.appendChild(t)}d.push(q)}}var d=[];if(h.Yb.procedures_defnoreturn){var e=h.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=h.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(h.g.xml.createTextNode(h.K.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}h.Yb.procedures_defreturn&&(e=h.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=h.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(h.g.xml.createTextNode(h.K.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));h.Yb.procedures_ifreturn&&(e=h.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=h.Na.hz(a);c(a[0],"procedures_callnoreturn");c(a[1],"procedures_callreturn");return d};
h.Na.xw=function(a){for(var c=[],d=Ma(a,"procedures_mutatorarg"),e=0,f;f=d[e];e++)c.push(Ka(f,"NAME"));d=h.g.xml.createElement("xml");e=h.g.xml.createElement("block");e.setAttribute("type","procedures_mutatorarg");f=h.g.xml.createElement("field");f.setAttribute("name","NAME");c=h.g.xml.createTextNode(h.ma.Bu(h.Na.gx,c));f.appendChild(c);e.appendChild(f);d.appendChild(e);if(c=h.g.la.iu(d)){if(!a.options.Fh)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(h.g.la.Hk(c)){if(!a.mb)throw Error("Existing toolbox has no categories.  Can't change mode.");
a.options.Fh=c;a.mb.Ga(c)}else{if(!a.xa)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.Fh=c;a.xa.show(c)}}else if(a.options.Fh)throw Error("Can't nullify an existing toolbox.");};h.Na.zB=function(a){if(a.type==h.h.qs&&"mutator"===a.tG&&a.nH){a=h.eb.Bk(a.Mb).Gc(a.Za);var c=a.type;if("procedures_defnoreturn"==c||"procedures_defreturn"==c)a=a.Wd.OA(),h.Na.xw(a),a.sf.push(h.Na.yB)}};h.Na.yB=function(a){a.type!=h.h.ji&&a.type!=h.h.ns&&a.type!=h.h.Og||h.Na.xw(h.eb.Bk(a.Mb))};
h.Na.xA=function(a,c){var d=[];c=J(c,!1);for(var e=0;e<c.length;e++)if(c[e].IA){var f=c[e].IA();f&&h.Zg.kf(f,a)&&d.push(c[e])}return d};h.Na.tH=function(a){var c=h.h.Fa,d=a.Vi()[0],e=a.ic(!0);a=h.Na.xA(d,a.A);d=0;for(var f;f=a[d];d++){var g=f.ic();g=g&&h.I.xe(g);f.Vc(e);var k=f.ic();k=k&&h.I.xe(k);g!=k&&(h.h.Fa=!1,h.h.Ha(new (h.h.get(h.h.Og))(f,"mutation",null,g,k)),h.h.Fa=c)}};h.Na.WG=function(a,c){c=J(c,!1);for(var d=0;d<c.length;d++)if(c[d].Vi){var e=c[d].Vi();if(e&&h.Zg.kf(e[0],a))return c[d]}return null};h.Kb=function(){h.Kb.u=this;this.zd=Object.create(null);this.gj=Object.create(null)};h.Kb.un={Shift:h.g.ba.mm,Control:h.g.ba.Tg,Alt:h.g.ba.ii,Meta:h.g.ba.ri};h.Kb.prototype.register=function(a,c){if(this.zd[a.name]&&!c)throw Error('Shortcut with name "'+a.name+'" already exists.');this.zd[a.name]=a};
h.Kb.prototype.unregister=function(a){if(!this.zd[a])return console.warn('Keyboard shortcut with name "'+a+'" not found.'),!1;for(var c in this.gj){var d=c,e=this.gj[d],f=e.indexOf(a);-1<f&&(e.splice(f,1),0==e.length&&delete this.gj[d])}delete this.zd[a];return!0};function S(a,c){var d=h.Kb.u;a=String(a);var e=d.gj[a];if(e)throw Error('Shortcut with name "'+c+'" collides with shortcuts '+e.toString());d.gj[a]=[c]}
h.Kb.prototype.er=function(a,c){var d="";for(e in h.Kb.un)c.getModifierState(e)&&(""!=d&&(d+="+"),d+=e);""!=d&&c.keyCode?d=d+"+"+c.keyCode:c.keyCode&&(d=c.keyCode.toString());d=this.gj[d]||[];if(!d)return!1;var e=0;for(var f;f=d[e];e++)if(f=this.zd[f],(!f.tb||f.tb(a))&&f.$a&&f.$a(a,c,f))return!0;return!1};
function T(a,c){var d="";if(c){for(var e=h.g.object.values(h.Kb.un),f=0,g;g=c[f];f++)if(0>e.indexOf(g))throw Error(g+" is not a valid modifier key.");for(var k in h.Kb.un)-1<c.indexOf(h.Kb.un[k])&&(""!=d&&(d+="+"),d+=k)}""!=d&&a?d=d+"+"+a:a&&(d=a.toString());return d}new h.Kb;h.sm=function(a,c,d,e){this.A=a;this.name=c;this.type=d||"";this.bB=e||h.g.lf();h.h.Ha(new (h.h.get(h.h.qm))(this))};h.sm.prototype.yc=function(){return this.bB};h.sm.Nz=function(a,c){return a.name.localeCompare(c.name,void 0,{sensitivity:"base"})};h.ma={};h.ma.py=h.xt;h.ma.iz=function(a){var c=J(a,!1);a=Object.create(null);for(var d=0;d<c.length;d++){var e=ka(c[d]);if(e)for(var f=0;f<e.length;f++){var g=e[f],k=g.yc();k&&(a[k]=g)}}c=[];for(k in a)c.push(a[k]);return c};h.ma.gs={};
h.ma.oG=function(a){a=J(a,!1);for(var c=Object.create(null),d=0,e;e=a[d];d++){var f=e.XG;!f&&e.DA&&(f=e.DA,h.ma.gs[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),h.ma.gs[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)c[e[f]]=!0}return Object.keys(c)};
h.ma.zk=function(a){var c=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");wc(a,function(e){h.ma.ku(e.aH())});c.push(d);a=h.ma.rA(a);return c=c.concat(a)};
h.ma.rA=function(a){a=a.Zm("");var c=[];if(0<a.length){var d=a[a.length-1];if(h.Yb.variables_set){var e=h.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",h.Yb.math_change?8:24);e.appendChild(h.ma.bq(d));c.push(e)}h.Yb.math_change&&(e=h.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",h.Yb.variables_get?20:8),e.appendChild(h.ma.bq(d)),d=h.I.Me('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),c.push(e));if(h.Yb.variables_get){a.sort(h.sm.Nz);d=0;for(var f;f=a[d];d++)e=h.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(h.ma.bq(f)),c.push(e)}}return c};h.ma.yt="ijkmnopqrstuvwxyzabcdefgh";h.ma.sA=function(a){return h.ma.Bu(h.ma.yt.charAt(0),a.cq())};
h.ma.Bu=function(a,c){if(!c.length)return a;for(var d=h.ma.yt,e="",f=d.indexOf(a);;){for(var g=!1,k=0;k<c.length;k++)if(c[k].toLowerCase()==a){g=!0;break}if(!g)return a;f++;f==d.length&&(f=0,e=Number(e)+1);a=d.charAt(f)+e}};
h.ma.ku=function(a,c,d){function e(g){h.ma.bw(h.K.NEW_VARIABLE_TITLE,g,function(k){if(k){var l=h.ma.BB(k,a);if(l){if(l.type==f)var m=h.K.VARIABLE_ALREADY_EXISTS.replace("%1",l.name);else m=h.K.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,m=m.replace("%1",l.name).replace("%2",l.type);h.alert(m,function(){e(k)})}else a.Nd(k,f),c&&c(k)}else c&&c(null)})}var f=d||"";e("")};h.ma.Nd=h.ma.ku;
h.ma.cw=function(a,c){function d(e){var f=h.K.RENAME_VARIABLE_TITLE.replace("%1",c.name);h.ma.bw(f,e,function(g){if(g){var k=h.ma.CB(g,c.type,a);k?(k=h.K.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",k.name).replace("%2",k.type),h.alert(k,function(){d(g)})):a.Th(c.yc(),g)}})}d("")};h.ma.bw=function(a,c,d){h.prompt(a,c,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==h.K.RENAME_VARIABLE||e==h.K.NEW_VARIABLE)&&(e=null);d(e)})};
h.ma.CB=function(a,c,d){d=d.Xa.Si();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=c)return f;return null};h.ma.BB=function(a,c){c=c.Xa.Si();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a)return e;return null};h.ma.bq=function(a){var c=h.g.xml.createElement("field");c.setAttribute("name","VAR");c.setAttribute("id",a.yc());c.setAttribute("variabletype",a.type);a=h.g.xml.createTextNode(a.name);c.appendChild(a);return c};
h.ma.$G=function(a,c,d,e){var f=h.ma.fg(a,c,d,e);f||(f=h.ma.Wz(a,c,d,e));return f};h.ma.fg=function(a,c,d,e){var f=a.Hn,g=null;if(c&&(g=a.qh(c),!g&&f&&(g=f.qh(c)),g))return g;if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");g=a.fg(d,e);!g&&f&&(g=f.fg(d,e))}return g};h.ma.Wz=function(a,c,d,e){var f=a.Hn;d||(d=h.ma.sA(a.ng?a.Xn:a));return f?f.Nd(d,e,c):a.Nd(d,e,c)};
h.ma.tA=function(a,c){a=a.Si();var d=[];if(c.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==c.indexOf(f)&&d.push(f)}return d};h.VERSION="uncompiled";h.Tk=null;h.selected=null;h.Ri=[];h.Ji=null;h.Cm=null;h.vp=null;h.wG=null;h.Dn=null;h.PH=function(a){h.g.Lm.warn("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize");return new h.g.Rc(a.yz,a.xz)};h.DH=function(a){C(a)};
h.Gl=function(a){for(;a.options.Ic;)a=a.options.Ic;var c=w(a),d=nc(a),e=c.parentNode;if(e){var f=e.offsetWidth;e=e.offsetHeight;d.width!=f&&(c.setAttribute("width",f+"px"),vc(a,f,null));d.height!=e&&(c.setAttribute("height",e+"px"),vc(a,null,e));a.resize()}};h.er=function(a){var c=h.Tk;!c||h.g.mn(a)||c.pa&&!c.isVisible()||h.Kb.u.er(c,a)};h.Ep=function(a){a.A.ng||(h.h.qa(!0),h.dc(),a.P?a.H(!1,!0):a.H(!0,!0),h.h.qa(!1))};
h.Ap=function(a){if(a.dj)a=null;else{var c=h.I.Yf(a,!0);h.I.bA(c);var d=a.ab();c.setAttribute("x",a.L?-d.x:d.x);c.setAttribute("y",d.y);a={xml:c,source:a.A,XC:h.g.Cu(a)}}a&&(h.Ji=a.xml,h.Cm=a.source,h.vp=a.XC)};h.Fn=function(){if(!h.Ji)return!1;var a=h.Cm;a.ng&&(a=a.Xn);return h.vp&&Na(a,h.vp)?(h.h.qa(!0),a.Fn(h.Ji),h.h.qa(!1),!0):!1};h.duplicate=function(a){var c=h.Ji,d=h.Cm;h.Ap(a);a.A.Fn(h.Ji);h.Ji=c;h.Cm=d};h.uH=function(a){h.g.mn(a)||a.preventDefault()};
h.dc=function(a){h.F.sb();h.X.sb();h.B.wq();var c=!!a;da(h.oh().ck,h.mc.Nc.Nw).forEach(function(d){d.qG(c)})};h.oh=function(){return h.Tk};h.alert=function(a,c){alert(a);c&&c()};h.confirm=function(a,c){c(confirm(a))};h.prompt=function(a,c,d){d(prompt(a,c))};
h.nB=function(a){return function(){var c=a.type?'Block "'+a.type+'": ':"";if(a.output&&a.previousStatement)throw Error(c+"Must not have both an output and a previousStatement.");a.style&&a.style.De&&(this.De=a.style.De,a.style=null);if(a.style&&a.colour)throw Error(c+"Must not have both a colour and a style.");if(a.style){var d=a.style;try{this.Wh(d)}catch(t){console.warn(c+"Style does not exist: ",d)}}else if("colour"in a)if(void 0===a.colour)console.warn(c+"Undefined colour value.");else{d=a.colour;
try{this.Je(d)}catch(t){console.warn(c+"Illegal colour value: ",d)}}for(d=0;void 0!==a["message"+d];){var e=a["args"+d]||[],f=a["lastDummyAlign"+d],g=c;var k=h.g.SC(a["message"+d]);for(var l=e.length,m=[],n=0,q=0;q<k.length;q++){var r=k[q];if("number"==typeof r){if(1>r||r>l)throw Error('Block "'+this.type+'": Message index %'+r+" out of range.");if(m[r])throw Error('Block "'+this.type+'": Message index %'+r+" duplicated.");m[r]=!0;n++}}if(n!=l)throw Error('Block "'+this.type+'": Message does not reference all '+
l+" arg(s).");l=[];for(m=0;m<k.length;m++){n=k[m];"number"==typeof n&&(n=e[n-1]);if("string"==typeof n&&(n=Mb(n),!n))continue;l.push(n)}(e=l.length)&&!Nb(l[e-1].type)&&(e={type:"input_dummy"},f&&(e.align=f),l.push(e));f=[];for(e=0;k=l[e];e++)if(Nb(k.type)){m=g;q={LEFT:h.bb.Fd.Jd,RIGHT:h.bb.Fd.We,CENTRE:h.bb.Fd.Vl,CENTER:h.bb.Fd.Vl};n=null;switch(k.type){case "input_value":n=this.gh(h.Ia.qe,k.name);break;case "input_statement":n=this.gh(h.Ia.Qc,k.name);break;case "input_dummy":n=Kb(this,k.name)}n?
(k.check&&n.kj(k.check),k.align&&(q=q[k.align.toUpperCase()],void 0===q?console.warn(m+"Illegal align value: ",k.align):Gb(n,q)),k=n):k=null;if(k){for(m=0;n=f[m];m++)N(k,n[0],n[1]);f.length=0}}else(m=Lb(this,k))&&f.push([m,k.name]);d++}void 0!==a.inputsInline&&this.Gg(a.inputsInline);void 0!==a.output&&this.Pn(!0,a.output);void 0!==a.previousStatement&&this.Rn(!0,a.previousStatement);void 0!==a.nextStatement&&this.On(!0,a.nextStatement);void 0!==a.tooltip&&(d=a.tooltip,d=h.g.Kc(d),this.Jg(d));void 0!==
a.enableContextMenu&&(d=a.enableContextMenu,this.contextMenu=!!d);void 0!==a.helpUrl&&(d=a.helpUrl,this.sh=h.g.Kc(d));"string"==typeof a.extensions&&(console.warn(c+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+a.type+"' block."),a.extensions=[a.extensions]);void 0!==a.mutator&&h.wa.apply(a.mutator,this,!0);c=a.extensions;if(Array.isArray(c))for(d=0;d<c.length;++d)h.wa.apply(c[d],this,!1)}};
h.NG=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping."):(h.Yb[e]&&console.warn("Block definition #"+c+' in JSON array overwrites prior definition of "'+e+'".'),h.Yb[e]={Wa:h.nB(d)})}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping.")}};h.mH=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};h.dH=function(a){return h.g.gb.cv(a)};
h.Cz=function(){h.uc("LOGIC_HUE",["Blocks","logic","HUE"]);h.uc("LOGIC_HUE",["Constants","Logic","HUE"],210);h.uc("LOOPS_HUE",["Blocks","loops","HUE"]);h.uc("LOOPS_HUE",["Constants","Loops","HUE"],120);h.uc("MATH_HUE",["Blocks","math","HUE"]);h.uc("MATH_HUE",["Constants","Math","HUE"],230);h.uc("TEXTS_HUE",["Blocks","texts","HUE"]);h.uc("TEXTS_HUE",["Constants","Text","HUE"],160);h.uc("LISTS_HUE",["Blocks","lists","HUE"]);h.uc("LISTS_HUE",["Constants","Lists","HUE"],260);h.uc("COLOUR_HUE",["Blocks",
"colour","HUE"]);h.uc("COLOUR_HUE",["Constants","Colour","HUE"],20);h.uc("VARIABLES_HUE",["Blocks","variables","HUE"]);h.uc("VARIABLES_HUE",["Constants","Variables","HUE"],330);h.uc("PROCEDURES_HUE",["Blocks","procedures","HUE"])};h.uc=function(a,c,d){for(var e="Blockly",f=h,g=0;g<c.length;++g)e+="."+c[g],f&&(f=f[c[g]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};
h.LH=function(a){h.Dn=a};h.gp=h.R.bind;h.Xr=h.R.ub;h.sG=h.R.La;h.iD=h.bb.Fd.Jd;h.hD=h.bb.Fd.Vl;h.fs=h.bb.Fd.We;h.Qb=h.V.Qb;h.Pc=h.V.Pc;h.Rb=h.V.Rb;h.jd=h.V.jd;h.ID=h.Ia.je;h.YF=h.g.la.Zb.pm;h.VF=h.g.la.Zb.co;h.WF=h.g.la.Zb.Jd;h.XF=h.g.la.Zb.We;var xc={am:"\u12a0\u121b\u122d\u129b",ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",ca:"Catal\u00e0",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",
fi:"Suomi",fo:"F\u00f8royskt",fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hr:"Hrvatski",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",kn:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",
nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438","sr-latn":"Srpski",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",
ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},yc="ace ar fa he mzn ps ur".split(" "),zc=window.BlocklyGamesLang,Ac=window.BlocklyGamesLanguages,Bc=/\.html$/.test(window.location.pathname);
function Cc(a){try{if(0!=a.lineno||0!=a.colno){var c=Date.now();if(!(Cc.ov+1E4>c)){Cc.ov=c;var d=new XMLHttpRequest,e="error="+encodeURIComponent(a.message+" "+a.filename+" "+a.lineno+":"+a.colno)+"&amp;url="+encodeURIComponent(window.location);d.open("POST","/errorReporter");d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");d.send(e);console.log("Error reported.")}}}catch(f){console.log(a.error)}}Cc.ov=0;Bc||window.addEventListener("error",Cc);
function Dc(){return-1!=yc.indexOf(zc)}var U,Ec=Math,Fc=Ec.floor,Gc=Number,Hc,Ic=window.location.search.match(RegExp("[?&]level=([^&]+)"));Hc=Ic?decodeURIComponent(Ic[1].replace(/\+/g,"%20")):"NaN";var Jc=Fc.call(Ec,Gc(Hc));U=isNaN(Jc)?1:h.g.hc.bk(1,Jc,10);
function Kc(){document.title=document.getElementById("title").textContent;document.dir=Dc()?"rtl":"ltr";document.head.parentElement.setAttribute("lang",zc);var a=document.getElementById("languageMenu");if(a){for(var c=[],d=0;d<Ac.length;d++){var e=Ac[d];c.push([xc[e],e])}c.sort(function(g,k){return g[0]>k[0]?1:g[0]<k[0]?-1:0});for(d=a.options.length=0;d<c.length;d++){var f=c[d];e=f[1];f=new Option(f[0],e);e==zc&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display="none")}for(d=
1;10>=d;d++)a=document.getElementById("level"+d),c=!!Lc(d),a&&c&&(a.className+=" level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(Mc,1)}function Lc(a){var c=Nc;try{var d=window.localStorage[c+a]}catch(e){}return d}function V(a){var c=Oc(a);return null===c?"[Unknown message: "+a+"]":c}
function Oc(a){return(a=document.getElementById(a))?(a=a.textContent,a=a.replace(/\\n/g,"\n")):null}function Pc(a,c){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",function(d){d.preventDefault();c(d)},!0)}
function Mc(){if(!Bc){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var c=document.createElement("script");c.async=1;c.src="//www.google-analytics.com/analytics.js";document.head.appendChild(c);a("create","UA-50448074-1","auto");a("send","pageview")}};h.ka={};h.ka.Ar=function(){h.za.u.register({xc:function(){return h.K.UNDO},tb:function(a){return 0<a.A.bi.length?"enabled":"disabled"},$a:function(a){Pa(a.A,!1)},$c:h.za.rc.Cc,id:"undoWorkspace",weight:1})};h.ka.zr=function(){h.za.u.register({xc:function(){return h.K.REDO},tb:function(a){return 0<a.A.ml.length?"enabled":"disabled"},$a:function(a){Pa(a.A,!0)},$c:h.za.rc.Cc,id:"redoWorkspace",weight:2})};
h.ka.$B=function(){h.za.u.register({xc:function(){return h.K.CLEAN_UP},tb:function(a){return a.A.ec()?1<a.A.cc(!1).length?"enabled":"disabled":"hidden"},$a:function(a){a=a.A;a.Lc(!1);h.h.qa(!0);for(var c=a.cc(!0),d=0,e=0,f;f=c[e];e++)if(f.ec()){var g=f.ab();f.moveBy(-g.x,d-g.y);dc(f);d=f.ab().y+v(f).height+a.kb.aa().Lj}h.h.qa(!1);a.Lc(!0)},$c:h.za.rc.Cc,id:"cleanWorkspace",weight:3})};h.ka.rw=function(a,c){for(var d=0,e=0;e<c.length;e++)for(var f=c[e];f;)setTimeout(f.Vh.bind(f,a),d),f=u(f),d+=10};
h.ka.aC=function(){h.za.u.register({xc:function(){return h.K.COLLAPSE_ALL},tb:function(a){if(a.A.options.collapse){a=a.A.cc(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(!d.isCollapsed())return"enabled";d=u(d)}return"disabled"}return"hidden"},$a:function(a){h.ka.rw(!0,a.A.cc(!0))},$c:h.za.rc.Cc,id:"collapseWorkspace",weight:4})};
h.ka.lC=function(){h.za.u.register({xc:function(){return h.K.EXPAND_ALL},tb:function(a){if(a.A.options.collapse){a=a.A.cc(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(d.isCollapsed())return"enabled";d=u(d)}return"disabled"}return"hidden"},$a:function(a){h.ka.rw(!1,a.A.cc(!0))},$c:h.za.rc.Cc,id:"expandWorkspace",weight:5})};h.ka.It=function(a,c){if(a.lg())Array.prototype.push.apply(c,p(a,!1));else{a=A(a,!1);for(var d=0;d<a.length;d++)h.ka.It(a[d],c)}};
h.ka.hq=function(a){var c=[];a=a.cc(!0);for(var d=0;d<a.length;d++)h.ka.It(a[d],c);return c};h.ka.Km=function(a,c){h.h.qa(c);var d=a.shift();d&&(d.A?(d.H(!1,!0),setTimeout(h.ka.Km,10,a,c)):h.ka.Km(a,c));h.h.qa(!1)};
h.ka.hC=function(){h.za.u.register({xc:function(a){if(a.A)return a=h.ka.hq(a.A).length,1==a?h.K.DELETE_BLOCK:h.K.DELETE_X_BLOCKS.replace("%1",String(a))},tb:function(a){if(a.A)return 0<h.ka.hq(a.A).length?"enabled":"disabled"},$a:function(a){if(a.A){gc(a.A);var c=h.ka.hq(a.A),d=h.g.lf();2>c.length?h.ka.Km(c,d):h.confirm(h.K.DELETE_ALL_BLOCKS.replace("%1",c.length),function(e){e&&h.ka.Km(c,d)})}},$c:h.za.rc.Cc,id:"workspaceDelete",weight:6})};
h.ka.pC=function(){h.ka.Ar();h.ka.zr();h.ka.$B();h.ka.aC();h.ka.lC();h.ka.hC()};h.ka.jC=function(){h.za.u.register({xc:function(){return h.K.DUPLICATE_BLOCK},tb:function(a){a=a.block;return!a.Zc&&a.lg()&&a.ec()?(Oa(a.A)?Na(a.A,h.g.Cu(a)):1)?"enabled":"disabled":"hidden"},$a:function(a){a.block&&h.duplicate(a.block)},$c:h.za.rc.Jb,id:"blockDuplicate",weight:1})};
h.ka.cC=function(){h.za.u.register({xc:function(a){return a.block.od?h.K.REMOVE_COMMENT:h.K.ADD_COMMENT},tb:function(a){a=a.block;return h.g.userAgent.Id||a.Zc||!a.A.options.Kz||a.isCollapsed()||!a.sd()?"hidden":"enabled"},$a:function(a){a=a.block;a.od?a.lj(null):a.lj("")},$c:h.za.rc.Jb,id:"blockComment",weight:2})};
h.ka.nC=function(){h.za.u.register({xc:function(a){return Va(a.block)?h.K.EXTERNAL_INPUTS:h.K.INLINE_INPUTS},tb:function(a){a=a.block;if(!a.Zc&&a.ec()&&!a.isCollapsed())for(var c=1;c<a.O.length;c++)if(a.O[c-1].type!=h.Ia.Qc&&a.O[c].type!=h.Ia.Qc)return"enabled";return"hidden"},$a:function(a){a.block.Gg(!Va(a.block))},$c:h.za.rc.Jb,id:"blockInline",weight:3})};
h.ka.bC=function(){h.za.u.register({xc:function(a){return a.block.isCollapsed()?h.K.EXPAND_BLOCK:h.K.COLLAPSE_BLOCK},tb:function(a){a=a.block;return!a.Zc&&a.ec()&&a.A.options.collapse?"enabled":"hidden"},$a:function(a){a.block.Vh(!a.block.isCollapsed())},$c:h.za.rc.Jb,id:"blockCollapseExpand",weight:4})};
h.ka.iC=function(){h.za.u.register({xc:function(a){return a.block.isEnabled()?h.K.DISABLE_BLOCK:h.K.ENABLE_BLOCK},tb:function(a){a=a.block;return!a.Zc&&a.A.options.disable&&a.sd()?Jb(a)?"disabled":"enabled":"hidden"},$a:function(a){a=a.block;var c=h.h.Lb();c||h.h.qa(!0);a.xf(!a.isEnabled());c||h.h.qa(!1)},$c:h.za.rc.Jb,id:"blockDisable",weight:5})};
h.ka.yr=function(){h.za.u.register({xc:function(a){var c=a.block;a=p(c,!1).length;(c=u(c))&&(a-=p(c,!1).length);return 1==a?h.K.DELETE_BLOCK:h.K.DELETE_X_BLOCKS.replace("%1",String(a))},tb:function(a){return!a.block.Zc&&a.block.lg()?"enabled":"hidden"},$a:function(a){h.h.qa(!0);a.block&&h.Ep(a.block);h.h.qa(!1)},$c:h.za.rc.Jb,id:"blockDelete",weight:6})};
h.ka.mC=function(){h.za.u.register({xc:function(){return h.K.HELP},tb:function(a){a=a.block;return("function"==typeof a.sh?a.sh():a.sh)?"enabled":"hidden"},$a:function(a){a.block.showHelp()},$c:h.za.rc.Jb,id:"blockHelp",weight:7})};h.ka.ZB=function(){h.ka.jC();h.ka.cC();h.ka.nC();h.ka.bC();h.ka.iC();h.ka.yr();h.ka.mC()};h.ka.fC=function(){h.ka.pC();h.ka.ZB()};h.ka.fC();h.lb={};h.lb.names={zx:"escape",Ug:"delete",Ww:"copy",ax:"cut",xy:"paste",Xy:"undo",Jy:"redo"};h.lb.kC=function(){var a={name:h.lb.names.zx,tb:function(c){return!c.options.readOnly},$a:function(){h.dc();return!0}};h.Kb.u.register(a);S(h.g.ba.yx,a.name)};
h.lb.yr=function(){var a={name:h.lb.names.Ug,tb:function(c){return!c.options.readOnly&&h.selected&&h.selected.lg()},$a:function(c,d){d.preventDefault();if(h.le.yh())return!1;h.Ep(h.selected);return!0}};h.Kb.u.register(a);S(h.g.ba.Ug,a.name);S(h.g.ba.Ow,a.name)};
h.lb.dC=function(){var a={name:h.lb.names.Ww,tb:function(d){return!d.options.readOnly&&!h.le.yh()&&h.selected&&h.selected.lg()&&h.selected.ec()},$a:function(d,e){e.preventDefault();h.dc();h.Ap(h.selected);return!0}};h.Kb.u.register(a);var c=T(h.g.ba.lo,[h.g.ba.Tg]);S(c,a.name);c=T(h.g.ba.lo,[h.g.ba.ii]);S(c,a.name);c=T(h.g.ba.lo,[h.g.ba.ri]);S(c,a.name)};
h.lb.eC=function(){var a={name:h.lb.names.ax,tb:function(d){return!d.options.readOnly&&!h.le.yh()&&h.selected&&h.selected.lg()&&h.selected.ec()&&!h.selected.A.ng},$a:function(){h.Ap(h.selected);h.Ep(h.selected);return!0}};h.Kb.u.register(a);var c=T(h.g.ba.$o,[h.g.ba.Tg]);S(c,a.name);c=T(h.g.ba.$o,[h.g.ba.ii]);S(c,a.name);c=T(h.g.ba.$o,[h.g.ba.ri]);S(c,a.name)};
h.lb.oC=function(){var a={name:h.lb.names.xy,tb:function(d){return!d.options.readOnly&&!h.le.yh()},$a:function(){return h.Fn()}};h.Kb.u.register(a);var c=T(h.g.ba.Yo,[h.g.ba.Tg]);S(c,a.name);c=T(h.g.ba.Yo,[h.g.ba.ii]);S(c,a.name);c=T(h.g.ba.Yo,[h.g.ba.ri]);S(c,a.name)};
h.lb.Ar=function(){var a={name:h.lb.names.Xy,tb:function(d){return!d.options.readOnly&&!h.le.yh()},$a:function(d){h.dc();Pa(d,!1);return!0}};h.Kb.u.register(a);var c=T(h.g.ba.Di,[h.g.ba.Tg]);S(c,a.name);c=T(h.g.ba.Di,[h.g.ba.ii]);S(c,a.name);c=T(h.g.ba.Di,[h.g.ba.ri]);S(c,a.name)};
h.lb.zr=function(){var a={name:h.lb.names.Jy,tb:function(d){return!h.le.yh()&&!d.options.readOnly},$a:function(d){h.dc();Pa(d,!0);return!0}};h.Kb.u.register(a);var c=T(h.g.ba.Di,[h.g.ba.mm,h.g.ba.Tg]);S(c,a.name);c=T(h.g.ba.Di,[h.g.ba.mm,h.g.ba.ii]);S(c,a.name);c=T(h.g.ba.Di,[h.g.ba.mm,h.g.ba.ri]);S(c,a.name);c=T(h.g.ba.az,[h.g.ba.Tg]);S(c,a.name)};h.lb.gC=function(){h.lb.kC();h.lb.yr();h.lb.dC();h.lb.eC();h.lb.oC();h.lb.Ar();h.lb.zr()};h.lb.gC();h.g.s={};h.g.s.Ba=function(a,c){return" "+a+","+c+" "};h.g.s.curve=function(a,c){return" "+a+c.join("")};h.g.s.moveTo=function(a,c){return" M "+a+","+c+" "};h.g.s.moveBy=function(a,c){return" m "+a+","+c+" "};h.g.s.lineTo=function(a,c){return" l "+a+","+c+" "};h.g.s.line=function(a){return" l"+a.join("")};h.g.s.U=function(a,c){return" "+a+" "+c+" "};h.g.s.arc=function(a,c,d,e){return a+" "+d+" "+d+" "+c+e};h.i.Re=function(){this.me=0;this.Ly=3;this.gd=5;this.Ws=8;this.qc=10;this.rt=this.gd;this.Tj=15;this.Ai=5;this.So=8;this.qy=15;this.Io=4;this.ly=12;this.sx=16;this.qx=this.zs=this.Tj;this.fe=8;this.Ry=this.Pj=15;this.mt=0;this.ot=20;this.Pw=4;this.Uy=this.gd;this.Vy=this.qc;this.Rw=this.gd;this.Qw=this.qc;this.Ql=!1;this.Py=15;this.Qy=100;this.Oy=15;this.Lj=24;this.ux=14.5;this.tx=this.Tj+11;this.Ax=2;this.vx=this.Lj;this.kt=h.g.s.moveBy(0,0);this.Wx=12;this.Xx=6;this.Wg=11;this.Jf="normal";this.If=
"sans-serif";this.Gs=this.em=-1;this.dm=4;this.Ds=16;this.Dj=5;this.Ex="#fff";this.qo=!h.g.userAgent.Id&&!h.g.userAgent.Vg;this.Es=this.Ds;this.Gx=this.Fx=this.Fs=!1;this.Ix=this.Dj;this.Ej=12;this.Hx="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.Jn=String(Math.random()).substring(2);this.Um="";this.Yp=null;this.qu="";this.kk=this.mu=this.Jp=null;this.Zl="#cc0a0a";this.im="#4286f4";this.bm=100;this.Ct=5;this.$l=10;this.Yw=2;this.$w=4;this.xo="#000000";this.gm=.2;this.jt={Ay:1,si:2}};b=h.i.Re.prototype;
b.Wa=function(){this.pi=this.Mq();this.si=this.Nq();this.yi=this.Pq();this.Mo=this.Oq();var a=this.fe,c=h.g.s.arc("a","0 0,0",a,h.g.s.Ba(-a,a)),d=h.g.s.arc("a","0 0,0",a,h.g.s.Ba(a,a));this.hm={width:a,height:a,qr:c,Gn:d};a=this.fe;c=h.g.s.moveBy(0,a)+h.g.s.arc("a","0 0,1",a,h.g.s.Ba(a,-a));d=h.g.s.arc("a","0 0,1",a,h.g.s.Ba(a,a));var e=h.g.s.arc("a","0 0,1",a,h.g.s.Ba(-a,-a)),f=h.g.s.arc("a","0 0,1",a,h.g.s.Ba(-a,a));this.Qj={Vr:c,UC:d,sz:f,kp:e,vC:a}};
b.ul=function(a){this.Xf=Object.create(null);var c=a.Xf,d;for(d in c)this.Xf[d]=Qc(c[d]);this.If=a.fontStyle&&void 0!=a.fontStyle.family?a.fontStyle.family:this.If;this.Jf=a.fontStyle&&void 0!=a.fontStyle.weight?a.fontStyle.weight:this.Jf;this.Wg=a.fontStyle&&void 0!=a.fontStyle.size?a.fontStyle.size:this.Wg;c=h.g.j.uB(this.Wg+"pt",this.Jf,this.If);this.em=c.height;this.Gs=c.Ld;this.Zl=F(a,"cursorColour")||this.Zl;this.im=F(a,"markerColour")||this.im;this.xo=F(a,"insertionMarkerColour")||this.xo;
this.gm=Number(F(a,"insertionMarkerOpacity"))||this.gm;this.Ql=null!=a.Rr?a.Rr:this.Ql};function hc(a,c){var d="auto_"+c;a.Xf[d]||(a.Xf[d]=Qc({colourPrimary:c}));return{style:a.Xf[d],name:d}}function cc(a,c){return a.Xf[c||""]||(c&&0==c.indexOf("auto_")?hc(a,c.substring(5)).style:Qc({colourPrimary:"#000000"}))}
function Qc(a){var c={};a&&h.g.object.vg(c,a);a=h.g.En(c.colourPrimary||"#000");c.ih=a.Ik;c.colourSecondary?a=h.g.En(c.colourSecondary).Ik:(a=c.ih,a=h.g.gb.hp("#fff",a,.6)||a);c.Dm=a;c.colourTertiary?a=h.g.En(c.colourTertiary).Ik:(a=c.ih,a=h.g.gb.hp("#fff",a,.3)||a);c.Ki=a;c.De=c.hat||"";return c}b.H=function(){this.Yp&&h.g.j.removeNode(this.Yp);this.Jp&&h.g.j.removeNode(this.Jp);this.mu&&h.g.j.removeNode(this.mu);this.kk=null};
b.Mq=function(){var a=this.Wx,c=this.Xx,d=h.g.s.line([h.g.s.Ba(c,a/4),h.g.s.Ba(2*-c,a/2),h.g.s.Ba(c,a/4)]);return{height:a,width:c,path:d}};b.Pq=function(){var a=this.Py,c=this.Qy,d=h.g.s.curve("c",[h.g.s.Ba(30,-a),h.g.s.Ba(70,-a),h.g.s.Ba(c,0)]);return{height:a,width:c,path:d}};
b.Oq=function(){function a(g){g=g?-1:1;var k=-g,l=d/2,m=h.g.s.Ba(c,g*l);return h.g.s.curve("c",[h.g.s.Ba(0,g*(l+2.5)),h.g.s.Ba(-c,k*(l+.5)),h.g.s.Ba(-c,g*l)])+h.g.s.curve("s",[h.g.s.Ba(c,2.5*k),m])}var c=this.So,d=this.Tj,e=a(!0),f=a(!1);return{type:this.jt.Ay,width:c,height:d,yd:f,hl:e}};b.Nq=function(){function a(k){return h.g.s.line([h.g.s.Ba(k*e,d),h.g.s.Ba(3*k,0),h.g.s.Ba(k*e,-d)])}var c=this.qy,d=this.Io,e=(c-3)/2,f=a(1),g=a(-1);return{type:this.jt.si,width:c,height:d,Bg:f,Rv:g}};
function ab(a,c){switch(c.type){case h.V.Qb:case h.V.Pc:return a.Mo;case h.V.jd:case h.V.Rb:return a.si;default:throw Error("Unknown connection type");}}
b.hb=function(a,c,d){d=this.eq(d);c="blockly-renderer-style-"+c;this.kk=document.getElementById(c);var e=d.join("\n");this.kk?this.kk.firstChild.textContent=e:(d=document.createElement("style"),d.id=c,c=document.createTextNode(e),d.appendChild(c),document.head.insertBefore(d,document.head.firstChild),this.kk=d);a=h.g.j.S(h.g.G.ys,{},a);c=h.g.j.S(h.g.G.Jx,{id:"blocklyEmbossFilter"+this.Jn},a);h.g.j.S(h.g.G.Bx,{"in":"SourceAlpha",stdDeviation:1,result:"blur"},c);d=h.g.j.S(h.g.G.Dx,{"in":"blur",surfaceScale:1,
specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},c);h.g.j.S(h.g.G.Cx,{x:-5E3,y:-1E4,z:2E4},d);h.g.j.S(h.g.G.Cs,{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},c);h.g.j.S(h.g.G.Cs,{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},c);this.Um=c.id;this.Yp=c;a=h.g.j.S(h.g.G.dt,{id:"blocklyDisabledPattern"+this.Jn,patternUnits:"userSpaceOnUse",width:10,height:10},a);h.g.j.S(h.g.G.Ve,{width:10,height:10,fill:"#aaa"},a);h.g.j.S(h.g.G.Te,
{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},a);this.qu=a.id;this.Jp=a};
b.eq=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.Jf+" "+this.Wg+"pt "+this.If+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.Ex+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.If+";","font-weight: "+this.Jf+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.gm+
";","stroke: none;","}"]};h.i.m={NONE:0,oc:1,Is:2,Ls:4,Ro:8,ls:16,Os:32,Bs:64,fd:128,Ms:256,nt:512,Vw:1024,Lo:2048,Ho:4096,ty:8192,oo:16384,Co:32768,Bo:65536,Po:131072,Oo:262144,Ss:524288,Qo:1048576,Vo:2097152,ho:4194304,Ns:8388608};h.i.m.NE=h.i.m.Co|h.i.m.Bo;h.i.m.GF=h.i.m.Po|h.i.m.Oo;h.i.m.Xq=16777216;h.i.m.getType=function(a){Object.prototype.hasOwnProperty.call(h.i.m,a)||(h.i.m[a]=h.i.m.Xq,h.i.m.Xq<<=1);return h.i.m[a]};h.i.m.rf=function(a){return a.type&h.i.m.oc};h.i.m.Dh=function(a){return a.type&h.i.m.Is};
h.i.m.bj=function(a){return a.type&h.i.m.Ls};h.i.m.ud=function(a){return a.type&h.i.m.Ro};h.i.m.lH=function(a){return a.type&h.i.m.Os};h.i.m.pg=function(a){return a.type&h.i.m.fd};h.i.m.Ok=function(a){return a.type&h.i.m.Bs};h.i.m.og=function(a){return a.type&h.i.m.Ms};h.i.m.Eh=function(a){return a.type&h.i.m.nt};h.i.m.fj=function(a){return a.type&h.i.m.Lo};h.i.m.rg=function(a){return a.type&h.i.m.Ho};h.i.m.kB=function(a){return a.type&(h.i.m.Lo|h.i.m.Ho)};h.i.m.qg=function(a){return a.type&h.i.m.Bo};
h.i.m.jv=function(a){return a.type&h.i.m.Oo};h.i.m.Pk=function(a){return a.type&h.i.m.Co};h.i.m.oH=function(a){return a.type&h.i.m.Po};h.i.m.jH=function(a){return a.type&h.i.m.oo};h.i.m.gv=function(a){return a.type&h.i.m.Ss};h.i.m.qH=function(a){return a.type&h.i.m.Qo};h.i.m.eH=function(a){return a.type&h.i.m.ls};h.i.m.nn=function(a){return a.type&h.i.m.Vo};h.i.m.fn=function(a){return a.type&h.i.m.ho};h.i.m.mB=function(a){return a.type&(h.i.m.Vo|h.i.m.ho)};h.i.m.gB=function(a){return a.type&h.i.m.Ns};h.i.Nf=function(a){this.height=this.width=0;this.type=h.i.m.NONE;this.Hi=this.Ca=0;this.o=a;this.wd=this.o.Pj};h.i.sa=function(a,c){h.i.sa.v.constructor.call(this,a);this.vc=c;this.shape=ab(this.o,c);this.Ch=!!this.shape.isDynamic;this.type|=h.i.m.Vw};h.g.object.T(h.i.sa,h.i.Nf);h.i.Ko=function(a,c){h.i.Ko.v.constructor.call(this,a,c);this.type|=h.i.m.ty;this.height=this.Ch?0:this.shape.height;this.Bd=this.width=this.Ch?0:this.shape.width;this.Uc=this.o.Ai;this.fk=0};h.g.object.T(h.i.Ko,h.i.sa);
h.i.No=function(a,c){h.i.No.v.constructor.call(this,a,c);this.type|=h.i.m.Lo;this.height=this.shape.height;this.width=this.shape.width};h.g.object.T(h.i.No,h.i.sa);h.i.Jo=function(a,c){h.i.Jo.v.constructor.call(this,a,c);this.type|=h.i.m.Ho;this.height=this.shape.height;this.width=this.shape.width};h.g.object.T(h.i.Jo,h.i.sa);h.i.Jj=function(a,c){h.i.Jj.v.constructor.call(this,a,c.connection);this.type|=h.i.m.fd;this.input=c;this.align=c.align;(this.$f=c.connection&&c.connection.ta()?c.connection.ta():null)?(a=v(this.$f),this.ek=a.width,this.Gm=a.height):this.Gm=this.ek=0;this.Uc=this.fk=0};h.g.object.T(h.i.Jj,h.i.sa);
h.i.Kf=function(a,c){h.i.Kf.v.constructor.call(this,a,c);this.type|=h.i.m.Ms;this.$f?(this.width=this.ek,this.height=this.Gm):(this.height=this.o.tx,this.width=this.o.ux);this.Li=this.Ch?this.shape.height(this.height):this.shape.height;this.ve=this.Ch?this.shape.width(this.height):this.shape.width;this.$f||(this.width+=this.ve*(this.Ch?2:1));this.Uc=this.Ch?this.shape.Uc(this.Li):this.o.Ai;this.fk=this.Ch?this.shape.fk(this.ve):0};h.g.object.T(h.i.Kf,h.i.Jj);
h.i.Tf=function(a,c){h.i.Tf.v.constructor.call(this,a,c);this.type|=h.i.m.nt;this.height=this.$f?this.Gm+this.o.mt:this.o.vx;this.width=this.o.Ry+this.shape.width};h.g.object.T(h.i.Tf,h.i.Jj);h.i.cm=function(a,c){h.i.cm.v.constructor.call(this,a,c);this.type|=h.i.m.Bs;this.height=this.$f?this.Gm-this.o.Ai-this.o.gd:this.shape.height;this.width=this.shape.width+this.o.Ax;this.Uc=this.o.Ai;this.Li=this.shape.height;this.ve=this.shape.width};h.g.object.T(h.i.cm,h.i.Jj);h.i.zo=function(a,c){h.i.zo.v.constructor.call(this,a);this.icon=c;this.isVisible=c.isVisible();this.type|=h.i.m.Ls;a=c.VG();this.height=a.height;this.width=a.width};h.g.object.T(h.i.zo,h.i.Nf);h.i.Ao=function(a){h.i.Ao.v.constructor.call(this,a);this.type|=h.i.m.Ss;this.height=this.o.pi.height;this.width=this.o.pi.width};h.g.object.T(h.i.Ao,h.i.Nf);
h.i.dd=function(a,c){h.i.dd.v.constructor.call(this,a);this.vk=c;this.sd=c.Cj;this.qA=c.Gu();this.type|=h.i.m.oc;a=this.vk.mf();this.height=a.height;this.width=a.width};h.g.object.T(h.i.dd,h.i.Nf);h.i.uo=function(a){h.i.uo.v.constructor.call(this,a);this.type|=h.i.m.Is;this.height=this.o.yi.height;this.width=this.o.yi.width;this.Fi=this.height};h.g.object.T(h.i.uo,h.i.Nf);
h.i.zi=function(a,c){h.i.zi.v.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.m.Po:h.i.m.Co)|h.i.m.oo;this.width=this.height=this.o.me};h.g.object.T(h.i.zi,h.i.Nf);h.i.lm=function(a,c){h.i.lm.v.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.m.Oo:h.i.m.Bo)|h.i.m.oo;this.width=this.o.fe;this.height=this.o.fe/2};h.g.object.T(h.i.lm,h.i.Nf);h.i.Se=function(a,c){h.i.Se.v.constructor.call(this,a);this.type=this.type|h.i.m.Ro|h.i.m.Os;this.width=c;this.height=this.o.Oy};h.g.object.T(h.i.Se,h.i.Nf);h.i.ah=function(a){this.type=h.i.m.Qo;this.elements=[];this.Ca=this.Nb=this.$d=this.minWidth=this.minHeight=this.width=this.height=0;this.Uu=this.Zi=this.uq=this.Fb=this.hg=!1;this.o=a;this.wd=this.o.Pj;this.align=null};h.i.ah.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function W(a){for(var c=a.elements.length-1,d;d=a.elements[c];c--)if(h.i.m.pg(d))return d;return null}h.i.ah.prototype.Wn=function(){return!0};h.i.ah.prototype.rk=function(){return!0};
h.i.eh=function(a){h.i.eh.v.constructor.call(this,a);this.type|=h.i.m.Vo;this.Fi=this.cf=0;this.XA=!1;this.connection=null};h.g.object.T(h.i.eh,h.i.ah);h.i.eh.prototype.vq=function(a){var c=(a.De?"cap"===a.De:this.o.Ql)&&!a.P&&!a.$,d=a.$&&a.$.ta();return!!a.P||c||(d?u(d)==a:!1)};
h.i.eh.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.m.ud(f)||(h.i.m.Dh(f)?d=Math.max(d,f.Fi):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.cf=this.Fi=d;this.$d=this.width};h.i.eh.prototype.Wn=function(){return!1};h.i.eh.prototype.rk=function(){return!1};h.i.Sg=function(a){h.i.Sg.v.constructor.call(this,a);this.type|=h.i.m.ho;this.Vu=!1;this.connection=null;this.Ld=this.mk=0};
h.g.object.T(h.i.Sg,h.i.ah);h.i.Sg.prototype.vq=function(a){return!!a.P||!!u(a)};h.i.Sg.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.m.ud(f)||(h.i.m.rg(f)?d=Math.max(d,f.height):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.mk=d;this.$d=this.width};h.i.Sg.prototype.Wn=function(){return!1};h.i.Sg.prototype.rk=function(){return!1};
h.i.om=function(a,c,d){h.i.om.v.constructor.call(this,a);this.type=this.type|h.i.m.Ro|h.i.m.ls;this.width=d;this.height=c;this.Au=!1;this.$d=0;this.elements=[new h.i.Se(this.o,d)]};h.g.object.T(h.i.om,h.i.ah);h.i.om.prototype.measure=function(){};h.i.oi=function(a){h.i.oi.v.constructor.call(this,a);this.type|=h.i.m.Ns;this.bu=0};h.g.object.T(h.i.oi,h.i.ah);
h.i.oi.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,c=0,d;d=this.elements[c];c++)this.width+=d.width,h.i.m.pg(d)&&(h.i.m.Eh(d)?a+=d.ek:h.i.m.Ok(d)&&0!=d.ek&&(a+=d.ek-d.ve)),h.i.m.ud(d)||(this.height=Math.max(this.height,d.height));this.bu=a;this.$d=this.width+a};h.i.oi.prototype.rk=function(){return!this.hg&&!this.Fb};h.i.Kd=function(a,c){this.Ja=c;this.kb=a;this.o=this.kb.aa();this.P=c.P?new h.i.Ko(this.o,c.P):null;this.cj=Va(c)&&!c.isCollapsed();this.isCollapsed=c.isCollapsed();this.td=c.td();this.L=c.L;this.Kg=this.width=this.sj=this.height=0;this.rows=[];this.ev=[];this.Zu=[];this.Hb=new h.i.eh(this.o);this.fb=new h.i.Sg(this.o);this.Vn=this.Bd=0};b=h.i.Kd.prototype;
b.measure=function(){var a=!!this.Ja.$,c=(this.Ja.De?"cap"===this.Ja.De:this.o.Ql)&&!this.P&&!a,d=this.Hb.vq(this.Ja)?h.i.zi:h.i.lm;this.Hb.elements.push(new d(this.o));c?(a=new h.i.uo(this.o),this.Hb.elements.push(a),this.Hb.cf=a.Fi):a&&(this.Hb.XA=!0,this.Hb.connection=new h.i.No(this.o,this.Ja.$),this.Hb.elements.push(this.Hb.connection));this.Ja.O.length&&this.Ja.O[0].type==h.Ia.Qc&&!this.Ja.isCollapsed()?this.Hb.minHeight=this.o.Vy:this.Hb.minHeight=this.o.Uy;d=h.i.zi;this.Hb.elements.push(new d(this.o,
"right"));this.rows.push(this.Hb);a=new h.i.oi(this.o);this.ev.push(a);d=M(this.Ja);c=0;for(var e;e=d[c];c++){var f=new h.i.zo(this.o,e);this.isCollapsed&&e.CG?this.Zu.push(f):a.elements.push(f)}e=null;for(c=0;d=this.Ja.O[c];c++)if(d.isVisible()){!e||d.type!=h.Ia.Qc&&e.type!=h.Ia.Qc&&(d.type!=h.Ia.qe&&d.type!=h.Ia.je||this.cj)||(this.rows.push(a),a=new h.i.oi(this.o),this.ev.push(a));for(e=0;f=d.Va[e];e++)a.elements.push(new h.i.dd(this.o,f,d));this.Kt(d,a);e=d}this.isCollapsed&&(a.Uu=!0,a.elements.push(new h.i.Ao(this.o)));
(a.elements.length||a.Zi)&&this.rows.push(a);this.rr();this.rows.push(this.fb);this.Jt();a=this.rows;this.rows=[];for(c=0;c<a.length;c++)if(this.rows.push(a[c]),c!=a.length-1){d=this.rows;e=d.push;f=a[c];var g=a[c+1],k=new h.i.om(this.o,this.Ou(f,g),this.width-this.Bd);f.Fb&&(k.Au=!0);g.Fb&&(k.vH=!0);e.call(d,k)}for(e=d=c=a=0;f=this.rows[e];e++)f.measure(),c=Math.max(c,f.width),f.Fb&&(a=Math.max(a,f.width-W(f).width)),d=Math.max(d,f.$d);this.Kg=a;this.width=c;for(e=0;f=this.rows[e];e++)f.Fb&&(f.Kg=
this.Kg);this.sj=Math.max(c,d);this.P&&(this.Bd=this.P.width,this.width+=this.P.width,this.sj+=this.P.width);this.ap();this.xu()};
b.rr=function(){this.fb.Vu=!!this.Ja.ga;this.fb.minHeight=this.Ja.O.length&&this.Ja.O[this.Ja.O.length-1].type==h.Ia.Qc?this.o.Qw:this.o.Rw;this.fb.vq(this.Ja)?this.fb.elements.push(new h.i.zi(this.o)):this.fb.elements.push(new h.i.lm(this.o));this.fb.Vu&&(this.fb.connection=new h.i.Jo(this.o,this.Ja.ga),this.fb.elements.push(this.fb.connection));this.fb.elements.push(new h.i.zi(this.o,"right"))};
b.Kt=function(a,c){this.cj&&a.type==h.Ia.qe?(c.elements.push(new h.i.Kf(this.o,a)),c.uq=!0):a.type==h.Ia.Qc?(c.elements.push(new h.i.Tf(this.o,a)),c.Fb=!0):a.type==h.Ia.qe?(c.elements.push(new h.i.cm(this.o,a)),c.hg=!0):a.type==h.Ia.je&&(c.minHeight=Math.max(c.minHeight,a.W()&&a.W().Da?this.o.qx:this.o.zs),c.Zi=!0);null==c.align&&(c.align=a.align)};
b.Jt=function(){for(var a=0,c;c=this.rows[a];a++){var d=c.elements;c.elements=[];c.Wn()&&c.elements.push(new h.i.Se(this.o,this.nh(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++)c.elements.push(d[e]),c.elements.push(new h.i.Se(this.o,this.nh(d[e],d[e+1])));c.elements.push(d[d.length-1]);c.rk()&&c.elements.push(new h.i.Se(this.o,this.nh(d[d.length-1],null)))}}};
b.nh=function(a,c){if(!a&&c&&h.i.m.Eh(c))return this.o.ot;if(a&&h.i.m.pg(a)&&!c){if(h.i.m.Ok(a))return this.o.me;if(h.i.m.og(a))return this.o.qc;if(h.i.m.Eh(a))return this.o.me}return a&&h.i.m.Pk(a)&&c&&(h.i.m.fj(c)||h.i.m.rg(c))?c.wd:a&&h.i.m.qg(a)&&c&&(h.i.m.fj(c)||h.i.m.rg(c))?c.wd-this.o.fe:this.o.gd};b.ap=function(){for(var a=0,c;c=this.rows[a];a++)if(c.Fb)Rc(this,c);else{var d=this.Dk(c)-c.width;0<d&&Sc(c,d);h.i.m.mB(c)&&(c.$d=c.width)}};b.Dk=function(){return this.width-this.Bd};
function Sc(a,c){a:{var d=0;for(var e;e=a.elements[d];d++)if(h.i.m.ud(e)){d=e;break a}d=null}a:{e=a.elements.length-1;for(var f;f=a.elements[e];e--)if(h.i.m.ud(f)){e=f;break a}e=null}if(a.hg||a.Fb)a.$d+=c;a.align==h.bb.Fd.Jd?e.width+=c:a.align==h.bb.Fd.Vl?(d.width+=c/2,e.width+=c/2):a.align==h.bb.Fd.We?d.width+=c:e.width+=c;a.width+=c}
function Rc(a,c){var d=W(c),e=c.width-d.width,f=a.Kg;e=f-e;0<e&&Sc(c,e);e=c.width;f=a.Dk(c);d.width+=f-e;d.height=Math.max(d.height,c.height);c.width+=f-e;c.$d=Math.max(c.width,a.Kg+c.bu)}b.Ou=function(){return this.o.gd};b.Fu=function(a,c){return h.i.m.ud(c)?a.Nb+c.height/2:h.i.m.fn(a)?(a=a.Nb+a.height-a.mk,h.i.m.rg(c)?a+c.height/2:a-c.height/2):h.i.m.nn(a)?h.i.m.Dh(c)?a.cf-c.height/2:a.cf+c.height/2:a.Nb+a.height/2};
function Tc(a,c){for(var d=c.Ca,e=0,f;f=c.elements[e];e++)h.i.m.ud(f)&&(f.height=c.height),f.Ca=d,f.Hi=a.Fu(c,f),d+=f.width}b.xu=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++)e.Nb=c,e.Ca=this.Bd,c+=e.height,a=Math.max(a,e.$d),Tc(this,e);this.P&&this.Ja.ga&&this.Ja.ga.isConnected()&&(a=Math.max(a,v(this.Ja.ga.ta()).width));this.sj=a+this.Bd;this.height=c;this.Vn=this.Hb.cf;this.fb.Ld=c-this.fb.mk};h.i.nc=function(a,c){this.Ja=a;this.na=c;a.ab();this.dn=this.Ea="";this.o=c.kb.aa()};b=h.i.nc.prototype;b.draw=function(){Uc(this);Vc(this);Wc(this);this.Ja.jb.Kr(this.Ea+"\n"+this.dn);this.na.L&&this.Ja.jb.aq();Xc(this)};function Xc(a){a.Ja.height=a.na.height;a.Ja.width=a.na.sj}function Uc(a){for(var c=0,d;d=a.na.Zu[c];c++)d.icon.aB.setAttribute("display","none")}
function Vc(a){a.Wp();for(var c=1;c<a.na.rows.length-1;c++){var d=a.na.rows[c];d.Uu?a.pk(d):d.Fb?a.Vp(d):d.hg?a.Xp(d):a.vu(d)}a.Sp();a.Up()}
b.Wp=function(){var a=this.na.Hb,c=a.elements,d=this.na.Hb;if(d.connection){var e=d.Ca+d.wd;P(d.connection.vc,this.na.L?-e:e,0)}this.Ea+=h.g.s.moveBy(a.Ca,this.na.Vn);for(d=0;e=c[d];d++)h.i.m.qg(e)?this.Ea+=this.o.Qj.Vr:h.i.m.jv(e)?this.Ea+=this.o.Qj.UC:h.i.m.fj(e)?this.Ea+=e.shape.Bg:h.i.m.Dh(e)?this.Ea+=this.o.yi.path:h.i.m.ud(e)&&(this.Ea+=h.g.s.U("h",e.width));this.Ea+=h.g.s.U("v",a.height)};b.pk=function(a){this.Ea+=this.o.pi.path+h.g.s.U("v",a.height-this.o.pi.height)};
b.Xp=function(a){var c=W(a);this.Wv(a);var d="function"==typeof c.shape.yd?c.shape.yd(c.height):c.shape.yd;this.Ea+=h.g.s.U("H",c.Ca+c.width)+d+h.g.s.U("v",a.height-c.Li)};b.Vp=function(a){var c=W(a);this.Ea+=h.g.s.U("H",c.Ca+c.wd+c.shape.width)+(c.shape.Rv+h.g.s.U("h",-(c.wd-this.o.hm.width))+this.o.hm.qr)+h.g.s.U("v",a.height-2*this.o.hm.height)+this.o.hm.Gn+h.g.s.U("H",a.Ca+a.width);this.Zv(a)};b.vu=function(a){this.Ea+=h.g.s.U("V",a.Nb+a.height)};
b.Sp=function(){var a=this.na.fb,c=a.elements;this.Yv();for(var d=0,e="",f=c.length-1,g;g=c[f];f--)h.i.m.rg(g)?e+=g.shape.Rv:h.i.m.Pk(g)?e+=h.g.s.U("H",a.Ca):h.i.m.qg(g)?e+=this.o.Qj.kp:h.i.m.jv(g)?(e+=this.o.Qj.sz,d=this.o.Qj.vC):h.i.m.ud(g)&&(e+=h.g.s.U("h",-1*g.width));this.Ea+=h.g.s.U("V",a.Ld-d);this.Ea+=e};
b.Up=function(){var a=this.na.P;if(this.na.P){var c=this.na.Bd+this.na.P.fk;P(this.Ja.P,this.na.L?-c:c,this.na.P.Uc)}a&&(c=a.Uc+a.height,a="function"==typeof a.shape.hl?a.shape.hl(a.height):a.shape.hl,this.Ea+=h.g.s.U("V",c)+a);this.Ea+="z"};
function Wc(a){for(var c=0,d;d=a.na.rows[c];c++)for(var e=0,f;f=d.elements[e];e++)if(h.i.m.og(f))a.Tp(f);else if(h.i.m.bj(f)||h.i.m.rf(f)){var g=a;if(h.i.m.rf(f))var k=f.vk.Aa();else h.i.m.bj(f)&&(k=f.icon.aB);var l=f.Hi-f.height/2,m=f.Ca,n="";g.na.L&&(m=-(m+f.width),f.qA&&(m+=f.width,n="scale(-1 1)"));h.i.m.bj(f)?(k.setAttribute("display","block"),k.setAttribute("transform","translate("+m+","+l+")"),f.icon.Oz()):k.setAttribute("transform","translate("+m+","+l+")"+n);g.na.td&&k.setAttribute("display",
"none")}}b.Tp=function(a){var c=a.width,d=a.height,e=a.Uc,f=a.Li+e;this.dn+=h.g.s.moveTo(a.Ca+a.ve,a.Hi-d/2)+h.g.s.U("v",e)+a.shape.yd+h.g.s.U("v",d-f)+h.g.s.U("h",c-a.ve)+h.g.s.U("v",-d)+"z";this.Xv(a)};b.Xv=function(a){var c=a.Hi-a.height/2;if(a.vc){var d=a.Ca+a.ve+a.fk;this.na.L&&(d*=-1);P(a.vc,d,c+a.Uc)}};b.Zv=function(a){var c=W(a);if(c.vc){var d=a.Ca+a.Kg+c.wd;this.na.L&&(d*=-1);P(c.vc,d,a.Nb)}};b.Wv=function(a){var c=W(a);if(c.vc){var d=a.Ca+a.width;this.na.L&&(d*=-1);P(c.vc,d,a.Nb)}};
b.Yv=function(){var a=this.na.fb;if(a.connection){var c=a.connection,d=c.Ca;P(c.vc,this.na.L?-d:d,a.Ld)}};h.h.Lf=function(a,c,d,e){var f=a?a.A.id:void 0;e&&e.getType()==h.D.types.Cc&&(f=e.ya.id);h.h.Lf.v.constructor.call(this,f);this.Za=a?a.id:null;this.Iv=d;this.Ev=e;this.Fe=c};h.g.object.T(h.h.Lf,h.h.pe);h.h.Lf.prototype.type=h.h.Eo;h.h.Lf.prototype.oa=function(){var a=h.h.Lf.v.oa.call(this);a.isCursor=this.Fe;a.blockId=this.Za;a.oldNode=this.Iv;a.newNode=this.Ev;return a};h.h.Lf.prototype.Z=function(a){h.h.Lf.v.Z.call(this,a);this.Fe=a.isCursor;this.Za=a.blockId;this.Iv=a.oldNode;this.Ev=a.newNode};
h.u.register(h.u.M.Ab,h.h.Eo,h.h.Lf);h.i.Mf=function(a,c,d){this.C=a;this.Rq=d;this.fl=null;this.o=c;this.Ni=null;a=this.Fe()?this.o.Zl:this.o.im;this.nd=d.gb||a};h.i.Mf.Zw="blocklyCursor";h.i.Mf.gy="blocklyMarker";h.i.Mf.Nx=.75;b=h.i.Mf.prototype;b.Aa=function(){return this.ra};b.Ek=function(){return this.Rq};b.Fe=function(){return"cursor"==this.Rq.type};
b.hb=function(){var a=this.Fe()?h.i.Mf.Zw:h.i.Mf.gy;this.ra=h.g.j.S(h.g.G.Oc,{"class":a},null);this.uf=h.g.j.S(h.g.G.Oc,{width:this.o.bm,height:this.o.Ct},this.ra);this.ug=h.g.j.S(h.g.G.Ve,{width:this.o.bm,height:this.o.Ct,style:"display: none"},this.uf);this.Jh=h.g.j.S(h.g.G.Ve,{"class":"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.uf);this.Ih=h.g.j.S(h.g.G.Te,{transform:"",style:"display: none"},this.uf);this.tf=h.g.j.S(h.g.G.Te,{transform:"",style:"display: none",fill:"none",
"stroke-width":this.o.$w},this.uf);this.Fe()&&(a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.nd+";transparent;transparent;",repeatCount:"indefinite"},h.g.j.S(h.g.G.ao,a,this.ug),h.g.j.S(h.g.G.ao,a,this.Ih),a.attributeName="stroke",h.g.j.S(h.g.G.ao,a,this.tf));return this.ra};function Yc(a,c){a.Fe()?(a.fl&&a.fl.wf(null),c.wf(a.Aa())):(a.fl&&a.fl.Hg(null),c.Hg(a.Aa()));a.fl=c}
b.draw=function(a,c){if(c){this.o=this.C.kb.aa();var d=this.Fe()?this.o.Zl:this.o.im;this.nd=this.Rq.gb||d;this.ug.setAttribute("fill",this.nd);this.Jh.setAttribute("stroke",this.nd);this.Ih.setAttribute("fill",this.nd);this.tf.setAttribute("stroke",this.nd);this.Fe()&&(d=this.nd+";transparent;transparent;",this.ug.firstChild.setAttribute("values",d),this.Ih.firstChild.setAttribute("values",d),this.tf.firstChild.setAttribute("values",d));d=c.ya.type;if(c.getType()==h.D.types.Jb)Zc(this,c);else if(c.getType()==
h.D.types.$g)Zc(this,c);else if(d==h.V.Qb){var e=c.ya;d=e.W();var f=e.Oh.x,g=e.Oh.y;e=h.g.s.moveTo(0,0)+ab(this.o,e).yd;this.Ih.setAttribute("d",e);this.Ih.setAttribute("transform","translate("+f+","+g+")"+(this.C.L?" scale(-1 1)":""));this.Ni=this.Ih;Yc(this,d);$c(this)}else if(d==h.V.Rb)g=c.ya,d=g.W(),f=0,g=g.Oh.y,e=v(d).width,this.C.L&&(f=-e),ad(this,f,g,e),Yc(this,d),$c(this);else if(c.getType()==h.D.types.Rf)Zc(this,c);else if(c.getType()==h.D.types.oc)d=c.ya,f=d.mf().width,g=d.mf().height,bd(this,
0,0,f,g),Yc(this,d),$c(this);else if(c.getType()==h.D.types.Cc)f=c.Gw,d=f.x,f=f.y,this.C.L&&(d-=this.o.bm),ad(this,d,f,this.o.bm),Yc(this,this.C),$c(this);else if(c.getType()==h.D.types.bh){d=c.ya;g=v(d);f=g.width+this.o.$l;g=g.height+this.o.$l;var k=e=-this.o.$l/2,l=-this.o.$l/2;this.C.L&&(k=-(f+e));bd(this,k,l,f,g);Yc(this,d);$c(this)}d=c.W();a=new (h.h.get(h.h.Eo))(d,this.Fe(),a,c);h.h.Ha(a);a=this.Ni.childNodes[0];void 0!==a&&a.beginElement&&a.beginElement()}else this.sb()};
function Zc(a,c){c=c.W();var d=c.width,e=c.height,f=e*h.i.Mf.Nx,g=a.o.Yw;if(c.$){var k=ab(a.o,c.$);e=k;d=h.g.s.moveBy(-g,f)+h.g.s.U("V",-g)+h.g.s.U("H",a.o.Pj)+e.Bg+h.g.s.U("H",d+2*g)+h.g.s.U("V",f);a.tf.setAttribute("d",d)}else c.P?(f=k=ab(a.o,c.P),d=h.g.s.moveBy(d,0)+h.g.s.U("h",-(d-f.width))+h.g.s.U("v",a.o.Ai)+f.yd+h.g.s.U("V",e)+h.g.s.U("H",d),a.tf.setAttribute("d",d)):(d=h.g.s.moveBy(-g,f)+h.g.s.U("V",-g)+h.g.s.U("H",d+2*g)+h.g.s.U("V",f),a.tf.setAttribute("d",d));a.C.L&&a.yk(a.tf);a.Ni=a.tf;
Yc(a,c);$c(a)}function $c(a){a.sb();a.Ni.style.display=""}function ad(a,c,d,e){a.ug.setAttribute("x",c);a.ug.setAttribute("y",d);a.ug.setAttribute("width",e);a.Ni=a.ug}function bd(a,c,d,e,f){a.Jh.setAttribute("x",c);a.Jh.setAttribute("y",d);a.Jh.setAttribute("width",e);a.Jh.setAttribute("height",f);a.Ni=a.Jh}b.yk=function(a){a.setAttribute("transform","scale(-1 1)")};b.sb=function(){this.ug.style.display="none";this.Jh.style.display="none";this.Ih.style.display="none";this.tf.style.display="none"};
b.H=function(){this.ra&&h.g.j.removeNode(this.ra)};h.i.Ue=function(a,c,d){this.bb=d;this.Le=a;this.zb=h.g.j.S(h.g.G.Te,{"class":"blocklyPath"},this.Le);this.style=c;this.Qq=this.lk=null};b=h.i.Ue.prototype;b.Kr=function(a){this.zb.setAttribute("d",a)};b.aq=function(){this.zb.setAttribute("transform","scale(-1 1)")};b.wf=function(a){a?(this.Le.appendChild(a),this.lk=a):this.lk=null};b.Hg=function(a){a?(this.lk?this.Le.insertBefore(a,this.lk):this.Le.appendChild(a),this.Qq=a):this.Qq=null};
b.Tb=function(a){this.zb.setAttribute("stroke",this.style.Ki);this.zb.setAttribute("fill",this.style.ih);this.yw(a.Da);this.Yr(!a.isEnabled()||Jb(a))};b.Wh=function(a){this.style=a};function L(a,c,d){d?h.g.j.Bb(a.Le,c):h.g.j.Jc(a.Le,c)}b.ww=function(a){a?this.zb.setAttribute("filter","url(#"+this.bb.Um+")"):this.zb.setAttribute("filter","none")};b.yw=function(a){a&&(this.zb.setAttribute("stroke","none"),this.zb.setAttribute("fill",this.style.Dm))};
b.Yr=function(a){L(this,"blocklyDisabled",a);a&&this.zb.setAttribute("fill","url(#"+this.bb.qu+")")};function Ub(a,c){L(a,"blocklySelected",c)};h.i.Xe=function(a){this.name=a;this.mr=this.o=null};b=h.i.Xe.prototype;b.Pd=function(){return this.name+"-renderer"};b.Wa=function(a,c){this.o=this.Lq();c&&(this.mr=c,h.g.object.vg(this.o,c));this.o.ul(a);this.o.Wa()};b.hb=function(a,c){this.o.hb(a,this.name+"-"+c.name,"."+this.Pd()+"."+c.Pd())};b.xr=function(a,c){var d=this.aa();d.H();this.o=this.Lq();this.mr&&h.g.object.vg(this.o,this.mr);this.o.Jn=d.Jn;this.o.ul(c);this.o.Wa();this.hb(a,c)};b.H=function(){this.o&&this.o.H()};b.Lq=function(){return new h.i.Re};
b.vv=function(a){return new h.i.Kd(this,a)};b.tv=function(a,c){return new h.i.nc(a,c)};b.uv=function(a,c){return new h.i.Ue(a,c,this.o)};b.aa=function(){return this.o};b.Ga=function(a){var c=this.vv(a);c.measure();this.tv(a,c).draw()};h.Y={};h.Y.Re=function(){h.Y.Re.v.constructor.call(this);this.qo=!1;this.Pb=1;this.iy=30;this.mt=-this.Io/2};h.g.object.T(h.Y.Re,h.i.Re);h.Y.Re.prototype.eq=function(a){return h.Y.Re.v.eq.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.gm+";","stroke: none;","}"])};h.Y.Ks=function(a){this.na=a;this.Kk=this.ea="";this.Sb=this.na.L;a=a.kb;this.o=a.aa();this.Wc=a.Wc;this.Hc=this.Wc.OFFSET;this.lr=this.Wc.uy;this.aj=this.Wc.Vx;this.ll=this.Wc.Mo;this.FB=this.Wc.si;this.KC=this.Wc.yi;this.nv=this.Wc.pi};h.Y.Ks.prototype.pk=function(a){this.na.L&&(this.ea+=this.nv.Bg+h.g.s.U("v",a.height-this.nv.height-this.Hc))};
function cd(a,c){var d=c.Ca+c.width-a.Hc;c.Au&&(a.ea+=h.g.s.U("H",d));a.Sb&&(a.ea+=h.g.s.U("H",d),c.height>a.Hc&&(a.ea+=h.g.s.U("V",c.Nb+c.height-a.Hc)))};h.Y.Kf=function(a,c){h.Y.Kf.v.constructor.call(this,a,c);this.$f&&(this.width+=this.o.Pb,this.height+=this.o.Pb)};h.g.object.T(h.Y.Kf,h.i.Kf);h.Y.Tf=function(a,c){h.Y.Tf.v.constructor.call(this,a,c);this.$f&&(this.height+=this.o.Pb)};h.g.object.T(h.Y.Tf,h.i.Tf);h.Y.Kd=function(a,c){h.Y.Kd.v.constructor.call(this,a,c)};h.g.object.T(h.Y.Kd,h.i.Kd);b=h.Y.Kd.prototype;b.rr=function(){h.Y.Kd.v.rr.call(this);this.Ja.O.length&&this.Ja.O[this.Ja.O.length-1].type==h.Ia.Qc||(this.fb.minHeight=this.o.gd-this.o.Pb)};
b.Kt=function(a,c){this.cj&&a.type==h.Ia.qe?(c.elements.push(new h.Y.Kf(this.o,a)),c.uq=!0):a.type==h.Ia.Qc?(c.elements.push(new h.Y.Tf(this.o,a)),c.Fb=!0):a.type==h.Ia.qe?(c.elements.push(new h.i.cm(this.o,a)),c.hg=!0):a.type==h.Ia.je&&(c.minHeight=Math.max(c.minHeight,this.o.zs),c.Zi=!0);this.cj||null!=c.align||(c.align=a.align)};
b.Jt=function(){for(var a=!1,c=0,d;d=this.rows[c];c++)d.hg&&(a=!0);for(c=0;d=this.rows[c];c++){var e=d.elements;d.elements=[];d.Wn()&&d.elements.push(new h.i.Se(this.o,this.nh(null,e[0])));if(e.length){for(var f=0;f<e.length-1;f++){d.elements.push(e[f]);var g=this.nh(e[f],e[f+1]);d.elements.push(new h.i.Se(this.o,g))}d.elements.push(e[e.length-1]);d.rk()&&(g=this.nh(e[e.length-1],null),a&&d.Zi&&(g+=this.o.So),d.elements.push(new h.i.Se(this.o,g)))}}};
b.nh=function(a,c){if(!a)return c&&h.i.m.rf(c)&&c.sd?this.o.gd:c&&h.i.m.og(c)?this.o.Ws:c&&h.i.m.Eh(c)?this.o.ot:this.o.qc;if(!h.i.m.pg(a)&&(!c||h.i.m.Eh(c)))return h.i.m.rf(a)&&a.sd?this.o.gd:h.i.m.bj(a)?2*this.o.qc+1:h.i.m.Dh(a)?this.o.me:h.i.m.kB(a)?this.o.qc:h.i.m.qg(a)?this.o.ly:h.i.m.gv(a)?this.o.me:this.o.qc;if(h.i.m.pg(a)&&!c){if(h.i.m.Ok(a))return this.o.me;if(h.i.m.og(a))return this.o.qc;if(h.i.m.Eh(a))return this.o.me}if(!h.i.m.pg(a)&&c&&h.i.m.pg(c)){if(h.i.m.rf(a)&&a.sd){if(h.i.m.og(c)||
h.i.m.Ok(c))return this.o.Ly}else{if(h.i.m.og(c)||h.i.m.Ok(c))return this.o.Ws;if(h.i.m.Eh(c))return this.o.qc}return this.o.qc-1}if(h.i.m.bj(a)&&c&&!h.i.m.pg(c))return this.o.qc;if(h.i.m.og(a)&&c&&h.i.m.rf(c))return c.sd?this.o.gd:this.o.qc;if(h.i.m.Pk(a)&&c){if(h.i.m.Dh(c))return this.o.me;if(h.i.m.fj(c))return c.wd;if(h.i.m.rg(c))return a=(this.L?1:-1)*this.o.Pb/2,c.wd+a}if(h.i.m.qg(a)&&c){if(h.i.m.fj(c))return c.wd-this.o.fe;if(h.i.m.rg(c))return a=(this.L?1:-1)*this.o.Pb/2,c.wd-this.o.fe+a}return h.i.m.rf(a)&&
c&&h.i.m.rf(c)&&a.sd==c.sd||c&&h.i.m.gv(c)?this.o.qc:this.o.gd};b.Ou=function(a,c){return h.i.m.nn(a)&&h.i.m.fn(c)?this.o.sx:h.i.m.nn(a)||h.i.m.fn(c)?this.o.me:a.hg&&c.hg?this.o.qc:!a.Fb&&c.Fb?this.o.Pw:a.Fb&&c.Fb||!a.Fb&&c.Zi||a.Zi?this.o.qc:this.o.gd};
b.Fu=function(a,c){if(h.i.m.ud(c))return a.Nb+c.height/2;if(h.i.m.fn(a))return a=a.Nb+a.height-a.mk,h.i.m.rg(c)?a+c.height/2:a-c.height/2;if(h.i.m.nn(a))return h.i.m.Dh(c)?a.cf-c.height/2:a.cf+c.height/2;var d=a.Nb;h.i.m.rf(c)||h.i.m.bj(c)?(d+=c.height/2,(a.uq||a.Fb)&&c.height+this.o.rt<=a.height&&(d+=this.o.rt)):d=h.i.m.og(c)?d+c.height/2:d+a.height/2;return d};
b.ap=function(){if(this.cj){for(var a=0,c=null,d=this.rows.length-1,e;e=this.rows[d];d--)e.Wq=a,h.i.m.gB(e)&&(e.Fb&&Rc(this,e),c&&c.Fb&&e.width<c.width?e.Wq=c.width:a=e.width,c=e);for(d=a=0;e=this.rows[d];d++)e.Fb?a=this.Dk(e):h.i.m.ud(e)?e.width=Math.max(a,e.Wq):(a=Math.max(a,e.Wq)-e.width,0<a&&Sc(e,a),a=e.width)}else h.Y.Kd.v.ap.call(this)};b.Dk=function(a){return this.cj&&a.Fb?this.Kg+this.o.iy+this.Bd:h.Y.Kd.v.Dk.call(this,a)};
b.xu=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++){e.Nb=c;e.Ca=this.Bd;c+=e.height;a=Math.max(a,e.$d);var f=c-this.Hb.Fi;e==this.fb&&f<this.o.Lj&&(f=this.o.Lj-f,this.fb.height+=f,c+=f);Tc(this,e)}this.P&&this.Ja.ga&&this.Ja.ga.isConnected()&&(a=Math.max(a,v(this.Ja.ga.ta()).width-this.o.Pb));this.fb.Ld=c-this.fb.mk;this.sj=a+this.Bd+this.o.Pb;this.width+=this.o.Pb;this.height=c+this.o.Pb;this.Vn=this.Hb.cf};h.Y.nc=function(a,c){h.Y.nc.v.constructor.call(this,a,c);this.Ee=new h.Y.Ks(c)};h.g.object.T(h.Y.nc,h.i.nc);b=h.Y.nc.prototype;b.draw=function(){Uc(this);Vc(this);Wc(this);var a=this.Ja.jb;a.Kr(this.Ea+"\n"+this.dn);var c=this.Ee;a.Xh.setAttribute("d",c.ea+"\n"+c.Kk);this.na.L&&a.aq();Xc(this)};
b.Wp=function(){var a=this.Ee,c=this.na.Hb;a.ea+=h.g.s.moveBy(c.Ca,a.na.Vn);for(var d=0,e;e=c.elements[d];d++)h.i.m.Pk(e)?a.ea+=a.Wc.kt:h.i.m.qg(e)?a.ea+=a.lr.Vr(a.Sb):h.i.m.fj(e)?a.ea+=a.FB.Bg:h.i.m.Dh(e)?a.ea+=a.KC.path(a.Sb):h.i.m.ud(e)&&0!=e.width&&(a.ea+=h.g.s.U("H",e.Ca+e.width-a.Hc));a.ea+=h.g.s.U("H",c.Ca+c.width-a.Hc);cd(this.Ee,this.na.Hb);h.Y.nc.v.Wp.call(this)};b.pk=function(a){this.Ee.pk(a);h.Y.nc.v.pk.call(this,a)};
b.Xp=function(a){var c=this.Ee,d=W(a);if(c.Sb){var e=a.height-d.Li;c.ea+=h.g.s.moveTo(d.Ca+d.width-c.Hc,a.Nb)+c.ll.yd(c.Sb)+h.g.s.U("v",e)}else c.ea+=h.g.s.moveTo(d.Ca+d.width,a.Nb)+c.ll.yd(c.Sb);h.Y.nc.v.Xp.call(this,a)};
b.Vp=function(a){var c=this.Ee,d=W(a);if(c.Sb){var e=a.height-2*c.aj.height;c.ea+=h.g.s.moveTo(d.Ca,a.Nb)+c.aj.qr(c.Sb)+h.g.s.U("v",e)+c.aj.Gn(c.Sb)+h.g.s.lineTo(a.width-d.Ca-c.aj.width,0)}else c.ea+=h.g.s.moveTo(d.Ca,a.Nb+a.height)+c.aj.Gn(c.Sb)+h.g.s.lineTo(a.width-d.Ca-c.aj.width,0);h.Y.nc.v.Vp.call(this,a)};b.vu=function(a){cd(this.Ee,a);this.Ea+=h.g.s.U("H",a.Ca+a.width)+h.g.s.U("V",a.Nb+a.height)};
b.Sp=function(){var a=this.Ee,c=this.na.fb;if(a.Sb)a.ea+=h.g.s.U("V",c.Ld-a.Hc);else{var d=a.na.fb.elements[0];h.i.m.Pk(d)?a.ea+=h.g.s.moveTo(c.Ca+a.Hc,c.Ld-a.Hc):h.i.m.qg(d)&&(a.ea+=h.g.s.moveTo(c.Ca,c.Ld),a.ea+=a.lr.kp())}h.Y.nc.v.Sp.call(this)};
b.Up=function(){var a=this.Ee,c=a.na.P;c&&(c=c.Uc+c.height,a.Sb?a.ea+=h.g.s.moveTo(a.na.Bd,c):(a.ea+=h.g.s.moveTo(a.na.Bd+a.Hc,a.na.fb.Ld-a.Hc),a.ea+=h.g.s.U("V",c)),a.ea+=a.ll.hl(a.Sb));a.Sb||(c=a.na.Hb,a.ea=h.i.m.qg(c.elements[0])?a.ea+h.g.s.U("V",a.lr.height):a.ea+h.g.s.U("V",c.cf+a.Hc));h.Y.nc.v.Up.call(this)};
b.Tp=function(a){var c=this.Ee,d=c.Hc,e=a.Ca+a.ve,f=a.Hi-a.height/2,g=a.width-a.ve,k=f+d;if(c.Sb){f=a.Uc-d;var l=a.height-(a.Uc+a.Li)+d;c.Kk+=h.g.s.moveTo(e-d,k)+h.g.s.U("v",f)+c.ll.yd(c.Sb)+h.g.s.U("v",l)+h.g.s.U("h",g)}else c.Kk+=h.g.s.moveTo(a.Ca+a.width+d,k)+h.g.s.U("v",a.height)+h.g.s.U("h",-g)+h.g.s.moveTo(e,f+a.Uc)+c.ll.yd(c.Sb);h.Y.nc.v.Tp.call(this,a)};b.Xv=function(a){var c=a.Hi-a.height/2;if(a.vc){var d=a.Ca+a.ve+this.o.Pb;this.na.L&&(d*=-1);P(a.vc,d,c+a.Uc+this.o.Pb)}};
b.Zv=function(a){var c=W(a);if(c.vc){var d=a.Ca+a.Kg+c.wd;d=this.na.L?-1*d:d+this.o.Pb;P(c.vc,d,a.Nb+this.o.Pb)}};b.Wv=function(a){var c=W(a);if(c.vc){var d=a.Ca+a.width+this.o.Pb;this.na.L&&(d*=-1);P(c.vc,d,a.Nb)}};b.Yv=function(){var a=this.na.fb;if(a.connection){var c=a.connection,d=c.Ca;P(c.vc,(this.na.L?-d:d)+this.o.Pb/2,a.Ld+this.o.Pb)}};h.Y.Js=function(a){this.Mi=a;this.OFFSET=.5;this.kt=h.g.s.moveBy(this.OFFSET,this.OFFSET)};b=h.Y.Js.prototype;b.Wa=function(){this.Vx=dd(this);this.uy=ed(this);this.Mo=this.Oq();this.si=this.Nq();this.pi=this.Mq();this.yi=this.Pq()};
function dd(a){var c=a.Mi.fe;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c+a)-a,e=h.g.s.moveBy(d,d)+h.g.s.arc("a","0 0,0",c,h.g.s.Ba(-d-a,c-d)),f=h.g.s.arc("a","0 0,0",c+a,h.g.s.Ba(c+a,c+a)),g=h.g.s.moveBy(d,-d)+h.g.s.arc("a","0 0,0",c+a,h.g.s.Ba(c-d,d+a));return{width:c+a,height:c,qr:function(k){return k?e:""},Gn:function(k){return k?f:g}}}
function ed(a){var c=a.Mi.fe;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c-a)+a,e=h.g.s.moveBy(d,d)+h.g.s.arc("a","0 0,1",c-a,h.g.s.Ba(c-d,-d+a)),f=h.g.s.moveBy(a,c)+h.g.s.arc("a","0 0,1",c-a,h.g.s.Ba(c,-c+a)),g=-d,k=h.g.s.moveBy(d,g)+h.g.s.arc("a","0 0,1",c-a,h.g.s.Ba(-d+a,-g-c));return{height:c,Vr:function(l){return l?e:f},kp:function(){return k}}}
b.Oq=function(){var a=this.Mi.So,c=this.Mi.Tj,d=h.g.s.moveBy(-2,-c+3.4)+h.g.s.lineTo(-.45*a,-2.1),e=h.g.s.U("v",2.5)+h.g.s.moveBy(.97*-a,2.5)+h.g.s.curve("q",[h.g.s.Ba(.05*-a,10),h.g.s.Ba(.3*a,9.5)])+h.g.s.moveBy(.67*a,-1.9)+h.g.s.U("v",2.5),f=h.g.s.U("v",-1.5)+h.g.s.moveBy(-.92*a,-.5)+h.g.s.curve("q",[h.g.s.Ba(-.19*a,-5.5),h.g.s.Ba(0,-11)])+h.g.s.moveBy(.92*a,1),g=h.g.s.moveBy(-5,c-.7)+h.g.s.lineTo(.46*a,-2.1);return{width:a,height:c,hl:function(k){return k?d:f},yd:function(k){return k?e:g}}};
b.Nq=function(){return{Bg:h.g.s.U("h",this.OFFSET)+this.Mi.si.Bg}};b.Mq=function(){return{Bg:h.g.s.lineTo(5.1,2.6)+h.g.s.moveBy(-10.2,6.8)+h.g.s.lineTo(5.1,2.6),height:12,width:10.2}};b.Pq=function(){var a=this.Mi.yi.height,c=h.g.s.moveBy(25,-8.7)+h.g.s.curve("c",[h.g.s.Ba(29.7,-6.2),h.g.s.Ba(57.2,-.5),h.g.s.Ba(75,8.7)]),d=h.g.s.curve("c",[h.g.s.Ba(17.8,-9.2),h.g.s.Ba(45.3,-14.9),h.g.s.Ba(75,-8.7)])+h.g.s.moveTo(100.5,a+.5);return{path:function(e){return e?c:d}}};h.Y.Ue=function(a,c,d){this.bb=d;this.Le=a;this.Fl=h.g.j.S(h.g.G.Te,{"class":"blocklyPathDark",transform:"translate(1,1)"},this.Le);this.zb=h.g.j.S(h.g.G.Te,{"class":"blocklyPath"},this.Le);this.Xh=h.g.j.S(h.g.G.Te,{"class":"blocklyPathLight"},this.Le);this.wp="#000000";this.style=c};h.g.object.T(h.Y.Ue,h.i.Ue);b=h.Y.Ue.prototype;b.Kr=function(a){this.zb.setAttribute("d",a);this.Fl.setAttribute("d",a)};
b.aq=function(){this.zb.setAttribute("transform","scale(-1 1)");this.Xh.setAttribute("transform","scale(-1 1)");this.Fl.setAttribute("transform","translate(1,1) scale(-1 1)")};b.Tb=function(a){this.Xh.style.display="";this.Fl.style.display="";this.Xh.setAttribute("stroke",this.style.Ki);this.Fl.setAttribute("fill",this.wp);h.Y.Ue.v.Tb.call(this,a);this.zb.setAttribute("stroke","none")};b.Wh=function(a){this.style=a;this.wp=h.g.gb.hp("#000",this.style.ih,.2)||this.wp};
b.ww=function(a){a?(this.zb.setAttribute("filter","url(#"+this.bb.Um+")"),this.Xh.style.display="none"):(this.zb.setAttribute("filter","none"),this.Xh.style.display="inline")};b.yw=function(a){a&&(this.Xh.style.display="none",this.Fl.setAttribute("fill",this.style.Dm),this.zb.setAttribute("stroke","none"),this.zb.setAttribute("fill",this.style.Dm))};b.Yr=function(a){h.Y.Ue.v.Yr.call(this,a);a&&this.zb.setAttribute("stroke","none")};h.Y.Xe=function(a){h.Y.Xe.v.constructor.call(this,a);this.Wc=null};h.g.object.T(h.Y.Xe,h.i.Xe);b=h.Y.Xe.prototype;b.Wa=function(a,c){h.Y.Xe.v.Wa.call(this,a,c);this.Wc=new h.Y.Js(this.aa());this.Wc.Wa()};b.xr=function(a,c){h.Y.Xe.v.xr.call(this,a,c);this.Wc.Wa()};b.Lq=function(){return new h.Y.Re};b.vv=function(a){return new h.Y.Kd(this,a)};b.tv=function(a,c){return new h.Y.nc(a,c)};b.uv=function(a,c){return new h.Y.Ue(a,c,this.aa())};h.i.register("geras",h.Y.Xe);h.K.ADD_COMMENT="Add Comment";h.K.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";h.K.CLEAN_UP="Clean up Blocks";h.K.COLLAPSE_ALL="Collapse Blocks";h.K.COLLAPSE_BLOCK="Collapse Block";h.K.DELETE_ALL_BLOCKS="Delete all %1 blocks?";h.K.DELETE_BLOCK="Delete Block";h.K.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";h.K.DELETE_X_BLOCKS="Delete %1 Blocks";h.K.DIALOG_CANCEL="Cancel";h.K.DIALOG_OK="OK";
h.K.DISABLE_BLOCK="Disable Block";h.K.DUPLICATE_BLOCK="Duplicate";h.K.DUPLICATE_COMMENT="Duplicate Comment";h.K.ENABLE_BLOCK="Enable Block";h.K.EXPAND_ALL="Expand Blocks";h.K.EXPAND_BLOCK="Expand Block";h.K.EXTERNAL_INPUTS="External Inputs";h.K.HELP="Help";h.K.INLINE_INPUTS="Inline Inputs";h.K.NEW_VARIABLE="Create variable...";h.K.NEW_VARIABLE_TITLE="New variable name:";h.K.PROCEDURES_DEFNORETURN_PROCEDURE="do something";h.K.REDO="Redo";h.K.REMOVE_COMMENT="Remove Comment";h.K.RENAME_VARIABLE="Rename variable...";
h.K.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";h.K.UNDO="Undo";h.K.UNNAMED_KEY="unnamed";h.K.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";h.K.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";h.K.WORKSPACE_ARIA_LABEL="Blockly Workspace";h.K.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";h.K.PROCEDURES_DEFRETURN_PROCEDURE=h.K.PROCEDURES_DEFNORETURN_PROCEDURE;var BlocklyStorage={},fd=null,gd=null;function hd(){var a=fd();id("xml="+encodeURIComponent(a))}var X={};function id(a){var c=jd;X["/storage"]&&X["/storage"].abort();X["/storage"]=new XMLHttpRequest;X["/storage"].onload=function(){200===this.status?c&&c.call(this):kd(V("Games_httpRequestError")+"\nXHR status: "+this.status);X["/storage"]=null};X["/storage"].open("POST","/storage");X["/storage"].setRequestHeader("Content-Type","application/x-www-form-urlencoded");X["/storage"].send(a)}
function jd(){window.location.hash=this.responseText.trim();kd(V("Games_linkAlert").replace("%1",window.location.href));gd=fd()}function kd(a){if("object"===typeof Y){var c=document.getElementById("linkButton");Y.NC(c,a)}else alert(a)};var z=null,ld="";function md(){Kc();var a=document.getElementById("linkButton");a&&(Bc?a.style.display="none":(fd=nd,Pc(a,hd)));(a=document.getElementById("languageMenu"))&&a.addEventListener("change",od,!0)}function nd(){var a=h.I.bD();if(1==z.cc(!1).length&&a.querySelector){var c=a.querySelector("block");c&&(c.removeAttribute("x"),c.removeAttribute("y"))}return h.I.xe(a)}function pd(){"object"==typeof BlocklyStorage&&null!==gd&&gd!=nd()&&(window.location.hash="",gd=null)}
function qd(a){var c=document.getElementById("toolbox");c&&(a.toolbox=c);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;z=h.kg("blockly",a);z.sf.push(pd)}function rd(){window.location=(Bc?"index.html":"./")+"?lang="+zc}
function od(){window.sessionStorage&&(window.sessionStorage.rv=nd());var a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var c=window.location.search;c=1>=c.length?"?lang="+a:/[?&]lang=[^&]*/.test(c)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c}
function sd(){10>U?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+zc+"&level="+(U+1):rd()}function td(){var a="".replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")};var Y={qf:!1,nu:null,Mm:null,wl:function(a,c,d,e,f,g){function k(){if(Y.qf){l.style.visibility="visible";l.style.zIndex=10;m.style.visibility="hidden";var q=a.getElementsByClassName("primary");q.length||(q=a.getElementsByClassName("secondary"),q.length||(q=a.getElementsByTagName("button")));q.length&&q[0].focus()}}if(!a)throw TypeError("Content not found: "+a);Y.qf&&Y.uh(!1);h.oh()&&h.dc(!0);Y.qf=!0;Y.nu=c;Y.Mm=g;var l=document.getElementById("dialog");g=document.getElementById("dialogShadow");var m=
document.getElementById("dialogBorder"),n;for(n in f)l.style[n]=f[n];e&&(g.style.visibility="visible",g.style.opacity=.3,g.style.zIndex=9,e=document.createElement("div"),e.id="dialogHeader",l.appendChild(e),Y.Fp=h.gp(e,"mousedown",null,Y.cA));f=a.getElementsByClassName("dialogOk");for(e=0;e<f.length;e++)f[e].textContent=h.K.DIALOG_OK;f=a.getElementsByClassName("dialogCancel");for(e=0;e<f.length;e++)f[e].textContent=h.K.DIALOG_CANCEL;l.appendChild(a);a.className=a.className.replace("dialogHiddenContent",
"");try{c.blur()}catch(q){}d&&c?(Y.sn(c,!1,.2),Y.sn(l,!0,.8),setTimeout(k,175)):k()},ou:0,pu:0,cA:function(a){Y.Ip();if(!h.g.Qk(a)){var c=document.getElementById("dialog");Y.ou=c.offsetLeft-a.clientX;Y.pu=c.offsetTop-a.clientY;Y.Hp=h.gp(document,"mouseup",null,Y.Ip);Y.Gp=h.gp(document,"mousemove",null,Y.dA);a.stopPropagation()}},dA:function(a){var c=document.getElementById("dialog"),d=Y.ou+a.clientX;a=Y.pu+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-c.offsetHeight);d=Math.max(d,0);d=
Math.min(d,window.innerWidth-c.offsetWidth);c.style.left=d+"px";c.style.top=a+"px"},Ip:function(){Y.Hp&&(h.Xr(Y.Hp),Y.Hp=null);Y.Gp&&(h.Xr(Y.Gp),Y.Gp=null)},uh:function(a){function c(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(Y.qf){Y.Ip();Y.Fp&&(h.Xr(Y.Fp),Y.Fp=null);Y.qf=!1;Y.Mm&&Y.Mm();Y.Mm=null;var d=!1===a?null:Y.nu;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?
(Y.sn(a,!1,.8),Y.sn(d,!0,.2),setTimeout(c,175)):c();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},sn:function(a,c,d){function e(){f.style.width=g.width+"px";f.style.height=g.height+"px";f.style.left=g.x+"px";f.style.top=g.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),g=Y.uA(a);c?(f.className="dialogAnimate",
setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},uA:function(a){var c=h.g.style.ph(a);c={x:c.x,y:c.y};a.getBBox?(a=a.getBBox(),c.height=a.height,c.width=a.width):(c.height=a.offsetHeight,c.width=a.offsetWidth);return c},NC:function(a,c){var d=document.getElementById("containerStorage");d.textContent="";c=c.split("\n");for(var e=0;e<c.length;e++){var f=document.createElement("p");f.appendChild(document.createTextNode(c[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");
Y.wl(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},Y.Sr);Y.Qr()},fz:function(){if(!Lc(U))if(Y.qf||z.Yc())setTimeout(Y.fz,15E3);else{var a=document.getElementById("dialogAbort"),c=document.getElementById("abortCancel");c.addEventListener("click",Y.uh,!0);c.addEventListener("touchend",Y.uh,!0);c=document.getElementById("abortOk");c.addEventListener("click",rd,!0);c.addEventListener("touchend",rd,!0);Y.wl(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",
Y.Gt,!0)});document.body.addEventListener("keydown",Y.Gt,!0)}},FG:function(){var a=document.getElementById("dialogDone");if(z){var c=document.getElementById("dialogLinesText");c.textContent="";var d=td();var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=
d);d=1==e?V("Games_linesOfCode1"):V("Games_linesOfCode2").replace("%1",String(e));c.appendChild(document.createTextNode(d))}d=10>U?V("Games_nextLevel").replace("%1",String(U+1)):V("Games_finalLevel");c=document.getElementById("doneCancel");c.addEventListener("click",Y.uh,!0);c.addEventListener("touchend",Y.uh,!0);c=document.getElementById("doneOk");c.addEventListener("click",sd,!0);c.addEventListener("touchend",sd,!0);Y.wl(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",
Y.au,!0)});document.body.addEventListener("keydown",Y.au,!0);document.getElementById("dialogDoneText").textContent=d},Nm:function(a){!Y.qf||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(Y.uh(!0),a.stopPropagation(),a.preventDefault())},Qr:function(){document.body.addEventListener("keydown",Y.Nm,!0)},Sr:function(){document.body.removeEventListener("keydown",Y.Nm,!0)},au:function(a){Y.Nm(a);13!=a.keyCode&&32!=a.keyCode||sd()},Gt:function(a){Y.Nm(a);13!=a.keyCode&&32!=a.keyCode||rd()}};
window.BlocklyDialogs=Y;Y.hideDialog=Y.uh;var ud=ud||{};function vd(a,c){function d(){}d.prototype=c.prototype;a.v=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.rG=function(e,f,g){return c.prototype[f].apply(e,Array.prototype.slice.call(arguments,2))}}if(!wd){var wd,xd="";"undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(xd=navigator.userAgent);var yd=0==xd.indexOf("Opera");wd={sH:{oE:"ScriptEngine"in window},tF:yd,Id:!yd&&-1!=xd.indexOf("MSIE"),At:!yd&&-1!=xd.indexOf("WebKit")}}if(!zd)var zd={};
if(!Ad)var Ad={};if(!Bd)var Bd={};if(!Cd)var Cd={};if(!Dd)var Dd={};if(!Ed)var Ed={};var Fd=ud.ex?{EH:!0}:{},Gd=ud.ex?{FH:!0}:{};function Hd(){throw Error("Do not instantiate directly");}Hd.prototype.fu=null;Hd.prototype.toString=function(){return this.content};function Id(a){if(null!=a)switch(a.fu){case 1:return 1;case -1:return-1;case 0:return 0}return null}function Jd(){Hd.call(this)}vd(Jd,Hd);Jd.prototype.gu=Fd;
function Z(a){return null!=a&&a.gu===Fd?a:Kd(String(String(a)).replace(Ld,Md),Id(a))}var Kd=function(a){function c(){}c.prototype=a.prototype;return function(d,e){var f=new c;f.content=String(d);void 0!==e&&(f.fu=e);return f}}(Jd),Nd={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};
function Md(a){return Nd[a]}var Ld=/[\x00\x22\x26\x27\x3c\x3e]/g;function Od(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary dialogOk" onclick="BlocklyDialogs.hideDialog(true)"></button></div>'};function Pd(){var a={lang:zc,ZA:Bc},c='<table width="100%"><tr><td><h1><span id="title">'+((a.ZA?'<a href="index.html?lang='+Z(a.lang)+'">':'<a href="./?lang='+Z(a.lang)+'">')+"Blockly Games</a> : "+Z("Puzzle")+"</span>");if(a.level){for(var d=" &nbsp; ",e=a.tB+1,f=1;f<e;f++){var g="?lang="+Z(a.lang)+"&level="+Z(f);d+=" "+(f==a.level?'<span class="level_number level_done" id="level'+Z(f)+'">'+Z(f)+"</span>":f==a.tB?'<a class="level_number" id="level'+Z(f)+'" href="'+Z(g)+'">'+Z(f)+"</a>":'<a class="level_dot" id="level'+
Z(f)+'" href="'+Z(g)+'"></a>')}a=d}else a="";return'<div style="display: none"><span id="Puzzle_animal1">Duck</span><span id="Puzzle_animal1Pic">duck.jpg</span><span id="Puzzle_animal1PicHeight">70</span><span id="Puzzle_animal1PicWidth">100</span><span id="Puzzle_animal1Legs">&nbsp;&nbsp;2&nbsp;&nbsp;</span><span id="Puzzle_animal1Trait1">Feathers</span><span id="Puzzle_animal1Trait2">Beak</span><span id="Puzzle_animal1HelpUrl">https://en.wikipedia.org/wiki/Duck</span><span id="Puzzle_animal2">Cat</span><span id="Puzzle_animal2Pic">cat.jpg</span><span id="Puzzle_animal2PicHeight">70</span><span id="Puzzle_animal2PicWidth">100</span><span id="Puzzle_animal2Legs">&nbsp;&nbsp;4&nbsp;&nbsp;</span><span id="Puzzle_animal2Trait1">Whiskers</span><span id="Puzzle_animal2Trait2">Fur</span><span id="Puzzle_animal2HelpUrl">https://en.wikipedia.org/wiki/Cat</span><span id="Puzzle_animal3">Bee</span><span id="Puzzle_animal3Pic">bee.jpg</span><span id="Puzzle_animal3PicHeight">70</span><span id="Puzzle_animal3PicWidth">100</span><span id="Puzzle_animal3Legs">&nbsp;&nbsp;6&nbsp;&nbsp;</span><span id="Puzzle_animal3Trait1">Honey</span><span id="Puzzle_animal3Trait2">Stinger</span><span id="Puzzle_animal3HelpUrl">https://en.wikipedia.org/wiki/Bee</span><span id="Puzzle_animal4">Snail</span><span id="Puzzle_animal4Pic">snail.jpg</span><span id="Puzzle_animal4PicHeight">70</span><span id="Puzzle_animal4PicWidth">100</span><span id="Puzzle_animal4Legs">&nbsp;&nbsp;0&nbsp;&nbsp;</span><span id="Puzzle_animal4Trait1">Shell</span><span id="Puzzle_animal4Trait2">Slime</span><span id="Puzzle_animal4HelpUrl">https://en.wikipedia.org/wiki/Snail</span><span id="Puzzle_picture">picture:</span><span id="Puzzle_legs">legs:</span><span id="Puzzle_legsChoose">choose...</span><span id="Puzzle_traits">traits:</span><span id="Puzzle_error0">Perfect!\\nAll %1 blocks are correct.</span><span id="Puzzle_error1">Almost! One block is incorrect.</span><span id="Puzzle_error2">%1 blocks are incorrect.</span><span id="Puzzle_tryAgain">The highlighted block is not correct.\\nKeep trying.</span></div>'+
(c+a+'</h1></td><td id="header_cta" class="farSide"><select id="languageMenu"></select>&nbsp;<button id="helpButton">Help</button>&nbsp;'+('<button id="checkButton" class="primary">Check Answers</button>'.gu===Gd?"zSoyz":'<button id="checkButton" class="primary">Check Answers</button>')+'</td></tr></table><div id="blockly"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="help" class="dialogHiddenContent"><div style="padding-bottom: 0.7ex">For each animal (green), attach its picture, choose its number of legs, and make a stack of its traits.</div><div id="sample" class="readonly"></div>')+
Od()+'</div><div id="answers" class="dialogHiddenContent"><div id="answerMessage"></div><div id="graph"><div id="graphValue"></div></div>'+Od()+"</div>"};h.cb=function(a,c,d){"function"!=typeof a&&h.cb.Aw(a);this.Zk=a;this.Tr=this.vr=this.Wm=null;a=this.Zk;if(Array.isArray(a)){for(var e=!1,f=0;f<a.length;f++){var g=a[f][0];"string"==typeof g?a[f][0]=h.g.Kc(g):(null!=g.alt&&(a[f][0].alt=h.g.Kc(g.alt)),e=!0)}if(!(e||2>a.length)){e=[];for(f=0;f<a.length;f++)e.push(a[f][0]);f=h.g.Qa.Mr(e);g=h.g.Qa.Lz(e,f);var k=h.g.Qa.Mz(e,f);!g&&!k||f<=g+k||(g&&(this.vr=e[0].substring(0,g-1)),k&&(this.Tr=e[0].substr(1-k)),this.Zk=h.cb.pz(a,g,k))}}this.jj=this.getOptions(!1)[0];
h.cb.v.constructor.call(this,this.jj[1],c,d);this.oj=this.ld=this.zc=this.Ac=this.ql=null};h.g.object.T(h.cb,h.dd);h.cb.Z=function(a){return new h.cb(a.options,void 0,a)};h.cb.prototype.Ak=function(a){Ta(this)&&this.getOptions(!1);this.setValue(a.textContent)};h.cb.prototype.ht=!0;h.cb.sD=25;h.cb.VE=.45;h.cb.Sx=5;h.cb.Tx=2*h.cb.Sx;h.cb.js=h.g.userAgent.Rl?"\u25bc":"\u25be";b=h.cb.prototype;b.Aj="default";
b.cn=function(){!this.aa().Fs||this.aa().Fs&&!this.J.Da?xb(this):this.Wt=this.J.Aa();yb(this);this.zc=h.g.j.S(h.g.G.vo,{},this.Fc);this.aa().Gx?(this.oj=h.g.j.S(h.g.G.vo,{height:this.aa().Ej+"px",width:this.aa().Ej+"px"},this.Fc),this.oj.setAttributeNS(h.g.j.fh,"xlink:href",this.aa().Hx)):(this.ld=h.g.j.S(h.g.G.ut,{},this.kc),this.ld.appendChild(document.createTextNode(this.J.L?h.cb.js+" ":" "+h.cb.js)),this.J.L?this.kc.insertBefore(this.ld,this.Yh):this.kc.appendChild(this.ld));this.Db&&h.g.j.Bb(this.Db,
"blocklyDropdownRect")};
b.Un=function(a){var c=new h.Fo;c.Ig(h.g.pb.km.ay);this.Ac=c;var d=this.getOptions(!1);this.ql=null;for(var e=0;e<d.length;e++){var f=d[e][0],g=d[e][1];if("object"==typeof f){var k=new Image(f.width,f.height);k.src=f.src;k.alt=f.alt||"";f=k}f=new h.Go(f,g);f.Ig(h.g.pb.km.sy);f.Gr=this.J.L;f.tp=!0;c.Vd.push(f);f.up=g==this.Ne;g==this.Ne&&(this.ql=f);Qb(f,this.RA,this)}this.Ac.kr=a&&"number"===typeof a.clientX?new h.g.N(a.clientX,a.clientY):null;this.Ac.Ga(h.B.CA());h.g.j.Bb(this.Ac.Ua,"blocklyDropdownMenu");
this.aa().Fx&&(a=this.J.Da?this.J.getParent().gq():this.J.gq(),c=this.J.Da?this.J.getParent().style.Ki:this.J.style.Ki,h.B.Je(a,c));h.B.FC(this,this.jA.bind(this));this.Ac.focus();this.ql&&this.Ac.yf(this.ql);this.Tb()};b.jA=function(){this.Ac&&this.Ac.H();this.ql=this.Ac=null;this.Tb()};b.RA=function(a){h.B.Jk(this,!0);this.setValue(a.getValue())};h.cb.pz=function(a,c,d){for(var e=[],f=0;f<a.length;f++){var g=a[f][0],k=a[f][1];g=g.substring(c,g.length-d);e[f]=[g,k]}return e};
function Ta(a){return"function"==typeof a.Zk}b=h.cb.prototype;b.getOptions=function(a){return Ta(this)?(this.Wm&&a||(this.Wm=this.Zk.call(this),h.cb.Aw(this.Wm)),this.Wm):this.Zk};b.Rm=function(a){for(var c=!1,d=this.getOptions(!0),e=0,f;f=d[e];e++)if(f[1]==a){c=!0;break}return c?a:(this.J&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.J.type+", Field name: "+this.name+", Value: "+a),null)};
b.nk=function(a){h.cb.v.nk.call(this,a);a=this.getOptions(!0);for(var c=0,d;d=a[c];c++)d[1]==this.Ne&&(this.jj=d)};b.Tb=function(){this.Db&&(this.Db.setAttribute("stroke",this.J.style.Ki),this.Ac?this.Db.setAttribute("fill",this.J.style.Ki):this.Db.setAttribute("fill","transparent"));this.J&&this.ld&&(this.ld.style.fill=this.J.Da?this.J.style.Dm:this.J.style.ih)};
b.Dr=function(){this.Yh.nodeValue="";this.zc.style.display="none";var a=this.jj&&this.jj[0];if(a&&"object"==typeof a){this.zc.style.display="";this.zc.setAttributeNS(h.g.j.fh,"xlink:href",a.src);this.zc.setAttribute("height",a.height);this.zc.setAttribute("width",a.width);var c=Number(a.height);a=Number(a.width);var d=!!this.Db,e=Math.max(d?this.aa().Es:0,c+h.cb.Tx);d=d?this.aa().Dj:0;var f=this.oj?Qd(this,a+d,e/2-this.aa().Ej/2):h.g.j.iq(this.ld,this.aa().Wg,this.aa().Jf,this.aa().If);this.jc.width=
a+f+2*d;this.jc.height=e;var g=0;this.J.L?this.zc.setAttribute("x",d+f):(g=a+f,this.kc.setAttribute("text-anchor","end"),this.zc.setAttribute("x",d));this.zc.setAttribute("y",e/2-c/2);Ab(this,g+d,a+f)}else this.Yh.nodeValue=zb(this),h.g.j.Bb(this.kc,"blocklyDropdownText"),this.kc.setAttribute("text-anchor","start"),e=!!this.Db,c=Math.max(e?this.aa().Es:0,this.aa().em),a=h.g.j.iq(this.kc,this.aa().Wg,this.aa().Jf,this.aa().If),e=e?this.aa().Dj:0,d=0,this.oj&&(d=Qd(this,a+e,c/2-this.aa().Ej/2)),this.jc.width=
a+d+2*e,this.jc.height=c,Ab(this,e,a);Bb(this)};function Qd(a,c,d){if(!a.oj)return 0;var e=a.Db?a.aa().Dj:0,f=a.aa().Ix,g=a.aa().Ej;a.oj.setAttribute("transform","translate("+(a.J.L?e:c+f)+","+d+")");return g+f}b.pq=function(){if(!this.jj)return null;var a=this.jj[0];return"object"==typeof a?a.alt:a};
h.cb.Aw=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var c=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):e[0]&&"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+
e[0]+" in: ",e)):(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(c)throw TypeError("Found invalid FieldDropdown options.");};h.eg.register("field_dropdown",h.cb);h.Hd=function(a,c,d,e,f,g,k){if(!a)throw Error("Src value of an image field is required");a=h.g.Kc(a);d=Number(h.g.Kc(d));c=Number(h.g.Kc(c));if(isNaN(d)||isNaN(c))throw Error("Height and width values of an image field must cast to numbers.");if(0>=d||0>=c)throw Error("Height and width values of an image field must be greater than 0.");this.yk=!1;this.um="";h.Hd.v.constructor.call(this,a,null,k);k||(this.yk=!!g,this.um=h.g.Kc(e)||"");this.jc=new h.g.Rc(c,d+h.Hd.bz);this.cB=d;this.ef=null;"function"==
typeof f&&(this.ef=f);this.zc=null};h.g.object.T(h.Hd,h.dd);h.Hd.prototype.po="";h.Hd.Z=function(a){return new h.Hd(a.src,a.width,a.height,void 0,void 0,void 0,a)};h.Hd.bz=1;b=h.Hd.prototype;b.Cj=!1;b.mg=!1;b.dk=function(a){h.Hd.v.dk.call(this,a);this.yk=!!a.flipRtl;this.um=h.g.Kc(a.alt)||""};b.cn=function(){this.zc=h.g.j.S(h.g.G.vo,{height:this.cB+"px",width:this.jc.width+"px",alt:this.um},this.Fc);this.zc.setAttributeNS(h.g.j.fh,"xlink:href",this.Ne);this.ef&&(this.zc.style.cursor="pointer")};
b.zw=function(){};b.Rm=function(a){return"string"!=typeof a?null:a};b.nk=function(a){this.Ne=a;this.zc&&this.zc.setAttributeNS(h.g.j.fh,"xlink:href",String(this.Ne))};b.Gu=function(){return this.yk};b.Un=function(){this.ef&&this.ef(this)};b.pq=function(){return this.um};h.eg.register("field_image",h.Hd);h.Yb.animal={Wa:function(){this.Je(120);N(Kb(this),"","NAME");N(Gb(this.gh(h.Ia.qe,"PIC"),h.fs),V("Puzzle_picture"));N(N(Gb(Kb(this),h.fs),V("Puzzle_legs")),new h.cb(Rd),"LEGS");N(this.gh(h.Ia.Qc,"TRAITS"),V("Puzzle_traits"));this.Gg(!1)},ic:function(){var a=document.createElement("mutation");a.setAttribute("animal",this.kd);return a},Vc:function(a){this.Rh(parseInt(a.getAttribute("animal"),10))},kd:0,Rh:function(a){this.kd=a;Ib(this,V("Puzzle_animal"+a));this.sh=V("Puzzle_animal"+a+"HelpUrl")},Fq:function(){return Ka(this,
"LEGS")==this.kd}};h.Yb.picture={Wa:function(){this.Je(30);Kb(this,"PIC");this.Pn(!0);this.Jg("")},ic:h.Yb.animal.ic,Vc:h.Yb.animal.Vc,kd:0,Rh:function(a){this.kd=a;var c="puzzle/"+V("Puzzle_animal"+a+"Pic"),d=V("Puzzle_animal"+a+"PicHeight");a=V("Puzzle_animal"+a+"PicWidth");N(ja(this,"PIC"),new h.Hd(c,a,d))},Fq:function(){var a=this.getParent();return a&&a.kd==this.kd}};
h.Yb.trait={Wa:function(){this.Je(290);N(Kb(this),"","NAME");this.Rn(!0);this.On(!0)},ic:function(){var a=document.createElement("mutation");a.setAttribute("animal",this.kd);a.setAttribute("trait",this.uw);return a},Vc:function(a){this.Rh(parseInt(a.getAttribute("animal"),10),parseInt(a.getAttribute("trait"),10))},kd:0,uw:0,Rh:function(a,c){this.kd=a;this.uw=c;Ib(this,V("Puzzle_animal"+a+"Trait"+c))},Fq:function(){var a=Hb(this);return a&&a.kd==this.kd}};var Nc="puzzle";function Sd(a){for(var c=a.length-1;0<c;c--){var d=Math.floor(Math.random()*(c+1)),e=a[c];a[c]=a[d];a[d]=e}}function Rd(){for(var a=[[V("Puzzle_legsChoose"),"0"]],c=1,d;d=Oc("Puzzle_animal"+c+"Legs");)a[c]=[d,String(c)],c++;a.sort(function(e,f){return e[0]-f[0]});return a}
function Td(){for(var a=J(z),c=0,d=[],e=0,f;f=a[e];e++)f.Fq()||(c++,f.select(),d.push(f));var g=document.getElementById("graphValue");setTimeout(function(){g.style.width=100*(a.length-c)/a.length+"px"},500);1==c?e=[V("Puzzle_error1"),V("Puzzle_tryAgain")]:c?e=[V("Puzzle_error2").replace("%1",c),V("Puzzle_tryAgain")]:(e=[V("Puzzle_error0").replace("%1",a.length)],ld=nd(),window.localStorage&&(window.localStorage[Nc+U]=ld));f=document.getElementById("answerMessage");f.textContent="";for(var k=0;k<e.length;k++){var l=
document.createElement("div");l.appendChild(document.createTextNode(e[k]));f.appendChild(l)}e=document.getElementById("answers");f=document.getElementById("checkButton");Y.wl(e,f,!0,!0,{width:"25%",left:Dc()?"5%":"70%",top:"5em"},c?Y.Sr:rd);Y.Qr();if(d.length){Sd(d);var m=d[0],n=function(){m.select();Y.qf&&(setTimeout(function(){pb(m)},150),setTimeout(n,300))};n()}else setTimeout(Ud,2E3),h.selected&&pb(h.selected)}
function Ud(){z.re.play("win",.5);z.options.Ub.ye=!0;for(var a=z.cc(!1),c=0,d;d=a[c];c++)Vd(d,c/a.length*360)}
function Vd(a,c){if(Y.qf){var d=z.Be(),e=d.lc/2,f=d.Xb/2,g=v(a);d=a.ab();Dc()&&(d.x-=g.width);var k=Math.max(175,Math.min(e,f)-Math.max(g.height,g.width)/2),l=Date.now(),m=c+l/50%360;k*=Math.sin(l%5E3/5E3*2*Math.PI)/8+.875;f=k*Math.cos(h.g.hc.Zh(m))+f-g.width/2;g=k*Math.sin(h.g.hc.Zh(m))+e-g.height/2;5>Math.sqrt(Math.pow(f-d.x,2)+Math.pow(g-d.y,2))?(e=f-d.x,d=g-d.y):(d=h.g.hc.RC(Math.atan2(g-d.y,f-d.x)),d%=360,0>d&&(d+=360),e=Math.round(5*Math.cos(h.g.hc.Zh(d))),d=Math.round(5*Math.sin(h.g.hc.Zh(d))));
a.moveBy(e,d);setTimeout(Vd.bind(null,a,c),50)}}
function Wd(a){var c='<xml>;<block type="animal" x="5" y="5">;<mutation animal="1"></mutation>;<title name="LEGS">1</title>;<value name="PIC">;<block type="picture">;<mutation animal="1"></mutation>;</block>;</value>;<statement name="TRAITS">;<block type="trait">;<mutation animal="1" trait="2"></mutation>;<next>;<block type="trait">;<mutation animal="1" trait="1"></mutation>;</block>;</next>;</block>;</statement>;</block>;</xml>'.split(";"),d=document.getElementById("sample");d.firstChild||(d=h.kg(d,
{rtl:Dc(),readOnly:!0}),"string"!=typeof c&&(c=c.join("")),h.I.dg(h.I.Me(c),d));c=document.getElementById("help");d=document.getElementById("helpButton");Y.wl(c,d,a,!0,{width:"50%",left:"25%",top:"5em"},Y.Sr);Y.Qr()}
window.addEventListener("load",function(){function a(){d.style.width=window.innerWidth-20+"px";d.style.height=window.innerHeight-d.offsetTop-15+"px"}document.body.innerHTML=Pd();md();var c=Dc(),d=document.getElementById("blockly");a(null);window.addEventListener("resize",a);qd({rtl:c,scrollbars:!1,trashcan:!1});var e=Lc(U);try{var f=window.sessionStorage.rv}catch(t){f=null}if(f)delete window.sessionStorage.rv,c=h.I.Me(f),h.I.dg(c,z);else if(e)c=h.I.Me(e),h.I.dg(c,z);else{var g=[],k=[],l=[];f=1;for(var m;Oc("Puzzle_animal"+
f);){m=z.hj("animal");m.Rh(f);g.push(m);m=z.hj("picture");m.Rh(f);k.push(m);for(var n=1;Oc("Puzzle_animal"+f+"Trait"+n);)m=z.hj("trait"),m.Rh(f,n),l.push(m),n++;f++}Sd(g);Sd(k);Sd(l);g=[].concat(g,k,l);c&&g.reverse();for(f=0;m=g[f];f++)m.Dp=!1,m.zh(),m.Ga();for(f=k=0;m=g[f];f++)l=m.Aa().getBBox(),m.yG=l.width,m.xG=l.height,m.Qt=l.width*l.height,k+=m.Qt;h.Gl(z);n=nc(z);n.width-=50;n.height-=50;var q=0;for(f=0;m=g[f];f++){l=m.Aa().getBBox();var r=c?l.width+q/k*n.width:q/k*(n.width-l.width);r=Math.round(r+
50*Math.random());m.moveBy(r,Math.round(Math.random()*(n.height-l.height)));q+=m.Qt}}Qa();Pc("checkButton",Td);Pc("helpButton",function(){Wd(!0)});e||Wd(!1);h.$b*=2;h.us=h.$b;z.re.load(["puzzle/win.mp3","puzzle/win.ogg"],"win")});

