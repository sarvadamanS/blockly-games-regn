// Automatically generated file.  Do not edit!

var b,h={g:{}};h.g.F=function(a){this.VD=a};h.g.F.prototype.toString=function(){return this.VD};h.g.F.Po=new h.g.F("animate");h.g.F.ky=new h.g.F("circle");h.g.F.vt=new h.g.F("clipPath");h.g.F.Ct=new h.g.F("defs");h.g.F.Gt=new h.g.F("feComposite");h.g.F.cF=new h.g.F("feComponentTransfer");h.g.F.dF=new h.g.F("feFlood");h.g.F.eF=new h.g.F("feFuncA");h.g.F.Oy=new h.g.F("feGaussianBlur");h.g.F.Py=new h.g.F("fePointLight");h.g.F.Qy=new h.g.F("feSpecularLighting");h.g.F.Wy=new h.g.F("filter");h.g.F.mF=new h.g.F("foreignObject");
h.g.F.Ic=new h.g.F("g");h.g.F.ek=new h.g.F("image");h.g.F.ik=new h.g.F("line");h.g.F.we=new h.g.F("path");h.g.F.qu=new h.g.F("pattern");h.g.F.Mz=new h.g.F("polygon");h.g.F.qd=new h.g.F("rect");h.g.F.Mi=new h.g.F("svg");h.g.F.Bu=new h.g.F("text");h.g.F.Du=new h.g.F("tspan");
h.g.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();h.g.userAgent={};
(function(a){function c(e){return-1!=d.indexOf(e.toUpperCase())}h.g.userAgent.raw=a;var d=h.g.userAgent.raw.toUpperCase();h.g.userAgent.Rd=c("Trident")||c("MSIE");h.g.userAgent.hh=c("Edge");h.g.userAgent.nz=c("JavaFX");h.g.userAgent.zE=(c("Chrome")||c("CriOS"))&&!h.g.userAgent.hh;h.g.userAgent.Hu=c("WebKit")&&!h.g.userAgent.hh;h.g.userAgent.$y=c("Gecko")&&!h.g.userAgent.Hu&&!h.g.userAgent.Rd&&!h.g.userAgent.hh;h.g.userAgent.mm=c("Android");a=h.g.global.navigator&&h.g.global.navigator.maxTouchPoints;h.g.userAgent.fk=
c("iPad")||c("Macintosh")&&0<a;h.g.userAgent.Vt=c("iPod");h.g.userAgent.Ut=c("iPhone")&&!h.g.userAgent.fk&&!h.g.userAgent.Vt;h.g.userAgent.sz=c("Macintosh");h.g.userAgent.fA=h.g.userAgent.fk||h.g.userAgent.mm&&!c("Mobile")||c("Silk");h.g.userAgent.fG=!h.g.userAgent.fA&&(h.g.userAgent.Vt||h.g.userAgent.Ut||h.g.userAgent.mm||c("IEMobile"))})(h.g.global.navigator&&h.g.global.navigator.userAgent||"");h.g.j={};h.g.j.Sm="http://www.w3.org/2000/svg";h.g.j.hp="http://www.w3.org/1999/xhtml";h.g.j.Zc="http://www.w3.org/1999/xlink";h.g.j.Xf={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};h.g.j.Vd=null;h.g.j.hq=0;h.g.j.gn=null;h.g.j.L=function(a,c,d){a=document.createElementNS(h.g.j.Sm,String(a));for(var e in c)a.setAttribute(e,c[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
h.g.j.Fb=function(a,c){var d=a.getAttribute("class")||"";-1==(" "+d+" ").indexOf(" "+c+" ")&&(d&&(d+=" "),a.setAttribute("class",d+c))};h.g.j.WI=function(a,c){c=c.split(" ");for(var d=0;d<c.length;d++)h.g.j.Vc(a,c[d])};h.g.j.Vc=function(a,c){var d=a.getAttribute("class");if(-1!=(" "+d+" ").indexOf(" "+c+" ")){d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=c||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class")}};
h.g.j.nr=function(a,c){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+c+" ")};h.g.j.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};h.g.j.sj=function(a,c){var d=c.nextSibling;c=c.parentNode;if(!c)throw Error("Reference node has no parent.");d?c.insertBefore(a,d):c.appendChild(a)};h.g.j.containsNode=function(a,c){return!!(a.compareDocumentPosition(c)&h.g.j.Xf.DOCUMENT_POSITION_CONTAINED_BY)};
h.g.j.Ml=function(a,c){a.style.transform=c;a.style["-webkit-transform"]=c};h.g.j.Vl=function(){h.g.j.hq++;h.g.j.Vd||(h.g.j.Vd=Object.create(null))};h.g.j.Wl=function(){h.g.j.hq--;h.g.j.hq||(h.g.j.Vd=null)};h.g.j.zI=function(a){var c=a.textContent+"\n"+a.className.baseVal,d;if(h.g.j.Vd&&(d=h.g.j.Vd[c]))return d;try{d=h.g.userAgent.Rd||h.g.userAgent.hh?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}h.g.j.Vd&&(h.g.j.Vd[c]=d);return d};
h.g.j.er=function(a,c,d,e){return h.g.j.RB(a,c+"pt",d,e)};h.g.j.RB=function(a,c,d,e){var f=a.textContent;a=f+"\n"+a.className.baseVal;var g;if(h.g.j.Vd&&(g=h.g.j.Vd[a]))return g;h.g.j.gn||(g=document.createElement("canvas"),g.className="blocklyComputeCanvas",document.body.appendChild(g),h.g.j.gn=g.getContext("2d"));h.g.j.gn.font=d+" "+c+" "+e;g=h.g.j.gn.measureText(f).width;h.g.j.Vd&&(h.g.j.Vd[a]=g);return g};
h.g.j.EC=function(a,c,d){var e=document.createElement("span");e.style.font=c+" "+a+" "+d;e.textContent="Hg";a=document.createElement("div");a.style.width="1px";a.style.height="0px";c=document.createElement("div");c.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;");c.appendChild(e);c.appendChild(a);document.body.appendChild(c);try{d={},c.style.alignItems="baseline",d.Ud=a.offsetTop-e.offsetTop,c.style.alignItems="flex-end",d.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(c)}return d};h.g.Cd={};h.g.Cd.Zs=function(a){return a*Math.PI/180};h.g.Cd.YD=function(a){return 180*a/Math.PI};h.g.Cd.Bk=function(a,c,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(c,d))};h.g.Rect=function(a,c,d,e){this.top=a;this.bottom=c;this.left=d;this.right=e};h.g.Rect.prototype.contains=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};h.g.S=function(a,c){this.x=a;this.y=c};h.g.S.wf=function(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1};h.g.S.Iq=function(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)};h.g.S.CC=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};h.g.S.Nk=function(a,c){return new h.g.S(a.x-c.x,a.y-c.y)};h.g.S.sum=function(a,c){return new h.g.S(a.x+c.x,a.y+c.y)};h.g.S.prototype.clone=function(){return new h.g.S(this.x,this.y)};h.g.S.prototype.scale=function(a){this.x*=a;this.y*=a;return this};
h.g.S.prototype.translate=function(a,c){this.x+=a;this.y+=c;return this};h.g.Jc=function(a,c){this.width=a;this.height=c};h.g.Jc.wf=function(a,c){return a==c?!0:a&&c?a.width==c.width&&a.height==c.height:!1};h.g.style={};h.g.style.xf=function(a){if("none"!=h.g.style.aw(a,"display"))return h.g.style.Zv(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var g=a.offsetWidth;a=a.offsetHeight;c.display=d;c.position=f;c.visibility=e;return new h.g.Jc(g,a)};h.g.style.Zv=function(a){return new h.g.Jc(a.offsetWidth,a.offsetHeight)};h.g.style.aw=function(a,c){return h.g.style.getComputedStyle(a,c)||h.g.style.JB(a,c)||a.style&&a.style[c]};
h.g.style.getComputedStyle=function(a,c){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""};h.g.style.JB=function(a,c){return a.currentStyle?a.currentStyle[c]:null};h.g.style.Dh=function(a){var c=new h.g.S(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new h.g.S(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);c.x=a.left+d.x;c.y=a.top+d.y;return c};
h.g.style.ZB=function(){var a=document.body,c=document.documentElement;return new h.g.S(a.scrollLeft||c.scrollLeft,a.scrollTop||c.scrollTop)};h.g.style.eJ=function(a,c){a.style.display=c?"":"none"};h.g.style.JI=function(a){return"rtl"==h.g.style.aw(a,"direction")};
h.g.style.GB=function(a){var c=h.g.style.getComputedStyle(a,"borderLeftWidth"),d=h.g.style.getComputedStyle(a,"borderRightWidth"),e=h.g.style.getComputedStyle(a,"borderTopWidth");a=h.g.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(e),right:parseFloat(d),bottom:parseFloat(a),left:parseFloat(c)}};h.g.style.FD=function(a,c){a=h.g.style.MB(a,c);c.scrollLeft=a.x;c.scrollTop=a.y};
h.g.style.MB=function(a,c){var d=h.g.style.Dh(a),e=h.g.style.Dh(c),f=h.g.style.GB(c),g=d.x-e.x-f.left;d=d.y-e.y-f.top;a=h.g.style.Zv(a);e=c.clientHeight-a.height;f=c.scrollLeft;var k=c.scrollTop;f+=Math.min(g,Math.max(g-(c.clientWidth-a.width),0));k+=Math.min(d,Math.max(d-e,0));return new h.g.S(f,k)};
h.C=function(){};h.C.eq=null;h.C.Gd=null;h.C.ix=null;h.C.om=16;h.C.st=1;h.C.ot=12;h.C.ou=16;h.C.Qo=.25;h.C.Wp=null;h.C.ai=null;h.C.ge="";h.C.le="";
h.C.Qa=function(){if(!h.C.re){var a=document.createElement("div");a.className="blocklyDropDownDiv";(h.ro||document.body).appendChild(a);h.C.re=a;var c=document.createElement("div");c.className="blocklyDropDownContent";a.appendChild(c);h.C.sf=c;c=document.createElement("div");c.className="blocklyDropDownArrow";a.appendChild(c);h.C.rd=c;h.C.re.style.opacity=0;h.C.re.style.transition="transform "+h.C.Qo+"s, opacity "+h.C.Qo+"s";a.addEventListener("focusin",function(){h.g.j.Fb(a,"blocklyFocused")});a.addEventListener("focusout",
function(){h.g.j.Vc(a,"blocklyFocused")})}};h.C.GD=function(a){h.C.eq=a};h.C.NB=function(){return h.C.sf};h.C.SA=function(){h.C.sf.textContent="";h.C.sf.style.width=""};h.C.he=function(a,c){h.C.re.style.backgroundColor=a;h.C.re.style.borderColor=c};h.C.hJ=function(a,c,d,e){return h.C.vx(h.C.Wv(c),a,d,e)};h.C.MD=function(a,c){h.C.ix=!0;h.C.vx(h.C.Xv(a),a,c)};h.C.Wv=function(a){var c=a.ka(),d=c.getBBox(),e=a.B.scale;a=d.height*e;d=d.width*e;c=h.g.style.Dh(c);return new h.g.Rect(c.y,c.y+a,c.x,c.x+d)};
h.C.Xv=function(a){if(a.Hb)c=a.Hb.getBoundingClientRect(),a=h.g.style.Dh(a.Hb),e=c.width,c=c.height;else{var c=r(a.K);var d=a.K.B.scale;a=h.g.style.Dh(aa(a));var e=c.width*d;c=c.height*d;h.g.userAgent.$y?(a.x+=1.5*d,a.y+=1.5*d):h.g.userAgent.hh||h.g.userAgent.Rd||(a.x-=.5*d,a.y-=.5*d);e+=1*d;c+=1*d}d=new h.g.Rect(a.y,a.y+c,a.x,a.x+e);return new h.g.Rect(d.top,d.bottom,d.left,d.right)};
h.C.vx=function(a,c,d,e){var f=a.left+(a.right-a.left)/2,g=a.bottom;a=a.top;e&&(a+=e);e=c.$();for(var k=e.B;k.options.Uc;)k=k.options.Uc;h.C.GD(v(k).parentNode);return h.C.show(c,e.J,f,g,f,a,d)};h.C.show=function(a,c,d,e,f,g,k){h.C.Gd=a;h.C.ai=k||null;a=h.C.re;a.style.direction=c?"rtl":"ltr";c=h.pg();h.C.ge=c.ib.Zd();h.C.le=c.yf().Zd();h.g.j.Fb(a,h.C.ge);h.g.j.Fb(a,h.C.le);return h.C.Fl(d,e,f,g)};
h.C.HB=function(){var a=h.g.style.Dh(h.C.eq),c=h.g.style.xf(h.C.eq);return{left:a.x,right:a.x+c.width,top:a.y,bottom:a.y+c.height,width:c.width,height:c.height}};h.C.SB=function(a,c,d,e){var f=h.C.HB(),g=h.g.style.xf(h.C.re);return c+g.height<f.bottom?h.C.Vv(a,c,f,g):e-g.height>f.top?h.C.Uv(d,e,f,g):c+g.height<document.documentElement.clientHeight?h.C.Vv(a,c,f,g):e-g.height>document.documentElement.clientTop?h.C.Uv(d,e,f,g):h.C.TB(a,f,g)};
h.C.Vv=function(a,c,d,e){a=h.C.ir(a,d.left,d.right,e.width);return{tr:a.hj,ur:c,Vq:a.hj,Wq:c+h.C.ou,Ti:a.Ti,Yp:-(h.C.om/2+h.C.st),cn:!0,Xp:!0}};h.C.Uv=function(a,c,d,e){a=h.C.ir(a,d.left,d.right,e.width);return{tr:a.hj,ur:c-e.height,Vq:a.hj,Wq:c-e.height-h.C.ou,Ti:a.Ti,Yp:e.height-2*h.C.st-h.C.om/2,cn:!1,Xp:!0}};h.C.TB=function(a,c,d){a=h.C.ir(a,c.left,c.right,d.width);return{tr:a.hj,ur:0,Vq:a.hj,Wq:0,cn:null,Ti:null,Yp:null,Xp:!1}};
h.C.ir=function(a,c,d,e){var f=a;a=h.g.Cd.Bk(c,a-e/2,d-e);f-=h.C.om/2;c=h.g.Cd.Bk(h.C.ot,f-a,e-h.C.ot-h.C.om);return{Ti:c,hj:a}};h.C.isVisible=function(){return!!h.C.Gd};h.C.il=function(a,c){h.C.Gd===a&&(c?h.C.Jn():h.C.Va())};h.C.Va=function(){var a=h.C.re;a.style.transform="translate(0, 0)";a.style.opacity=0;h.C.Wp=setTimeout(function(){h.C.Jn()},1E3*h.C.Qo);h.C.ai&&(h.C.ai(),h.C.ai=null)};
h.C.Jn=function(){if(h.C.isVisible()){h.C.Wp&&clearTimeout(h.C.Wp);var a=h.C.re;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";h.C.ai&&(h.C.ai(),h.C.ai=null);h.C.SA();h.C.Gd=null;h.C.ge&&(h.g.j.Vc(a,h.C.ge),h.C.ge="");h.C.le&&(h.g.j.Vc(a,h.C.le),h.C.le="");ba(h.pg())}};
h.C.Fl=function(a,c,d,e){a=h.C.SB(a,c,d,e);a.Xp?(h.C.rd.style.display="",h.C.rd.style.transform="translate("+a.Ti+"px,"+a.Yp+"px) rotate(45deg)",h.C.rd.setAttribute("class",a.cn?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):h.C.rd.style.display="none";c=Math.floor(a.tr);d=Math.floor(a.ur);e=Math.floor(a.Vq);var f=Math.floor(a.Wq),g=h.C.re;g.style.left=c+"px";g.style.top=d+"px";g.style.display="block";g.style.opacity=1;g.style.transform="translate("+(e-c)+"px,"+
(f-d)+"px)";return!!a.cn};h.C.YI=function(){if(h.C.Gd){var a=h.C.Gd,c=a.$();a=h.C.ix?h.C.Xv(a):h.C.Wv(c);c=a.left+(a.right-a.left)/2;h.C.Fl(c,a.bottom,c,a.top)}else h.C.Va()};
h.Z={Ub:1,Xc:2,Vb:3,pd:4};
h.gb={};h.Yt=40;h.pu=125;h.Cy=5;h.Xy=10;h.hc=28;h.yt=h.hc;h.py=8;h.To=250;h.Uo=10;h.ly=30;h.rz=750;h.$z=100;h.Dy=!0;h.ez=.45;h.fz=.65;h.Ki={width:96,height:124,url:"sprites.png"};h.gb.Od={Ab:-1,sm:0,vc:1};h.KE=0;h.LE=1;h.IE=1;h.JE=2;h.Hi=[];h.Hi[h.Z.Ub]=h.Z.Xc;h.Hi[h.Z.Xc]=h.Z.Ub;h.Hi[h.Z.Vb]=h.Z.pd;h.Hi[h.Z.pd]=h.Z.Vb;h.qh="VARIABLE";h.yp="PROCEDURE";h.nH="RENAME_VARIABLE_ID";h.HE="DELETE_VARIABLE_ID";h.gb.um="_TEMP_COLLAPSED_INPUT";h.gb.tm="_TEMP_COLLAPSED_FIELD";
h.M={};h.g.global.Blockly||(h.g.global.Blockly={});h.g.global.Blockly.Msg||(h.g.global.Blockly.Msg=h.M);h.g.nb={};h.g.nb.parse=function(a){a=String(a).toLowerCase().trim();var c=h.g.nb.names[a];if(c)return c;c="0x"==a.substring(0,2)?"#"+a.substring(2):a;c="#"==c[0]?c:"#"+c;if(/^#[0-9a-f]{6}$/.test(c))return c;if(/^#[0-9a-f]{3}$/.test(c))return["#",c[1],c[1],c[2],c[2],c[3],c[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),c=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=c&&256>c&&0<=d&&256>d)?h.g.nb.Hs(a,c,d):null};
h.g.nb.Hs=function(a,c,d){c=a<<16|c<<8|d;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)};h.g.nb.jw=function(a){a=h.g.nb.parse(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
h.g.nb.ow=function(a){var c=h.ez,d=255*h.fz,e=0,f=0,g=0;if(0==c)g=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-c);var m=d*(1-c*l);c=d*(1-c*(1-l));switch(k){case 1:e=m;f=d;g=a;break;case 2:e=a;f=d;g=c;break;case 3:e=a;f=m;g=d;break;case 4:e=c;f=a;g=d;break;case 5:e=d;f=a;g=m;break;case 6:case 0:e=d,f=c,g=a}}return h.g.nb.Hs(Math.floor(e),Math.floor(f),Math.floor(g))};
h.g.nb.$p=function(a,c,d){a=h.g.nb.parse(a);if(!a)return null;c=h.g.nb.parse(c);if(!c)return null;a=h.g.nb.jw(a);c=h.g.nb.jw(c);return h.g.nb.Hs(Math.round(c[0]+d*(a[0]-c[0])),Math.round(c[1]+d*(a[1]-c[1])),Math.round(c[2]+d*(a[2]-c[2])))};h.g.nb.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};h.g.La={};h.g.La.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};h.g.La.Rs=function(a){return a.length?a.reduce(function(c,d){return c.length<d.length?c:d}).length:0};h.g.La.ev=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.La.Rs(a);for(var e=0;e<c;e++){for(var f=a[0][e],g=1;g<a.length;g++)if(f!=a[g][e])return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g][e])&&" "!=f)return d;return c};
h.g.La.fv=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.La.Rs(a);for(var e=0;e<c;e++){for(var f=a[0].substr(-e-1,1),g=1;g<a.length;g++)if(f!=a[g].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g].charAt(a[g].length-e-1))&&" "!=f)return d;return c};h.g.La.Sx=function(a,c){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=h.g.La.jE(a[d],c);return a.join("\n")};
h.g.La.jE=function(a,c){if(a.length<=c)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>c&&(c=d[e].length);e=-Infinity;var f=1;do{var g=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=h.g.La.Tx(d,a,c);e=h.g.La.jt(d,a,c);a=h.g.La.kE(d,a);f++}while(e>g);return k};
h.g.La.jt=function(a,c,d){for(var e=[0],f=[],g=0;g<a.length;g++)e[e.length-1]+=a[g].length,!0===c[g]?(e.push(0),f.push(a[g].charAt(a[g].length-1))):!1===c[g]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(g=c=0;g<e.length;g++)c-=2*Math.pow(Math.abs(d-e[g]),1.5),c-=Math.pow(a-e[g],1.5),-1!=".?!".indexOf(f[g])?c+=d/3:-1!=",;)]}".indexOf(f[g])&&(c+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(c+=.5);return c};
h.g.La.Tx=function(a,c,d){for(var e=h.g.La.jt(a,c,d),f,g=0;g<c.length-1;g++)if(c[g]!=c[g+1]){var k=[].concat(c);k[g]=!k[g];k[g+1]=!k[g+1];var l=h.g.La.jt(a,k,d);l>e&&(e=l,f=k)}return f?h.g.La.Tx(a,f,d):c};h.g.La.kE=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==c[e]&&d.push(c[e]?"\n":" ");return d.join("")};
h.g.QC=function(a){a.preventDefault();a.stopPropagation()};h.g.Un=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable||a.target.dataset&&"true"==a.target.dataset.LI};
h.g.be=function(a){var c=new h.g.S(0,0),d=a.getAttribute("x");d&&(c.x=parseInt(d,10));if(d=a.getAttribute("y"))c.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(h.g.be.kA))c.x+=Number(d[1]),d[3]&&(c.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(h.g.be.lA))&&(c.x+=Number(a[1]),a[3]&&(c.y+=Number(a[3])));return c};
h.g.cl=function(a){for(var c=0,d=0;a;){var e=h.g.be(a);c+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new h.g.S(c,d)};h.g.be.kA=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;h.g.be.lA=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;h.g.pl=function(a){return a.ctrlKey&&h.g.userAgent.sz?!0:2==a.button};
h.g.yl=function(a,c,d){var e=c.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=c.getScreenCTM().inverse());return e.matrixTransform(d)};h.g.Yv=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*h.Yt,y:a.deltaY*h.Yt};case 2:return{x:a.deltaX*h.pu,y:a.deltaY*h.pu}}};h.g.ZD=function(a){return h.g.$s(a,!0)};h.g.Wc=function(a){if("string"!=typeof a)return a;a=h.g.$s(a,!1);return a.length?String(a[0]):""};
h.g.$u=function(a){for(var c=h.M,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==c[d[e].toUpperCase().slice(6,-1)]&&console.warn("No message string for "+d[e]+" in "+a)};
h.g.$s=function(a,c){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var g=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):c&&"0"<=l&&"9">=l?(f=2,g=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?g+=l:(d.push(parseInt(g,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=h.g.La.startsWith(l,"BKY_")?
l.substring(4):null)&&l in h.M?(f=h.M[l],"string"==typeof f?Array.prototype.push.apply(d,h.g.$s(f,c)):c?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);c=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&c.push(l),a.length=0,c.push(d[k]));(l=a.join(""))&&c.push(l);a.length=0;return c};h.g.Ie=function(){for(var a=h.g.Ie.wx.length,c=[],d=0;20>d;d++)c[d]=h.g.Ie.wx.charAt(Math.random()*a);return c.join("")};
h.g.Ie.wx="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
h.g.Lh=function(){if(void 0!==h.g.Lh.kq)return h.g.Lh.kq;if(!h.g.global.getComputedStyle)return!1;var a=document.createElement("p"),c="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";c=h.g.global.getComputedStyle(a);if(!c)return document.body.removeChild(a),!1;c=c.getPropertyValue(d[e])}document.body.removeChild(a);
h.g.Lh.kq="none"!==c;return h.g.Lh.kq};h.g.px=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var c=setInterval(function(){"complete"==document.readyState&&(clearInterval(c),a())},10)};h.g.YB=function(){var a=h.g.style.ZB();return new h.g.Rect(a.y,document.documentElement.clientHeight+a.y,a.x,document.documentElement.clientWidth+a.x)};
h.g.bn=function(a,c){c=a.indexOf(c);if(-1==c)return!1;a.splice(c,1);return!0};h.g.QB=function(){var a=document.documentElement,c=window;return h.g.userAgent.Rd&&c.pageYOffset!=a.scrollTop?new h.g.S(a.scrollLeft,a.scrollTop):new h.g.S(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop)};h.g.$q=function(a,c){var d=Object.create(null),e=x(a,!0);c&&(a=y(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;c=e[a];a++)d[c.type]?d[c.type]++:d[c.type]=1;return d};
h.g.bJ=function(a,c){var d=c.x;c=c.y;var e=ca(a).getBoundingClientRect();d=new h.g.S(d-e.left,c-e.top);c=h.g.cl(a.qb);return h.g.S.Nk(d,c).scale(1/a.scale)};h.g.so=function(a){var c="string"==typeof a?h.g.Wc(a):a,d=Number(c);if(!isNaN(d)&&0<=d&&360>=d)return{jC:d,hl:h.g.nb.ow(d)};if(d=h.g.nb.parse(c))return{jC:null,hl:d};d='Invalid colour: "'+c+'"';a!=c&&(d+=' (from "'+a+'")');throw Error(d);};h.Touch={};h.Touch.Cu="ontouchstart"in h.g.global||!!(h.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!h.g.global.navigator||!h.g.global.navigator.maxTouchPoints&&!h.g.global.navigator.msMaxTouchPoints);h.Touch.dm=null;h.Touch.xe={};
h.g.global.PointerEvent?h.Touch.xe={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:h.Touch.Cu&&(h.Touch.xe={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});h.$n=0;
h.BC=function(a,c){h.Dg();a.changedTouches&&1!=a.changedTouches.length||(h.$n=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);c&&da(c,a)},h.rz))};h.Dg=function(){h.$n&&(clearTimeout(h.$n),h.$n=0)};h.Touch.kn=function(){h.Touch.dm=null};h.Touch.Ts=function(a){return!h.Touch.tC(a)||h.Touch.RA(a)};
h.Touch.Gn=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};h.Touch.RA=function(a){var c=h.Touch.Gn(a);return void 0!==h.Touch.dm&&null!==h.Touch.dm?h.Touch.dm==c:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(h.Touch.dm=c,!0):!1};
h.Touch.HD=function(a){if(h.g.La.startsWith(a.type,"touch")){var c=a.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY}};h.Touch.tC=function(a){return h.g.La.startsWith(a.type,"touch")||h.g.La.startsWith(a.type,"mouse")||h.g.La.startsWith(a.type,"pointer")};h.Touch.Wn=function(a){return h.g.La.startsWith(a.type,"touch")||h.g.La.startsWith(a.type,"pointer")};
h.Touch.PD=function(a){var c=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)c[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else c.push(a);return c};h.N={};h.N.va=function(a,c,d,e,f,g){function k(B){var t=!f;B=h.Touch.PD(B);for(var u=0,w;w=B[u];u++)if(!t||h.Touch.Ts(w))h.Touch.HD(w),d?e.call(d,w):e(w),l=!0}var l=!1,m=[];if(h.g.global.PointerEvent&&c in h.Touch.xe)for(var n=0,p;p=h.Touch.xe[c][n];n++)a.addEventListener(p,k,!1),m.push([a,p,k]);else if(a.addEventListener(c,k,!1),m.push([a,c,k]),c in h.Touch.xe){var q=function(B){k(B);var t=!g;l&&t&&B.preventDefault()};for(n=0;p=h.Touch.xe[c][n];n++)a.addEventListener(p,q,!1),m.push([a,p,q])}return m};
h.N.bind=function(a,c,d,e){function f(n){d?e.call(d,n):e(n)}var g=[];if(h.g.global.PointerEvent&&c in h.Touch.xe)for(var k=0,l;l=h.Touch.xe[c][k];k++)a.addEventListener(l,f,!1),g.push([a,l,f]);else if(a.addEventListener(c,f,!1),g.push([a,c,f]),c in h.Touch.xe){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var p=n.changedTouches[0];n.clientX=p.clientX;n.clientY=p.clientY}f(n);n.preventDefault()};for(k=0;l=h.Touch.xe[c][k];k++)a.addEventListener(l,m,!1),g.push([a,l,m])}return g};
h.N.rb=function(a){for(;a.length;){var c=a.pop(),d=c[2];c[0].removeEventListener(c[1],d,!1)}return d};h.u={};h.u.Oj=Object.create(null);h.u.zi="default";h.u.R=function(a){this.zl=a};h.u.R.prototype.toString=function(){return this.zl};h.u.R.zt=new h.u.R("connectionChecker");h.u.R.Yj=new h.u.R("cursor");h.u.R.zb=new h.u.R("event");h.u.R.sc=new h.u.R("field");h.u.R.RENDERER=new h.u.R("renderer");h.u.R.gA=new h.u.R("toolbox");h.u.R.Jp=new h.u.R("theme");h.u.R.GH=new h.u.R("toolboxItem");h.u.R.gp=new h.u.R("flyoutsVerticalToolbox");h.u.R.lF=new h.u.R("flyoutsHorizontalToolbox");h.u.R.du=new h.u.R("metricsManager");
h.u.R.rt=new h.u.R("blockDragger");
h.u.register=function(a,c,d,e){if(!(a instanceof h.u.R)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof c||""==c.trim())throw Error('Invalid name "'+c+'". The name must be a non-empty string.');c=c.toLowerCase();if(!d)throw Error("Can not register a null value");var f=h.u.Oj[a];f||(f=h.u.Oj[a]=Object.create(null));h.u.gE(a,d);if(!e&&f[c])throw Error('Name "'+
c+'" with type "'+a+'" already registered.');f[c]=d};h.u.gE=function(a,c){switch(a){case String(h.u.R.sc):if("function"!=typeof c.aa)throw Error('Type "'+a+'" must have a fromJson function');}};h.u.unregister=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();var d=h.u.Oj[a];d&&d[c]?delete h.u.Oj[a][c]:console.warn("Unable to unregister ["+c+"]["+a+"] from the registry.")};
h.u.Sv=function(a,c,d){a=String(a).toLowerCase();c=c.toLowerCase();var e=h.u.Oj[a];if(!e||!e[c]){c="Unable to find ["+c+"]["+a+"] in the registry.";if(d)throw Error(c+" You must require or register a "+a+" plugin.");console.warn(c);return null}return e[c]};h.u.AI=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();return(a=h.u.Oj[a])?!!a[c]:!1};h.u.br=function(a,c,d){return h.u.Sv(a,c,d)};h.u.hr=function(a,c){return h.u.Sv(a,c)};
h.u.Bh=function(a,c,d){c=c.plugins[a.toString()]||h.u.zi;return"function"==typeof c?c:h.u.br(a,c,d)};h.h={};h.h.ew="";h.h.Ha=!0;h.h.Eq=0;h.h.Xj="create";h.h.$g=h.h.Xj;h.h.gh="delete";h.h.Ro=h.h.gh;h.h.Uj="change";h.h.Zg=h.h.Uj;h.h.kk="move";h.h.ah=h.h.kk;h.h.sk="var_create";h.h.Wm="var_delete";h.h.Qp="var_rename";h.h.Op="ui";h.h.pm="drag";h.h.Ji="selected";h.h.Vj="click";h.h.qp="marker_move";h.h.tt="bubble_open";h.h.Mp="trashcan_open";h.h.HH="toolbox_item_select";h.h.Kp="theme_change";h.h.tk="viewport_change";h.h.vm="comment_create";h.h.xt="comment_delete";h.h.wt="comment_change";h.h.Wj="comment_move";
h.h.fp="finished_loading";h.h.jy=[h.h.$g,h.h.ah,h.h.vm,h.h.Wj];h.h.bk=[];h.h.Aa=function(a){h.h.isEnabled()&&(h.h.bk.length||setTimeout(h.h.AB,0),h.h.bk.push(a))};h.h.AB=function(){for(var a=h.h.filter(h.h.bk,!0),c=h.h.bk.length=0,d;d=a[c];c++)if(d.Qb){var e=h.lb.$k(d.Qb);if(e){var f=d;if(f.Ha)for(e.ni.push(f),e.Il.length=0;e.ni.length>e.bu&&0<=e.bu;)e.ni.shift();for(var g=0;d=e.Fc[g];g++)d(f)}}};
h.h.filter=function(a,c){a=a.slice();c||a.reverse();for(var d=[],e=Object.create(null),f=0,g;g=a[f];f++)if(!g.xj()){var k=[g.Ar?h.h.Op:g.type,g.bb,g.Qb].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:g,index:f},d.push(g);else if(g.type==h.h.kk&&l.index==f-1)m.Yh=g.Yh,m.Xh=g.Xh,m.Gg=g.Gg,l.index=f;else if(g.type==h.h.Uj&&g.element==m.element&&g.name==m.name)m.newValue=g.newValue;else if(g.type==h.h.tk)m.Nd=g.Nd,m.Md=g.Md,m.scale=g.scale,m.Al=g.Al;else if(g.type!=h.h.Vj||m.type!=h.h.tt)e[k]={event:g,
index:f},d.push(g)}a=d.filter(function(n){return!n.xj()});c||a.reverse();for(f=1;g=a[f];f++)g.type==h.h.Uj&&"mutation"==g.element&&a.unshift(a.splice(f,1)[0]);return a};h.h.TA=function(){for(var a=0,c;c=h.h.bk[a];a++)c.Ha=!1};h.h.disable=function(){h.h.Eq++};h.h.enable=function(){h.h.Eq--};h.h.isEnabled=function(){return 0==h.h.Eq};h.h.Ob=function(){return h.h.ew};h.h.na=function(a){h.h.ew="boolean"==typeof a?a?h.g.Ie():"":a};
h.h.Pv=function(a){var c=[];a=x(a,!1);for(var d=0,e;e=a[d];d++)c[d]=e.id;return c};h.h.aa=function(a){var c=h.h.get(a.type);if(!c)throw Error("Unknown event type.");c=new c;c.aa(a);c.Qb=(void 0).id;return c};h.h.get=function(a){return h.u.br(h.u.R.zb,a)};
h.h.mI=function(a){if((a.type==h.h.kk||a.type==h.h.Xj)&&a.Qb){var c=h.lb.$k(a.Qb),d=c.Cc(a.bb);if(d){a=h.h.Ha;try{h.h.Ha=!1;var e=d.getParent();if(e&&e.isEnabled()){var f=x(d,!1);c=0;for(var g;g=f[c];c++)g.Te(!0)}else if((d.T||d.da)&&!c.Rc()){do d.Te(!1),d=y(d);while(d)}}finally{h.h.Ha=a}}}};
h.h.Abstract=function(){this.dd=null;this.Qb=void 0;this.group=h.h.Ob();this.Ha=h.h.Ha};b=h.h.Abstract.prototype;b.Ar=!1;b.ja=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};b.aa=function(a){this.dd=!1;this.group=a.group};b.xj=function(){return!1};b.run=function(){};function z(a){if(a.Qb)var c=h.lb.$k(a.Qb);if(!c)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return c};h.g.object={};h.g.object.U=function(a,c){a.v=c.prototype;a.prototype=Object.create(c.prototype);a.prototype.constructor=a};h.g.object.Fg=function(a,c){for(var d in c)a[d]=c[d]};h.g.object.ej=function(a,c){for(var d in c)a[d]=null!=c[d]&&"object"===typeof c[d]?h.g.object.ej(a[d]||Object.create(null),c[d]):c[d];return a};h.g.object.values=function(a){return Object.values?Object.values(a):Object.keys(a).map(function(c){return a[c]})};h.g.xml={};h.g.xml.Bz="https://developers.google.com/blockly/xml";h.g.xml.document=function(){return document};h.g.xml.createElement=function(a){return h.g.xml.document().createElementNS(h.g.xml.Bz,a)};h.g.xml.createTextNode=function(a){return h.g.xml.document().createTextNode(a)};h.g.xml.WD=function(a){return(new DOMParser).parseFromString(a,"text/xml")};h.g.xml.wd=function(a){return(new XMLSerializer).serializeToString(a)};h.Ba={ze:h.Z.Ub,ic:h.Z.Vb,se:5};h.I={};h.I.Rx=function(a){var c=A,d=h.g.xml.createElement("xml"),e=h.I.hE(h.ha.Up(c));e.hasChildNodes()&&d.appendChild(e);var f=[].concat(c.Io);1<f.length&&(c.Ue.offset=Math.sin(h.g.Cd.Zs(h.lb.tu)),c.J&&(c.Ue.offset*=-1),f.sort(c.Ue));e=0;for(var g;g=f[e];e++)d.appendChild(g.Dx(a));c=c.pb(!0);for(e=0;f=c[e];e++)d.appendChild(h.I.bq(f,a));return d};
h.I.hE=function(a){for(var c=h.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=h.g.xml.createElement("variable");f.appendChild(h.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.$b();c.appendChild(f)}return c};h.I.bq=function(a,c){if(a.ed()&&(a=ea(a,!1)[0],!a))return new DocumentFragment;var d;a.B.J&&(d=a.B.el());c=h.I.lf(a,c);var e=a.Ua();c.setAttribute("x",Math.round(a.B.J?d-e.x:e.x));c.setAttribute("y",Math.round(e.y));return c};
h.I.yB=function(a){var c=!1;a.name&&(a.uu?c=!0:a.Zj&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),c=!0));return c?(c=h.g.xml.createElement("field"),c.setAttribute("name",a.name||""),c.textContent=a.getValue(),c):null};h.I.tA=function(a,c){for(var d=0,e;e=a.V[d];d++)for(var f=0,g;g=e.$a[f];f++)(g=h.I.yB(g))&&c.appendChild(g)};
h.I.lf=function(a,c){if(a.ed())return(a=ea(a,!1)[0])?h.I.lf(a):new DocumentFragment;var d=h.g.xml.createElement(a.Fa?"shadow":"block");d.setAttribute("type",a.type);c||d.setAttribute("id",a.id);if(a.Ed){var e=a.Ed();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}h.I.tA(a,d);if(e=a.Wd.text){var f=a.Wd.size,g=a.Wd.$w,k=h.g.xml.createElement("comment");k.appendChild(h.g.xml.createTextNode(e));k.setAttribute("pinned",g);k.setAttribute("h",f.height);k.setAttribute("w",f.width);d.appendChild(k)}a.data&&
(e=h.g.xml.createElement("data"),e.appendChild(h.g.xml.createTextNode(a.data)),d.appendChild(e));for(e=0;f=a.V[e];e++){var l;g=!0;if(f.type!=h.Ba.se){var m=f.connection.la();f.type==h.Ba.ze?l=h.g.xml.createElement("value"):f.type==h.Ba.ic&&(l=h.g.xml.createElement("statement"));k=f.connection.mj();!k||m&&m.Fa||l.appendChild(h.I.dv(k,c));m&&(k=h.I.lf(m,c),k.nodeType==h.g.j.Xf.ELEMENT_NODE&&(l.appendChild(k),g=!1));l.setAttribute("name",f.name);g||d.appendChild(l)}}void 0!=a.zf&&a.zf!=a.qC&&d.setAttribute("inline",
a.zf);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.Oe()||a.Fa||d.setAttribute("deletable",!1);a.lc()||a.Fa||d.setAttribute("movable",!1);a.Ad()||d.setAttribute("editable",!1);if(e=y(a))k=h.I.lf(e,c),k.nodeType==h.g.j.Xf.ELEMENT_NODE&&(l=h.g.xml.createElement("next"),l.appendChild(k),d.appendChild(l));k=a.ea&&a.ea.mj();!k||e&&e.Fa||l.appendChild(h.I.dv(k,c));return d};
h.I.dv=function(a,c){for(var d=a=a.cloneNode(!0),e;d;)if(c&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==h.g.j.Xf.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&h.g.j.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==h.g.j.Xf.TEXT_NODE&&""==e.data.trim()&&h.g.j.removeNode(e))}return a};h.I.wd=function(a){return h.g.xml.wd(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")};
h.I.nI=function(a){a=h.I.wd(a).split("<");for(var c="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(c=c.substring(2));a[d]=c+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(c+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};h.I.ke=function(a){var c=h.g.xml.WD(a);if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return c.documentElement};
h.I.bI=function(a,c){c.Sb(!1);c.clear();a=h.I.yh(a,c);c.Sb(!0);return a};
h.I.yh=function(a,c){if(a instanceof h.lb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;c.J&&(e=c.el());d=[];h.g.j.Vl();var f=h.h.Ob();f||h.h.na(!0);c.Sb&&c.Sb(!1);var g=!0;try{for(var k=0,l;l=a.childNodes[k];k++){var m=l.nodeName.toLowerCase(),n=l;if("block"==m||"shadow"==m&&!h.h.Ha){var p=h.I.ij(n,c);d.push(p.id);var q=n.hasAttribute("x")?parseInt(n.getAttribute("x"),10):10,B=n.hasAttribute("y")?parseInt(n.getAttribute("y"),10):10;isNaN(q)||
isNaN(B)||p.moveBy(c.J?e-q:q,B);g=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==m)c.oa?h.Ri?h.Ri.Yk(n):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):h.Lu?h.Lu.Yk(n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==m){if(g)h.I.sB(n,c);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
g=!1}}}}finally{f||h.h.na(!1),h.g.j.Wl()}c.Sb&&c.Sb(!0);h.h.Aa(new (h.h.get(h.h.fp))(c));return d};h.I.UH=function(a,c){var d;Object.prototype.hasOwnProperty.call(c,"scale")&&(d=fa(c));a=h.I.yh(a,c);if(d&&d.top!=d.bottom){var e=d.bottom;var f=c.J?d.right:d.left;var g=Infinity,k=-Infinity,l=Infinity;for(d=0;d<a.length;d++){var m=c.Cc(a[d]).Ua();m.y<l&&(l=m.y);m.x<g&&(g=m.x);m.x>k&&(k=m.x)}e=e-l+10;f=c.J?f-k:f-g;for(d=0;d<a.length;d++)c.Cc(a[d]).moveBy(f,e)}return a};
h.I.ij=function(a,c){if(a instanceof h.lb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}h.h.disable();d=c.Ah();try{var e=h.I.Kq(a,c),f=x(e,!1);if(c.oa){ha(e,!1);for(var g=f.length-1;0<=g;g--)f[g].rj();for(g=f.length-1;0<=g;g--)f[g].Ia(!1);setTimeout(function(){e.Fe||ha(e,!0)},1);ia(e);ja(c)}else for(g=f.length-1;0<=g;g--);}finally{h.h.enable()}if(h.h.isEnabled()){a=h.ha.Lv(c,d);for(g=0;g<a.length;g++)c=a[g],h.h.Aa(new (h.h.get(h.h.sk))(c));h.h.Aa(new (h.h.get(h.h.Xj))(e))}return e};
h.I.sB=function(a,c){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==h.g.j.Xf.ELEMENT_NODE){var f=e.getAttribute("type"),g=e.getAttribute("id");c.Xd(e.textContent,f,g)}};
h.I.DC=function(a){for(var c={Jw:[],vh:[],data:[],Tk:[],input:[],next:[]},d=0,e;e=a.childNodes[d];d++)if(e.nodeType!=h.g.j.Xf.TEXT_NODE)switch(e.nodeName.toLowerCase()){case "mutation":c.Jw.push(e);break;case "comment":if(!h.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}c.vh.push(e);break;case "data":c.data.push(e);break;case "title":case "field":c.Tk.push(e);break;case "value":case "statement":c.input.push(e);break;case "next":c.next.push(e);break;default:console.warn("Ignoring unknown tag: "+
e.nodeName)}return c};h.I.yA=function(a,c){for(var d=!1,e=0,f;f=a[e];e++)c.uf&&(c.uf(f),c.rj&&(d=!0));return d};h.I.uA=function(a,c){for(var d=0,e;e=a[d];d++){var f=e.textContent,g="true"==e.getAttribute("pinned"),k=parseInt(e.getAttribute("w"),10);e=parseInt(e.getAttribute("h"),10);c.Fj(f);c.Wd.$w=g;isNaN(k)||isNaN(e)||(c.Wd.size=new h.g.Jc(k,e));g&&c.KB&&!c.Sc&&setTimeout(function(){c.ud.Cb(!0)},1)}};h.I.vA=function(a,c){for(var d=0,e;e=a[d];d++)c.data=e.textContent};
h.I.wA=function(a,c){for(var d=0,e;e=a[d];d++){var f=e.getAttribute("name");h.I.rB(c,f,e)}};h.I.Gv=function(a){for(var c={zk:null,Ak:null},d=0,e;e=a.childNodes[d];d++)e.nodeType==h.g.j.Xf.ELEMENT_NODE&&("block"==e.nodeName.toLowerCase()?c.zk=e:"shadow"==e.nodeName.toLowerCase()&&(c.Ak=e));return c};
h.I.xA=function(a,c,d,e){for(var f=0,g;g=a[f];f++){var k=g.getAttribute("name"),l=ka(d,k);if(!l){console.warn("Ignoring non-existent input "+k+" in block "+e);break}g=h.I.Gv(g);if(g.zk){if(!l.connection)throw TypeError("Input connection does not exist.");h.I.Kq(g.zk,c,l.connection,!1)}g.Ak&&l.connection.Ol(g.Ak)}};
h.I.zA=function(a,c,d){for(var e=0,f;f=a[e];e++){f=h.I.Gv(f);if(f.zk){if(!d.ea)throw TypeError("Next statement does not exist.");if(d.ea.isConnected())throw TypeError("Next statement is already connected.");h.I.Kq(f.zk,c,d.ea,!0)}f.Ak&&d.ea&&d.ea.Ol(f.Ak)}};
h.I.Kq=function(a,c,d,e){var f=a.getAttribute("type");if(!f)throw TypeError("Block type unspecified: "+a.outerHTML);var g=a.getAttribute("id");g=c.Ur(f,g);var k=h.I.DC(a),l=h.I.yA(k.Jw,g);h.I.uA(k.vh,g);h.I.vA(k.data,g);if(d)if(e)if(g.da)d.connect(g.da);else throw TypeError("Next block does not have previous statement.");else if(g.T)d.connect(g.T);else if(g.da)d.connect(g.da);else throw TypeError("Child block does not have output or previous statement.");h.I.wA(k.Tk,g);h.I.xA(k.input,c,g,f);h.I.zA(k.next,
c,g);l&&g.rj();(c=a.getAttribute("inline"))&&g.gi("true"==c);(c=a.getAttribute("disabled"))&&g.Te("true"!=c&&"disabled"!=c);if(c=a.getAttribute("deletable"))g.vv="true"==c;(c=a.getAttribute("movable"))&&g.Ms("true"==c);(c=a.getAttribute("editable"))&&g.Ls("true"==c);(c=a.getAttribute("collapsed"))&&g.ei("true"==c);if("shadow"==a.nodeName.toLowerCase()){a=ea(g,!1);for(c=0;d=a[c];c++)if(!d.Fa)throw TypeError("Shadow block not allowed non-shadow child.");if(la(g).length)throw TypeError("Shadow blocks cannot have variable references.");
g.Ps(!0)}return g};h.I.rB=function(a,c,d){var e=ma(a,c);e?e.Yk(d):console.warn("Ignoring non-existent field "+c+" in block "+a.type)};h.I.lB=function(a){for(var c=0,d;d=a.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};h.h.pe=function(a){h.h.pe.v.constructor.call(this);this.bb=(this.dd="undefined"==typeof a)?"":a.id;this.Qb=this.dd?"":a.B.id};h.g.object.U(h.h.pe,h.h.Abstract);h.h.pe.prototype.ja=function(){var a=h.h.pe.v.ja.call(this);a.blockId=this.bb;return a};h.h.pe.prototype.aa=function(a){h.h.pe.v.aa.call(this,a);this.bb=a.blockId};
h.h.dh=function(a,c,d,e,f){h.h.vy.v.constructor.call(this,a);a&&(this.element="undefined"==typeof c?"":c,this.name="undefined"==typeof d?"":d,this.oldValue="undefined"==typeof e?"":e,this.newValue="undefined"==typeof f?"":f)};h.g.object.U(h.h.dh,h.h.pe);h.h.vy=h.h.dh;b=h.h.dh.prototype;b.type=h.h.Uj;b.ja=function(){var a=h.h.dh.v.ja.call(this);a.element=this.element;this.name&&(a.name=this.name);a.oldValue=this.oldValue;a.newValue=this.newValue;return a};
b.aa=function(a){h.h.dh.v.aa.call(this,a);this.element=a.element;this.name=a.name;this.oldValue=a.oldValue;this.newValue=a.newValue};b.xj=function(){return this.oldValue==this.newValue};
b.run=function(a){var c=z(this).Cc(this.bb);if(c)switch(c.fe&&c.fe.Cb(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(c=ma(c,this.name))?c.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":c.Fj(a||null);break;case "collapsed":c.ei(!!a);break;case "disabled":c.Te(!a);break;case "inline":c.gi(!!a);break;case "mutation":var d="";c.Ed&&(d=(d=c.Ed())&&h.I.wd(d));if(c.uf){var e=h.I.ke(a||"<mutation/>");c.uf(e)}h.h.Aa(new h.h.dh(c,"mutation",null,d,
a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.bb)};h.h.qe=function(a){h.h.qe.v.constructor.call(this,a);a&&(a.Fa&&(this.Ha=!1),this.xml=a.B.oa?h.I.bq(a):h.I.lf(a),this.Jh=h.h.Pv(a))};h.g.object.U(h.h.qe,h.h.pe);h.h.tE=h.h.qe;h.h.qe.prototype.type=h.h.Xj;h.h.qe.prototype.ja=function(){var a=h.h.qe.v.ja.call(this);a.xml=h.I.wd(this.xml);a.ids=this.Jh;this.Ha||(a.recordUndo=this.Ha);return a};
h.h.qe.prototype.aa=function(a){h.h.qe.v.aa.call(this,a);this.xml=h.I.ke(a.xml);this.Jh=a.ids;void 0!==a.recordUndo&&(this.Ha=a.recordUndo)};h.h.qe.prototype.run=function(a){var c=z(this);if(a)a=h.g.xml.createElement("xml"),a.appendChild(this.xml),h.I.yh(a,c);else{a=0;for(var d;d=this.Jh[a];a++){var e=c.Cc(d);e?e.H(!1):d==this.bb&&console.warn("Can't uncreate non-existent block: "+d)}}};
h.h.te=function(a){h.h.te.v.constructor.call(this,a);if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.Fa&&(this.Ha=!1);this.Aj=a.B.oa?h.I.bq(a):h.I.lf(a);this.Jh=h.h.Pv(a)}};h.g.object.U(h.h.te,h.h.pe);h.h.uE=h.h.te;h.h.te.prototype.type=h.h.gh;h.h.te.prototype.ja=function(){var a=h.h.te.v.ja.call(this);a.oldXml=h.I.wd(this.Aj);a.ids=this.Jh;this.Ha||(a.recordUndo=this.Ha);return a};
h.h.te.prototype.aa=function(a){h.h.te.v.aa.call(this,a);this.Aj=h.I.ke(a.oldXml);this.Jh=a.ids;void 0!==a.recordUndo&&(this.Ha=a.recordUndo)};h.h.te.prototype.run=function(a){var c=z(this);if(a){a=0;for(var d;d=this.Jh[a];a++){var e=c.Cc(d);e?e.H(!1):d==this.bb&&console.warn("Can't delete non-existent block: "+d)}}else a=h.g.xml.createElement("xml"),a.appendChild(this.Aj),h.I.yh(a,c)};
h.h.kh=function(a){h.h.kh.v.constructor.call(this,a);a&&(a.Fa&&(this.Ha=!1),a=na(this),this.Rw=a.Xw,this.Ow=a.qw,this.Yr=a.qv)};h.g.object.U(h.h.kh,h.h.pe);h.h.vE=h.h.kh;b=h.h.kh.prototype;b.type=h.h.kk;b.ja=function(){var a=h.h.kh.v.ja.call(this);this.Yh&&(a.newParentId=this.Yh);this.Xh&&(a.newInputName=this.Xh);this.Gg&&(a.newCoordinate=Math.round(this.Gg.x)+","+Math.round(this.Gg.y));this.Ha||(a.recordUndo=this.Ha);return a};
b.aa=function(a){h.h.kh.v.aa.call(this,a);this.Yh=a.newParentId;this.Xh=a.newInputName;if(a.newCoordinate){var c=a.newCoordinate.split(",");this.Gg=new h.g.S(Number(c[0]),Number(c[1]))}void 0!==a.recordUndo&&(this.Ha=a.recordUndo)};b.bi=function(){var a=na(this);this.Yh=a.Xw;this.Xh=a.qw;this.Gg=a.qv};function na(a){var c=z(a).Cc(a.bb);a={};var d=c.getParent();if(d){if(a.Xw=d.id,c=oa(d,c))a.qw=c.name}else a.qv=c.Ua();return a}
b.xj=function(){return this.Rw==this.Yh&&this.Ow==this.Xh&&h.g.S.wf(this.Yr,this.Gg)};
b.run=function(a){var c=z(this),d=c.Cc(this.bb);if(d){var e=a?this.Yh:this.Rw,f=a?this.Xh:this.Ow,g=a?this.Gg:this.Yr;a=null;if(e&&(a=c.Cc(e),!a)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&C(d);if(g)f=d.Ua(),d.moveBy(g.x-f.x,g.y-f.y);else{d=d.T||d.da;c=d.type;if(f){if(a=ka(a,f))var k=a.connection}else c==h.Z.pd&&(k=a.ea);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.bb)};
h.u.register(h.u.R.zb,h.h.Xj,h.h.qe);h.u.register(h.u.R.zb,h.h.gh,h.h.te);h.u.register(h.u.R.zb,h.h.Uj,h.h.dh);h.u.register(h.u.R.zb,h.h.kk,h.h.kh);h.Ya={};h.Ya.Gq=0;h.Ya.xn=null;h.Ya.pB=function(a){var c=a.B,d=a.ka();c.Nc.play("delete");a=pa(c,d);d=d.cloneNode(!0);d.bE=a.x;d.cE=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");v(c).appendChild(d);d.Uu=d.getBBox();h.Ya.Bv(d,c.J,new Date,c.scale)};h.Ya.Bv=function(a,c,d,e){var f=(new Date-d)/150;1<f?h.g.j.removeNode(a):(a.setAttribute("transform","translate("+(a.bE+(c?-1:1)*a.Uu.width*e/2*f)+","+(a.cE+a.Uu.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(h.Ya.Bv,10,a,c,d,e))};
h.Ya.aB=function(a){var c=a.B,d=c.scale;c.Nc.play("click");if(!(1>d)){var e=pa(c,a.ka());a.T?(e.x+=(a.J?3:-3)*d,e.y+=13*d):a.da&&(e.x+=(a.J?-23:23)*d,e.y+=3*d);a=h.g.j.L(h.g.F.ky,{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},v(c));h.Ya.lv(a,new Date,d)}};h.Ya.lv=function(a,c,d){var e=(new Date-c)/150;1<e?h.g.j.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,h.Ya.Gq=setTimeout(h.Ya.lv,10,a,c,d))};
h.Ya.oB=function(a){a.B.Nc.play("disconnect");if(!(1>a.B.scale)){var c=r(a).height;c=Math.atan(10/c)/Math.PI*180;a.J||(c*=-1);h.Ya.Av(a.ka(),c,new Date)}};h.Ya.Av=function(a,c,d){var e=(new Date-d)/200;1<e?a.Tl="":(a.Tl="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*c)+")",h.Ya.xn=a,h.Ya.Gq=setTimeout(h.Ya.Av,10,a,c,d));a.setAttribute("transform",a.em+a.Tl)};h.Ya.Hq=function(){if(h.Ya.xn){clearTimeout(h.Ya.Gq);var a=h.Ya.xn;a.Tl="";a.setAttribute("transform",a.em);h.Ya.xn=null}};h.h.Td=function(a){h.h.Td.v.constructor.call(this);this.dd="undefined"==typeof a;this.Qb=a?a:"";this.Ha=!1};h.g.object.U(h.h.Td,h.h.Abstract);h.h.Td.prototype.Ar=!0;h.h.dg=function(a,c,d,e){h.h.dg.v.constructor.call(this,a?a.B.id:void 0);this.bb=a?a.id:null;this.element="undefined"==typeof c?"":c;this.oldValue="undefined"==typeof d?"":d;this.newValue="undefined"==typeof e?"":e};h.g.object.U(h.h.dg,h.h.Td);h.h.dg.prototype.type=h.h.Op;
h.h.dg.prototype.ja=function(){var a=h.h.dg.v.ja.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.bb&&(a.blockId=this.bb);return a};h.h.dg.prototype.aa=function(a){h.h.dg.v.aa.call(this,a);this.element=a.element;this.newValue=a.newValue;this.bb=a.blockId};h.u.register(h.u.R.zb,h.h.Op,h.h.dg);h.h.Lf=function(a,c,d){h.h.Lf.v.constructor.call(this,a?a.B.id:void 0);this.bb=a?a.id:null;this.ww=c;this.Vu=d};h.g.object.U(h.h.Lf,h.h.Td);h.h.Lf.prototype.type=h.h.pm;h.h.Lf.prototype.ja=function(){var a=h.h.Lf.v.ja.call(this);a.isStart=this.ww;a.blockId=this.bb;a.blocks=this.Vu;return a};h.h.Lf.prototype.aa=function(a){h.h.Lf.v.aa.call(this,a);this.ww=a.isStart;this.bb=a.blockId;this.Vu=a.blocks};h.u.register(h.u.R.zb,h.h.pm,h.h.Lf);h.yF=function(){};h.yb=function(){this.ig=Object.create(null);this.Xi=Object.create(null)};function qa(a,c){var d=c.Ck.id;if(a.ig[d])throw Error('Plugin "'+d+'" with capabilities "'+a.ig[d].hg+'" already added.');a.ig[d]=c;for(var e=[],f=0;f<c.hg.length;f++){var g=String(c.hg[f]).toLowerCase();e.push(g);void 0===a.Xi[g]?a.Xi[g]=[d]:a.Xi[g].push(d)}a.ig[d].hg=e}
function ra(a,c){var d=a.ig[c];if(d){for(var e=0;e<d.hg.length;e++){var f=String(d.hg[e]).toLowerCase();a.Xi[f].splice(a.Xi[f].indexOf(c),1)}delete a.ig[c]}}function sa(a,c){var d=h.yb.Lb.$o;d=String(d).toLowerCase();return-1!==a.ig[c].hg.indexOf(d)}function ta(a,c){c=String(c).toLowerCase();c=a.Xi[c];if(!c)return[];var d=[],e=[],f=a.ig;c.forEach(function(g){e.push(f[g])});e.sort(function(g,k){return g.weight-k.weight});e.forEach(function(g){d.push(g.Ck)});return d}h.yb.Lb=function(a){this.zl=a};
h.yb.Lb.prototype.toString=function(){return this.zl};h.yb.Lb.ru=new h.yb.Lb("positionable");h.yb.Lb.cp=new h.yb.Lb("drag_target");h.yb.Lb.$o=new h.yb.Lb("delete_area");h.yb.Lb.pt=new h.yb.Lb("autohideable");
h.tc=function(a){this.Wg=h.selected=a;this.m=a.B;this.Bg=this.Br=null;this.Vk=ua(this,this.Wg);this.mc=this.vb=null;this.ne=!1;this.Sk=this.rr=this.Th=null;this.dn=va(this)};h.tc.Ii={jp:0,jz:1,su:2};h.tc.Et="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.";h.tc.prototype.H=function(){this.dn.length=0;h.h.disable();try{this.Vk&&this.Vk.H(),this.Bg&&this.Bg.H()}finally{h.h.enable()}};
h.tc.prototype.update=function(a,c){var d=this.vb&&this.mc?h.yt:h.hc;for(var e=null,f=null,g=0;g<this.dn.length;g++){var k=this.dn[g],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.wo)}d={closest:e,local:f,wo:d};if((this.ne=this.Ss(d,c))||wa(this,d,a)){h.h.disable();d.closest?(a=this.vb!=d.closest,c=this.mc!=d.local,this.vb&&this.mc&&(a||c||this.ne)&&xa(this)):xa(this);this.mc=this.vb=this.Th=null;if(!this.ne&&(a=d.closest,c=d.local,a))if(a==this.vb||a.$().ed())console.log("Trying to connect to an insertion marker");
else{this.vb=a;this.mc=c;a=this.vb;c=this.mc;d=this.Wg;c.type==h.Z.Xc||c.type==h.Z.pd?((e=!a.isConnected())||(e=a.la(),e=!!h.qa.Ov(d,c.type===h.Z.Xc?e.T:e.da)),c=e?h.tc.Ii.jp:h.tc.Ii.su):c=h.tc.Ii.jp;switch(c){case h.tc.Ii.jz:this.rr=this.vb.$();break;case h.tc.Ii.jp:e=this.mc;c=this.vb;d=this.Br&&e==this.Br?this.Bg:this.Vk;e=d.fr(e.$(),e);if(e==this.Th)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");d.Ia();d.oa=!0;d.ka().setAttribute("visibility","visible");e&&
c&&(e.type!=h.Z.Vb&&e.type!=h.Z.Ub||d.moveBy(c.x-e.x,c.y-e.y));c&&e.connect(c);this.Th=e;break;case h.tc.Ii.su:this.Sk=this.vb.la(),ya(this.Sk.tb,"blocklyReplaceable",!0)}a&&(d=a.K.B.ib.ca(),c=za(d,a),a.type==h.Z.Ub||a.type==h.Z.Xc?(d=d.Oi,c=h.g.A.moveBy(0,-d)+h.g.A.X("v",d)+c.Hd+h.g.A.X("v",d)):(d=d.nk-d.kb,c=h.g.A.moveBy(-d,0)+h.g.A.X("h",d)+c.Mg+h.g.A.X("h",d)),d=a.K.Ua(),h.qa.mw=h.g.j.L(h.g.F.we,{"class":"blocklyHighlightedConnectionPath",d:c,transform:"translate("+(a.x-d.x)+","+(a.y-d.y)+")"+
(a.K.J?" scale(-1 1)":"")},a.K.ka()))}h.h.enable()}};
function ua(a,c){var d=c.type;h.h.disable();try{var e=a.m.Ur(d);e.tx(!0);if(c.Ed){var f=c.Ed();f&&e.uf(f)}for(a=0;a<c.V.length;a++){var g=c.V[a];if(g.name!=h.gb.um){var k=e.V[a];if(!k)throw Error(h.tc.Et.replace("%1","an input"));for(d=0;d<g.$a.length;d++){var l=g.$a[d],m=k.$a[d];if(!m)throw Error(h.tc.Et.replace("%1","a field"));m.setValue(l.getValue())}}}e.ei(c.isCollapsed());e.gi(Aa(c));e.rj();e.ka().setAttribute("visibility","hidden")}finally{h.h.enable()}return e}
function va(a){var c=a.Wg.$d(!1),d=a.Wg.Xn(!0);if(d&&d!=a.Wg.ea){c.push(d);a.Br=d;if(a.Bg){h.h.disable();try{a.Bg.H()}finally{h.h.enable()}}a.Bg=ua(a,d.$())}return c}
function wa(a,c,d){var e=c.local,f=c.closest;c=c.wo;if(e&&f){if(a.mc&&a.vb){if(a.vb==f&&a.mc==e)return!1;e=a.mc.x+d.x-a.vb.x;a=a.mc.y+d.y-a.vb.y;a=Math.sqrt(e*e+a*a);return!(f&&c>a-h.py)}if(a.mc||a.vb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.mc||!a.vb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
h.tc.prototype.Ss=function(a,c){return c&&sa(this.m.qf,c.id)?Ba(c,this.Wg,a&&!!a.closest):!1};
function xa(a){a.vb&&a.vb.la()&&(h.g.j.removeNode(h.qa.mw),delete h.qa.mw);if(a.Sk)ya(a.Sk.tb,"blocklyReplaceable",!1),a.Sk=null;else if(a.rr)a.rr=null;else if(a.Th)if(a.Th){var c=a.Th,d=c.$(),e=d.ea,f=d.da,g=d.T;g=c.type==h.Z.Ub&&!(g&&g.sa);!(c!=e||f&&f.sa)||g?C(c.la(),!1):c.type==h.Z.Vb&&c!=e?(e=c.sa,C(e.$(),!1),f=f?f.sa:null,C(d,!0),f&&f.connect(e)):C(d,!0);if(c.sa)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.Th=null;(a=d.ka())&&a.setAttribute("visibility",
"hidden")}else console.log("No insertion marker connection to disconnect")}h.tc.prototype.kj=function(){var a=[];this.Vk&&a.push(this.Vk);this.Bg&&a.push(this.Bg);return a};h.Sj=function(a,c){this.hb=a;this.m=c;this.He=new h.tc(this.hb);this.Zb=null;this.ne=!1;this.Ve=this.hb.Ua();this.An=h.Sj.nC(a)};h.Sj.prototype.H=function(){this.An.length=0;this.He&&this.He.H()};h.Sj.nC=function(a){var c=[];a=x(a,!1);for(var d=0,e;e=a[d];d++){e=Ca(e);for(var f=0;f<e.length;f++){var g={location:e[f].vI(),icon:e[f]};c.push(g)}}return c};b=h.Sj.prototype;
b.Ul=function(a,c){h.h.Ob()||h.h.na(!0);var d=new (h.h.get(h.h.pm))(this.hb,!0,x(this.hb,!1));h.h.Aa(d);this.m.Tn&&Da(this.hb);h.g.j.Vl();this.m.Sb(!1);h.Ya.Hq();if(this.hb.getParent()||c&&this.hb.ea&&this.hb.ea.la())C(this.hb,c),a=this.Bj(a),a=h.g.S.sum(this.Ve,a),this.hb.translate(a.x,a.y),h.Ya.oB(this.hb),a=this.He,a.dn=va(a);this.hb.Rg(!0);a=this.hb;a.im&&(c=a.Ua(),a.ka().removeAttribute("transform"),a.B.$c.mi(c.x,c.y),(c=a.ka())&&Ea(a.B.$c,c))};
b.vf=function(a,c){c=this.Bj(c);var d=h.g.S.sum(this.Ve,c);this.hb.Tr(d);for(d=0;d<this.An.length;d++){var e=this.An[d];e.icon.fJ(h.g.S.sum(e.location,c))}d=this.Zb;this.Zb=Fa(this.m,a);this.He.update(c,this.Zb);a=this.ne;this.ne=this.He.ne;a!=this.ne&&this.hb.Ks(this.ne);this.Zb!==d&&d&&d.bs();this.Zb&&this.Zb.cs()};
b.Qk=function(a,c){this.vf(a,c);this.An=[];a=new (h.h.get(h.h.pm))(this.hb,!1,x(this.hb,!1));h.h.Aa(a);h.g.j.Wl();h.Ya.Hq();c=this.Bj(c);a=h.g.S.sum(this.Ve,c);var d=this.hb;d.im&&(d.translate(a.x,a.y),d.B.$c.jn(d.B.qb));this.Zb&&this.Zb.ds();this.ne?(this.Uk(),this.hb.H(!1,!0),h.jj=[],a=!0):a=!1;a||(this.hb.Rg(!1),c?(Ga(this.hb,c.x,c.y),this.Uk(),this.He.vb?(c=this.He,c.vb&&(h.h.disable(),xa(c),h.h.enable(),c.mc.connect(c.vb),c.Wg.oa&&(h.Ya.aB((Ha(c.mc)?c.vb:c.mc).$()),Da(c.Wg.ce())))):this.hb.Ia(),
Ia(this.hb)):h.gq(this.hb.B,this.m.Tc.Eh(!0),this.hb));this.m.Sb(!0);h.h.na(!1)};b.Uk=function(){var a=new (h.h.get(h.h.ah))(this.hb);a.Yr=this.Ve;a.bi();h.h.Aa(a)};b.Bj=function(a){a=new h.g.S(a.x/this.m.scale,a.y/this.m.scale);this.m.Tn&&a.scale(1/this.m.options.Uc.scale);return a};b.kj=function(){return this.He&&this.He.kj?this.He.kj():[]};h.u.register(h.u.R.rt,h.u.zi,h.Sj);h.DF=function(){};h.FF=function(){};h.IF=function(){};h.AF=function(){};h.g.gG=function(){};
h.Ip=function(a,c,d,e,f){this.m=a;c=void 0===c?!0:c;d=void 0===d?!0:d;var g=c&&d;c&&(this.eb=new h.Ea(a,!0,g,e,f));d&&(this.Pa=new h.Ea(a,!1,g,e,f));g&&(this.Hk=h.g.j.L(h.g.F.qd,{height:h.Ea.bc,width:h.Ea.bc,"class":"blocklyScrollbarBackground"},null),h.g.j.sj(this.Hk,a.Hf));this.Ra=null};b=h.Ip.prototype;b.H=function(){h.g.j.removeNode(this.Hk);this.Ra=this.m=this.Hk=null;this.eb&&(this.eb.H(),this.eb=null);this.Pa&&(this.Pa.H(),this.Pa=null)};
b.resize=function(){var a=this.m.ae();if(a){var c=!1,d=!1;this.Ra&&this.Ra.qc==a.qc&&this.Ra.Hc==a.Hc&&this.Ra.Mc==a.Mc&&this.Ra.xc==a.xc?(this.Ra&&this.Ra.scrollWidth==a.scrollWidth&&this.Ra.Md==a.Md&&this.Ra.scrollLeft==a.scrollLeft||(c=!0),this.Ra&&this.Ra.scrollHeight==a.scrollHeight&&this.Ra.Nd==a.Nd&&this.Ra.scrollTop==a.scrollTop||(d=!0)):d=c=!0;if(c||d){try{h.h.disable(),this.eb&&c&&this.eb.resize(a),this.Pa&&d&&this.Pa.resize(a)}finally{h.h.enable()}Ja(this.m)}this.eb&&this.Pa&&(this.Ra&&
this.Ra.qc==a.qc&&this.Ra.xc==a.xc||this.Hk.setAttribute("x",this.Pa.position.x),this.Ra&&this.Ra.Hc==a.Hc&&this.Ra.Mc==a.Mc||this.Hk.setAttribute("y",this.eb.position.y));this.Ra=a}};b.Ao=function(a,c){this.eb&&this.eb.Ao(a,c);this.Pa&&this.Pa.Ao(a,c)};b.set=function(a,c,d){this.eb&&this.eb.set(a,!1);this.Pa&&this.Pa.set(c,!1);if(d||void 0===d)a={},this.eb&&(a.x=Ka(this.eb)),this.Pa&&(a.y=Ka(this.Pa)),this.m.Nl(a)};b.fi=function(a){this.eb&&this.eb.fi(a);this.Pa&&this.Pa.fi(a)};
b.isVisible=function(){var a=!1;this.eb&&(a=this.eb.isVisible());this.Pa&&(a=a||this.Pa.isVisible());return a};
h.Ea=function(a,c,d,e,f){this.m=a;this.Lg=d||!1;this.Ih=c;this.Sh=void 0!==f?f:h.Ea.zy;this.ratio=this.Ra=null;this.Ik(e);this.position=new h.g.S(0,0);a=h.Ea.bc;c?(this.cc.setAttribute("height",a),this.Qe.setAttribute("height",a),this.hd.setAttribute("height",a-5),this.hd.setAttribute("y",2.5),this.Zn="width",this.ax="x"):(this.cc.setAttribute("width",a),this.Qe.setAttribute("width",a),this.hd.setAttribute("width",a-5),this.hd.setAttribute("x",2.5),this.Zn="height",this.ax="y");this.Uw=h.N.va(this.cc,
"mousedown",this,this.TC);this.Vw=h.N.va(this.hd,"mousedown",this,this.UC)};b=h.Ea.prototype;b.ls=new h.g.S(0,0);b.zx=0;b.Jd=0;b.sg=0;b.fl=0;b.Cf=!0;b.wh=!0;h.Ea.bc=15;h.Touch.Cu&&(h.Ea.bc=25);h.Ea.zy=.5;h.Ea.FC=function(a,c){return a.qc==c.qc&&a.Hc==c.Hc&&a.Md==c.Md&&a.Nd==c.Nd&&a.Mc==c.Mc&&a.xc==c.xc&&a.scrollWidth==c.scrollWidth&&a.scrollHeight==c.scrollHeight&&a.scrollLeft==c.scrollLeft&&a.scrollTop==c.scrollTop};b=h.Ea.prototype;
b.H=function(){La();h.N.rb(this.Uw);this.Uw=null;h.N.rb(this.Vw);this.Vw=null;h.g.j.removeNode(this.Qe);this.cc=this.O=this.Qe=null;this.hd&&(this.m.ec.unsubscribe(this.hd),this.hd=null);this.m=null};function Ma(a,c){return c=0>=c||isNaN(c)?0:Math.min(c,a.Jd)}function Na(a,c){a.sg=c;a.hd.setAttribute(a.Zn,a.sg)}function Oa(a,c){return c=0>=c||isNaN(c)?0:Math.min(c,a.Jd-a.sg)}function Pa(a,c){a.fl=c;a.hd.setAttribute(a.ax,a.fl)}
function Qa(a,c){a.Jd=c;a.Qe.setAttribute(a.Zn,a.Jd);a.cc.setAttribute(a.Zn,a.Jd)}b.setPosition=function(a,c){this.position.x=a;this.position.y=c;h.g.j.Ml(this.Qe,"translate("+(this.position.x+this.ls.x)+"px,"+(this.position.y+this.ls.y)+"px)")};b.resize=function(a){if(!a&&(a=this.m.ae(),!a))return;if(!this.Ra||!h.Ea.FC(a,this.Ra)){if(this.Ih){var c=a;Ra(this,c)?Sa(this,c):Ta(this,c)}else c=a,Ra(this,c)?Ua(this,c):Va(this,c);this.Ra=a;Wa(this)}};
function Ra(a,c){return a.Ra?a.Ra.qc!==c.qc||a.Ra.Hc!==c.Hc||a.Ra.xc!==c.xc||a.Ra.Mc!==c.Mc:!0}function Sa(a,c){var d=c.qc-2*a.Sh;a.Lg&&(d-=h.Ea.bc);Qa(a,Math.max(0,d));d=c.xc+a.Sh;a.Lg&&a.m.J&&(d+=h.Ea.bc);a.setPosition(d,c.Mc+c.Hc-h.Ea.bc-a.Sh);Ta(a,c)}function Ta(a,c){if(c.qc>=c.scrollWidth)Na(a,a.Jd),Pa(a,0),a.Lg||a.Cb(!1);else{a.Lg||a.Cb(!0);var d=a.Jd*c.qc/c.scrollWidth;d=Ma(a,d);Na(a,d);d=c.scrollWidth-c.qc;var e=a.Jd-a.sg;c=(c.Md-c.scrollLeft)/d*e;c=Oa(a,c);Pa(a,c);a.ratio=e/d}}
function Ua(a,c){var d=c.Hc-2*a.Sh;a.Lg&&(d-=h.Ea.bc);Qa(a,Math.max(0,d));a.setPosition(a.m.J?c.xc+a.Sh:c.xc+c.qc-h.Ea.bc-a.Sh,c.Mc+a.Sh);Va(a,c)}function Va(a,c){if(c.Hc>=c.scrollHeight)Na(a,a.Jd),Pa(a,0),a.Lg||a.Cb(!1);else{a.Lg||a.Cb(!0);var d=a.Jd*c.Hc/c.scrollHeight;d=Ma(a,d);Na(a,d);d=c.scrollHeight-c.Hc;var e=a.Jd-a.sg;c=(c.Nd-c.scrollTop)/d*e;c=Oa(a,c);Pa(a,c);a.ratio=e/d}}
b.Ik=function(a){var c="blocklyScrollbar"+(this.Ih?"Horizontal":"Vertical");a&&(c+=" "+a);this.Qe=h.g.j.L(h.g.F.Mi,{"class":c},null);this.O=h.g.j.L(h.g.F.Ic,{},this.Qe);this.cc=h.g.j.L(h.g.F.qd,{"class":"blocklyScrollbarBackground"},this.O);a=Math.floor((h.Ea.bc-5)/2);this.hd=h.g.j.L(h.g.F.qd,{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.O);this.m.ec.subscribe(this.hd,"scrollbarColour","fill");this.m.ec.subscribe(this.hd,"scrollbarOpacity","fill-opacity");h.g.j.sj(this.Qe,v(this.m))};
b.isVisible=function(){return this.Cf};b.fi=function(a){var c=a!=this.wh;this.wh=a;c&&this.gm()};b.Cb=function(a){var c=a!=this.isVisible();if(this.Lg)throw Error("Unable to toggle visibility of paired scrollbars.");this.Cf=a;c&&this.gm()};b.gm=function(){this.wh&&this.isVisible()?this.Qe.setAttribute("display","block"):this.Qe.setAttribute("display","none")};
b.TC=function(a){ba(this.m);h.Touch.kn();La();if(h.g.pl(a))a.stopPropagation();else{var c=h.g.yl(a,v(this.m),Xa(this.m));c=this.Ih?c.x:c.y;var d=h.g.cl(this.hd);d=this.Ih?d.x:d.y;var e=this.fl,f=.95*this.sg;c<=d?e-=f:c>=d+this.sg&&(e+=f);Pa(this,Oa(this,e));Wa(this);a.stopPropagation();a.preventDefault()}};
b.UC=function(a){ba(this.m);La();h.g.pl(a)?a.stopPropagation():(this.QD=this.fl,Ya(this.m),this.zx=this.Ih?a.clientX:a.clientY,h.Ea.Jg=h.N.va(document,"mouseup",this,this.YC),h.Ea.Ig=h.N.va(document,"mousemove",this,this.VC),a.stopPropagation(),a.preventDefault())};b.VC=function(a){Pa(this,Oa(this,this.QD+((this.Ih?a.clientX:a.clientY)-this.zx)));Wa(this)};b.YC=function(){Za(this.m);h.Touch.kn();La()};
function La(){h.ac(!0);h.Ea.Jg&&(h.N.rb(h.Ea.Jg),h.Ea.Jg=null);h.Ea.Ig&&(h.N.rb(h.Ea.Ig),h.Ea.Ig=null)}function Ka(a){a=a.fl/(a.Jd-a.sg);isNaN(a)&&(a=0);return a}function Wa(a){var c=Ka(a),d={};a.Ih?d.x=c:d.y=c;a.m.Nl(d)}b.set=function(a,c){Pa(this,Oa(this,a*this.ratio));(c||void 0===c)&&Wa(this)};b.Ao=function(a,c){this.ls=new h.g.S(a,c)};h.uF=function(){};h.vF=function(){};h.wF=function(){};h.KF=function(){};h.g.gj={};h.g.gj.warn=function(a,c,d,e){a=a+" was deprecated on "+c+" and will be deleted on "+d+".";e&&(a+="\nUse "+e+" instead.");console.warn(a)};h.qa=function(a,c){this.K=a;this.type=c};h.qa.rm=0;h.qa.Sz=1;h.qa.Vz=2;h.qa.Uz=3;h.qa.Pz=4;h.qa.Qz=5;h.qa.Tz=6;h.qa.Rz=7;b=h.qa.prototype;b.sa=null;b.Fe=!1;b.Zi=null;b.Do=null;b.x=0;b.y=0;
b.on=function(a){var c=this.$(),d=a.$();a.isConnected()&&a.disconnect();if(this.isConnected()){var e=this.mj(!0);this.Do=null;var f=this.la();if(f.Fa)f.H(!1);else{this.disconnect();var g=f}this.Do=e}var k;h.h.isEnabled()&&(k=new (h.h.get(h.h.ah))(d));h.qa.$A(this,a);d.Bo(c);k&&(k.bi(),h.h.Aa(k));g&&(a=this.type===h.Z.Ub?g.T:g.da,(d=h.qa.Ov(d,a))?a.connect(d):a.es(this))};b.H=function(){if(this.isConnected()){this.Ol(null);var a=this.la();a&&C(a)}this.Fe=!0};b.$=function(){return this.K};
function Ha(a){return a.type==h.Z.Ub||a.type==h.Z.Vb}b.isConnected=function(){return!!this.sa};b.lq=function(a){h.g.gj.warn("Connection.prototype.canConnectWithReason","July 2020","July 2021","the workspace's connection checker");return this.K.B.rf.lq(this,a,!1)};b.es=function(){};b.connect=function(a){if(this.sa!=a&&$a(this.K.B.rf,this,a,!1)){var c=h.h.Ob();c||h.h.na(!0);Ha(this)?this.on(a):a.on(this);c||h.h.na(!1)}};
h.qa.$A=function(a,c){if(!a||!c)throw Error("Cannot connect null connections.");a.sa=c;c.sa=a};h.qa.VB=function(a,c){var d=null;c=c.T;for(var e=c.K.B.rf,f=0,g;g=a.V[f];f++)if((g=g.connection)&&$a(e,c,g,!1)){if(d)return null;d=g}return d};h.qa.LB=function(a,c){for(var d;d=h.qa.VB(a,c);)if(a=d.la(),!a||a.Fa)return d;return null};h.qa.Ov=function(a,c){if(c.type===h.Z.Xc)return h.qa.LB(a,c.$());a=a.Xn(!0);var d=c.K.B.rf;return a&&$a(d,c,a,!1)?a:null};b=h.qa.prototype;
b.disconnect=function(){var a=this.sa;if(!a)throw Error("Source connection not connected.");if(a.sa!=this)throw Error("Target connection not connected to source connection.");if(Ha(this)){var c=this.K;var d=a.$();a=this}else c=a.$(),d=this.K;var e=h.h.Ob();e||h.h.na(!0);this.Fq(c,d);d.Fa||a.Kl();e||h.h.na(!1)};b.Fq=function(a,c){var d;h.h.isEnabled()&&(d=new (h.h.get(h.h.ah))(c));this.sa=this.sa.sa=null;c.Bo(null);d&&(d.bi(),h.h.Aa(d))};
b.Kl=function(){var a=this.$(),c=this.mj();if(a.B&&c)if(a=h.I.ij(c,a.B),a.T)this.connect(a.T);else if(a.da)this.connect(a.da);else throw Error("Child block does not have output or previous statement.");};b.la=function(){return this.isConnected()?this.sa.$():null};b.Tw=function(){!this.isConnected()||this.sa&&$a(this.K.B.rf,this,this.sa,!1)||C(Ha(this)?this.la():this.K)};b.Ej=function(a){a?(Array.isArray(a)||(a=[a]),this.Zi=a,this.Tw()):this.Zi=null};
b.Ol=function(a){this.Do=a;a=this.la();a?a.Fa&&(a.H(!1),this.Kl()):this.Kl()};b.mj=function(a){return a&&this.la().Fa?h.I.lf(this.la()):this.Do};b.Kw=function(){return[]};b.Je=function(){for(var a=null,c=this.K.V,d=0;d<c.length;d++)if(c[d].connection===this){a=c[d];break}return a};h.CF=function(){};h.Bt=function(){};function $a(a,c,d,e,f){return a.lq(c,d,e,f)==h.qa.rm}h.Bt.prototype.lq=function(a,c,d,e){if(a&&c){if(Ha(a)){var f=a.$();var g=c.$()}else g=a.$(),f=c.$();f=f==g?h.qa.Sz:c.type!=h.Hi[a.type]?h.qa.Vz:f.B!==g.B?h.qa.Qz:f.Fa&&!g.Fa?h.qa.Tz:h.qa.rm}else f=h.qa.Uz;if(f!=h.qa.rm)a=f;else{a:if(f=a.Zi,g=c.Zi,f&&g){for(var k=0;k<f.length;k++)if(-1!=g.indexOf(f[k])){f=!0;break a}f=!1}else f=!0;a=f?d&&!db(a,c,e||0)?h.qa.Rz:h.qa.rm:h.qa.Pz}return a};
function db(a,c,d){if(eb(a,c)>d||c.$().ed())return!1;switch(c.type){case h.Z.pd:return a.sa||-1!=h.jj.indexOf(c)?a=!1:c.sa?(a=c.la(),a=a.ed()?!(a.da&&a.da.la()):!1):a=!0,a;case h.Z.Xc:if(c.isConnected()&&!c.la().ed()||a.isConnected())return!1;break;case h.Z.Ub:if(c.isConnected()&&!c.la().lc()&&!c.la().Fa)return!1;break;case h.Z.Vb:if(c.isConnected()&&!a.$().ea&&!c.la().Fa&&c.la().ea)return!1;break;default:return!1}return-1!=h.jj.indexOf(c)?!1:!0}h.u.register(h.u.R.zt,h.u.zi,h.Bt);h.oh=function(a,c,d,e){this.name=a;this.fg=c||Object.create(null);this.mq=d||Object.create(null);this.gv=e||Object.create(null);this.fontStyle=Object.create(null);this.Vs=null;h.u.register(h.u.R.Jp,a,this)};h.oh.prototype.Zd=function(){return this.name+"-theme"};function fb(a,c){return(c=a.gv[c])&&"string"==typeof c&&fb(a,c)?fb(a,c):c?String(c):null}
h.oh.kB=function(a,c){var d=new h.oh(a),e=c.base;e&&("string"==typeof e&&(e=h.u.hr(h.u.R.Jp,e)),e instanceof h.oh&&(h.g.object.ej(d,e),d.name=a));h.g.object.ej(d.fg,c.blockStyles);h.g.object.ej(d.mq,c.categoryStyles);h.g.object.ej(d.gv,c.componentStyles);h.g.object.ej(d.fontStyle,c.fontStyle);null!=c.startHats&&(d.Vs=c.startHats);return d};h.ef={};h.ef.Mf={};h.ef.Mf.jB={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
h.ef.Mf.mq={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"}};h.ef.Mf=new h.oh("classic",h.ef.Mf.jB,h.ef.Mf.mq);h.g.gk={};h.g.gk.PC=0;h.g.gk.Tv=function(){return"blockly-"+(h.g.gk.PC++).toString(36)};h.g.W={};h.g.W.Wo="categoryToolbox";h.g.W.Lt="flyoutToolbox";h.g.W.Xa={ag:0,ui:1,Ab:2,vc:3};h.g.W.pv=function(a){if(!a)return null;if(a instanceof Element||"string"==typeof a)a=h.g.W.ps(a),a=h.g.W.cB(a);h.g.W.fE(a);return a};h.g.W.fE=function(a){var c=a.kind;a=a.contents;if(c&&c!=h.g.W.Lt&&c!=h.g.W.Wo)throw Error("Invalid toolbox kind "+c+". Please supply either "+h.g.W.Lt+" or "+h.g.W.Wo);if(!a)throw Error("Toolbox must have a contents attribute.");};
h.g.W.ov=function(a){return a?a.contents?a.contents:Array.isArray(a)&&0<a.length&&!a[0].nodeType?a:h.g.W.kt(a):[]};h.g.W.gl=function(a){if(!a)return!1;var c=a.kind;return c?c==h.g.W.Wo:!!a.contents.filter(function(d){return"CATEGORY"==d.kind.toUpperCase()}).length};h.g.W.DI=function(a){return a&&a.contents?!!a.contents.filter(function(c){return"CATEGORY"==c.kind.toUpperCase()}).length:!1};h.g.W.cB=function(a){var c={contents:h.g.W.kt(a)};a instanceof Node&&h.g.W.Pu(a,c);return c};
h.g.W.kt=function(a){var c=[],d=a.childNodes;d||(d=a);a=0;for(var e;e=d[a];a++)if(e.tagName){var f={},g=e.tagName.toUpperCase();f.kind=g;"BLOCK"==g?f.blockxml=e:e.childNodes&&0<e.childNodes.length&&(f.contents=h.g.W.kt(e));h.g.W.Pu(e,f);c.push(f)}return c};h.g.W.Pu=function(a,c){for(var d=0;d<a.attributes.length;d++){var e=a.attributes[d];-1<e.nodeName.indexOf("css-")?(c.cssconfig=c.cssconfig||{},c.cssconfig[e.nodeName.replace("css-","")]=e.value):c[e.nodeName]=e.value}};
h.g.W.ps=function(a){if(a){if("string"!=typeof a&&(h.g.userAgent.Rd&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=h.I.ke(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};h.Yc=function(a){var c=!!a.readOnly;if(c)var d=null,e=!1,f=!1,g=!1,k=!1,l=!1,m=!1;else{d=h.g.W.pv(a.toolbox);e=h.g.W.gl(d);f=a.trashcan;void 0===f&&(f=e);var n=a.maxTrashcanContents;f?void 0===n&&(n=32):n=0;g=a.collapse;void 0===g&&(g=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);m=a.sounds;void 0===m&&(m=!0)}var p=!!a.rtl;var q="end"!==a.toolboxPosition==p?h.g.W.Xa.vc:h.g.W.Xa.Ab;var B=a.css;void 0===B&&(B=!0);var t="https://blockly-demo.appspot.com/static/media/";a.media?t=a.media:
a.path&&(t=a.path+"media/");var u=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,w=a.renderer||"geras",I=a.plugins||{};this.J=p;this.qo=u;this.collapse=g;this.VA=k;this.disable=l;this.readOnly=c;this.Qr=a.maxBlocks||Infinity;this.eo=a.maxInstances;this.vo=t;this.gl=e;this.nc=h.Yc.aD(a,e);this.hw=f;this.fo=n;this.iC=m;this.gC=B;this.Rh=d;this.dw=h.Yc.$C(a);this.sb=h.Yc.cD(a);this.jd=q;this.XD=h.Yc.bD(a);this.Es=w;this.Fs=a.rendererOverrides;this.mr=null;this.Uc=a.parentWorkspace;this.plugins=I};
h.wE=function(){};
h.Yc.aD=function(a,c){var d=a.move||{},e={};void 0===d.scrollbars&&void 0===a.scrollbars?e.scrollbars=c:"object"==typeof d.scrollbars?(e.scrollbars={},e.scrollbars.jl=!!d.scrollbars.horizontal,e.scrollbars.vertical=!!d.scrollbars.vertical,e.scrollbars.jl&&e.scrollbars.vertical?e.scrollbars=!0:e.scrollbars.jl||e.scrollbars.vertical||(e.scrollbars=!1)):e.scrollbars=!!d.scrollbars||!!a.scrollbars;e.Pj=e.scrollbars&&void 0!==d.wheel?!!d.wheel:"object"==typeof e.scrollbars;e.vf=e.scrollbars?void 0===d.drag?
!0:!!d.drag:!1;return e};h.Yc.cD=function(a){a=a.zoom||{};var c={};c.controls=void 0===a.controls?!1:!!a.controls;c.Pj=void 0===a.wheel?!1:!!a.wheel;c.SD=void 0===a.startScale?1:Number(a.startScale);c.vl=void 0===a.maxScale?3:Number(a.maxScale);c.xl=void 0===a.minScale?.3:Number(a.minScale);c.ED=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);c.Zw=void 0===a.pinch?c.Pj||c.controls:!!a.pinch;return c};
h.Yc.$C=function(a){a=a.grid||{};var c={};c.spacing=Number(a.spacing)||0;c.nb=a.colour||"#888";c.length=void 0===a.length?1:Number(a.length);c.iJ=0<c.spacing&&!!a.snap;return c};h.Yc.bD=function(a){a=a.theme||h.ef.Mf;return"string"==typeof a?h.u.hr(h.u.R.Jp,a):a instanceof h.oh?a:h.oh.kB(a.name||"builtin"+h.g.gk.Tv(),a)};h.Yc.ps=function(a){h.g.gj.warn("Blockly.Options.parseToolboxTree","September 2020","September 2021","Blockly.utils.toolbox.parseToolboxTree");return h.g.W.ps(a)};h.h.ff=function(a){h.h.ff.v.constructor.call(this);this.Xg=(this.dd="undefined"==typeof a)?"":a.$b();this.Qb=this.dd?"":a.B.id};h.g.object.U(h.h.ff,h.h.Abstract);h.h.ff.prototype.ja=function(){var a=h.h.ff.v.ja.call(this);a.varId=this.Xg;return a};h.h.ff.prototype.aa=function(a){h.h.ff.v.ja.call(this);this.Xg=a.varId};h.h.gf=function(a){h.h.gf.v.constructor.call(this,a);a&&(this.pi=a.type,this.oi=a.name)};h.g.object.U(h.h.gf,h.h.ff);h.h.gf.prototype.type=h.h.sk;
h.h.gf.prototype.ja=function(){var a=h.h.gf.v.ja.call(this);a.varType=this.pi;a.varName=this.oi;return a};h.h.gf.prototype.aa=function(a){h.h.gf.v.aa.call(this,a);this.pi=a.varType;this.oi=a.varName};h.h.gf.prototype.run=function(a){var c=z(this);a?c.Xd(this.oi,this.pi,this.Xg):c.fj(this.Xg)};h.h.hf=function(a){h.h.hf.v.constructor.call(this,a);a&&(this.pi=a.type,this.oi=a.name)};h.g.object.U(h.h.hf,h.h.ff);h.h.hf.prototype.type=h.h.Wm;
h.h.hf.prototype.ja=function(){var a=h.h.hf.v.ja.call(this);a.varType=this.pi;a.varName=this.oi;return a};h.h.hf.prototype.aa=function(a){h.h.hf.v.aa.call(this,a);this.pi=a.varType;this.oi=a.varName};h.h.hf.prototype.run=function(a){var c=z(this);a?c.fj(this.Xg):c.Xd(this.oi,this.pi,this.Xg)};h.h.jf=function(a,c){h.h.jf.v.constructor.call(this,a);a&&(this.Zr=a.name,this.Vr="undefined"==typeof c?"":c)};h.g.object.U(h.h.jf,h.h.ff);h.h.jf.prototype.type=h.h.Qp;
h.h.jf.prototype.ja=function(){var a=h.h.jf.v.ja.call(this);a.oldName=this.Zr;a.newName=this.Vr;return a};h.h.jf.prototype.aa=function(a){h.h.jf.v.aa.call(this,a);this.Zr=a.oldName;this.Vr=a.newName};h.h.jf.prototype.run=function(a){var c=z(this);a?c.ci(this.Xg,this.Vr):c.ci(this.Xg,this.Zr)};h.u.register(h.u.R.zb,h.h.sk,h.h.gf);h.u.register(h.u.R.zb,h.h.Wm,h.h.hf);h.u.register(h.u.R.zb,h.h.Qp,h.h.jf);h.Rp=function(a){this.Ja=Object.create(null);this.B=a};b=h.Rp.prototype;b.clear=function(){this.Ja=Object.create(null)};b.lx=function(a,c){var d=this.qg(c,a.type),e=D(this.B,!1);h.h.na(!0);try{if(d&&d.$b()!=a.$b()){var f=a.type;c!=d.name&&gb(d,c,e);for(c=0;c<e.length;c++){d=void 0;for(var g=0;d=e[c].V[g];g++)for(var k=0;d.$a[k];k++);}h.h.Aa(new (h.h.get(h.h.Wm))(a));this.Ja[f].splice(this.Hn(f).indexOf(a),1)}else gb(a,c,e)}finally{h.h.na(!1)}};
b.ci=function(a,c){var d=this.rg(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.lx(d,c)};function gb(a,c,d){h.h.Aa(new (h.h.get(h.h.Qp))(a,c));a.name=c;for(a=0;a<d.length;a++)for(var e=d[a],f=0;c=e.V[f];f++)for(var g=0;c.$a[g];g++);}
b.Xd=function(a,c,d){var e=this.qg(a,c);if(e){if(d&&e.$b()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.$b()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.rg(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||h.g.Ie();c=c||"";e=new h.Xm(this.B,a,c,e);a=this.Ja[c]||[];a.push(e);delete this.Ja[c];this.Ja[c]=a;return e};
b.fj=function(a){var c=this.rg(a);if(c){var d=c.name,e=this.lr(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=hb(f,"NAME");d=h.M.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);h.alert(d);return}var g=this;1<e.length?(d=h.M.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),h.confirm(d,function(k){k&&c&&ib(g,c,e)})):ib(g,c,e)}else console.warn("Can't delete non-existent variable: "+a)};
function ib(a,c,d){var e=h.h.Ob();e||h.h.na(!0);try{for(var f=0;f<d.length;f++)d[f].H(!0);var g=a.Ja[c.type];a=0;for(var k;k=g[a];a++)if(k.$b()==c.$b()){g.splice(a,1);h.h.Aa(new (h.h.get(h.h.Wm))(c));break}}finally{e||h.h.na(!1)}}b.qg=function(a,c){if(c=this.Ja[c||""])for(var d=0,e;e=c[d];d++)if(h.od.wf(e.name,a))return e;return null};b.rg=function(a){for(var c=Object.keys(this.Ja),d=0;d<c.length;d++)for(var e=c[d],f=0,g;g=this.Ja[e][f];f++)if(g.$b()==a)return g;return null};
b.Hn=function(a){return(a=this.Ja[a||""])?a.slice():[]};b.Ah=function(){var a=[],c;for(c in this.Ja)a=a.concat(this.Ja[c]);return a};b.Zq=function(){var a=[],c;for(c in this.Ja)for(var d=this.Ja[c],e=0,f;f=d[e];e++)a.push(f.name);return a};b.lr=function(a){for(var c=[],d=D(this.B,!1),e=0;e<d.length;e++){var f=la(d[e]);if(f)for(var g=0;g<f.length;g++)f[g].$b()==a&&c.push(d[e])}return c};h.lb=function(a){this.id=h.g.Ie();h.lb.vk[this.id]=this;this.options=a||new h.Yc({});this.J=!!this.options.J;this.jd=this.options.jd;this.rf=new (h.u.Bh(h.u.R.zt,this.options,!0))(this);this.bm=[];this.Io=[];this.nn=Object.create(null);this.Fc=[];this.ni=[];this.Il=[];this.aq=Object.create(null);this.Kf=Object.create(null);this.Ja=new h.Rp(this);this.Cj=null};b=h.lb.prototype;b.oa=!1;b.yr=!1;b.bu=1024;b.qn=null;b.H=function(){this.Fc.length=0;this.clear();delete h.lb.vk[this.id]};h.lb.tu=3;b=h.lb.prototype;
b.Ue=function(a,c){a=a.Ua();c=c.Ua();return a.y+h.lb.prototype.Ue.offset*a.x-(c.y+h.lb.prototype.Ue.offset*c.x)};b.$m=function(a){this.bm.push(a)};b.yo=function(a){if(!h.g.bn(this.bm,a))throw Error("Block not present in workspace's list of top-most blocks.");};b.pb=function(a){var c=[].concat(this.bm);a&&1<c.length&&(this.Ue.offset=Math.sin(h.g.Cd.Zs(h.lb.tu)),this.J&&(this.Ue.offset*=-1),c.sort(this.Ue));return c};function jb(a,c){return a.Kf[c]?a.Kf[c].slice(0):[]}
function D(a,c){if(c){a=a.pb(!0);c=[];for(var d=0;d<a.length;d++)c.push.apply(c,x(a[d],!0))}else for(c=a.pb(!1),d=0;d<c.length;d++)c.push.apply(c,ea(c[d],!1));return c.filter(function(e){return!e.ed()})}b.clear=function(){this.yr=!0;try{var a=h.h.Ob();for(a||h.h.na(!0);this.bm.length;)this.bm[0].H(!1);for(;this.Io.length;)this.Io[this.Io.length-1].H(!1);a||h.h.na(!1);this.Ja.clear();this.Cj&&this.Cj.clear()}finally{this.yr=!1}};b.ci=function(a,c){this.Ja.ci(a,c)};
b.Xd=function(a,c,d){return this.Ja.Xd(a,c,d)};b.lr=function(a){return this.Ja.lr(a)};b.fj=function(a){this.Ja.fj(a)};b.qg=function(a,c){return this.Ja.qg(a,c)};b.rg=function(a){return this.Ja.rg(a)};b.Hn=function(a){return this.Ja.Hn(a)};b.Ah=function(){return this.Ja.Ah()};b.Zq=function(){return this.Ja.Zq()};b.el=function(){return 0};b.Ur=function(a,c){return new h.vi(this,a,c)};function kb(a){return isNaN(a.options.Qr)?Infinity:a.options.Qr-D(a,!1).length}
function lb(a,c){if(!mb(a))return!0;var d=0,e;for(e in c){if(c[e]>(a.options.eo?(void 0!==a.options.eo[e]?a.options.eo[e]:Infinity)-jb(a,e).length:Infinity))return!1;d+=c[e]}return d>kb(a)?!1:!0}function mb(a){return Infinity!=a.options.Qr||!!a.options.eo}
function nb(a,c){var d=c?a.Il:a.ni;a=c?a.ni:a.Il;var e=d.pop();if(e){for(var f=[e];d.length&&e.group&&e.group==d[d.length-1].group;)f.push(d.pop());for(d=0;e=f[d];d++)a.push(e);f=h.h.filter(f,c);h.h.Ha=!1;try{for(d=0;e=f[d];d++)e.run(c)}finally{h.h.Ha=!0}}}function E(a,c){a.Fc.push(c)}function ob(a,c){h.g.bn(a.Fc,c)}b.Cc=function(a){return this.aq[a]||null};b.Qs=function(a){this.Ja=a};h.lb.vk=Object.create(null);h.lb.$k=function(a){return h.lb.vk[a]||null};
h.lb.getAll=function(){var a=[],c;for(c in h.lb.vk)a.push(h.lb.vk[c]);return a};h.ra=function(a,c,d,e,f,g){this.m=a;this.sf=c;this.LD=d;this.hs=this.gs=this.Iw=this.ox=null;this.Fe=!1;d=h.ra.ay;this.m.J&&(d=-d);this.BA=h.g.Cd.Zs(d);a.Hf.appendChild(this.Ik(c,!(!f||!g)));this.Gb=e;this.mx&&pb(this);f&&g||(a=this.sf.getBBox(),f=a.width+2*h.ra.oe,g=a.height+2*h.ra.oe);qb(this,f,g);pb(this);rb(this);this.mx=!0};h.ra.oe=6;h.ra.by=5;h.ra.ay=20;h.ra.nt=4;h.ra.Yx=8;h.ra.Jg=null;h.ra.Ig=null;
h.ra.dt=function(){h.ra.Jg&&(h.N.rb(h.ra.Jg),h.ra.Jg=null);h.ra.Ig&&(h.N.rb(h.ra.Ig),h.ra.Ig=null)};h.ra.GA=function(){h.Touch.kn();h.ra.dt()};b=h.ra.prototype;b.mx=!1;b.Gb=null;b.Se=0;b.Pg=0;b.fb=0;b.Dc=0;b.Zp=!0;
b.Ik=function(a,c){this.sd=h.g.j.L(h.g.F.Ic,{},null);var d={filter:"url(#"+this.m.ib.ca().Bn+")"};h.g.userAgent.nz&&(d={});d=h.g.j.L(h.g.F.Ic,d,this.sd);this.Wu=h.g.j.L(h.g.F.we,{},d);this.fn=h.g.j.L(h.g.F.qd,{"class":"blocklyDraggable",x:0,y:0,rx:h.ra.oe,ry:h.ra.oe},d);c?(this.Ff=h.g.j.L(h.g.F.Ic,{"class":this.m.J?"blocklyResizeSW":"blocklyResizeSE"},this.sd),c=2*h.ra.oe,h.g.j.L(h.g.F.Mz,{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.Ff),h.g.j.L(h.g.F.ik,{"class":"blocklyResizeLine",x1:c/
3,y1:c-1,x2:c-1,y2:c/3},this.Ff),h.g.j.L(h.g.F.ik,{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.Ff)):this.Ff=null;this.m.options.readOnly||(this.gs=h.N.va(this.fn,"mousedown",this,this.FA),this.Ff&&(this.hs=h.N.va(this.Ff,"mousedown",this,this.BD)));this.sd.appendChild(a);return this.sd};b.ka=function(){return this.sd};
b.FA=function(a){var c=this.m.og(a);if(c){if(c.Gh)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");c.gd||(c.gd=this);c.Dd=a}};b.Ql=function(){};b.Oe=function(){return!1};b.Ks=function(){};
b.BD=function(a){var c=this.sd.parentNode;c.lastChild!==this.sd&&c.appendChild(this.sd);h.ra.dt();h.g.pl(a)||(this.m.Ul(a,new h.g.S(this.m.J?-this.fb:this.fb,this.Dc)),h.ra.Jg=h.N.va(document,"mouseup",this,h.ra.GA),h.ra.Ig=h.N.va(document,"mousemove",this,this.CD),h.ac());a.stopPropagation()};b.CD=function(a){this.Zp=!1;var c=this.m;a=h.g.yl(a,v(c),Xa(c));a.x/=c.scale;a.y/=c.scale;c=h.g.S.sum(c.Cv,a);qb(this,this.m.J?-c.x:c.x,c.y);this.m.J&&pb(this)};
function sb(a,c,d){var e=a.m.J?a.Gb.x-c.x-a.fb:c.x+a.Gb.x;c=c.y+a.Gb.y;return Math.max(0,Math.min(1,(Math.min(e+a.fb,d.left+d.width)-Math.max(e,d.left))*(Math.min(c+a.Dc,d.top+d.height)-Math.max(c,d.top))/(a.fb*a.Dc)))}function pb(a){var c=a.Gb.x;c=a.m.J?c-(a.Se+a.fb):c+a.Se;a.moveTo(c,a.Pg+a.Gb.y)}b.moveTo=function(a,c){this.sd.setAttribute("transform","translate("+a+","+c+")")};b.Rg=function(a){!a&&this.Iw&&this.Iw()};
function qb(a,c,d){var e=2*h.ra.oe;c=Math.max(c,e+45);d=Math.max(d,e+20);a.fb=c;a.Dc=d;a.fn.setAttribute("width",c);a.fn.setAttribute("height",d);a.Ff&&(a.m.J?a.Ff.setAttribute("transform","translate("+2*h.ra.oe+","+(d-e)+") scale(-1 1)"):a.Ff.setAttribute("transform","translate("+(c-e)+","+(d-e)+")"));if(a.Zp){c=tb(a.m.Tc,!0);d=-a.fb/4;if(!(a.fb>c.width)){if(a.m.J){e=a.Gb.x-d;var f=e-a.fb;var g=c.left+c.width,k=c.left+h.Ea.bc/a.m.scale}else f=d+a.Gb.x,e=f+a.fb,k=c.left,g=c.left+c.width-h.Ea.bc/a.m.scale;
a.m.J?f<k?d=-(k-a.Gb.x+a.fb):e>g&&(d=-(g-a.Gb.x)):f<k?d=k-a.Gb.x:e>g&&(d=g-a.Gb.x-a.fb)}f=d;d=-a.Dc/4;if(!(a.Dc>c.height)){e=a.Gb.y+d;g=e+a.Dc;k=c.top;var l=c.top+c.height-h.Ea.bc/a.m.scale,m=a.Gb.y;e<k?d=k-m:g>l&&(d=l-m-a.Dc)}k=d;g=a.LD.getBBox();d={x:f,y:-a.Dc-a.m.ib.ca().jk};e={x:-a.fb-30,y:k};k={x:g.width,y:k};l={x:f,y:g.height};f=g.width<g.height?k:l;g=g.width<g.height?l:k;k=sb(a,d,c);l=sb(a,e,c);m=sb(a,f,c);c=Math.max(k,l,m,sb(a,g,c));k==c?(a.Se=d.x,a.Pg=d.y):l==c?(a.Se=e.x,a.Pg=e.y):m==c?(a.Se=
f.x,a.Pg=f.y):(a.Se=g.x,a.Pg=g.y)}pb(a);rb(a);a.ox&&a.ox()}
function rb(a){var c=[],d=a.fb/2,e=a.Dc/2,f=-a.Se,g=-a.Pg;if(d==f&&e==g)c.push("M "+d+","+e);else{g-=e;f-=d;a.m.J&&(f*=-1);var k=Math.sqrt(g*g+f*f),l=Math.acos(f/k);0>g&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),p=Math.cos(m),q=new h.g.Jc(a.fb,a.Dc);m=(q.width+q.height)/h.ra.by;m=Math.min(m,q.width,q.height)/4;q=1-h.ra.Yx/k;f=d+q*f;g=e+q*g;q=d+m*p;var B=e+m*n;d-=m*p;e-=m*n;n=l+a.BA;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/h.ra.nt;k=Math.cos(n)*k/h.ra.nt;c.push("M"+
q+","+B);c.push("C"+(q+k)+","+(B+l)+" "+f+","+g+" "+f+","+g);c.push("C"+f+","+g+" "+(d+k)+","+(e+l)+" "+d+","+e)}c.push("z");a.Wu.setAttribute("d",c.join(" "))}b.he=function(a){this.fn.setAttribute("fill",a);this.Wu.setAttribute("fill",a)};b.H=function(){this.gs&&h.N.rb(this.gs);this.hs&&h.N.rb(this.hs);h.ra.dt();h.g.j.removeNode(this.sd);this.Fe=!0};b.Tr=function(a,c){a?a.mi(c.x,c.y):this.moveTo(c.x,c.y);this.Se=this.m.J?this.Gb.x-c.x-this.fb:c.x-this.Gb.x;this.Pg=c.y-this.Gb.y;rb(this)};
b.Ua=function(){return new h.g.S(this.m.J?-this.Se+this.Gb.x-this.fb:this.Gb.x+this.Se,this.Gb.y+this.Pg)};h.ra.ke=function(a){var c=h.g.j.L(h.g.F.Bu,{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:h.ra.oe},null);a=a.split("\n");for(var d=0;d<a.length;d++){var e=h.g.j.L(h.g.F.Du,{dy:"1em",x:h.ra.oe},c),f=document.createTextNode(a[d]);e.appendChild(f)}return c};
h.ra.jI=function(a,c,d){d=new h.ra(c.B,a,c.tb.Eb,d,null,null);d.sd.dataset&&(d.sd.dataset.blockId=c.id);if(c.J){c=a.getBBox().width;for(var e=0,f;f=a.childNodes[e];e++)f.setAttribute("text-anchor","end"),f.setAttribute("x",c+h.ra.oe)}return d};h.h.Ye=function(a){this.Be=(this.dd="undefined"==typeof a)?"":a.id;this.Qb=this.dd?"":a.B.id;this.group=h.h.Ob();this.Ha=h.h.Ha};h.g.object.U(h.h.Ye,h.h.Abstract);h.h.Ye.prototype.ja=function(){var a=h.h.Ye.v.ja.call(this);this.Be&&(a.commentId=this.Be);return a};h.h.Ye.prototype.aa=function(a){h.h.Ye.v.aa.call(this,a);this.Be=a.commentId};h.h.wi=function(a,c,d){h.h.wi.v.constructor.call(this,a);a&&(this.mo="undefined"==typeof c?"":c,this.lo="undefined"==typeof d?"":d)};h.g.object.U(h.h.wi,h.h.Ye);
b=h.h.wi.prototype;b.type=h.h.wt;b.ja=function(){var a=h.h.wi.v.ja.call(this);a.oldContents=this.mo;a.newContents=this.lo;return a};b.aa=function(a){h.h.wi.v.aa.call(this,a);this.mo=a.oldContents;this.lo=a.newContents};b.xj=function(){return this.mo==this.lo};b.run=function(a){var c;(c=z(this).nn[this.Be]||null)?c.dJ(a?this.lo:this.mo):console.warn("Can't change non-existent comment: "+this.Be)};h.h.Ze=function(a){h.h.Ze.v.constructor.call(this,a);a&&(this.xml=a.Dx())};h.g.object.U(h.h.Ze,h.h.Ye);
h.h.Ze.prototype.type=h.h.vm;h.h.Ze.prototype.ja=function(){var a=h.h.Ze.v.ja.call(this);a.xml=h.I.wd(this.xml);return a};h.h.Ze.prototype.aa=function(a){h.h.Ze.v.aa.call(this,a);this.xml=h.I.ke(a.xml)};h.h.Ze.prototype.run=function(a){h.h.At(this,a)};h.h.At=function(a,c){var d=z(a);c?(c=h.g.xml.createElement("xml"),c.appendChild(a.xml),h.I.yh(c,d)):(d=d.nn[a.Be]||null)?d.H(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.Be)};
h.h.$e=function(a){h.h.$e.v.constructor.call(this,a);a&&(this.xml=a.Dx())};h.g.object.U(h.h.$e,h.h.Ye);h.h.$e.prototype.type=h.h.xt;h.h.$e.prototype.ja=function(){return h.h.$e.v.ja.call(this)};h.h.$e.prototype.aa=function(a){h.h.$e.v.aa.call(this,a)};h.h.$e.prototype.run=function(a){h.h.At(this,!a)};h.h.xi=function(a){h.h.xi.v.constructor.call(this,a);a&&(this.rq=a,this.$h=a.cw(),this.Wh=null)};h.g.object.U(h.h.xi,h.h.Ye);b=h.h.xi.prototype;
b.bi=function(){if(!this.rq)throw Error("Tried to record the new position of a comment on the same event twice.");this.Wh=this.rq.cw();this.rq=null};b.type=h.h.Wj;b.ja=function(){var a=h.h.xi.v.ja.call(this);this.$h&&(a.oldCoordinate=Math.round(this.$h.x)+","+Math.round(this.$h.y));this.Wh&&(a.newCoordinate=Math.round(this.Wh.x)+","+Math.round(this.Wh.y));return a};
b.aa=function(a){h.h.xi.v.aa.call(this,a);if(a.oldCoordinate){var c=a.oldCoordinate.split(",");this.$h=new h.g.S(Number(c[0]),Number(c[1]))}a.newCoordinate&&(c=a.newCoordinate.split(","),this.Wh=new h.g.S(Number(c[0]),Number(c[1])))};b.xj=function(){return h.g.S.wf(this.$h,this.Wh)};b.run=function(a){var c;if(c=z(this).nn[this.Be]||null){a=a?this.Wh:this.$h;var d=c.cw();c.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.Be)};h.u.register(h.u.R.zb,h.h.vm,h.h.Ze);
h.u.register(h.u.R.zb,h.h.wt,h.h.wi);h.u.register(h.u.R.zb,h.h.Wj,h.h.xi);h.u.register(h.u.R.zb,h.h.xt,h.h.$e);h.Tj=function(a,c){this.kc=a;this.m=c;this.Zb=null;this.jm=!1;this.Ve=this.kc.Ua();this.zh=h.g.Lh()&&c.$c?c.$c:null};h.Tj.prototype.H=function(){this.zh=this.m=this.kc=null};function ub(a,c,d){d=a.Bj(d);d=h.g.S.sum(a.Ve,d);a.kc.Tr(a.zh,d);d=a.Zb;a.Zb=Fa(a.m,c);c=a.jm;a.jm=a.Ss(a.Zb);c!=a.jm&&a.kc.Ks(a.jm);a.Zb!==d&&d&&d.bs();a.Zb&&a.Zb.cs()}h.Tj.prototype.Ss=function(a){return a&&sa(this.m.qf,a.id)?Ba(a,this.kc,!1):!1};
function vb(a,c,d){ub(a,c,d);c=a.Bj(d);c=h.g.S.sum(a.Ve,c);a.kc.moveTo(c.x,c.y);a.Zb&&a.Zb.ds();a.jm?(a.Uk(),a.kc.H(!1,!0)):(a.zh&&a.zh.jn(a.m.Hf),a.kc.Rg&&a.kc.Rg(!1),a.Uk());a.m.Sb(!0);h.h.na(!1)}h.Tj.prototype.Uk=function(){if(this.kc.EI){var a=new (h.h.get(h.h.Wj))(this.kc);a.$h=this.Ve;a.bi();h.h.Aa(a)}};h.Tj.prototype.Bj=function(a){a=new h.g.S(a.x/this.m.scale,a.y/this.m.scale);this.m.Tn&&a.scale(1/this.m.options.Uc.scale);return a};h.h.Nf=function(a,c,d){h.h.Nf.v.constructor.call(this,a?a.B.id:c);this.bb=a?a.id:null;this.Bx=d};h.g.object.U(h.h.Nf,h.h.Td);h.h.Nf.prototype.type=h.h.Vj;h.h.Nf.prototype.ja=function(){var a=h.h.Nf.v.ja.call(this);a.targetType=this.Bx;this.bb&&(a.blockId=this.bb);return a};h.h.Nf.prototype.aa=function(a){h.h.Nf.v.aa.call(this,a);this.Bx=a.targetType;this.bb=a.blockId};h.u.register(h.u.R.zb,h.h.Vj,h.h.Nf);h.G={};h.G.visible=!1;h.G.Wi=!1;h.G.pz=50;h.G.Gw=0;h.G.Sl=0;h.G.Dr=0;h.G.Er=0;h.G.Za=null;h.G.El=null;h.G.fu=0;h.G.gu=10;h.G.Oz=10;h.G.dz=750;h.G.pp=5;h.G.Wa=null;h.G.XB=function(){var a=h.G.bw(h.G.Za);if(a){for(a=a.Ld;"function"==typeof a;)a=a();if("string"!=typeof a)throw Error("Tooltip function must return a string.");return a}return""};h.G.bw=function(a){for(;a&&a.Ld;){if("string"==typeof a.Ld||"function"==typeof a.Ld)return a;a=a.Ld}return null};
h.G.Qa=function(){h.G.Wa||(h.G.Wa=document.createElement("div"),h.G.Wa.className="blocklyTooltipDiv",(h.ro||document.body).appendChild(h.G.Wa))};h.G.Vi=function(a){a.IC=h.N.bind(a,"mouseover",null,h.G.XC);a.GC=h.N.bind(a,"mouseout",null,h.G.WC);a.addEventListener("mousemove",h.G.Ww,!1)};h.G.et=function(a){a&&(h.N.rb(a.IC),h.N.rb(a.GC),a.removeEventListener("mousemove",h.G.Ww))};h.G.XC=function(a){h.G.Wi||(a=h.G.bw(a.currentTarget),h.G.Za!=a&&(h.G.Va(),h.G.El=null,h.G.Za=a),clearTimeout(h.G.Gw))};
h.G.WC=function(){h.G.Wi||(h.G.Gw=setTimeout(function(){h.G.Za=null;h.G.El=null;h.G.Va()},1),clearTimeout(h.G.Sl))};h.G.Ww=function(a){if(h.G.Za&&h.G.Za.Ld&&!h.G.Wi)if(h.G.visible){var c=h.G.Dr-a.pageX;a=h.G.Er-a.pageY;Math.sqrt(c*c+a*a)>h.G.Oz&&h.G.Va()}else h.G.El!=h.G.Za&&(clearTimeout(h.G.Sl),h.G.Dr=a.pageX,h.G.Er=a.pageY,h.G.Sl=setTimeout(h.G.ND,h.G.dz))};h.G.H=function(){h.G.Za=null;h.G.El=null;h.G.Va()};
h.G.Va=function(){h.G.visible&&(h.G.visible=!1,h.G.Wa&&(h.G.Wa.style.display="none"));h.G.Sl&&clearTimeout(h.G.Sl)};h.G.block=function(){h.G.Va();h.G.Wi=!0};h.G.eE=function(){h.G.Wi=!1};
h.G.ND=function(){if(!h.G.Wi&&(h.G.El=h.G.Za,h.G.Wa)){h.G.Wa.textContent="";var a=h.G.XB();a=h.g.La.Sx(a,h.G.pz);a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[c]));h.G.Wa.appendChild(d)}a=h.G.Za.J;c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;h.G.Wa.style.direction=a?"rtl":"ltr";h.G.Wa.style.display="block";h.G.visible=!0;var e=h.G.Dr;e=a?e-(h.G.fu+h.G.Wa.offsetWidth):e+h.G.fu;var f=h.G.Er+h.G.gu;
f+h.G.Wa.offsetHeight>d+window.scrollY&&(f-=h.G.Wa.offsetHeight+2*h.G.gu);a?e=Math.max(h.G.pp-window.scrollX,e):e+h.G.Wa.offsetWidth>c+window.scrollX-2*h.G.pp&&(e=c-h.G.Wa.offsetWidth-2*h.G.pp);h.G.Wa.style.top=f+"px";h.G.Wa.style.left=e+"px"}};h.wk=function(a){this.m=a;this.nw=wb(this.m);this.Ox=xb(this.m);this.TD=new h.g.S(a.scrollX,a.scrollY)};h.wk.prototype.H=function(){this.m=null};h.wk.prototype.Ul=function(){h.selected&&yb(h.selected);Ya(this.m)};h.wk.prototype.Qk=function(a){this.vf(a);Za(this.m)};
h.wk.prototype.vf=function(a){a=h.g.S.sum(this.TD,a);if(this.nw&&this.Ox)this.m.scroll(a.x,a.y);else if(this.nw)this.m.scroll(a.x,this.m.scrollY);else if(this.Ox)this.m.scroll(this.m.scrollX,a.y);else throw new TypeError("Invalid state.");};h.ue=function(a,c){this.Fw=null;this.Ac=new h.g.S(0,0);this.Db=this.dc=this.Jj=this.Kj=this.gd=null;this.vq=c;this.ll=this.Nh=this.ml=this.Fh=!1;this.Dd=a;this.ta=this.si=this.Ae=this.gg=this.po=this.oo=null;this.Pn=this.Gh=this.Yu=!1;this.iw=!h.Dy};b=h.ue.prototype;b.H=function(){h.Touch.kn();h.G.eE();this.vq.jc=null;this.oo&&h.N.rb(this.oo);this.po&&h.N.rb(this.po);this.Ae&&this.Ae.H();this.si&&this.si.H();this.gg&&this.gg.H()};
function zb(a,c){a.Ac=h.g.S.Nk(new h.g.S(c.clientX,c.clientY),a.Fw);if(a.Fh)var d=!1;else a.Fh=h.g.S.CC(a.Ac)>(a.ta?h.Xy:h.Cy),d=a.Fh;if(d){if(a.Yu)throw Error("updateIsDragging_ should only be called once per gesture.");a.Yu=!0;a.gd?(a.ll=!0,a.gg=new h.Tj(a.gd,a.Db),d=a.gg,h.h.Ob()||h.h.na(!0),d.m.Sb(!1),d.kc.Zp=!1,d.zh&&(d.kc.moveTo(0,0),d.zh.mi(d.Ve.x,d.Ve.y),Ea(d.zh,d.kc.ka())),d.kc.Rg&&d.kc.Rg(!0),ub(a.gg,a.Dd,a.Ac),d=!0):d=!1;if(!d){if(a.dc){if(a.ta){if(a.dc&&a.dc.isEnabled()){if(!(d=!Ab(a.ta))){d=
a.Ac;d=Math.atan2(d.y,d.x)/Math.PI*180;var e=a.ta.tB;d=d<e&&d>-e||d<-180+e||d>180-e?!0:!1}d?(a.Db=a.ta.ya,Bb(a.Db),h.h.Ob()||h.h.na(!0),a.Jj=null,a.dc=Cb(a.ta,a.dc),a.dc.select(),d=!0):d=!1}else d=!1;a.Nh=d}else a.dc.lc()&&(a.Nh=!0);a.Nh?(a.Ae=new (h.u.Bh(h.u.R.rt,a.vq.options,!0))(a.dc,a.Db),a.Ae.Ul(a.Ac,a.iw),a.Ae.vf(a.Dd,a.Ac),d=!0):d=!1}else d=!1;if(d=!d)if(a.ta)d=Ab(a.ta);else if(d=a.Db)d=a.Db,d=d.options.nc&&d.options.nc.vf;d&&(a.si=new h.wk(a.Db),a.ml=!0,a.si.Ul())}h.Dg()}a.Dd=c}
b.Jq=function(a){h.g.Un(a)?this.cancel():(this.Gh=!0,h.Ya.Hq(),Bb(this.Db),this.Db.Tn&&this.Db.resize(),h.ac(!!this.ta),ba(this.Db),this.Dd=a,h.G.block(),this.dc&&this.dc.select(),h.g.pl(a)?da(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||h.BC(a,this),this.Fw=new h.g.S(a.clientX,a.clientY),this.iw=a.altKey||a.ctrlKey||a.metaKey,this.Vi(a)))};
b.Vi=function(a){this.oo=h.N.va(document,"mousemove",null,this.oj.bind(this));this.po=h.N.va(document,"mouseup",null,this.In.bind(this));a.preventDefault();a.stopPropagation()};b.oj=function(a){zb(this,a);this.ml?this.si.vf(this.Ac):this.Nh?this.Ae.vf(this.Dd,this.Ac):this.ll&&ub(this.gg,this.Dd,this.Ac);a.preventDefault();a.stopPropagation()};
b.In=function(a){zb(this,a);h.Dg();if(this.Pn)console.log("Trying to end a gesture recursively.");else{this.Pn=!0;if(this.ll)vb(this.gg,a,this.Ac);else if(this.Nh)this.Ae.Qk(a,this.Ac);else if(this.ml)this.si.Qk(this.Ac);else if(this.gd&&!this.Fh)this.gd.ID&&this.gd.ID(),this.gd.select&&this.gd.select();else if(Db(this)){var c=this.Kj,d=this.Dd;Eb(c)&&c.Eo(d);Fb(this)}else!this.Jj||this.Fh||Db(this)?this.Jj||this.gd||this.Kj||this.Fh||(c=this.vq,h.selected&&yb(h.selected),c=this.Db||c,h.h.Aa(new (h.h.get(h.h.Vj))(null,
c.id,"workspace"))):(this.ta&&this.ta.rh?this.dc.isEnabled()&&(h.h.Ob()||h.h.na(!0),Ia(Cb(this.ta,this.dc))):(c=new (h.h.get(h.h.Vj))(this.Jj,this.Db.id,"block"),h.h.Aa(c)),Fb(this),h.h.na(!1));a.preventDefault();a.stopPropagation();this.H()}};b.cancel=function(){this.Pn||(h.Dg(),this.ll?vb(this.gg,this.Dd,this.Ac):this.Nh?this.Ae.Qk(this.Dd,this.Ac):this.ml&&this.si.Qk(this.Ac),this.H())};
function da(a,c){a.dc?(Fb(a),h.ac(!!a.ta),a.dc.Ql(c)):a.gd?a.gd.Ql(c):a.Db&&!a.ta&&(h.ac(),a.Db.Ql(c));c.preventDefault();c.stopPropagation();a.H()}function Gb(a,c,d){if(a.Gh)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Db||(a.Db=d);a.Dd=c;a.Jq(c)}function Hb(a,c,d){if(a.Gh)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.ta||(a.ta=d);Gb(a,c,d.m)}function Fb(a){a.dc&&!a.ta&&Da(a.dc)}
function Ib(a,c){a.Jj||a.gd||(a.Jj=c,c.Sc&&c!=c.ce()?Jb(a,c.ce()):Jb(a,c))}function Jb(a,c){c.Fa?Jb(a,c.getParent()):a.dc=c}function Db(a){return(a.Kj?Eb(a.Kj):!1)&&!a.Fh&&(!a.ta||!a.ta.rh)}b.Rc=function(){return this.ml||this.Nh||this.ll};b.kj=function(){return this.Ae?this.Ae.kj():[]};h.ue.Kh=function(){for(var a=h.lb.getAll(),c=0,d;d=a[c];c++)if(d.jc)return!0;return!1};h.RF=function(){};h.D=function(a,c,d){if(!c)throw Error("Cannot create a node without a location.");this.fm=a;this.xa=c;this.Vx=null;(a=d||null)&&a.Ux&&(this.Vx=a.Ux)};h.D.types={sc:"field",Kb:"block",md:"input",lh:"output",Wf:"next",Yf:"previous",nh:"stack",Lc:"workspace"};h.D.Vf=!1;h.D.yy=-20;h.D.FI=function(a){switch(a){case h.D.types.Yf:case h.D.types.Wf:case h.D.types.md:case h.D.types.lh:return!0}return!1};h.D.Jk=function(a){return a?new h.D(h.D.types.sc,a):null};
h.D.mg=function(a){if(!a)return null;var c=a.type;return c==h.Z.Ub||c==h.Z.Vb&&a.Je()?h.D.xh(a.Je()):c==h.Z.Vb?new h.D(h.D.types.Wf,a):c==h.Z.Xc?new h.D(h.D.types.lh,a):c==h.Z.pd?new h.D(h.D.types.Yf,a):null};h.D.xh=function(a){return a&&a.connection?new h.D(h.D.types.md,a.connection):null};h.D.lg=function(a){return a?new h.D(h.D.types.Kb,a):null};h.D.sn=function(a){return a?new h.D(h.D.types.nh,a):null};h.D.hB=function(a,c){return c&&a?new h.D(h.D.types.Lc,a,{Ux:c}):null};
h.D.kI=function(a){var c=a.da||a.T;return c?h.D.mg(c):h.D.lg(a)};b=h.D.prototype;b.getType=function(){return this.fm};function Kb(a,c){a=a.xa;a instanceof h.vi||(a=a.$());if(!a||!a.B)return null;var d=a.ce();a=d.B.pb(!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return c=e+(c?1:-1),-1==c||c==a.length?null:h.D.sn(a[c]);throw Error("Couldn't find "+(c?"next":"previous")+" stack?!");}
function Lb(a){if(!a)return null;do var c=a.da&&a.da.la();while(c&&y(c)==a&&(a=c));return(c=a.da||a.T)&&c.sa&&c.sa.Je()?h.D.xh(c.sa.Je()):h.D.sn(a)}b.$=function(){return this.getType()===h.D.types.Kb?this.xa:this.getType()===h.D.types.nh?this.xa:this.getType()===h.D.types.Lc?null:this.xa.$()};
b.next=function(){switch(this.fm){case h.D.types.nh:return Kb(this,!0);case h.D.types.lh:var a=this.xa;return h.D.lg(a.$());case h.D.types.sc:a:{var c=this.xa,d=c.Je();a=c.$();c=d.$a.indexOf(c)+1;d=a.V.indexOf(d);for(var e;e=a.V[d];d++){for(var f=e.$a;c<f.length;){if(Eb(f[c])||h.D.Vf){a=h.D.Jk(f[c]);break a}c++}c=0;if(e.connection){a=h.D.xh(e);break a}}a=null}return a;case h.D.types.md:a:{c=this.xa.Je();a=c.$();for(c=a.V.indexOf(c)+1;d=a.V[c];c++){e=d.$a;f=0;for(var g;g=e[f];f++)if(Eb(g)||h.D.Vf){a=
h.D.Jk(g);break a}if(d.connection){a=h.D.xh(d);break a}}a=null}return a;case h.D.types.Kb:return h.D.mg(this.xa.ea);case h.D.types.Yf:return a=this.xa,h.D.lg(a.$());case h.D.types.Wf:return a=this.xa,h.D.mg(a.sa)}return null};
b.ug=function(){switch(this.fm){case h.D.types.Lc:var a=this.xa.pb(!0);if(0<a.length)return h.D.sn(a[0]);break;case h.D.types.nh:a=this.xa;var c=a.da||a.T;return c?h.D.mg(c):h.D.lg(a);case h.D.types.Kb:a=this.xa;a:{a=a.V;c=0;for(var d;d=a[c];c++){for(var e=d.$a,f=0,g;g=e[f];f++)if(Eb(g)||h.D.Vf){a=h.D.Jk(g);break a}if(d.connection){a=h.D.xh(d);break a}}a=null}return a;case h.D.types.md:return h.D.mg(this.xa.sa)}return null};
b.Ng=function(){switch(this.fm){case h.D.types.nh:return Kb(this,!1);case h.D.types.sc:a:{var a=this.xa;var c=a.Je();var d=a.$();a=c.$a.indexOf(a)-1;for(var e=d.V.indexOf(c),f;f=d.V[e];e--){if(f.connection&&f!==c){c=h.D.xh(f);break a}for(f=f.$a;-1<a;){if(Eb(f[a])||h.D.Vf){c=h.D.Jk(f[a]);break a}a--}0<=e-1&&(a=d.V[e-1].$a.length-1)}c=null}return c;case h.D.types.md:a:{c=this.xa.Je();d=c.$();for(a=d.V.indexOf(c);e=d.V[a];a--){if(e.connection&&e!==c){c=h.D.xh(e);break a}e=e.$a;f=e.length-1;for(var g;g=
e[f];f--)if(Eb(g)||h.D.Vf){c=h.D.Jk(g);break a}}c=null}return c;case h.D.types.Kb:return c=this.xa,h.D.mg(c.da||c.T);case h.D.types.Yf:c=this.xa;if((c=c.sa)&&!c.Je())return h.D.mg(c);break;case h.D.types.Wf:return c=this.xa,h.D.lg(c.$())}return null};
b.Kg=function(){switch(this.fm){case h.D.types.nh:var a=this.xa,c=a.Ua();return h.D.hB(a.B,new h.g.S(c.x,c.y+h.D.yy));case h.D.types.lh:return a=this.xa,(c=a.sa)?h.D.mg(c):h.D.sn(a.$());case h.D.types.sc:return h.D.lg(this.xa.$());case h.D.types.md:return a=this.xa,h.D.lg(a.$());case h.D.types.Kb:return a=this.xa,Lb(a);case h.D.types.Yf:return a=this.xa,Lb(a.$());case h.D.types.Wf:return a=this.xa,Lb(a.$())}return null};h.Im=function(){this.xd=this.Yd=this.nb=null;this.type="marker"};function Mb(a,c){var d=a.Yd;a.Yd=c;a.xd&&a.xd.draw(d,a.Yd)}h.Im.prototype.draw=function(){this.xd&&this.xd.draw(this.Yd,this.Yd)};h.Im.prototype.Va=function(){this.xd&&this.xd.Va()};h.Im.prototype.H=function(){this.xd&&this.xd.H()};h.Of=function(){h.Of.v.constructor.call(this);this.type="cursor"};h.g.object.U(h.Of,h.Im);h.Of.prototype.next=function(){var a=this.Yd;if(!a)return null;for(a=a.next();a&&a.next()&&(a.getType()==h.D.types.Wf||a.getType()==h.D.types.Kb);)a=a.next();a&&Mb(this,a);return a};h.Of.prototype.ug=function(){var a=this.Yd;if(!a)return null;if(a.getType()==h.D.types.Yf||a.getType()==h.D.types.lh)a=a.next();(a=a.ug())&&Mb(this,a);return a};
h.Of.prototype.Ng=function(){var a=this.Yd;if(!a)return null;for(a=a.Ng();a&&a.Ng()&&(a.getType()==h.D.types.Wf||a.getType()==h.D.types.Kb);)a=a.Ng();a&&Mb(this,a);return a};h.Of.prototype.Kg=function(){var a=this.Yd;if(!a)return null;(a=a.Kg())&&a.getType()==h.D.types.Kb&&(a=a.Ng()||a);a&&Mb(this,a);return a};h.u.register(h.u.R.Yj,h.u.zi,h.Of);h.lk=function(a){this.tf=this.vd=null;this.ul=Object.create(null);this.m=a};h.lk.Zt="local_marker_1";b=h.lk.prototype;b.al=function(){return this.vd};b.dl=function(a){return this.ul[a]||null};b.Gf=function(a){a?(this.m.qb.appendChild(a),this.tf=a):this.tf=null};b.Sg=function(a){a?this.m.qb&&(this.tf?this.m.qb.insertBefore(a,this.tf):this.m.qb.appendChild(a)):this.Ef=null};
b.H=function(){for(var a=Object.keys(this.ul),c=0,d;d=a[c];c++){var e=this.ul[d];if(e)e.H(),delete this.ul[d];else throw Error("Marker with ID "+d+" does not exist. Can only unregister markers that exist.");}this.ul=null;this.vd&&(this.vd.H(),this.vd=null)};h.Y={};h.Y.Gd=null;h.Y.yn=null;h.Y.ge="";h.Y.le="";h.Y.Qa=function(){h.Y.Wa||(h.Y.Wa=document.createElement("div"),h.Y.Wa.className="blocklyWidgetDiv",(h.ro||document.body).appendChild(h.Y.Wa))};h.Y.show=function(a,c,d){h.Y.Va();h.Y.Gd=a;h.Y.yn=d;a=h.Y.Wa;a.style.direction=c?"rtl":"ltr";a.style.display="block";c=h.pg();h.Y.ge=c.ib.Zd();h.Y.le=c.yf().Zd();h.g.j.Fb(a,h.Y.ge);h.g.j.Fb(a,h.Y.le)};
h.Y.Va=function(){if(h.Y.isVisible()){h.Y.Gd=null;var a=h.Y.Wa;a.style.display="none";a.style.left="";a.style.top="";h.Y.yn&&h.Y.yn();h.Y.yn=null;a.textContent="";h.Y.ge&&(h.g.j.Vc(a,h.Y.ge),h.Y.ge="");h.Y.le&&(h.g.j.Vc(a,h.Y.le),h.Y.le="");ba(h.pg())}};h.Y.isVisible=function(){return!!h.Y.Gd};h.Y.il=function(a){h.Y.Gd==a&&h.Y.Va()};h.Y.Fl=function(a,c,d){h.Y.Wa.style.left=a+"px";h.Y.Wa.style.top=c+"px";h.Y.Wa.style.height=d+"px"};
h.Y.eD=function(a,c,d,e){var f=h.Y.MA(a,c,d);a=h.Y.LA(a,c,d,e);0>f?h.Y.Fl(a,0,d.height+f):h.Y.Fl(a,f,d.height)};h.Y.LA=function(a,c,d,e){if(e)return c=Math.max(c.right-d.width,a.left),Math.min(c,a.right-d.width);c=Math.min(c.left,a.right-d.width);return Math.max(c,a.left)};h.Y.MA=function(a,c,d){return c.bottom+d.height>=a.bottom?c.top-d.height:c.bottom};h.kd=function(a,c,d){this.Xe=this.Zo;this.Gx=this.Mx=null;this.oc=new h.g.Jc(0,0);this.s=this.Sr=this.li=this.pc=this.Hb=this.Pc=this.Ef=this.tf=null;d&&this.Dk(d);this.setValue(a);c&&(this.Mx=c)};b=h.kd.prototype;b.Zo=null;b.name=void 0;b.Fe=!1;b.Ew=50;b.K=null;b.wg=!0;b.Yg=!0;b.cv=null;h.kd.eu="\u00a0";b=h.kd.prototype;b.Zj=!0;b.uu=!1;b.Dk=function(a){var c=a.tooltip;"string"==typeof c&&(c=h.g.Wc(a.tooltip));c&&this.je(c)};
b.ca=function(){!this.s&&this.K&&this.K.B&&this.K.B.oa&&(this.s=this.K.B.ib.ca());return this.s};b.$=function(){return this.K};b.wa=function(){this.Pc||(this.Pc=h.g.j.L(h.g.F.Ic,{},null),this.isVisible()||(this.Pc.style.display="none"),this.K.ka().appendChild(this.Pc),this.Ln(),Nb(this),this.je(this.Gx),h.G.Vi(aa(this)),this.Sr=h.N.va(aa(this),"mousedown",this,this.Hg))};b.Ln=function(){Ob(this);Pb(this)};
function Ob(a){a.Hb=h.g.j.L(h.g.F.qd,{rx:a.ca().Cm,ry:a.ca().Cm,x:0,y:0,height:a.oc.height,width:a.oc.width,"class":"blocklyFieldRect"},a.Pc)}function Pb(a){a.pc=h.g.j.L(h.g.F.Bu,{"class":"blocklyText"},a.Pc);a.ca().ep&&a.pc.setAttribute("dominant-baseline","central");a.li=document.createTextNode("");a.pc.appendChild(a.li)}b.Yk=function(a){this.setValue(a.textContent)};b.H=function(){h.C.il(this);h.Y.il(this);h.G.et(aa(this));this.Sr&&h.N.rb(this.Sr);h.g.j.removeNode(this.Pc);this.Fe=!0};
function Nb(a){var c=a.Pc;a.Zj&&c&&(a.K.Ad()?(h.g.j.Fb(c,"blocklyEditableText"),h.g.j.Vc(c,"blocklyNonEditableText"),c.style.cursor=a.Yj):(h.g.j.Fb(c,"blocklyNonEditableText"),h.g.j.Vc(c,"blocklyEditableText"),c.style.cursor=""))}function Eb(a){return!!a.K&&a.K.Ad()&&!!a.Eo&&"function"===typeof a.Eo}b.isVisible=function(){return this.Yg};b.Cb=function(a){if(this.Yg!=a){this.Yg=a;var c=this.ka();c&&(c.style.display=a?"block":"none")}};b.ka=function(){return this.Pc};b.Yb=function(){};
b.Ds=function(){this.li&&(this.li.nodeValue=Qb(this));this.Kx()};b.Kx=function(){var a=this.ca(),c=this.Hb?this.ca().$j:0,d=2*c,e=a.Dm,f=0;this.pc&&(f=h.g.j.er(this.pc,a.ih,a.Qf,a.Pf),d+=f);this.Hb&&(e=Math.max(e,a.Ht));this.oc.height=e;this.oc.width=d;Rb(this,c,f);Sb(this)};function Rb(a,c,d){if(a.pc){var e=a.ca(),f=a.oc.height/2;a.pc.setAttribute("x",a.K.J?a.oc.width-d-c:c);a.pc.setAttribute("y",e.ep?f:f-e.Dm/2+e.Kt)}}
function Sb(a){a.Hb&&(a.Hb.setAttribute("width",a.oc.width),a.Hb.setAttribute("height",a.oc.height),a.Hb.setAttribute("rx",a.ca().Cm),a.Hb.setAttribute("ry",a.ca().Cm))}b.xf=function(){if(!this.isVisible())return new h.g.Jc(0,0);this.wg?(this.Ds(),this.wg=!1):this.Yg&&0==this.oc.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.Ds());return this.oc};
function Qb(a){var c=Tb(a);if(!c)return h.kd.eu;c.length>a.Ew&&(c=c.substring(0,a.Ew-2)+"\u2026");c=c.replace(/\s/g,h.kd.eu);a.K&&a.K.J&&(c+="\u200f");return c}function Tb(a){if(a.kr){var c=a.kr.call(a);if(null!==c)return String(c)}return String(a.getValue())}b.tl=function(){this.wg=!0;this.s=null};function Ub(a){a.wg=!0;a.K&&a.K.oa&&(a.K.Ia(),a.K.Oc(),a.gt())}
b.setValue=function(a){if(null!==a){var c=this.zn(a);a=Vb(this,a,c);if(!(a instanceof Error)){if(c=this.Mx)if(c=c.call(this,a),a=Vb(this,a,c),a instanceof Error)return;c=this.K;if(!c||!c.Fe){var d=this.getValue();d===a?this.Ok(a):(c&&h.h.isEnabled()&&h.h.Aa(new (h.h.get(h.h.Zg))(c,"field",this.name||null,d,a)),this.Ok(a),this.wg&&Ub(this))}}}};function Vb(a,c,d){if(null===d)return a.wg&&Ub(a),Error();void 0!==d&&(c=d);return c}b.getValue=function(){return this.Xe};
b.zn=function(a){return null===a||void 0===a?null:a};b.Ok=function(a){this.Xe=a;this.wg=!0};b.Hg=function(a){if(this.K&&this.K.B&&(a=this.K.B.og(a))){if(a.Gh)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.Kj||(a.Kj=this)}};b.je=function(a){a||""===a||(a=this.K);var c=aa(this);c?c.Ld=a:this.Gx=a};function aa(a){return a.cv||a.ka()}
b.Je=function(){for(var a=null,c=this.K,d=c.V,e=0;e<c.V.length;e++)for(var f=d[e],g=f.$a,k=0;k<g.length;k++)if(g[k]===this){a=f;break}return a};b.Rv=function(){return!1};b.Gf=function(a){a?(this.Pc.appendChild(a),this.tf=a):this.tf=null};b.Sg=function(a){a?(this.Pc.appendChild(a),this.Ef=a):this.Ef=null};b.gt=function(){var a=this.K.B;a.ql&&this.tf&&a.al().draw();a.ql&&this.Ef&&a.dl(h.lk.Zt).draw()};h.ng={};h.ng.register=function(a,c){h.u.register(h.u.R.sc,a,c)};h.ng.unregister=function(a){h.u.unregister(h.u.R.sc,a)};h.ng.aa=function(a){var c=h.u.hr(h.u.R.sc,a.type);return c?c.aa(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};h.g.ub={};h.g.ub.$x="aria-";h.g.ub.Xz="role";h.g.ub.Nm={oF:"grid",pF:"gridcell",qF:"group",qz:"listbox",xz:"menu",yz:"menuitem",eG:"menuitemcheckbox",Fz:"option",jH:"presentation",Ep:"row",IH:"tree",JH:"treeitem"};h.g.ub.State={Xx:"activedescendant",BE:"colcount",By:"disabled",PE:"expanded",OF:"invalid",oz:"label",VF:"labelledby",YF:"level",cH:"orientation",iH:"posinset",pH:"rowcount",Ji:"selected",tH:"setsize",MH:"valuemax",NH:"valuemin"};h.g.ub.Tg=function(a,c){a.setAttribute(h.g.ub.Xz,c)};
h.g.ub.Co=function(a,c,d){Array.isArray(d)&&(d=d.join(" "));a.setAttribute(h.g.ub.$x+c,d)};h.g.fa={SH:0,$F:3,ey:8,zH:9,kG:12,Ky:13,Pm:16,fh:17,ti:18,eH:19,xE:20,Ly:27,aA:32,Kz:33,Jz:34,Jy:35,cz:36,Ab:37,Vm:38,vc:39,bp:40,hH:43,kH:44,NF:45,gh:46,ZERO:48,ONE:49,KH:50,AH:51,nF:52,kF:53,wH:54,uH:55,NE:56,iG:57,iF:59,gF:61,fF:173,hF:163,lH:63,qE:64,lE:65,rE:66,Vo:67,FE:68,E:69,QE:70,Ic:71,rF:72,tF:73,SF:74,TF:75,UF:76,ZF:77,hG:78,AG:79,dH:80,Q:81,mH:82,qH:83,yH:84,LH:85,Pp:86,PH:87,Sp:88,mA:89,Si:90,Fi:91,TH:92,EE:93,zG:96,sG:97,yG:98,xG:99,oG:100,nG:101,wG:102,vG:103,mG:104,rG:105,qG:106,uG:107,
pG:109,tG:110,lG:111,RE:112,VE:113,WE:114,XE:115,YE:116,ZE:117,$E:118,aF:119,bF:120,SE:121,TE:122,UE:123,jG:144,rH:145,jF:166,WF:183,sH:186,GE:189,OE:187,DE:188,fH:190,xH:191,pE:192,BH:192,vH:222,BG:219,sE:220,AE:221,RH:224,aG:224,bG:91,cG:93,QH:229,OH:252,gH:255};h.rp=function(){this.ee=[];this.di=this.Za=this.no=this.jo=this.io=this.pf=this.ko=this.Hh=this.ks=null};b=h.rp.prototype;
b.Ia=function(a){var c=document.createElement("div");c.className="blocklyMenu goog-menu blocklyNonSelectable";c.tabIndex=0;this.di&&h.g.ub.Tg(c,this.di);this.Za=c;for(var d=0,e;e=this.ee[d];d++)c.appendChild(e.Qa());this.ko=h.N.va(c,"mouseover",this,this.eC,!0);this.pf=h.N.va(c,"click",this,this.$B,!0);this.io=h.N.va(c,"mouseenter",this,this.cC,!0);this.jo=h.N.va(c,"mouseleave",this,this.dC,!0);this.no=h.N.va(c,"keydown",this,this.aC);a.appendChild(c)};
b.focus=function(){var a=this.Za;a&&(a.focus({preventScroll:!0}),h.g.j.Fb(a,"blocklyFocused"))};b.Tg=function(a){this.di=a};b.H=function(){this.ko&&(h.N.rb(this.ko),this.ko=null);this.pf&&(h.N.rb(this.pf),this.pf=null);this.io&&(h.N.rb(this.io),this.io=null);this.jo&&(h.N.rb(this.jo),this.jo=null);this.no&&(h.N.rb(this.no),this.no=null);for(var a=0,c;c=this.ee[a];a++)c.H();this.Za=null};
function Wb(a,c){for(var d=a.Za;c&&c!=d;){if(h.g.j.nr(c,"blocklyMenuItem"))for(var e=0,f;f=a.ee[e];e++)if(f.Za==c)return f;c=c.parentElement}return null}b.ie=function(a){var c=this.Hh;c&&(c.ie(!1),this.Hh=null);a&&(a.ie(!0),this.Hh=a,c=this.Za,h.g.style.FD(a.Za,c),h.g.ub.Co(c,h.g.ub.State.Xx,a.$b()))};function Xb(a,c,d){c+=d;for(var e;e=a.ee[c];){if(e.isEnabled()){a.ie(e);break}c+=d}}b.eC=function(a){(a=Wb(this,a.target))&&(a.isEnabled()?this.Hh!=a&&this.ie(a):this.ie(null))};
b.$B=function(a){var c=this.ks;this.ks=null;c&&"number"==typeof a.clientX&&1>h.g.S.Iq(c,new h.g.S(a.clientX,a.clientY))||(a=Wb(this,a.target))&&a.isEnabled()&&a.xk&&a.xk(a)};b.cC=function(){this.focus()};b.dC=function(){if(this.Za){var a=this.Za;a&&(a.blur(),h.g.j.Vc(a,"blocklyFocused"));this.ie(null)}};
b.aC=function(a){if(this.ee.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var c=this.Hh;switch(a.keyCode){case h.g.fa.Ky:case h.g.fa.aA:c&&c.isEnabled()&&c.xk&&c.xk(c);break;case h.g.fa.Vm:c=this.ee.indexOf(this.Hh);Xb(this,0>c?this.ee.length:c,-1);break;case h.g.fa.bp:Xb(this,this.ee.indexOf(this.Hh),1);break;case h.g.fa.Kz:case h.g.fa.cz:Xb(this,-1,1);break;case h.g.fa.Jz:case h.g.fa.Jy:Xb(this,this.ee.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
b.xf=function(){var a=this.Za,c=h.g.style.xf(a);c.height=a.scrollHeight;return c};h.sp=function(a,c){this.sf=a;this.Xe=c;this.Cn=!0;this.Za=null;this.Is=!1;this.di=null;this.lw=this.oq=this.nq=!1;this.xk=null};b=h.sp.prototype;
b.Qa=function(){var a=document.createElement("div");a.id=h.g.gk.Tv();this.Za=a;a.className="blocklyMenuItem goog-menuitem "+(this.Cn?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.oq?"blocklyMenuItemSelected goog-option-selected ":"")+(this.lw?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.Is?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var c=document.createElement("div");c.className="blocklyMenuItemContent goog-menuitem-content";if(this.nq){var d=document.createElement("div");
d.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";c.appendChild(d)}d=this.sf;"string"==typeof this.sf&&(d=document.createTextNode(this.sf));c.appendChild(d);a.appendChild(c);this.di&&h.g.ub.Tg(a,this.di);h.g.ub.Co(a,h.g.ub.State.Ji,this.nq&&this.oq||!1);h.g.ub.Co(a,h.g.ub.State.By,!this.Cn);return a};b.H=function(){this.Za=null};b.$b=function(){return this.Za.id};b.getValue=function(){return this.Xe};b.Tg=function(a){this.di=a};
b.ie=function(a){this.lw=a;var c=this.Za;c&&this.isEnabled()&&(a?(h.g.j.Fb(c,"blocklyMenuItemHighlight"),h.g.j.Fb(c,"goog-menuitem-highlight")):(h.g.j.Vc(c,"blocklyMenuItemHighlight"),h.g.j.Vc(c,"goog-menuitem-highlight")))};b.isEnabled=function(){return this.Cn};b.Te=function(a){this.Cn=a};function Yb(a,c,d){a.xk=c.bind(d)};h.Ta=function(a,c,d){"function"!=typeof a&&h.Ta.Lx(a);this.wl=a;this.Ws=this.us=this.En=null;a=this.wl;if(Array.isArray(a)){for(var e=!1,f=0;f<a.length;f++){var g=a[f][0];"string"==typeof g?a[f][0]=h.g.Wc(g):(null!=g.alt&&(a[f][0].alt=h.g.Wc(g.alt)),e=!0)}if(!(e||2>a.length)){e=[];for(f=0;f<a.length;f++)e.push(a[f][0]);f=h.g.La.Rs(e);g=h.g.La.ev(e,f);var k=h.g.La.fv(e,f);!g&&!k||f<=g+k||(g&&(this.us=e[0].substring(0,g-1)),k&&(this.Ws=e[0].substr(1-k)),this.wl=h.Ta.AA(a,g,k))}}this.Dj=this.getOptions(!1)[0];
h.Ta.v.constructor.call(this,this.Dj[1],c,d);this.Lj=this.rd=this.Ec=this.Gc=this.Ll=null};h.g.object.U(h.Ta,h.kd);h.Ta.aa=function(a){return new h.Ta(a.options,void 0,a)};h.Ta.prototype.Yk=function(a){Zb(this)&&this.getOptions(!1);this.setValue(a.textContent)};h.Ta.prototype.uu=!0;h.Ta.yE=25;h.Ta.dG=.45;h.Ta.gz=5;h.Ta.hz=2*h.Ta.gz;h.Ta.nm=h.g.userAgent.mm?"\u25bc":"\u25be";b=h.Ta.prototype;b.Yj="default";
b.Ln=function(){!this.ca().Jt||this.ca().Jt&&!this.K.Fa?Ob(this):this.cv=this.K.ka();Pb(this);this.Ec=h.g.j.L(h.g.F.ek,{},this.Pc);this.ca().Ty?(this.Lj=h.g.j.L(h.g.F.ek,{height:this.ca().ak+"px",width:this.ca().ak+"px"},this.Pc),this.Lj.setAttributeNS(h.g.j.Zc,"xlink:href",this.ca().Uy)):(this.rd=h.g.j.L(h.g.F.Du,{},this.pc),this.rd.appendChild(document.createTextNode(this.K.J?h.Ta.nm+" ":" "+h.Ta.nm)),this.K.J?this.pc.insertBefore(this.rd,this.li):this.pc.appendChild(this.rd));this.Hb&&h.g.j.Fb(this.Hb,
"blocklyDropdownRect")};
b.Eo=function(a){var c=new h.rp;c.Tg(h.g.ub.Nm.qz);this.Gc=c;var d=this.getOptions(!1);this.Ll=null;for(var e=0;e<d.length;e++){var f=d[e][0],g=d[e][1];if("object"==typeof f){var k=new Image(f.width,f.height);k.src=f.src;k.alt=f.alt||"";f=k}f=new h.sp(f,g);f.Tg(h.g.ub.Nm.Fz);f.Is=this.K.J;f.nq=!0;c.ee.push(f);f.oq=g==this.Xe;g==this.Xe&&(this.Ll=f);Yb(f,this.bC,this)}this.Gc.ks=a&&"number"===typeof a.clientX?new h.g.S(a.clientX,a.clientY):null;this.Gc.Ia(h.C.NB());h.g.j.Fb(this.Gc.Za,"blocklyDropdownMenu");
this.ca().Sy&&(a=this.K.Fa?this.K.getParent().cr():this.K.cr(),c=this.K.Fa?this.K.getParent().style.aj:this.K.style.aj,h.C.he(a,c));h.C.MD(this,this.uB.bind(this));this.Gc.focus();this.Ll&&this.Gc.ie(this.Ll);this.Yb()};b.uB=function(){this.Gc&&this.Gc.H();this.Ll=this.Gc=null;this.Yb()};b.bC=function(a){h.C.il(this,!0);this.setValue(a.getValue())};h.Ta.AA=function(a,c,d){for(var e=[],f=0;f<a.length;f++){var g=a[f][0],k=a[f][1];g=g.substring(c,g.length-d);e[f]=[g,k]}return e};
function Zb(a){return"function"==typeof a.wl}b=h.Ta.prototype;b.getOptions=function(a){return Zb(this)?(this.En&&a||(this.En=this.wl.call(this),h.Ta.Lx(this.En)),this.En):this.wl};b.zn=function(a){for(var c=!1,d=this.getOptions(!0),e=0,f;f=d[e];e++)if(f[1]==a){c=!0;break}return c?a:(this.K&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.K.type+", Field name: "+this.name+", Value: "+a),null)};
b.Ok=function(a){h.Ta.v.Ok.call(this,a);a=this.getOptions(!0);for(var c=0,d;d=a[c];c++)d[1]==this.Xe&&(this.Dj=d)};b.Yb=function(){this.Hb&&(this.Hb.setAttribute("stroke",this.K.style.aj),this.Gc?this.Hb.setAttribute("fill",this.K.style.aj):this.Hb.setAttribute("fill","transparent"));this.K&&this.rd&&(this.rd.style.fill=this.K.Fa?this.K.style.mn:this.K.style.uh)};
b.Ds=function(){this.li.nodeValue="";this.Ec.style.display="none";var a=this.Dj&&this.Dj[0];if(a&&"object"==typeof a){this.Ec.style.display="";this.Ec.setAttributeNS(h.g.j.Zc,"xlink:href",a.src);this.Ec.setAttribute("height",a.height);this.Ec.setAttribute("width",a.width);var c=Number(a.height);a=Number(a.width);var d=!!this.Hb,e=Math.max(d?this.ca().It:0,c+h.Ta.hz);d=d?this.ca().$j:0;var f=this.Lj?$b(this,a+d,e/2-this.ca().ak/2):h.g.j.er(this.rd,this.ca().ih,this.ca().Qf,this.ca().Pf);this.oc.width=
a+f+2*d;this.oc.height=e;var g=0;this.K.J?this.Ec.setAttribute("x",d+f):(g=a+f,this.pc.setAttribute("text-anchor","end"),this.Ec.setAttribute("x",d));this.Ec.setAttribute("y",e/2-c/2);Rb(this,g+d,a+f)}else this.li.nodeValue=Qb(this),h.g.j.Fb(this.pc,"blocklyDropdownText"),this.pc.setAttribute("text-anchor","start"),e=!!this.Hb,c=Math.max(e?this.ca().It:0,this.ca().Dm),a=h.g.j.er(this.pc,this.ca().ih,this.ca().Qf,this.ca().Pf),e=e?this.ca().$j:0,d=0,this.Lj&&(d=$b(this,a+e,c/2-this.ca().ak/2)),this.oc.width=
a+d+2*e,this.oc.height=c,Rb(this,e,a);Sb(this)};function $b(a,c,d){if(!a.Lj)return 0;var e=a.Hb?a.ca().$j:0,f=a.ca().Vy,g=a.ca().ak;a.Lj.setAttribute("transform","translate("+(a.K.J?e:c+f)+","+d+")");return g+f}b.kr=function(){if(!this.Dj)return null;var a=this.Dj[0];return"object"==typeof a?a.alt:a};
h.Ta.Lx=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var c=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):e[0]&&"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+
e[0]+" in: ",e)):(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(c)throw TypeError("Found invalid FieldDropdown options.");};h.ng.register("field_dropdown",h.Ta);h.fc=Object.create(null);h.ua={};h.ua.Rj=Object.create(null);h.ua.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(h.ua.Rj[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof c)throw Error('Error: Extension "'+a+'" must be a function');h.ua.Rj[a]=c};h.ua.TI=function(a,c){if(!c||"object"!=typeof c)throw Error('Error: Mixin "'+a+'" must be a object');h.ua.register(a,function(){this.Fg(c)})};
h.ua.UI=function(a,c,d,e){var f='Error when registering mutator "'+a+'": ';h.ua.Zu(f,c.uf,"domToMutation");h.ua.Zu(f,c.Ed,"mutationToDom");var g=h.ua.av(c,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');h.ua.register(a,function(){if(g){if(!h.Az)throw Error(f+"Missing require for Blockly.Mutator");this.ux(new h.Az(e||[]))}this.Fg(c);d&&d.apply(this)})};h.ua.unregister=function(a){h.ua.Rj[a]?delete h.ua.Rj[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')};
h.ua.apply=function(a,c,d){var e=h.ua.Rj[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)h.ua.QA(a,c);else var f=h.ua.gr(c);e.apply(c);if(d)h.ua.OA('Error after applying mutator "'+a+'": ',c);else if(!h.ua.MC(f,c))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
h.ua.Zu=function(a,c,d){if(!c)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof c)throw Error(a+'" required property "'+d+'" must be a function');};h.ua.QA=function(a,c){if(h.ua.gr(c).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+c.id);};
h.ua.av=function(a,c){var d=void 0!==a.sq,e=void 0!==a.wq;if(d&&e){if("function"!=typeof a.sq)throw Error(c+"compose must be a function.");if("function"!=typeof a.wq)throw Error(c+"decompose must be a function.");return!0}if(!d&&!e)return!1;throw Error(c+'Must have both or neither of "compose" and "decompose"');};
h.ua.OA=function(a,c){if("function"!=typeof c.uf)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof c.Ed)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');h.ua.av(c,a)};h.ua.gr=function(a){var c=[];void 0!==a.uf&&c.push(a.uf);void 0!==a.Ed&&c.push(a.Ed);void 0!==a.sq&&c.push(a.sq);void 0!==a.wq&&c.push(a.wq);return c};h.ua.MC=function(a,c){c=h.ua.gr(c);if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++)if(a[d]!=c[d])return!1;return!0};
h.ua.YH=function(a,c){var d=[];"object"==typeof document&&h.g.px(function(){for(var e in c)h.g.$u(c[e])});return function(){this.type&&-1==d.indexOf(this.type)&&(h.ua.PA(this,a,c),d.push(this.type));this.je(function(){var e=String(hb(this,a)),f=c[e];null==f?-1==d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=h.g.Wc(f);return f}.bind(this))}};
h.ua.PA=function(a,c,d){var e=ma(a,c);if(!Zb(e)){e=e.getOptions();for(var f=0;f<e.length;++f){var g=e[f][1];null==d[g]&&console.warn("No tooltip mapping for value "+g+" of field "+c+" of block type "+a.type)}}};h.ua.ZH=function(a,c){"object"==typeof document&&h.g.px(function(){h.g.$u(a)});return function(){this.je(function(){var d=ma(this,c);return h.g.Wc(a).replace("%1",d?Tb(d):"")}.bind(this))}};
h.ua.wB=function(){this.$D=this.Ld;this.je(function(){var a=this.getParent();return a&&Aa(a)&&a.Ld||this.$D}.bind(this))};h.ua.register("parent_tooltip_when_inline",h.ua.wB);h.ld=function(a,c,d){this.hn=null;h.ld.v.constructor.call(this,a,null,d);d||(this.hn=c||null)};h.g.object.U(h.ld,h.kd);h.ld.prototype.Zo="";h.ld.aa=function(a){var c=h.g.Wc(a.text);return new h.ld(c,void 0,a)};h.ld.prototype.Zj=!1;h.ld.prototype.Dk=function(a){h.ld.v.Dk.call(this,a);this.hn=a["class"]};h.ld.prototype.Ln=function(){Pb(this);this.hn&&h.g.j.Fb(this.pc,this.hn)};h.ld.prototype.zn=function(a){return null===a||void 0===a?null:String(a)};h.ng.register("field_label",h.ld);h.Wt=function(a,c,d,e){if(a!=h.Ba.se&&!c)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=c;this.K=d;this.connection=e;this.$a=[]};b=h.Wt.prototype;b.align=h.gb.Od.Ab;b.Yg=!0;b.$=function(){return this.K};function F(a,c,d){ac(a,a.$a.length,c,d);return a}
function ac(a,c,d,e){if(0>c||c>a.$a.length)throw Error("index "+c+" out of bounds.");if(!(d||""==d&&e))return c;"string"==typeof d&&(d=h.ng.aa({type:"field_label",text:d}));if(d.K)throw Error("Field already bound to a block.");d.K=a.K;a.K.oa&&(d.wa(),d.Yb());d.name=e;d.Cb(a.isVisible());d.us&&(c=ac(a,c,d.us));a.$a.splice(c,0,d);++c;d.Ws&&(c=ac(a,c,d.Ws));a.K.oa&&(a.K=a.K,a.K.Ia(),a.K.Oc());return c}b.isVisible=function(){return this.Yg};
b.Cb=function(a){if(this.Yg!=a){this.Yg=a;for(var c=0,d;d=this.$a[c];c++)d.Cb(a);if(this.connection){this.connection=this.connection;if(a)bc(this.connection);else if(c=this.connection,cc(c,!1),c.sa)for(c=x(c.la(),!1),d=0;d<c.length;d++){for(var e=c[d],f=e.$d(!0),g=0;g<f.length;g++)cc(f[g],!1);e=Ca(e);for(g=0;g<e.length;g++)e[g].Cb(!1)}if(c=this.connection.la())c.ka().style.display=a?"block":"none"}}};b.tl=function(){for(var a=0,c;c=this.$a[a];a++)c.tl()};
b.Ej=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Ej(a)};b.Ol=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Ol(a)};b.mj=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.mj()};b.wa=function(){if(this.K.B.oa)for(var a=0;a<this.$a.length;a++)this.$a[a].wa()};
b.H=function(){for(var a=0,c;c=this.$a[a];a++)c.H();this.connection&&this.connection.H();this.K=null};h.vi=function(a,c,d){if(h.Generator&&"undefined"!=typeof h.Generator.prototype[c])throw Error('Block prototypeName "'+c+'" conflicts with Blockly.Generator members.');this.id=d&&!a.Cc(d)?d:h.g.Ie();a.aq[this.id]=this;this.da=this.ea=this.T=null;this.V=[];this.zf=void 0;this.disabled=!1;this.Ld="";this.contextMenu=!0;this.Re=null;this.nf=[];this.Ev=this.Hw=this.vv=!0;this.th=this.Fa=!1;this.vh=null;this.Wd={text:null,$w:!1,size:new h.g.Jc(160,80)};this.Wx=new h.g.S(0,0);this.B=a;this.Sc=a.Bf;this.J=
a.J;this.wj=!1;this.Ke=void 0;this.oa=null;if(c){this.type=c;d=h.fc[c];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+c);h.g.object.Fg(this,d)}a.$m(this);a.Kf[this.type]||(a.Kf[this.type]=[]);a.Kf[this.type].push(this);(a=h.h.Ob())||h.h.na(!0);c=h.h.Ha;try{"function"==typeof this.wa&&(h.h.Ha=!1,this.wa(),h.h.Ha=c),h.h.isEnabled()&&h.h.Aa(new (h.h.get(h.h.$g))(this))}finally{a||h.h.na(!1),h.h.Ha=c}this.qC=this.zf;if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=
typeof a)throw Error("onchange must be a function.");this.Bl&&ob(this.B,this.Bl);if(this.onchange=a)this.Bl=a.bind(this),E(this.B,this.Bl)}};h.vi.um=h.gb.um;h.vi.tm=h.gb.tm;b=h.vi.prototype;b.data=null;b.Fe=!1;b.td="#000000";b.Xl="";
b.H=function(a){if(this.B){this.Bl&&ob(this.B,this.Bl);C(this,a);h.h.isEnabled()&&h.h.Aa(new (h.h.get(h.h.Ro))(this));h.h.disable();try{if(this.B){this.B.yo(this);var c=this.B;c.Kf[this.type].splice(c.Kf[this.type].indexOf(this),1);c.Kf[this.type].length||delete c.Kf[this.type];delete this.B.aq[this.id];this.B=null}h.selected==this&&(h.selected=null);for(var d=this.nf.length-1;0<=d;d--)this.nf[d].H(!1);d=0;for(var e;e=this.V[d];d++)e.H();this.V.length=0;var f=this.$d(!0);d=0;for(var g;g=f[d];d++)g.H()}finally{h.h.enable(),
this.Fe=!0}}};function C(a,c){if(a.T){var d=null;a.T.isConnected()&&(d=a.T.sa,a.T.disconnect());if(d&&c){a:{c=null;for(var e=0;e<a.V.length;e++){var f=a.V[e].connection;if(f&&f.type==h.Z.Ub&&f.sa){if(c){c=null;break a}c=f}}}c&&c.isConnected()&&!c.la().Fa&&(c=c.sa,c.disconnect(),$a(a.B.rf,c,d,!1)?d.connect(c):c.es(d))}}else a.da&&(d=null,a.da.isConnected()&&(d=a.da.sa,a.da.disconnect()),e=y(a),c&&e&&!e.Fa&&(c=a.ea.sa,c.disconnect(),d&&$a(a.B.rf,d,c,!1)&&d.connect(c)))}
b.$d=function(){var a=[];this.T&&a.push(this.T);this.da&&a.push(this.da);this.ea&&a.push(this.ea);for(var c=0,d;d=this.V[c];c++)d.connection&&a.push(d.connection);return a};b.Xn=function(a){for(var c=this.ea;c;){var d=c.la();if(!d||a&&d.Fa)return c;c=d.ea}return null};b.Oc=function(){};b.getParent=function(){return this.Re};function oa(a,c){for(var d=0,e;e=a.V[d];d++)if(e.connection&&e.connection.la()==c)return e;return null}
function dc(a){do{var c=a;a=a.getParent();if(!a)return null}while(y(a)==c);return a}function y(a){return a.ea&&a.ea.la()}b.ce=function(){var a=this;do{var c=a;a=c.Re}while(a);return c};function ea(a,c){if(!c)return a.nf;c=[];for(var d=0,e;e=a.V[d];d++)e.connection&&(e=e.connection.la())&&c.push(e);(a=y(a))&&c.push(a);return c}
b.Bo=function(a){if(a!=this.Re){if(this.Re){h.g.bn(this.Re.nf,this);if(this.da&&this.da.isConnected())throw Error("Still connected to previous block.");if(this.T&&this.T.isConnected())throw Error("Still connected to parent block.");this.Re=null}else this.B.yo(this);(this.Re=a)?a.nf.push(this):this.B.$m(this)}};function x(a,c){var d=[a];a=ea(a,c);for(var e,f=0;e=a[f];f++)d.push.apply(d,x(e,c));return d}b.Oe=function(){return this.vv&&!this.Fa&&!(this.B&&this.B.options.readOnly)};
b.lc=function(){return this.Hw&&!this.Fa&&!(this.B&&this.B.options.readOnly)};b.Ms=function(a){this.Hw=a};b.Ps=function(a){this.Fa=a};b.ed=function(){return this.wj};b.tx=function(a){this.wj=a};b.Ad=function(){return this.Ev&&!(this.B&&this.B.options.readOnly)};b.Ls=function(a){this.Ev=a;a=0;for(var c;c=this.V[a];a++)for(var d=0,e;e=c.$a[d];d++)Nb(e)};
b.fr=function(a,c){var d=this.$d(!0);a=a.$d(!0);if(d.length!=a.length)throw Error("Connection lists did not match in length.");for(var e=0;e<a.length;e++)if(a[e]==c)return d[e];return null};b.je=function(a){this.Ld=a};b.cr=function(){return this.td};b.he=function(a){this.td=h.g.so(a).hl};b.ji=function(a){this.Xl=a};
function ma(a,c){if("string"!==typeof c)throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(void 0===c?"nothing":c+" of type "+typeof c)+" instead");for(var d=0,e;e=a.V[d];d++)for(var f=0,g;g=e.$a[f];f++)if(g.name===c)return g;return null}function la(a){for(var c=0,d;d=a.V[c];c++)for(var e=0;d.$a[e];e++);return[]}function hb(a,c){return(a=ma(a,c))?a.getValue():null}
b.ii=function(a,c){if(a){void 0===c&&(c=null);if(!this.da){if(this.T)throw Error("Remove output connection prior to adding previous connection.");this.da=this.sl(h.Z.pd)}this.da.Ej(c)}else if(this.da){if(this.da.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.da.H();this.da=null}};
b.Hj=function(a,c){if(a)void 0===c&&(c=null),this.ea||(this.ea=this.sl(h.Z.Vb)),this.ea.Ej(c);else if(this.ea){if(this.ea.isConnected())throw Error("Must disconnect next statement before removing connection.");this.ea.H();this.ea=null}};
b.Ns=function(a,c){if(a){void 0===c&&(c=null);if(!this.T){if(this.da)throw Error("Remove previous connection prior to adding output connection.");this.T=this.sl(h.Z.Xc)}this.T.Ej(c)}else if(this.T){if(this.T.isConnected())throw Error("Must disconnect output value before removing connection.");this.T.H();this.T=null}};b.gi=function(a){this.zf!=a&&(h.h.Aa(new (h.h.get(h.h.Zg))(this,"inline",null,this.zf,a)),this.zf=a)};
function Aa(a){if(void 0!=a.zf)return a.zf;for(var c=1;c<a.V.length;c++)if(a.V[c-1].type==h.Ba.se&&a.V[c].type==h.Ba.se)return!1;for(c=1;c<a.V.length;c++)if(a.V[c-1].type==h.Ba.ze&&a.V[c].type==h.Ba.se)return!0;return!1}b.isEnabled=function(){return!this.disabled};b.Te=function(a){this.isEnabled()!=a&&(h.h.Aa(new (h.h.get(h.h.Zg))(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function ec(a){for(a=dc(a);a;){if(a.disabled)return!0;a=dc(a)}return!1}b.isCollapsed=function(){return this.th};
b.ei=function(a){this.th!=a&&(h.h.Aa(new (h.h.get(h.h.Zg))(this,"collapsed",null,this.th,a)),this.th=a)};
b.toString=function(a,c){function d(n){var p=n.Zi;!p&&n.sa&&(p=n.sa.Zi);return!!p&&(-1!=p.indexOf("Boolean")||-1!=p.indexOf("Number"))}function e(){k&&k.getType()==l.getType()&&k.xa==l.xa&&(k=null)}var f=[];c=c||"?";var g=h.D.Vf;h.D.Vf=!0;for(var k=h.D.lg(this),l=k;k;){switch(k.getType()){case h.D.types.md:var m=k.xa;k.ug()?d(m)&&f.push("("):f.push(c);break;case h.D.types.sc:m=k.xa,m.name!=h.gb.tm&&f.push(Tb(m))}m=k;k=m.ug()||m.next();if(!k){k=m.Kg();for(e();k&&!k.next();)k=k.Kg(),e(),k&&k.getType()==
h.D.types.md&&d(k.xa)&&f.push(")");k&&(k=k.next())}}h.D.Vf=g;for(c=2;c<f.length;c++)"("==f[c-2]&&")"==f[c]&&(f[c-2]=f[c-1],f.splice(c-1,2));f=f.reduce(function(n,p){return n+("("==n.substr(-1)||")"==p?"":" ")+p},"");f=f.trim()||"???";a&&f.length>a&&(f=f.substring(0,a-3)+"...");return f};function fc(a,c){return a.kf(h.Ba.se,c||"")}
function gc(a,c){var d=c.type?'Block "'+c.type+'": ':"";if(c.output&&c.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");c.style&&c.style.Ke&&(a.Ke=c.style.Ke,c.style=null);if(c.style&&c.colour)throw Error(d+"Must not have both a colour and a style.");if(c.style){var e=c.style;try{a.ji(e)}catch(I){console.warn(d+"Style does not exist: ",e)}}else if("colour"in c)if(void 0===c.colour)console.warn(d+"Undefined colour value.");else{e=c.colour;try{a.he(e)}catch(I){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==c["message"+e];){var f=a,g=c["args"+e]||[],k=c["lastDummyAlign"+e],l=d,m=h.g.ZD(c["message"+e]);var n=f;for(var p=m,q=g.length,B=[],t=0,u=0;u<p.length;u++){var w=p[u];if("number"==typeof w){if(1>w||w>q)throw Error('Block "'+n.type+'": Message index %'+w+" out of range.");if(B[w])throw Error('Block "'+n.type+'": Message index %'+w+" duplicated.");B[w]=!0;t++}}if(t!=q)throw Error('Block "'+n.type+'": Message does not reference all '+q+" arg(s).");n=g;g=
[];for(p=0;p<m.length;p++){q=m[p];"number"==typeof q&&(q=n[q-1]);if("string"==typeof q&&(q=hc(q),!q))continue;g.push(q)}(m=g.length)&&!ic(g[m-1].type)&&(m={type:"input_dummy"},k&&(m.align=k),g.push(m));k=g;g=[];for(m=0;n=k[m];m++)if(ic(n.type)){p=f;q=n;B=l;t={LEFT:h.gb.Od.Ab,RIGHT:h.gb.Od.vc,CENTRE:h.gb.Od.sm,CENTER:h.gb.Od.sm};n=null;switch(q.type){case "input_value":n=p.kf(h.Ba.ze,q.name);break;case "input_statement":n=p.kf(h.Ba.ic,q.name);break;case "input_dummy":n=fc(p,q.name)}n?(q.check&&n.Ej(q.check),
q.align&&(p=t[q.align.toUpperCase()],void 0===p?console.warn(B+"Illegal align value: ",q.align):(q=n,q.align=p,q.K.oa&&(q.K=q.K,q.K.Ia())))):n=null;if(n){for(p=0;q=g[p];p++)F(n,q[0],q[1]);g.length=0}}else(p=jc(f,n))&&g.push([p,n.name]);e++}void 0!==c.inputsInline&&a.gi(c.inputsInline);void 0!==c.output&&a.Ns(!0,c.output);void 0!==c.previousStatement&&a.ii(!0,c.previousStatement);void 0!==c.nextStatement&&a.Hj(!0,c.nextStatement);void 0!==c.tooltip&&(e=c.tooltip,e=h.g.Wc(e),a.je(e));void 0!==c.enableContextMenu&&
(e=c.enableContextMenu,a.contextMenu=!!e);void 0!==c.helpUrl&&(e=c.helpUrl,e=h.g.Wc(e),a.qj=e);"string"==typeof c.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+c.type+"' block."),c.extensions=[c.extensions]);void 0!==c.mutator&&h.ua.apply(c.mutator,a,!0);c=c.extensions;if(Array.isArray(c))for(d=0;d<c.length;++d)h.ua.apply(c[d],a,!1)}
b.Fg=function(a,c){if(void 0!==c&&"boolean"!=typeof c)throw Error("opt_disableCheck must be a boolean if provided");if(!c){c=[];for(var d in a)void 0!==this[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));}h.g.object.Fg(this,a)};function jc(a,c){var d=h.ng.aa(c);return!d&&c.alt?"string"==typeof c.alt?(c=hc(c.alt))?jc(a,c):null:jc(a,c.alt):d}function ic(a){return"input_value"==a||"input_statement"==a||"input_dummy"==a}
function hc(a){return(a=a.trim())?{type:"field_label",text:a}:null}b.kf=function(a,c){var d=null;if(a==h.Ba.ze||a==h.Ba.ic)d=this.sl(a);a=new h.Wt(a,c,this,d);this.V.push(a);return a};b.Bs=function(a,c){for(var d=0,e;e=this.V[d];d++)if(e.name==a)return e.H(),this.V.splice(d,1),!0;if(c)return!1;throw Error("Input not found: "+a);};function ka(a,c){for(var d=0,e;e=a.V[d];d++)if(e.name==c)return e;return null}function kc(a,c){return(a=ka(a,c))&&a.connection&&a.connection.la()}
b.Fj=function(a){this.Wd.text!=a&&(h.h.Aa(new (h.h.get(h.h.Zg))(this,"comment",null,this.Wd.text,a)),this.vh=this.Wd.text=a)};b.ux=function(){};b.Ua=function(){return this.Wx};b.moveBy=function(a,c){if(this.Re)throw Error("Block has parent.");var d=new (h.h.get(h.h.ah))(this);this.Wx.translate(a,c);d.bi();h.h.Aa(d)};b.sl=function(a){return new h.qa(this,a)};h.i={};h.i.PF=function(){};h.Ma={};h.Ma.tn=null;h.Ma.Gc=null;h.Ma.show=function(a,c,d){h.Y.show(h.Ma,d,h.Ma.H);if(c.length){var e=h.Ma.dD(c,d);h.Ma.Gc=e;h.Ma.fD(e,a,d);setTimeout(function(){e.focus()},1);h.Ma.tn=null}else h.Ma.Va()};h.Ma.dD=function(a,c){var d=new h.rp;d.Tg(h.g.ub.Nm.xz);for(var e=0,f;f=a[e];e++){var g=new h.sp(f.text);g.Is=c;g.Tg(h.g.ub.Nm.yz);d.ee.push(g);g.Te(f.enabled);f.enabled&&Yb(g,function(){h.Ma.Va();this.cb(this.scope)},f)}return d};
h.Ma.fD=function(a,c,d){var e=h.g.YB();c=new h.g.Rect(c.clientY+e.top,c.clientY+e.top,c.clientX+e.left,c.clientX+e.left);h.Ma.gB(a);var f=a.xf();d&&(c.left+=f.width,c.right+=f.width,e.left+=f.width,e.right+=f.width);h.Y.eD(e,c,f,d);a.focus()};h.Ma.gB=function(a){a.Ia(h.Y.Wa);var c=a.Za;h.g.j.Fb(c,"blocklyContextMenu");h.N.va(c,"contextmenu",null,h.g.QC);a.focus()};h.Ma.Va=function(){h.Y.il(h.Ma);h.Ma.tn=null};h.Ma.H=function(){h.Ma.Gc&&(h.Ma.Gc.H(),h.Ma.Gc=null)};
h.Ma.aI=function(a,c){return function(){h.h.disable();try{var d=h.I.ij(c,a.B),e=a.Ua();e.x=a.J?e.x-h.hc:e.x+h.hc;e.y+=2*h.hc;d.moveBy(e.x,e.y)}finally{h.h.enable()}h.h.isEnabled()&&!d.Fa&&h.h.Aa(new (h.h.get(h.h.$g))(d));d.select()}};h.Ma.dI=function(a){return{text:h.M.REMOVE_COMMENT,enabled:!0,cb:function(){h.h.na(!0);a.H(!0,!0);h.h.na(!1)}}};h.Ma.eI=function(a){return{text:h.M.DUPLICATE_COMMENT,enabled:!0,cb:function(){h.duplicate(a)}}};
h.Ma.qJ=function(a,c){if(!h.Ri)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var d={enabled:!h.g.userAgent.Rd};d.text=h.M.ADD_COMMENT;d.cb=function(){var e=new h.Ri(a,h.M.WORKSPACE_COMMENT_DEFAULT_TEXT,h.Ri.Ay,h.Ri.Ay),f=ca(a).getBoundingClientRect();f=new h.g.S(c.clientX-f.left,c.clientY-f.top);var g=h.g.cl(a.qb);f=h.g.S.Nk(f,g);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.oa&&(e.rj(),e.Ia(),e.select())};return d};h.za=function(){h.za.u=this;this.Id=Object.create(null)};h.za.wc={Kb:"block",Lc:"workspace"};h.za.u=null;h.za.prototype.register=function(a){if(this.Id[a.id])throw Error('Menu item with ID "'+a.id+'" is already registered.');this.Id[a.id]=a};h.za.prototype.unregister=function(a){if(!this.Id[a])throw Error('Menu item with ID "'+a+'" not found.');delete this.Id[a]};h.za.prototype.getItem=function(a){return this.Id[a]||null};
function lc(a,c){var d=[],e=h.za.u.Id;Object.keys(e).forEach(function(f){f=e[f];if(a==f.fd){var g=f.xb(c);"hidden"!=g&&(f={text:"function"==typeof f.Bc?f.Bc(c):f.Bc,enabled:"enabled"==g,cb:f.cb,scope:c,weight:f.weight},d.push(f))}});d.sort(function(f,g){return f.weight-g.weight});return d}new h.za;h.h.Zf=function(a,c,d){h.h.Zf.v.constructor.call(this,d);this.Nw=a;this.Lw=c};h.g.object.U(h.h.Zf,h.h.Td);h.h.Zf.prototype.type=h.h.Ji;h.h.Zf.prototype.ja=function(){var a=h.h.Zf.v.ja.call(this);a.oldElementId=this.Nw;a.newElementId=this.Lw;return a};h.h.Zf.prototype.aa=function(a){h.h.Zf.v.aa.call(this,a);this.Nw=a.oldElementId;this.Lw=a.newElementId};h.u.register(h.u.R.zb,h.h.Ji,h.h.Zf);h.zF=function(){};h.EF=function(){};h.Bb=function(a,c){h.Bb.v.constructor.call(this,a,c);this.Ee=a.B.qn[c];this.sv=a.B.qn[h.Hi[c]];this.Zh=new h.g.S(0,0);this.Jf=h.Bb.ye.Iu;this.sa=null};h.g.object.U(h.Bb,h.qa);h.Bb.ye={Iu:-1,Fu:0,Pi:1};b=h.Bb.prototype;b.H=function(){h.Bb.v.H.call(this);this.Jf==h.Bb.ye.Pi&&mc(this.Ee,this,this.y)};b.$=function(){return h.Bb.v.$.call(this)};b.la=function(){return h.Bb.v.la.call(this)};function eb(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)}
function nc(a,c){if(!a.K.B.Rc()){var d=a.K.ce();if(!d.Sc){var e=!1;if(!d.lc()){d=c.$().ce();if(!d.lc())return;c=a;e=!0}var f=h.selected==d;f||d.Zm();var g=c.x+h.hc+Math.floor(Math.random()*h.Uo)-a.x,k=c.y+h.hc+Math.floor(Math.random()*h.Uo)-a.y;e&&(k=-k);d.J&&(g=c.x-h.hc-Math.floor(Math.random()*h.Uo)-a.x);d.moveBy(g,k);f||d.Jl()}}}
b.moveTo=function(a,c){if(this.Jf==h.Bb.ye.Iu){var d=this.Ee;d.wb.splice(oc(d,c),0,this);this.Jf=h.Bb.ye.Pi}else this.Jf==h.Bb.ye.Pi&&(mc(this.Ee,this,this.y),d=this.Ee,d.wb.splice(oc(d,c),0,this));this.x=a;this.y=c};b.moveBy=function(a,c){this.moveTo(this.x+a,this.y+c)};function pc(a,c){a.moveTo(c.x+a.Zh.x,c.y+a.Zh.y)}function G(a,c,d){a.Zh.x=c;a.Zh.y=d}
function qc(a){var c=a.sa.x-a.x,d=a.sa.y-a.y;if(0!=c||0!=d){a=a.la();var e=a.ka();if(!e)throw Error("block is not rendered.");e=h.g.be(e);a.ka().setAttribute("transform","translate("+(e.x-c)+","+(e.y-d)+")");Ga(a,-c,-d)}}
b.closest=function(a,c){var d=this.sv;if(d.wb.length){var e=this.y,f=this.x;this.x=f+c.x;this.y=e+c.y;var g=oc(d,this.y);c=null;for(var k=a,l,m=g-1;0<=m&&Math.abs(d.wb[m].y-this.y)<=a;)l=d.wb[m],$a(d.kv,this,l,!0,k)&&(c=l,k=eb(l,this)),m--;for(;g<d.wb.length&&Math.abs(d.wb[g].y-this.y)<=a;)l=d.wb[g],$a(d.kv,this,l,!0,k)&&(c=l,k=eb(l,this)),g++;this.x=f;this.y=e;a={connection:c,wo:k}}else a={connection:null,wo:a};return a};
function cc(a,c){c&&a.Jf==h.Bb.ye.Pi||!c&&a.Jf==h.Bb.ye.Fu||a.K.Sc||(c?(c=a.Ee,c.wb.splice(oc(c,a.y),0,a),a.Jf=h.Bb.ye.Pi):(a.Jf==h.Bb.ye.Pi&&mc(a.Ee,a,a.y),a.Jf=h.Bb.ye.Fu))}function bc(a){cc(a,!0);var c=[];if(a.type!=h.Z.Ub&&a.type!=h.Z.Vb)return c;if(a=a.la()){if(a.isCollapsed()){var d=[];a.T&&d.push(a.T);a.ea&&d.push(a.ea);a.da&&d.push(a.da)}else d=a.$d(!0);for(var e=0;e<d.length;e++)c.push.apply(c,bc(d[e]));c.length||(c[0]=a)}return c}
b.es=function(a){var c=this.$();if(h.h.Ha){var d=h.h.Ob();setTimeout(function(){c.Fe||c.getParent()||(h.h.na(d),nc(this,a),h.h.na(!1))}.bind(this),h.To)}};b.Fq=function(a,c){h.Bb.v.Fq.call(this,a,c);a.oa&&a.Ia();c.oa&&(ia(c),c.Ia(),c.ka().style.display="block")};b.Kl=function(){h.Bb.v.Kl.call(this);var a=this.la();a&&(a.rj(),a.Ia(!1),a=this.$(),a.oa&&a.Ia())};b.Kw=function(a){return rc(this.sv,this,a)};
b.on=function(a){h.Bb.v.on.call(this,a);var c=this.$();a=a.$();var d=c.oa,e=a.oa;d&&ia(c);e&&ia(a);d&&e&&(this.type==h.Z.Vb||this.type==h.Z.pd?a.Ia():c.Ia());if(c=oa(c,a))c=c.isVisible(),a.ka().style.display=c?"block":"none"};b.Tw=function(){!this.isConnected()||this.sa&&$a(this.K.B.rf,this,this.sa,!1)||(C(Ha(this)?this.la():this.K),this.K.Oc())};h.bh=function(){h.bh.v.constructor.call(this)};h.g.object.U(h.bh,h.Of);h.bh.zD="basicCursor";b=h.bh.prototype;b.next=function(){var a=this.Yd;if(!a)return null;(a=sc(this,a,this.ht))&&Mb(this,a);return a};b.ug=function(){return this.next()};b.Ng=function(){var a=this.Yd;if(!a)return null;(a=tc(this,a,this.ht))&&Mb(this,a);return a};b.Kg=function(){return this.Ng()};
function sc(a,c,d){if(!c)return null;var e=c.ug()||c.next();if(d(e))return e;if(e)return sc(a,e,d);c=uc(a,c.Kg());return d(c)?c:c?sc(a,c,d):null}function tc(a,c,d){if(!c)return null;var e=c.Ng();e=e?xc(a,e):c.Kg();return d(e)?e:e?tc(a,e,d):null}b.ht=function(a){var c=!1;a=a&&a.getType();if(a==h.D.types.lh||a==h.D.types.md||a==h.D.types.sc||a==h.D.types.Wf||a==h.D.types.Yf||a==h.D.types.Lc)c=!0;return c};function uc(a,c){if(!c)return null;var d=c.next();return d?d:uc(a,c.Kg())}
function xc(a,c){if(!c.ug())return c;for(c=c.ug();c.next();)c=c.next();return xc(a,c)}h.u.register(h.u.R.Yj,h.bh.zD,h.bh);h.Np=function(){h.Np.v.constructor.call(this)};h.g.object.U(h.Np,h.bh);h.Np.prototype.ht=function(a){a&&a.getType();return!1};h.Sa=function(a,c,d){this.O=h.g.j.L(h.g.F.Ic,{},null);this.O.em="";this.style=yc(a.ib.ca(),null);this.tb=a.ib.Cw(this.O,this.style);this.Cs=this.oa=!1;this.B=a;this.da=this.ea=this.T=null;this.im=h.g.Lh()&&!!a.$c;var e=this.tb.Eb;e.Ld=this;h.G.Vi(e);h.Sa.v.constructor.call(this,a,c,d);this.O.dataset?this.O.dataset.id=this.id:h.g.userAgent.Rd&&this.O.setAttribute("data-id",this.id)};h.g.object.U(h.Sa,h.vi);h.Sa.prototype.height=0;h.Sa.prototype.width=0;h.Sa.prototype.No=null;h.Sa.MF=-1;h.Sa.CE="TEMP_COLLAPSED_WARNING_";
b=h.Sa.prototype;b.rj=function(){if(!this.B.oa)throw TypeError("Workspace is headless.");for(var a=0,c;c=this.V[a];a++)c.wa();c=Ca(this);for(a=0;a<c.length;a++)c[a].dB();this.Yb();ya(this.tb,"blocklyDraggable",this.lc());a=this.ka();this.B.options.readOnly||this.vB||!a||h.N.va(a,"mousedown",this,this.Hg);this.vB=!0;a.parentNode||this.B.qb.appendChild(a)};
b.select=function(){if(this.Fa&&this.getParent())this.getParent().select();else if(h.selected!=this){var a=null;if(h.selected){a=h.selected.id;h.h.disable();try{yb(h.selected)}finally{h.h.enable()}}a=new (h.h.get(h.h.Ji))(a,this.id,this.B.id);h.h.Aa(a);h.selected=this;this.Zm()}};function yb(a){if(h.selected==a){var c=new (h.h.get(h.h.Ji))(a.id,null,a.B.id);c.Qb=a.B.id;h.h.Aa(c);h.selected=null;a.Jl()}}b.fe=null;b.vh=null;b.ud=null;b.Qx=null;
function Ca(a){var c=[];a.fe&&c.push(a.fe);a.ud&&c.push(a.ud);a.Qx&&c.push(a.Qx);return c}b.Bo=function(a){var c=this.Re;if(a!=c){h.g.j.Vl();h.Sa.v.Bo.call(this,a);h.g.j.Wl();var d=this.ka();if(!this.B.yr&&d){var e=this.Ua();a?(a.ka().appendChild(d),a=this.Ua(),Ga(this,a.x-e.x,a.y-e.y)):c&&(this.B.qb.appendChild(d),this.translate(e.x,e.y));this.Yb()}}};
b.Ua=function(){var a=0,c=0,d=this.im?this.B.$c.Ob():null,e=this.ka();if(e){do{var f=h.g.be(e);a+=f.x;c+=f.y;this.im&&this.B.$c.Ge.firstChild==e&&(f=this.B.$c.jr(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.B.qb&&e!=d)}return new h.g.S(a,c)};b.moveBy=function(a,c){if(this.Re)throw Error("Block has parent.");var d=h.h.isEnabled();if(d)var e=new (h.h.get(h.h.ah))(this);var f=this.Ua();this.translate(f.x+a,f.y+c);Ga(this,a,c);d&&(e.bi(),h.h.Aa(e));ja(this.B)};
b.translate=function(a,c){this.ka().setAttribute("transform","translate("+a+","+c+")")};b.moveTo=function(a){var c=this.Ua();this.moveBy(a.x-c.x,a.y-c.y)};b.Tr=function(a){this.im?this.B.$c.mi(a.x,a.y):(this.O.em="translate("+a.x+","+a.y+")",this.O.setAttribute("transform",this.O.em+this.O.Tl))};
function zc(a){if(a.B&&!a.B.Rc()&&!a.getParent()&&!a.Sc){var c=a.B.zd;if(c&&c.OD){var d=c.Us,e=d/2,f=a.Ua();c=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;c=Math.round(c);d=Math.round(d);0==c&&0==d||a.moveBy(c,d)}}}b.Zk=function(){var a=this.Ua(),c=r(this);if(this.J){var d=a.x-c.width;var e=a.x}else d=a.x,e=a.x+c.width;return new h.g.Rect(a.y,a.y+c.height,d,e)};b.tl=function(){this.tb.gb=this.B.ib.ca();for(var a=0,c;c=this.V[a];a++)c.tl()};
b.ei=function(a){this.th!=a&&(h.Sa.v.ei.call(this,a),a?this.oa&&this.Ia():Ac(this))};function Ac(a){for(var c=a.isCollapsed(),d=h.gb.um,e=h.gb.tm,f=0,g;g=a.V[f];f++)g.name!=d&&g.Cb(!c);if(c){g=Ca(a);for(f=0;c=g[f];f++)c.Cb(!1);f=a.toString(h.ly);(g=ma(a,e))?g.setValue(f):(g=ka(a,d)||fc(a,d),F(g,new h.ld(f),e))}else ia(a),a.Bs(d)}
b.Hg=function(a){var c=this.B&&this.B.og(a);if(c){if(c.Gh)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");Ib(c,this);c.Dd=a}};b.showHelp=function(){var a="function"==typeof this.qj?this.qj():this.qj;a&&window.open(a)};b.Ql=function(a){if(this.B.options.readOnly||!this.contextMenu)var c=null;else c=lc(h.za.wc.Kb,{block:this}),this.iB&&this.iB(c);c&&c.length&&(h.Ma.show(a,c,this.J),h.Ma.tn=this)};
function Ga(a,c,d){if(a.oa){for(var e=a.$d(!1),f=0;f<e.length;f++)e[f].moveBy(c,d);e=Ca(a);for(f=0;f<e.length;f++)e[f].XA();for(f=0;f<a.nf.length;f++)Ga(a.nf[f],c,d)}}b.Rg=function(a){if(a){var c=this.ka();c.em="";c.Tl="";h.jj=h.jj.concat(this.$d(!0));h.g.j.Fb(this.O,"blocklyDragging")}else h.jj=[],h.g.j.Vc(this.O,"blocklyDragging");for(c=0;c<this.nf.length;c++)this.nf[c].Rg(a)};b.Ms=function(a){h.Sa.v.Ms.call(this,a);ya(this.tb,"blocklyDraggable",a)};
b.Ls=function(a){h.Sa.v.Ls.call(this,a);a=Ca(this);for(var c=0;c<a.length;c++)Nb(a[c])};b.Ps=function(a){h.Sa.v.Ps.call(this,a);this.Yb()};b.tx=function(a){this.wj!=a&&(this.wj=a)&&(this.he(this.B.ib.ca().kp),ya(this.tb,"blocklyInsertionMarker",!0))};b.ka=function(){return this.O};
b.H=function(a,c){if(this.B){h.G.H();h.G.et(this.tb.Eb);h.g.j.Vl();var d=this.B;h.selected==this&&(yb(this),Bc(this.B));h.Ma.tn==this&&h.Ma.Va();c&&this.oa&&(C(this,a),h.Ya.pB(this));this.oa=!1;if(this.No){for(var e in this.No)clearTimeout(this.No[e]);this.No=null}c=Ca(this);for(e=0;e<c.length;e++)c[e].H();h.Sa.v.H.call(this,!!a);h.g.j.removeNode(this.O);ja(d);this.O=null;h.g.j.Wl()}};
b.Yb=function(){this.tb.Yb(this);for(var a=Ca(this),c=0;c<a.length;c++)a[c].Yb();for(a=0;c=this.V[a];a++)for(var d=0,e;e=c.$a[d];d++)e.Yb()};function ia(a){var c=ea(a,!1);a.Yb();if(!a.isCollapsed()){a=0;for(var d;d=c[a];a++)d.oa&&ia(d)}}b.KB=function(){return this.ud};
b.Fj=function(a){if(!h.Comment)throw Error("Missing require for Blockly.Comment");this.Wd.text!=a&&(h.Sa.v.Fj.call(this,a),a=null!=a,!!this.ud==a?this.ud.pJ():(a?this.vh=this.ud=new h.Comment(this):(this.ud.H(),this.vh=this.ud=null),this.oa&&(this.Ia(),this.Oc())))};b.ux=function(a){this.fe&&this.fe!==a&&this.fe.H();a&&(a.cJ(this),this.fe=a,a.dB());this.oa&&(this.Ia(),this.Oc())};b.Te=function(a){this.isEnabled()!=a&&(h.Sa.v.Te.call(this,a),this.oa&&!ec(this)&&ia(this))};
b.ie=function(a){this.oa&&this.tb.Hx(a)};b.Zm=function(){ya(this.tb,"blocklySelected",!0)};b.Jl=function(){ya(this.tb,"blocklySelected",!1)};b.Ks=function(a){ya(this.tb,"blocklyDraggingDelete",a)};b.cr=function(){return this.style.uh};b.he=function(a){h.Sa.v.he.call(this,a);a=Cc(this.B.ib.ca(),this.td);this.tb.ji(a.style);this.style=a.style;this.Xl=a.name;this.Yb()};
b.ji=function(a){var c=yc(this.B.ib.ca(),a);this.Xl=a;if(c)this.Ke=c.Ke,this.tb.ji(c),this.td=c.uh,this.style=c,this.Yb();else throw Error("Invalid style name: "+a);};function Da(a){do{var c=a.ka(),d=c.parentNode,e=d.childNodes;e[e.length-1]!==c&&d.appendChild(c);a=a.getParent()}while(a)}b.ii=function(a,c){h.Sa.v.ii.call(this,a,c);this.oa&&(this.Ia(),this.Oc())};b.Hj=function(a,c){h.Sa.v.Hj.call(this,a,c);this.oa&&(this.Ia(),this.Oc())};
b.Ns=function(a,c){h.Sa.v.Ns.call(this,a,c);this.oa&&(this.Ia(),this.Oc())};b.gi=function(a){h.Sa.v.gi.call(this,a);this.oa&&(this.Ia(),this.Oc())};b.Bs=function(a,c){a=h.Sa.v.Bs.call(this,a,c);this.oa&&(this.Ia(),this.Oc());return a};b.kf=function(a,c){a=h.Sa.v.kf.call(this,a,c);this.oa&&(this.Ia(),this.Oc());return a};
function ha(a,c){a.da&&cc(a.da,c);a.T&&cc(a.T,c);if(a.ea){cc(a.ea,c);var d=a.ea.la();d&&ha(d,c)}if(!a.th)for(d=0;d<a.V.length;d++){var e=a.V[d].connection;e&&(cc(e,c),(e=e.la())&&ha(e,c))}}b.$d=function(a){var c=[];if(a||this.oa)if(this.T&&c.push(this.T),this.da&&c.push(this.da),this.ea&&c.push(this.ea),a||!this.th){a=0;for(var d;d=this.V[a];a++)d.connection&&c.push(d.connection)}return c};b.Xn=function(a){return h.Sa.v.Xn.call(this,a)};b.fr=function(a,c){return h.Sa.v.fr.call(this,a,c)};
b.sl=function(a){return new h.Bb(this,a)};b.Oc=function(){if(this.B&&!this.B.Rc()){var a=this.ce();if(!a.Sc)for(var c=this.$d(!1),d=0,e;e=c[d];d++){e.isConnected()&&Ha(e)&&e.la().Oc();for(var f=e.Kw(h.hc),g=0,k;k=f[g];g++)e.isConnected()&&k.isConnected()||k.$().ce()!=a&&(Ha(e)?nc(k,e):nc(e,k))}}};function Ia(a){var c=h.h.Ob();setTimeout(function(){h.h.na(c);zc(a);h.h.na(!1)},h.To/2);setTimeout(function(){h.h.na(c);a.Oc();h.h.na(!1)},h.To)}b.getParent=function(){return h.Sa.v.getParent.call(this)};
b.ce=function(){return h.Sa.v.ce.call(this)};b.Ia=function(a){if(!this.Cs){this.Cs=!0;try{this.oa=!0;h.g.j.Vl();this.isCollapsed()&&Ac(this);this.B.ib.Ia(this);var c=this.Ua();this.da&&pc(this.da,c);this.T&&pc(this.T,c);for(var d=0;d<this.V.length;d++){var e=this.V[d].connection;e&&(pc(e,c),e.isConnected()&&qc(e))}this.ea&&(pc(this.ea,c),this.ea.isConnected()&&qc(this.ea));if(!1!==a){var f=this.getParent();f?f.Ia(!0):ja(this.B)}h.g.j.Wl();this.gt()}finally{this.Cs=!1}}};
b.gt=function(){this.B.ql&&this.tb.Lk&&this.B.al().draw();this.B.ql&&this.tb.Or&&this.B.dl(h.lk.Zt).draw()};b.Gf=function(a){this.tb.Gf(a)};b.Sg=function(a){this.tb.Sg(a)};function r(a){var c=a.height,d=a.width,e=y(a);e&&(e=r(e),a=a.B.ib.ca().up,c+=e.height-a,d=Math.max(d,e.width));return{height:c,width:d}};h.BF=function(){};h.HF=function(){};h.Am=function(){};h.Am.prototype.cs=function(){};h.Am.prototype.bs=function(){};h.Am.prototype.ds=function(){};h.GF=function(){};h.zm=function(){h.zm.v.constructor.call(this);this.Oo=!1};h.g.object.U(h.zm,h.Am);function Ba(a,c,d){c instanceof h.Sa?(c=!c.getParent()&&c.Oe(),a.Oo=c&&!d):a.Oo=c.Oe();return a.Oo};h.h.cg=function(a,c){h.h.cg.v.constructor.call(this,c);this.zr=a};h.g.object.U(h.h.cg,h.h.Td);h.h.cg.prototype.type=h.h.Mp;h.h.cg.prototype.ja=function(){var a=h.h.cg.v.ja.call(this);a.isOpen=this.zr;return a};h.h.cg.prototype.aa=function(a){h.h.cg.v.aa.call(this,a);this.zr=a.isOpen};h.u.register(h.u.R.zb,h.h.Mp,h.h.cg);h.xF=function(){};h.QF=function(){};h.Pb={};h.Pb.Mo={ag:0,ui:1};h.Pb.sr={Ab:0,vc:1};h.Pb.fq={Vm:0,bp:1};h.Pb.WB=function(a,c,d,e,f,g){var k=g.Oa&&!!g.Oa.Pa;a.jl===h.Pb.sr.Ab?(d=f.Ym.left+d,k&&g.J&&(d+=h.Ea.bc)):(d=f.Ym.left+f.Px.width-c.width-d,k&&!g.J&&(d-=h.Ea.bc));a.vertical===h.Pb.Mo.ag?a=f.Ym.top+e:(a=f.Ym.top+f.Px.height-c.height-e,g.Oa&&g.Oa.eb&&(a-=h.Ea.bc));return new h.g.Rect(a,a+c.height,d,d+c.width)};
h.Pb.OB=function(a){return{jl:a.Fx.position!==h.g.W.Xa.Ab?h.Pb.sr.Ab:h.Pb.sr.vc,vertical:a.Fx.position===h.g.W.Xa.ui?h.Pb.Mo.ag:h.Pb.Mo.ui}};h.Pb.IA=function(a,c,d,e){for(var f=a.left,g=a.right-a.left,k=a.bottom-a.top,l=0,m;m=e[l];l++)a.left>m.right||a.right<m.left||a.top>m.bottom||a.bottom<m.top||(a=d===h.Pb.fq.Vm?m.top-k-c:m.bottom+c,a=new h.g.Rect(a,a+k,f,f+g),l=-1);return a};h.Nb=function(a){h.Nb.v.constructor.call(this);this.m=a;this.id="trashcan";this.kg=[];this.yd=null;0>=this.m.options.fo||(a=new h.Yc({scrollbars:!0,parentWorkspace:this.m,rtl:this.m.J,oneBasedIndex:this.m.options.qo,renderer:this.m.options.Es,rendererOverrides:this.m.options.Fs,move:{scrollbars:!0}}),a.jd=this.m.jd==h.g.W.Xa.vc?h.g.W.Xa.Ab:h.g.W.Xa.vc,this.yd=new (h.u.Bh(h.u.R.gp,this.m.options,!0))(a),E(this.m,this.SC.bind(this)))};h.g.object.U(h.Nb,h.zm);b=h.Nb.prototype;b.Qi=47;b.qm=44;b.Di=16;
b.$t=20;b.uz=20;b.Gm=10;b.Gp=0;b.Hp=32;b.az=.1;h.Nb.Zx=80;h.Nb.mt=4;h.Nb.hu=.4;h.Nb.Ez=.8;h.Nb.au=45;b=h.Nb.prototype;b.Rn=!1;b.Rr=0;b.O=null;b.Ho=null;b.Fr=0;b.Cg=0;b.Yn=0;b.Jo=0;b.pw=!1;
b.Qa=function(){this.O=h.g.j.L(h.g.F.Ic,{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var c=h.g.j.L(h.g.F.vt,{id:"blocklyTrashBodyClipPath"+a},this.O);h.g.j.L(h.g.F.qd,{width:this.Qi,height:this.qm,y:this.Di},c);var d=h.g.j.L(h.g.F.ek,{width:h.Ki.width,x:-this.Gp,height:h.Ki.height,y:-this.Hp,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.O);d.setAttributeNS(h.g.j.Zc,"xlink:href",this.m.options.vo+h.Ki.url);c=h.g.j.L(h.g.F.vt,{id:"blocklyTrashLidClipPath"+a},this.O);
h.g.j.L(h.g.F.qd,{width:this.Qi,height:this.Di},c);this.Ho=h.g.j.L(h.g.F.ek,{width:h.Ki.width,x:-this.Gp,height:h.Ki.height,y:-this.Hp,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.O);this.Ho.setAttributeNS(h.g.j.Zc,"xlink:href",this.m.options.vo+h.Ki.url);h.N.bind(this.O,"mousedown",this,this.DA);h.N.bind(this.O,"mouseup",this,this.click);h.N.bind(d,"mouseover",this,this.JC);h.N.bind(d,"mouseout",this,this.HC);this.Vp();return this.O};
b.wa=function(){0<this.m.options.fo&&(h.g.j.sj(this.yd.Qa(h.g.F.Mi),v(this.m)),this.yd.wa(this.m));qa(this.m.qf,{Ck:this,weight:1,hg:[h.yb.Lb.pt,h.yb.Lb.$o,h.yb.Lb.cp,h.yb.Lb.ru]});this.pw=!0;this.Gj(!1)};b.H=function(){ra(this.m.qf,"trashcan");this.O&&(h.g.j.removeNode(this.O),this.O=null);this.m=this.Ho=null;clearTimeout(this.Fr)};
b.position=function(a,c){if(this.pw){var d=h.Pb.OB(a);a=h.Pb.WB(d,new h.g.Jc(this.Qi,this.qm+this.Di),this.uz,this.$t,a,this.m);c=h.Pb.IA(a,this.$t,d.vertical===h.Pb.Mo.ag?h.Pb.fq.bp:h.Pb.fq.Vm,c);this.Jo=c.top;this.Yn=c.left;this.O.setAttribute("transform","translate("+this.Yn+","+this.Jo+")")}};b.Zk=function(){return new h.g.Rect(this.Jo,this.Jo+this.qm+this.Di,this.Yn,this.Yn+this.Qi)};
b.Nv=function(){if(!this.O)return null;var a=this.O.getBoundingClientRect(),c=a.top+this.Hp-this.Gm;a=a.left+this.Gp-this.Gm;return new h.g.Rect(c,c+this.Di+this.qm+2*this.Gm,a,a+this.Qi+2*this.Gm)};b.cs=function(){this.Gj(this.Oo)};b.bs=function(){this.Gj(!1)};b.ds=function(){setTimeout(this.Gj.bind(this,!1),100)};b.Gj=function(a){this.Rn!=a&&(clearTimeout(this.Fr),this.Rn=a,this.Vp())};
b.Vp=function(){var a=1/(h.Nb.mt+1);this.Cg+=this.Rn?a:-a;this.Cg=Math.min(Math.max(this.Cg,this.Rr),1);Dc(this,this.Cg*h.Nb.au);this.O.style.opacity=h.Nb.hu+this.Cg*(h.Nb.Ez-h.Nb.hu);this.Cg>this.Rr&&1>this.Cg&&(this.Fr=setTimeout(this.Vp.bind(this),h.Nb.Zx/h.Nb.mt))};function Dc(a,c){var d=a.m.jd==h.g.W.Xa.vc;a.Ho.setAttribute("transform","rotate("+(d?-c:c)+","+(d?4:a.Qi-4)+","+(a.Di-2)+")")}
b.click=function(){if(this.kg.length&&(!this.yd||!this.yd.isVisible())){var a=this.kg.map(h.I.ke);this.yd.show(a);Ec(this,!0)}};function Ec(a,c){a=new (h.h.get(h.h.Mp))(c,a.m.id);h.h.Aa(a)}b.DA=function(a){this.yd&&this.yd.isVisible()||!this.kg.length||a.stopPropagation()};b.JC=function(){this.kg.length&&this.Gj(!0)};b.HC=function(){this.Gj(!1)};
b.SC=function(a){if(!(0>=this.m.options.fo)&&a.type==h.h.Ro&&a.Aj.tagName&&"shadow"!=a.Aj.tagName.toLowerCase()){for(var c=a=a.Aj.cloneNode(!0);c;){c.removeAttribute&&(c.removeAttribute("x"),c.removeAttribute("y"),c.removeAttribute("id"),c.removeAttribute("disabled"),"comment"==c.nodeName&&(c.removeAttribute("h"),c.removeAttribute("w"),c.removeAttribute("pinned")));var d=c.firstChild||c.nextSibling;if(!d)for(d=c.parentNode;d;){if(d.nextSibling){d=d.nextSibling;break}d=d.parentNode}c=d}a=h.I.wd(a);
if(-1==this.kg.indexOf(a)){for(this.kg.unshift(a);this.kg.length>this.m.options.fo;)this.kg.pop();this.Rr=a=this.az;this.Rn||Dc(this,a*h.Nb.au)}}};h.i.register=function(a,c){h.u.register(h.u.R.RENDERER,a,c)};h.i.unregister=function(a){h.u.unregister(h.u.R.RENDERER,a)};h.i.wa=function(a,c,d){a=new (h.u.br(h.u.R.RENDERER,a))(a);a.wa(c,d);return a};h.LF=function(){};h.mk=function(a){this.m=a};function Fc(a){var c=0,d=0;a&&(c=a.el(),d=a.Dc);return new h.g.Jc(c,d)}function Gc(a){var c=Fc(Hc(a.m,!0));return{width:c.width,height:c.height,position:a.m.jd}}function Ic(a){var c=Fc(a.m.jb);return{width:c.width,height:c.height,position:a.m.jd}}function Jc(a){var c=0,d=Ic(a),e=Gc(a),f=!!a.m.jb;a=!!Hc(a.m,!0);var g=f?d.position:e.position,k=g==h.g.W.Xa.Ab;g=g==h.g.W.Xa.ag;f&&k?c=d.width:a&&k&&(c=e.width);k=0;f&&g?k=d.height:a&&g&&(k=e.height);return{top:k,left:c}}
function tb(a,c){c=c?a.m.scale:1;var d=Kc(a.m),e=Ic(a),f=Gc(a),g=a.m.jb?e.position:f.position;if(a.m.jb)if(g==h.g.W.Xa.ag||g==h.g.W.Xa.ui)d.height-=e.height;else{if(g==h.g.W.Xa.Ab||g==h.g.W.Xa.vc)d.width-=e.width}else if(Hc(a.m,!0))if(g==h.g.W.Xa.ag||g==h.g.W.Xa.ui)d.height-=f.height;else if(g==h.g.W.Xa.Ab||g==h.g.W.Xa.vc)d.width-=f.width;return{height:d.height/c,width:d.width/c,top:-a.m.scrollY/c,left:-a.m.scrollX/c}}
h.mk.prototype.Fn=function(){var a=this.m.scale,c=fa(this.m);return{height:(c.bottom-c.top)*a,width:(c.right-c.left)*a,top:c.top*a,left:c.left*a}};
h.mk.prototype.Eh=function(a,c,d){a=a?this.m.scale:1;var e=c||tb(this,!1);d=d||this.Fn();if(wb(this.m)&&xb(this.m))c={};else{c=wb(this.m);var f=xb(this.m),g=e||tb(this,!1);var k={};f||(k.top=g.top,k.bottom=g.top+g.height);c||(k.left=g.left,k.right=g.left+g.width);c=k}k=d.top+d.height;f=d.left+d.width;g=e.width;var l=e.height;var m=g/2,n=l/2;e=Math.min(d.top-n,k-l);k=Math.max(k+n,d.top+l);l=Math.min(d.left-m,f-g);d=Math.max(f+m,d.left+g);e=void 0!==c.top?c.top:e;f=void 0!==c.left?c.left:l;return{top:e/
a,left:f/a,width:((void 0!==c.right?c.right:d)-f)/a,height:((void 0!==c.bottom?c.bottom:k)-e)/a}};h.mk.prototype.ae=function(){var a=Ic(this),c=Gc(this),d=Kc(this.m),e=Jc(this),f=tb(this),g=this.Fn(),k=this.Eh(!1,f,g);return{fI:g.height,iI:g.width,hI:g.top,gI:g.left,scrollHeight:k.height,scrollWidth:k.width,scrollTop:k.top,scrollLeft:k.left,Hc:f.height,qc:f.width,Nd:f.top,Md:f.left,Mc:e.top,xc:e.left,jJ:d.height,lJ:d.width,nJ:a.width,mJ:a.height,jd:a.position,qI:c.width,pI:c.height}};
h.u.register(h.u.R.du,h.u.zi,h.mk);h.dk=function(a,c){this.ta=c;h.dk.v.constructor.call(this,a)};h.g.object.U(h.dk,h.mk);h.dk.prototype.Fn=function(){try{var a=this.m.qb.getBBox()}catch(d){a={height:0,y:0,width:0,x:0}}var c=this.m.scale;return{height:a.height*c,width:a.width*c,top:a.y*c,left:a.x*c}};h.dk.prototype.Eh=function(a,c,d){c=d||this.Fn();d=this.ta.Ei*this.m.scale;a=a?this.m.scale:1;return{height:(c.height+2*d)/a,width:(c.width+c.left+d)/a,top:0,left:0}};h.JF=function(){};h.yi=function(a){this.wb=[];this.kv=a};function Lc(a,c,d){if(!a.wb.length)return-1;var e=oc(a,d);if(e>=a.wb.length)return-1;d=c.y;for(var f=e;0<=f&&a.wb[f].y==d;){if(a.wb[f]==c)return f;f--}for(f=e;f<a.wb.length&&a.wb[f].y==d;){if(a.wb[f]==c)return f;f++}return-1}function oc(a,c){if(!a.wb.length)return 0;for(var d=0,e=a.wb.length;d<e;){var f=Math.floor((d+e)/2);if(a.wb[f].y<c)d=f+1;else if(a.wb[f].y>c)e=f;else{d=f;break}}return d}
function mc(a,c,d){c=Lc(a,c,d);if(-1==c)throw Error("Unable to find connection in connectionDB.");a.wb.splice(c,1)}function rc(a,c,d){function e(n){var p=g-f[n].x,q=k-f[n].y;Math.sqrt(p*p+q*q)<=d&&m.push(f[n]);return q<d}var f=a.wb,g=c.x,k=c.y;a=0;for(var l=c=f.length-2;a<l;)f[l].y<k?a=l:c=l,l=Math.floor((a+c)/2);var m=[];c=a=l;if(f.length){for(;0<=a&&e(a);)a--;do c++;while(c<f.length&&e(c))}return m}
h.yi.wa=function(a){var c=[];c[h.Z.Ub]=new h.yi(a);c[h.Z.Xc]=new h.yi(a);c[h.Z.Vb]=new h.yi(a);c[h.Z.pd]=new h.yi(a);return c};h.h.bg=function(a,c){h.h.bg.v.constructor.call(this,c);this.Cx=a};h.g.object.U(h.h.bg,h.h.Td);h.h.bg.prototype.type=h.h.Kp;h.h.bg.prototype.ja=function(){var a=h.h.bg.v.ja.call(this);a.themeName=this.Cx;return a};h.h.bg.prototype.aa=function(a){h.h.bg.v.aa.call(this,a);this.Cx=a.themeName};h.u.register(h.u.R.zb,h.h.Kp,h.h.bg);h.h.eg=function(a,c,d,e,f){h.h.eg.v.constructor.call(this,e);this.Nd=a;this.Md=c;this.scale=d;this.Al=f};h.g.object.U(h.h.eg,h.h.Td);h.h.eg.prototype.type=h.h.tk;h.h.eg.prototype.ja=function(){var a=h.h.eg.v.ja.call(this);a.viewTop=this.Nd;a.viewLeft=this.Md;a.scale=this.scale;a.oldScale=this.Al;return a};h.h.eg.prototype.aa=function(a){h.h.eg.v.aa.call(this,a);this.Nd=a.viewTop;this.Md=a.viewLeft;this.scale=a.scale;this.Al=a.oldScale};h.u.register(h.u.R.zb,h.h.tk,h.h.eg);h.jh=function(a,c){this.nj=a;this.Us=c.spacing;this.Aw=c.length;this.zC=(this.Gr=a.firstChild)&&this.Gr.nextSibling;this.OD=c.snap};h.jh.prototype.Qg=1;h.jh.prototype.H=function(){this.nj=null};h.jh.prototype.update=function(a){this.Qg=a;var c=this.Us*a||100;this.nj.setAttribute("width",c);this.nj.setAttribute("height",c);c=Math.floor(this.Us/2)+.5;var d=c-this.Aw/2,e=c+this.Aw/2;c*=a;d*=a;e*=a;Mc(this.Gr,a,d,e,c,c);Mc(this.zC,a,c,c,d,e)};
function Mc(a,c,d,e,f,g){a&&(a.setAttribute("stroke-width",c),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",g))}h.jh.prototype.moveTo=function(a,c){this.nj.setAttribute("x",a);this.nj.setAttribute("y",c);(h.g.userAgent.Rd||h.g.userAgent.hh)&&this.update(this.Qg)};
h.jh.Qa=function(a,c,d){a=h.g.j.L(h.g.F.qu,{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<c.length&&0<c.spacing?(h.g.j.L(h.g.F.ik,{stroke:c.colour},a),1<c.length&&h.g.j.L(h.g.F.ik,{stroke:c.colour},a)):h.g.j.L(h.g.F.ik,{},a);return a};h.Eu=function(a,c){this.m=a;this.If=c;this.Yl=[];this.Ce=Object.create(null)};b=h.Eu.prototype;b.yf=function(){return this.If};b.Pl=function(a){var c=this.If;this.If=a;if(a=ca(this.m))c&&h.g.j.Vc(a,c.Zd()),h.g.j.Fb(a,this.If.Zd());for(c=0;a=this.Yl[c];c++)Nc(a);c=0;a=Object.keys(this.Ce);for(var d;d=a[c];c++)for(var e=0,f;f=this.Ce[d][e];e++)f.element.style[f.propertyName]=this.If&&fb(this.If,d)||"";h.ac()};
b.subscribe=function(a,c,d){this.Ce[c]||(this.Ce[c]=[]);this.Ce[c].push({element:a,propertyName:d});a.style[d]=this.If&&fb(this.If,c)||""};b.unsubscribe=function(a){if(a)for(var c=Object.keys(this.Ce),d=0,e;e=c[d];d++){for(var f=this.Ce[e],g=f.length-1;0<=g;g--)f[g].element===a&&f.splice(g,1);this.Ce[e].length||delete this.Ce[e]}};b.H=function(){this.Ce=this.Yl=this.If=this.Gd=null};h.Kc=function(a,c){h.Kc.v.constructor.call(this,a,c);this.Sn=!1;this.ad=Object.create(null);this.yx=this.Gl=0;this.uw=this.js=null};h.g.object.U(h.Kc,h.ue);h.Kc.oA=5;h.Kc.pA=6;b=h.Kc.prototype;b.Jq=function(a){this.uw=this.Db.options.sb&&this.Db.options.sb.Zw;h.Kc.v.Jq.call(this,a);!this.Pn&&h.Touch.Wn(a)&&Oc(this,a)};
b.Vi=function(a){this.js=h.N.va(document,"mousedown",null,this.fC.bind(this),!0);this.oo=h.N.va(document,"mousemove",null,this.oj.bind(this),!0);this.po=h.N.va(document,"mouseup",null,this.In.bind(this),!0);a.preventDefault();a.stopPropagation()};b.fC=function(a){!this.Rc()&&h.Touch.Wn(a)&&(Oc(this,a),this.Sn&&h.Dg())};
b.oj=function(a){if(this.Rc())h.Touch.Ts(a)&&h.Kc.v.oj.call(this,a);else if(this.Sn){if(h.Touch.Wn(a)){this.ad[h.Touch.Gn(a)]=Pc(this,a);var c=Object.keys(this.ad);if(this.uw&&2===c.length){c=Object.keys(this.ad);c=h.g.S.Iq(this.ad[c[0]],this.ad[c[1]])/this.yx;if(0<this.Gl&&Infinity>this.Gl){var d=c-this.Gl;d=0<d?d*h.Kc.oA:d*h.Kc.pA;var e=this.Db,f=h.g.yl(a,v(e),Xa(e));e.zoom(f.x,f.y,d)}this.Gl=c;a.preventDefault()}else h.Kc.v.oj.call(this,a)}h.Dg()}else h.Kc.v.oj.call(this,a)};
b.In=function(a){if(h.Touch.Wn(a)&&!this.Rc()){var c=h.Touch.Gn(a);this.ad[c]&&delete this.ad[c];2>Object.keys(this.ad).length&&(this.ad=Object.create(null),this.Gl=0)}!this.Sn||this.Rc()?h.Touch.Ts(a)&&h.Kc.v.In.call(this,a):(a.preventDefault(),a.stopPropagation(),this.H())};b.H=function(){h.Kc.v.H.call(this);this.js&&h.N.rb(this.js)};function Oc(a,c){a.ad[h.Touch.Gn(c)]=Pc(a,c);var d=Object.keys(a.ad);2==d.length&&(a.yx=h.g.S.Iq(a.ad[d[0]],a.ad[d[1]]),a.Sn=!0,c.preventDefault())}
function Pc(a,c){return a.Db?new h.g.S(c.changedTouches?c.changedTouches[0].pageX:c.pageX,c.changedTouches?c.changedTouches[0].pageY:c.pageY):null};h.Ku=function(a){this.os=a;this.qk=Object.create(null)};b=h.Ku.prototype;b.Cr=null;b.H=function(){this.qk=this.os=null};b.load=function(a,c){if(a.length){try{var d=new h.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var g=a[f],k=g.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new h.g.global.Audio(g);break}}e&&e.play&&(this.qk[c]=e)}};
b.preload=function(){for(var a in this.qk){var c=this.qk[a];c.volume=.01;var d=c.play();void 0!==d?d.then(c.pause).catch(function(){}):c.pause();if(h.g.userAgent.fk||h.g.userAgent.Ut)break}};b.play=function(a,c){var d=this.qk[a];d?(a=new Date,null!=this.Cr&&a-this.Cr<h.$z||(this.Cr=a,d=h.g.userAgent.fk||h.g.userAgent.mm?d:d.cloneNode(),d.volume=void 0===c?1:c,d.play())):this.os&&this.os.Nc.play(a,c)};h.Mu=function(a){this.Gk=a;this.Qa()};b=h.Mu.prototype;b.ab=null;b.Gk=null;b.Qa=function(){this.ab||(this.ab=h.g.j.L(h.g.F.Mi,{xmlns:h.g.j.Sm,"xmlns:html":h.g.j.hp,"xmlns:xlink":h.g.j.Zc,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.Gk.appendChild(this.ab))};b.mi=function(a,c){a=a.toFixed(0);c=c.toFixed(0);this.ab.style.display="block";h.g.j.Ml(this.ab,"translate3d("+a+"px, "+c+"px, 0px)")};b.jr=function(){return h.g.be(this.ab)};
b.jn=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var c=this.ab.childNodes[0],d=this.ab.childNodes[1];if(!(c&&d&&h.g.j.nr(c,"blocklyBlockCanvas")&&h.g.j.nr(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.vs?h.g.j.sj(c,this.vs):a.insertBefore(c,a.firstChild);h.g.j.sj(d,c);this.ab.style.display="none";if(this.ab.childNodes.length)throw Error("Drag surface was not cleared.");h.g.j.Ml(this.ab,
"");this.vs=null};
h.Xb=function(a,c,d){h.Xb.v.constructor.call(this,a);this.Tc=new (h.u.Bh(h.u.R.du,a,!0))(this);this.ae=a.ae||this.Tc.ae.bind(this.Tc);this.Nl=a.Nl||h.Xb.KD;this.qf=new h.yb;this.qn=h.yi.wa(this.rf);c&&(this.$c=c);d&&(this.ri=d);this.Lo=!!this.ri&&h.g.Lh();this.Kn=[];this.Nc=new h.Ku(a.Uc);this.zd=this.options.mr?new h.jh(this.options.mr,a.dw):null;this.de=new h.lk(this);this.bt=Object.create(null);this.Hv=Object.create(null);h.ha&&h.ha.Xk&&Qc(this,h.qh,h.ha.Xk);h.Na&&h.Na.Xk&&(Qc(this,h.yp,h.Na.Xk),
E(this,h.Na.LC));this.ec=this.options.Uc?this.options.Uc.ec:new h.Eu(this,this.options.XD||h.ef.Mf);this.ec.Yl.push(this);this.ib=h.i.wa(this.options.Es||"geras",this.yf(),this.options.Fs);this.jq=null;this.ql=!1;this.cm=[];this.Lq=[];this.iq=new h.g.Jc(0,0)};h.g.object.U(h.Xb,h.lb);b=h.Xb.prototype;b.zo=null;b.oa=!0;b.Cf=!0;b.Bf=!1;b.Tn=!1;b.Gs=!0;b.scrollX=0;b.scrollY=0;b.Cv=null;b.scale=1;b.$r=1;b.Sw=0;b.Pw=0;b.Nj=null;b.Oa=null;b.ta=null;b.jb=null;b.jc=null;b.$c=null;b.ri=null;b.Lo=!1;b.On=!1;
b.wr=null;b.zw=null;b.ya=null;b.sw=null;b.xr=!0;b.Gf=function(a){this.de.Gf(a)};b.Sg=function(a){this.de.Sg(a)};b.dl=function(a){return this.de?this.de.dl(a):null};b.al=function(){return this.de?this.de.al():null};b.yf=function(){return this.ec.yf()};b.Pl=function(a){a||(a=h.ef.Mf);this.ec.Pl(a)};function Nc(a){a.O&&a.ib.xs(a.O,a.yf());Rc(D(a,!1).filter(function(c){return!!c.Xl}));Sc(a);a.jb&&Nc(a.jb);a.isVisible()&&a.Cb(!0);a=new (h.h.get(h.h.Kp))(a.yf().name,a.id);h.h.Aa(a)}
function Rc(a){for(var c=0,d;d=a[c];c++){var e=d.Xl;e&&(d.ji(e),d.fe&&d.fe.oJ())}}function Xa(a){if(a.xr){var c=v(a).getScreenCTM();c&&(a.sw=c.inverse(),a.xr=!1)}return a.sw}b.hm=function(){this.xr=!0};b.isVisible=function(){return this.Cf};function pa(a,c){var d=0,e=0,f=1;if(h.g.j.containsNode(a.qb,c)||h.g.j.containsNode(a.Hf,c))f=a.scale;do{var g=h.g.be(c);if(c==a.qb||c==a.Hf)f=1;d+=g.x*f;e+=g.y*f;c=c.parentNode}while(c&&c!=v(a));return new h.g.S(d,e)}
function Kc(a){a=a.iq;return new h.g.Jc(a.width,a.height)}function ca(a){if(!a.wr)for(var c=a.O;c;){if(-1!=(" "+(c.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.wr=c;break}c=c.parentNode}return a.wr}
b.Qa=function(a){this.O=h.g.j.L(h.g.F.Ic,{"class":"blocklyWorkspace"},null);a&&(this.cc=h.g.j.L(h.g.F.qd,{height:"100%",width:"100%","class":a},this.O),"blocklyMainBackground"==a&&this.zd?this.cc.style.fill="url(#"+this.zd.nj.id+")":this.ec.subscribe(this.cc,"workspaceBackgroundColour","fill"));this.qb=h.g.j.L(h.g.F.Ic,{"class":"blocklyBlockCanvas"},this.O);this.Hf=h.g.j.L(h.g.F.Ic,{"class":"blocklyBubbleCanvas"},this.O);this.Bf||(h.N.va(this.O,"mousedown",this,this.Hg,!1,!0),h.N.va(this.O,"wheel",
this,this.ZC));this.options.gl&&(this.jb=new (h.u.Bh(h.u.R.gA,this.options,!0))(this));this.zd&&this.zd.update(this.scale);Tc(this);var c=h.u.Bh(h.u.R.Yj,this.options);c&&(a=this.de,c=new c,a.vd&&a.vd.xd&&a.vd.xd.H(),a.vd=c,a.vd&&(c=a.vd,c=new h.i.Tf(a.m,a.m.ib.ca(),c),a.vd.xd=c,a.Gf(a.vd.xd.Qa())));this.ib.Qa(this.O,this.yf());return this.O};
b.H=function(){this.oa=!1;this.jc&&this.jc.cancel();this.O&&(h.g.j.removeNode(this.O),this.O=null);this.Hf=this.qb=null;this.jb&&(this.jb.H(),this.jb=null);this.ta&&(this.ta.H(),this.ta=null);this.Nj&&(this.Nj.H(),this.Nj=null);this.Oa&&(this.Oa.H(),this.Oa=null);this.km&&(this.km.H(),this.km=null);this.Nc&&(this.Nc.H(),this.Nc=null);this.zd&&(this.zd.H(),this.zd=null);this.ib.H();this.de&&(this.de.H(),this.de=null);h.Xb.v.H.call(this);if(this.ec){var a=this.ec,c=a.Yl.indexOf(this);if(0>c)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.Yl.splice(c,1);this.ec.unsubscribe(this.cc);this.options.Uc||(this.ec.H(),this.ec=null)}this.Hv=this.bt=this.qn=null;this.options.Uc||(a=v(this))&&a.parentNode&&h.g.j.removeNode(a.parentNode);this.zo&&(h.N.rb(this.zo),this.zo=null)};b.Ur=function(a,c){return new h.Sa(this,a,c)};function Hc(a,c){return a.ta||c?a.ta:a.jb?Hc(a.jb):null}function ja(a){a.Gs&&a.oa&&(a.Oa&&a.Oa.resize(),a.hm())}
b.resize=function(){this.jb&&this.jb.position();this.ta&&this.ta.position();var a=ta(this.qf,h.yb.Lb.ru);var c=this.Tc;c={Px:tb(c),Ym:Jc(c),Fx:Ic(c)};for(var d=[],e=0,f;f=a[e];e++)f.position(c,d),(f=f.Zk())&&d.push(f);this.Oa&&this.Oa.resize();this.hm();Tc(this)};function Bb(a){var c=h.g.QB();h.g.S.wf(a.zw,c)||(a.zw=c,a.hm(),Tc(a))}function Uc(a,c,d){var e=v(a);c&&(a.iq.width=c,e.KA=c);d&&(a.iq.height=d,e.JA=d)}
function v(a){if(!a.jq)for(var c=a.O;c;){if("svg"==c.tagName){a.jq=c;break}c=c.parentNode}return a.jq}function Ja(a){if(h.h.isEnabled()){var c=a.scale,d=-a.scrollY,e=-a.scrollX;if(!(c==a.$r&&1>Math.abs(d-a.Sw)&&1>Math.abs(e-a.Pw))){var f=new (h.h.get(h.h.tk))(d,e,c,a.id,a.$r);a.$r=c;a.Sw=d;a.Pw=e;h.h.Aa(f)}}}
b.translate=function(a,c){if(this.Lo&&this.On)this.ri.mi(a,c);else{var d="translate("+a+","+c+") scale("+this.scale+")";this.qb.setAttribute("transform",d);this.Hf.setAttribute("transform",d)}if(this.$c){d=this.$c;var e=this.scale;d.Qg=e;var f=a.toFixed(0),g=c.toFixed(0);d.bv.x=parseInt(f,10);d.bv.y=parseInt(g,10);d.Ge.setAttribute("transform","translate("+f+","+g+") scale("+e+")")}this.zd&&this.zd.moveTo(a,c);Ja(this)};
function Za(a){if(a.Lo){a.On=!1;var c=a.ri.jr();a.ri.jn(a.O);c="translate("+c.x+","+c.y+") scale("+a.scale+")";a.qb.setAttribute("transform",c);a.Hf.setAttribute("transform",c)}}
function Ya(a){if(a.Lo&&!a.On){a.On=!0;var c=a.qb.previousSibling,d=parseInt(v(a).getAttribute("width"),10),e=parseInt(v(a).getAttribute("height"),10),f=h.g.be(a.qb),g=a.ri,k=a.qb,l=a.Hf,m=a.scale;if(g.ab.childNodes.length)throw Error("Already dragging a block.");g.vs=c;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");g.ab.setAttribute("width",d);g.ab.setAttribute("height",e);g.ab.appendChild(k);g.ab.appendChild(l);g.ab.style.display=
"block";a.ri.mi(f.x,f.y)}}b.el=function(){var a=this.ae();return a?a.qc/this.scale:0};b.Cb=function(a){this.Cf=a;if(this.O)if(this.Oa&&this.Oa.fi(a),Hc(this)&&Hc(this).fi(a),v(this).style.display=a?"block":"none",this.jb&&this.jb.Cb(a),a){a=D(this,!1);for(var c=a.length-1;0<=c;c--)a[c].tl();this.Ia();this.jb&&this.jb.position()}else h.ac(!0)};
b.Ia=function(){for(var a=D(this,!1),c=a.length-1;0<=c;c--)a[c].Ia(!1);if(this.jc)for(a=this.jc.kj(),c=0;c<a.length;c++)a[c].Ia(!1);c=this.de;c.m.ql&&c.tf&&c.m.al().draw()};function Vc(a){for(var c=A,d=0,e;e=c.Kn[d];d++)e.ie(!1);c.Kn.length=0;if(e=a?c.Cc(a):null)-1==c.Kn.indexOf(e)&&c.Kn.push(e),e.ie(!0)}
b.to=function(a){if(this.oa&&a.tagName&&!(a.getElementsByTagName("block").length>=kb(this)))if(this.jc&&this.jc.cancel(),"comment"==a.tagName.toLowerCase()){h.h.disable();try{var c=h.Ri.Yk(a),d=parseInt(a.getAttribute("x"),10),e=parseInt(a.getAttribute("y"),10);isNaN(d)||isNaN(e)||(this.J&&(d=-d),c.moveBy(d+50,e+50))}finally{h.h.enable()}h.h.isEnabled()&&h.Lu.oI(c);c.select()}else{h.h.disable();try{var f=h.I.ij(a,this),g=parseInt(a.getAttribute("x"),10),k=parseInt(a.getAttribute("y"),10);if(!isNaN(g)&&
!isNaN(k)){this.J&&(g=-g);do{a=!1;var l=D(this,!1);c=0;for(var m;m=l[c];c++){var n=m.Ua();if(1>=Math.abs(g-n.x)&&1>=Math.abs(k-n.y)){a=!0;break}}if(!a){var p=f.$d(!1);c=0;for(var q;q=p[c];c++)if(q.closest(h.hc,new h.g.S(g,k)).connection){a=!0;break}}a&&(g=this.J?g-h.hc:g+h.hc,k+=2*h.hc)}while(a);f.moveBy(g,k)}}finally{h.h.enable()}h.h.isEnabled()&&!f.Fa&&h.h.Aa(new (h.h.get(h.h.$g))(f));f.select()}};function Sc(a){(a=a.Bf?a.ya:a)&&!a.jc&&a.jb&&Hc(a.jb)&&a.jb.SI()}
b.ci=function(a,c){h.Xb.v.ci.call(this,a,c);Sc(this)};b.fj=function(a){h.Xb.v.fj.call(this,a);Sc(this)};b.Xd=function(a,c,d){a=h.Xb.v.Xd.call(this,a,c,d);Sc(this);return a};function Tc(a){var c=ta(a.qf,h.yb.Lb.cp);a.Lq=[];for(var d=0,e;e=c[d];d++){var f=e.Nv();f&&a.Lq.push({Ck:e,UA:f})}}function Fa(a,c){for(var d=0,e;e=a.Lq[d];d++)if(e.UA.contains(c.clientX,c.clientY))return e.Ck;return null}b.Hg=function(a){var c=this.og(a);c&&Gb(c,a,this)};
b.Ul=function(a,c){a=h.g.yl(a,v(this),Xa(this));a.x/=this.scale;a.y/=this.scale;this.Cv=h.g.S.Nk(c,a)};b.Rc=function(){return null!=this.jc&&this.jc.Rc()};b.lc=function(){return this.options.nc&&!!this.options.nc.scrollbars||this.options.nc&&this.options.nc.Pj||this.options.nc&&this.options.nc.vf||this.options.sb&&this.options.sb.Pj||this.options.sb&&this.options.sb.Zw};function wb(a){var c=!!a.Oa;return a.lc()&&(!c||c&&!!a.Oa.eb)}function xb(a){var c=!!a.Oa;return a.lc()&&(!c||c&&!!a.Oa.Pa)}
b.ZC=function(a){if(h.ue.Kh())a.preventDefault(),a.stopPropagation();else{var c=this.options.sb&&this.options.sb.Pj,d=this.options.nc&&this.options.nc.Pj;if(c||d){var e=h.g.Yv(a);!c||!a.ctrlKey&&d?(c=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(c=this.scrollX-e.y,d=this.scrollY),this.scroll(c,d)):(e=-e.y/50,c=h.g.yl(a,v(this),Xa(this)),this.zoom(c.x,c.y,e));a.preventDefault()}}};
function fa(a){a=[].concat(a.cm);if(!a.length)return new h.g.Rect(0,0,0,0);for(var c=a[0].Zk(),d=1;d<a.length;d++){var e=a[d];e.ed&&e.ed()||(e=e.Zk(),e.top<c.top&&(c.top=e.top),e.bottom>c.bottom&&(c.bottom=e.bottom),e.left<c.left&&(c.left=e.left),e.right>c.right&&(c.right=e.right))}return c}b.Ql=function(a){if(!this.options.readOnly&&!this.Bf){var c=lc(h.za.wc.Lc,{B:this});this.YA&&this.YA(c,a);h.Ma.show(a,c,this.J)}};
function ba(a){if(a.options.Uc)ba(a.options.Uc);else{h.rl=a;document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{v(a).focus({preventScroll:!0})}catch(c){try{v(a).parentNode.setActive()}catch(d){v(a).parentNode.focus({preventScroll:!0})}}}}
b.zoom=function(a,c,d){d=Math.pow(this.options.sb.ED,d);var e=this.scale*d;if(this.scale!=e){e>this.options.sb.vl?d=this.options.sb.vl/this.scale:e<this.options.sb.xl&&(d=this.options.sb.xl/this.scale);var f=this.qb.getCTM(),g=v(this).createSVGPoint();g.x=a;g.y=c;g=g.matrixTransform(f.inverse());a=g.x;c=g.y;f=f.translate(a*(1-d),c*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
b.setScale=function(a){this.options.sb.vl&&a>this.options.sb.vl?a=this.options.sb.vl:this.options.sb.xl&&a<this.options.sb.xl&&(a=this.options.sb.xl);this.scale=a;h.ac(!1);this.ta&&(this.ta.ws(),Tc(this));this.zd&&this.zd.update(this.scale);a=this.ae();this.scrollX-=a.xc;this.scrollY-=a.Mc;a.Md+=a.xc;a.Nd+=a.Mc;this.scroll(this.scrollX,this.scrollY);if(this.Oa)if(this.ta){var c=this.Oa;c.eb&&Sa(c.eb,a);c.Pa&&Ua(c.Pa,a)}else c=this.Oa,c.eb&&Ta(c.eb,a),c.Pa&&Va(c.Pa,a)};
b.scroll=function(a,c){h.ac(!0);var d=this.ae();a=Math.min(a,-d.scrollLeft);c=Math.min(c,-d.scrollTop);var e=d.scrollTop+Math.max(0,d.scrollHeight-d.Hc);a=Math.max(a,-(d.scrollLeft+Math.max(0,d.scrollWidth-d.qc)));c=Math.max(c,-e);this.scrollX=a;this.scrollY=c;this.Oa&&this.Oa.set(-(a+d.scrollLeft),-(c+d.scrollTop),!1);a+=d.xc;c+=d.Mc;this.translate(a,c)};
h.Xb.KD=function(a){var c=this.ae();"number"==typeof a.x&&(this.scrollX=-(c.scrollLeft+(c.scrollWidth-c.qc)*a.x));"number"==typeof a.y&&(this.scrollY=-(c.scrollTop+(c.scrollHeight-c.Hc)*a.y));this.translate(this.scrollX+c.xc,this.scrollY+c.Mc)};b=h.Xb.prototype;b.Cc=function(a){return h.Xb.v.Cc.call(this,a)};b.pb=function(a){return h.Xb.v.pb.call(this,a)};b.$m=function(a){this.cm.push(a);h.Xb.v.$m.call(this,a)};b.yo=function(a){h.g.bn(this.cm,a);h.Xb.v.yo.call(this,a)};
b.Sb=function(a){var c=!this.Gs&&a;this.Gs=a;c&&ja(this)};b.clear=function(){this.Sb(!1);h.Xb.v.clear.call(this);this.cm=[];this.Sb(!0)};function Wc(a,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.Hv.CREATE_VARIABLE=c}function Qc(a,c,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.bt[c]=d}
b.og=function(a){var c="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.jc;return d?c&&d.Gh?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:c?this.jc=new h.Kc(a,this):null};function Bc(a){a.jc&&a.jc.cancel()};h.Ai=function(a){h.Ai.v.constructor.call(this);a.Nl=this.JD.bind(this);var c=this.m=new h.Xb(a),d=new h.dk(this.m,this);c.Tc=d;c.ae=c.Tc.ae.bind(c.Tc);this.m.Bf=!0;this.m.Cb(this.Cf);this.id=h.g.Ie();this.J=!!a.J;this.Vg=a.jd;this.Tq=[];this.co=[];this.yk=[];this.Fc=[];this.ss=[];this.Mj=this.m.ib.ca().Um;this.ya=null};h.g.object.U(h.Ai,h.zm);b=h.Ai.prototype;b.rh=!0;b.Cf=!1;b.wh=!0;b.kb=8;b.Ei=h.Ai.prototype.kb;b.Zy=3*h.Ai.prototype.Ei;b.Yz=2.5;b.fb=0;b.Dc=0;b.tB=70;
b.Qa=function(a){this.O=h.g.j.L(a,{"class":"blocklyFlyout",style:"display: none"},null);this.cc=h.g.j.L(h.g.F.we,{"class":"blocklyFlyoutBackground"},this.O);this.O.appendChild(this.m.Qa());this.m.ec.subscribe(this.cc,"flyoutBackgroundColour","fill");this.m.ec.subscribe(this.cc,"flyoutOpacity","fill-opacity");return this.O};
b.wa=function(a){this.ya=a;this.m.ya=a;this.m.Oa=new h.Ip(this.m,!1,!0,"blocklyFlyoutScrollbar",this.Yz);this.Va();Array.prototype.push.apply(this.Tq,h.N.va(this.O,"wheel",this,this.iE));this.rh||(this.Dn=this.Uq.bind(this),E(this.ya,this.Dn));Array.prototype.push.apply(this.Tq,h.N.va(this.cc,"mousedown",this,this.Hg));this.m.og=this.ya.og.bind(this.ya);this.m.Qs(this.ya.Ja);var c=this.m;c.Cj=new h.Rp(c);qa(a.qf,{Ck:this,weight:1,hg:[h.yb.Lb.$o,h.yb.Lb.cp]})};
b.H=function(){this.Va();ra(this.m.qf,this.id);h.N.rb(this.Tq);this.Dn&&(ob(this.ya,this.Dn),this.Dn=null);this.m&&(this.m.ec.unsubscribe(this.cc),this.m.ya=null,this.m.H(),this.m=null);this.O&&(h.g.j.removeNode(this.O),this.O=null);this.ya=this.cc=null};b.el=function(){return this.fb};b.isVisible=function(){return this.Cf};b.Cb=function(a){var c=a!=this.isVisible();this.Cf=a;c&&(this.rh||Tc(this.m),this.gm())};b.fi=function(a){var c=a!=this.wh;this.wh=a;c&&this.gm()};
b.gm=function(){var a=this.wh?this.isVisible():!1;this.O.style.display=a?"block":"none";this.m.Oa.fi(a)};b.Va=function(){if(this.isVisible()){this.Cb(!1);for(var a=0,c;c=this.Fc[a];a++)h.N.rb(c);this.Fc.length=0;this.Og&&(ob(this.m,this.Og),this.Og=null)}};
b.show=function(a){this.m.Sb(!1);this.Va();Xc(this);"string"==typeof a&&(a=Yc(this,a));this.Cb(!0);a=h.g.W.ov(a);a=Zc(this,a);$c(this,a.bB,a.EB);this.Fc.push(h.N.va(this.cc,"mouseover",this,function(){for(var c=this.m.pb(!1),d=0,e;e=c[d];d++)e.Jl()}));this.fb=0;this.m.Sb(!0);this.ws();this.Uq();this.position();this.Og=this.ws.bind(this);E(this.m,this.Og)};
function Zc(a,c){var d=[],e=[];a.ss.length=0;for(var f=a.Zy,g=0,k;k=c[g];g++){if(k.custom){var l=Yc(a,k.custom);l=h.g.W.ov(l);c.splice.apply(c,[g,1].concat(l));k=c[g]}switch(k.kind.toUpperCase()){case "BLOCK":l=k;var m=l;k=null;var n=m.blockxml;n&&"string"!=typeof n?k=n:n&&"string"==typeof n?(k=h.I.ke(n),m.blockxml=k):m.type&&(k=h.g.xml.createElement("xml"),k.setAttribute("type",m.type),k.setAttribute("disabled",m.disabled),m.blockxml=k);if(!k)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");
m=k;k=a;n=h.I.ij(m,k.m);n.isEnabled()||k.ss.push(n);k=n;l=parseInt(l.gap||m.getAttribute("gap"),10);e.push(isNaN(l)?f:l);d.push({type:"block",block:k});break;case "SEP":l=e;m=f;k=parseInt(k.gap,10);!isNaN(k)&&0<l.length?l[l.length-1]=k:l.push(m);break;case "LABEL":l=ad(a,k,!0);d.push({type:"button",button:l});e.push(f);break;case "BUTTON":l=ad(a,k,!1),d.push({type:"button",button:l}),e.push(f)}}return{bB:d,EB:e}}
function Yc(a,c){c=a.m.ya.bt[c]||null;if("function"!=typeof c)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=c(a.m.ya);if(!Array.isArray(a))throw new TypeError("Result of toolbox category callback must be an array.");return a}function ad(a,c,d){if(!h.Yy)throw Error("Missing require for Blockly.FlyoutButton");return new h.Yy(a.m,a.ya,c,d)}
function Xc(a){for(var c=a.m.pb(!1),d=0,e;e=c[d];d++)e.B==a.m&&e.H(!1,!1);for(d=0;d<a.co.length;d++)if(c=a.co[d])h.G.et(c),h.g.j.removeNode(c);for(d=a.co.length=0;c=a.yk[d];d++)c.H();a.yk.length=0;a.m.Cj.clear()}function bd(a,c){return function(d){var e=a.ya.og(d);e&&(Ib(e,c),Hb(e,d,a))}}b.Hg=function(a){var c=this.ya.og(a);c&&Hb(c,a,this)};
function Cb(a,c){var d=null;h.h.disable();var e=a.ya.Ah();a.ya.Sb(!1);try{var f=a.ya;if(!c.ka())throw Error("oldBlock is not rendered.");var g=h.I.lf(c,!0);f.Sb(!1);var k=h.I.ij(g,f);if(!k.ka())throw Error("block is not rendered.");var l=h.g.cl(f.qb),m=h.g.cl(a.m.qb),n=c.Ua();n.scale(a.m.scale);var p=h.g.S.sum(m,n),q=h.g.S.Nk(p,l);q.scale(1/f.scale);k.moveBy(q.x,q.y);d=k}finally{h.h.enable()}h.ac();c=h.ha.Lv(a.ya,e);if(h.h.isEnabled()){h.h.na(!0);for(e=0;e<c.length;e++)f=c[e],h.h.Aa(new (h.h.get(h.h.sk))(f));
h.h.Aa(new (h.h.get(h.h.$g))(d))}a.rh?a.Va():a.Uq();return d}b.Uq=function(){for(var a=this.m.pb(!1),c=0,d;d=a[c];c++)if(-1==this.ss.indexOf(d))for(var e=lb(this.ya,h.g.$q(d));d;)d.Te(e),d=y(d)};
b.ws=function(){this.Og&&ob(this.m,this.Og);this.m.scale=this.ya.scale;for(var a=0,c=this.m.pb(!1),d=0,e;e=c[d];d++){var f=r(e).width;e.T&&(f-=this.Mj);a=Math.max(a,f)}for(d=0;e=this.yk[d];d++)a=Math.max(a,e.width);a+=1.5*this.Ei+this.Mj;a*=this.m.scale;a+=h.Ea.bc;if(this.fb!=a){for(d=0;e=c[d];d++){if(this.J){f=e.Ua().x;var g=a/this.m.scale-this.Ei;e.T||(g-=this.Mj);e.moveBy(g-f,0)}e.Iv&&(f=e.Iv,g=e,e=r(g),f.setAttribute("width",e.width),f.setAttribute("height",e.height),g=g.Ua(),f.setAttribute("y",
g.y),f.setAttribute("x",this.J?g.x-e.width:g.x))}if(this.J)for(d=0;e=this.yk[d];d++)c=e.xI().y,e.moveTo(a/this.m.scale-e.width-this.Ei-this.Mj,c);this.ya.jd!=this.Vg||this.Vg!=h.g.W.Xa.Ab||this.ya.jb||this.ya.translate(this.ya.scrollX+a,this.ya.scrollY);this.fb=a;this.position();Tc(this.ya)}this.Og&&E(this.m,this.Og)};function Ab(a){return a.m.Oa?a.m.Oa.isVisible():!1};h.uk=function(a){h.uk.v.constructor.call(this,a)};h.g.object.U(h.uk,h.Ai);h.uk.VI="verticalFlyout";b=h.uk.prototype;b.JD=function(a){if(this.isVisible()){var c=this.m.Tc,d=c.Eh(),e=tb(c);c=Jc(c);"number"==typeof a.y&&(this.m.scrollY=-(d.top+(d.height-e.height)*a.y));this.m.translate(this.m.scrollX+c.left,this.m.scrollY+c.top)}};
b.position=function(){if(this.isVisible()&&this.ya.isVisible()){var a=tb(this.ya.Tc);this.Dc=a.height;var c=this.fb-this.kb;a=a.height-2*this.kb;var d=this.Vg==h.g.W.Xa.vc,e=c+this.kb;e=["M "+(d?e:0)+",0"];e.push("h",d?-c:c);e.push("a",this.kb,this.kb,0,0,d?0:1,d?-this.kb:this.kb,this.kb);e.push("v",Math.max(0,a));e.push("a",this.kb,this.kb,0,0,d?0:1,d?this.kb:-this.kb,this.kb);e.push("h",d?c:-c);e.push("z");this.cc.setAttribute("d",e.join(" "));this.isVisible()?(d=this.ya.Tc,c=Jc(d),a=tb(d),d=Ic(d),
d=this.ya.jd==this.Vg?this.ya.jb?this.Vg==h.g.W.Xa.Ab?d.width:a.width-this.fb:this.Vg==h.g.W.Xa.Ab?0:a.width:this.Vg==h.g.W.Xa.Ab?0:a.width+c.left-this.fb):d=0;c=this.fb;a=this.Dc;this.O.setAttribute("width",c);this.O.setAttribute("height",a);Uc(this.m,c,a);"svg"==this.O.tagName?h.g.j.Ml(this.O,"translate("+d+"px,0px)"):this.O.setAttribute("transform","translate("+d+",0)");if(c=this.m.Oa)c.Ao(d,0),c.resize(),c.eb&&c.eb.setPosition(c.eb.position.x,c.eb.position.y),c.Pa&&c.Pa.setPosition(c.Pa.position.x,
c.Pa.position.y)}};b.qx=function(){var a=this.m.Oa;a.Pa&&a.Pa.set(0,!0)};b.iE=function(a){var c=h.g.Yv(a);if(c.y){var d=this.m.Tc,e=d.Eh();c=tb(d).top-e.top+c.y;d=this.m.Oa;d.Pa&&d.Pa.set(c,!0);h.Y.Va();h.C.Jn()}a.preventDefault();a.stopPropagation()};
function $c(a,c,d){a.m.scale=a.ya.scale;for(var e=a.Ei,f=a.J?e:e+a.Mj,g=0,k;k=c[g];g++)if("block"==k.type){k=k.block;for(var l=x(k,!1),m=0,n;n=l[m];m++)n.Sc=!0;k.Ia();n=k.ka();l=r(k);m=k.T?f-a.Mj:f;k.moveBy(m,e);var p=a,q=k,B=g;m=h.g.j.L(h.g.F.qd,{"fill-opacity":0,x:a.J?m-l.width:m,y:e,height:l.height,width:l.width},null);m.Ld=q;h.G.Vi(m);p.m.qb.insertBefore(m,q.ka());q.Iv=m;p.co[B]=m;p=a;p.Fc.push(h.N.va(n,"mousedown",null,bd(p,k)));p.Fc.push(h.N.va(m,"mousedown",null,bd(p,k)));p.Fc.push(h.N.bind(n,
"mouseenter",k,k.Zm));p.Fc.push(h.N.bind(n,"mouseleave",k,k.Jl));p.Fc.push(h.N.bind(m,"mouseenter",k,k.Zm));p.Fc.push(h.N.bind(m,"mouseleave",k,k.Jl));e+=l.height+d[g]}else"button"==k.type&&(l=a,m=k.button,n=f,p=e,q=m.Qa(),m.moveTo(n,p),m.show(),l.Fc.push(h.N.va(q,"mousedown",l,l.Hg)),l.yk.push(m),e+=k.button.height+d[g])}
b.Nv=function(){if(!this.O||this.rh||!this.isVisible())return null;var a=this.O.getBoundingClientRect(),c=a.left;return this.Vg==h.g.W.Xa.Ab?new h.g.Rect(-1E9,1E9,-1E9,c+a.width):new h.g.Rect(-1E9,1E9,c,1E9)};h.u.register(h.u.R.gp,h.u.zi,h.uk);h.h.ck=function(a){this.dd="undefined"==typeof a;this.Qb=a?a.id:"";this.group=h.h.Ob();this.Ha=!1};h.g.object.U(h.h.ck,h.h.Abstract);h.h.ck.prototype.type=h.h.fp;h.h.ck.prototype.ja=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Qb&&(a.workspaceId=this.Qb);return a};h.h.ck.prototype.aa=function(a){this.dd=!1;this.Qb=a.workspaceId;this.group=a.group};h.u.register(h.u.R.zb,h.h.fp,h.h.ck);h.ut=function(a){this.Gk=a;this.Qa()};b=h.ut.prototype;b.ab=null;b.Ge=null;b.Gk=null;b.Qg=1;b.Zl=null;b.bv=new h.g.S(0,0);b.Qa=function(){this.ab||(this.ab=h.g.j.L(h.g.F.Mi,{xmlns:h.g.j.Sm,"xmlns:html":h.g.j.hp,"xmlns:xlink":h.g.j.Zc,version:"1.1","class":"blocklyBlockDragSurface"},this.Gk),this.Ge=h.g.j.L(h.g.F.Ic,{},this.ab))};function Ea(a,c){if(a.Ge.childNodes.length)throw Error("Already dragging a block.");a.Ge.appendChild(c);a.ab.style.display="block";a.Zl=new h.g.S(0,0)}
b.mi=function(a,c){this.Zl=new h.g.S(a*this.Qg,c*this.Qg);a=this.Zl.x;c=this.Zl.y;a=a.toFixed(0);c=c.toFixed(0);this.ab.style.display="block";h.g.j.Ml(this.ab,"translate3d("+a+"px, "+c+"px, 0px)")};b.jr=function(){var a=h.g.be(this.ab);return new h.g.S(a.x/this.Qg,a.y/this.Qg)};b.Ob=function(){return this.Ge};b.ka=function(){return this.ab};
b.jn=function(a){a?a.appendChild(this.Ge.firstChild):this.Ge.removeChild(this.Ge.firstChild);this.ab.style.display="none";if(this.Ge.childNodes.length)throw Error("Drag group was not cleared.");this.Zl=null};h.Pd={};h.Pd.vr=!1;h.Pd.register=function(a){if(h.Pd.vr)throw Error("CSS already injected");Array.prototype.push.apply(h.Pd.Xo,a);a.length=0};h.Pd.vg=function(a,c){if(!h.Pd.vr){h.Pd.vr=!0;var d=h.Pd.Xo.join("\n");h.Pd.Xo.length=0;a&&(a=c.replace(/[\\/]$/,""),d=d.replace(/<<<PATH>>>/g,a),a=document.createElement("style"),a.id="blockly-common-style",d=document.createTextNode(d),a.appendChild(d),document.head.insertBefore(a,document.head.firstChild))}};
h.Pd.Xo=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;",
"border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;",
"}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;",
"}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",
".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {",
"margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;",
"}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",
".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {",
"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {",
"background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];h.vg=function(a,c){h.NA();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!a||!h.g.j.containsNode(document,a))throw Error("Error: container is not in current document.");c=new h.Yc(c||{});var d=document.createElement("div");d.className="injectionDiv";d.tabIndex=0;h.g.ub.Co(d,h.g.ub.State.oz,h.M.WORKSPACE_ARIA_LABEL);a.appendChild(d);a=h.Ik(d,c);var e=new h.ut(d),f=new h.Mu(d),g=h.eB(a,c,e,f);h.oC(g);h.rl=g;h.am(g);d.addEventListener("focusin",function(){h.rl=g});return g};
h.Ik=function(a,c){a.setAttribute("dir","LTR");h.Pd.vg(c.gC,c.vo);a=h.g.j.L(h.g.F.Mi,{xmlns:h.g.j.Sm,"xmlns:html":h.g.j.hp,"xmlns:xlink":h.g.j.Zc,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var d=h.g.j.L(h.g.F.Ct,{},a);c.mr=h.jh.Qa(String(Math.random()).substring(2),c.dw,d);return a};
h.eB=function(a,c,d,e){c.Uc=null;c=new h.Xb(c,d,e);d=c.options;c.scale=d.sb.SD;a.appendChild(c.Qa("blocklyMainBackground"));h.g.j.Fb(ca(c),c.ib.Zd());h.g.j.Fb(ca(c),c.yf().Zd());if(!d.gl&&d.Rh){e=h.g.F.Mi;var f=new h.Yc({parentWorkspace:c,rtl:c.J,oneBasedIndex:c.options.qo,renderer:c.options.Es,rendererOverrides:c.options.Fs,move:{scrollbars:!0}});f.jd=c.options.jd;c.ta=new (h.u.Bh(h.u.R.gp,c.options,!0))(f);c.ta.rh=!1;c.ta.m.Cb(!0);e=c.ta.Qa(e);h.g.j.sj(e,a)}if(d.hw){if(!h.Nb)throw Error("Missing require for Blockly.Trashcan");
c.Nj=new h.Nb(c);e=c.Nj.Qa();c.O.insertBefore(e,c.qb)}if(d.sb&&d.sb.controls){if(!h.qA)throw Error("Missing require for Blockly.ZoomControls");c.km=new h.qA(c);d=c.km.Qa();c.O.appendChild(d)}c.ec.subscribe(a,"workspaceBackgroundColour","background-color");c.translate(0,0);E(c,h.HA(c));h.am(c);h.Y.Qa();h.C.Qa();h.G.Qa();return c};h.xB=function(a,c){var d=null;switch(c.type){case h.h.$g:case h.h.ah:(d=a.Cc(c.bb))&&(d=d.ce());break;case h.h.vm:case h.h.Wj:d=a.nn[c.Be]||null}return d};
h.Xu=function(a){var c=a.Tc;if(!(wb(c.m)&&xb(c.m)||a.Rc())){c=c.Eh(!0);for(var d=[].concat(a.cm),e=0,f;f=d[e];e++)h.gq(a,c,f)}};h.HA=function(a){return function(c){var d=a.Tc;if(!(wb(d.m)&&xb(d.m)||a.Rc()))if(-1!==h.h.jy.indexOf(c.type)){d=d.Eh(!0);var e=h.xB(a,c);if(e){var f=h.h.Ob();h.h.na(c.group);h.gq(a,d,e)&&!c.group&&console.warn("Moved object in bounds but there was no event group. This may break undo.");null!==f&&h.h.na(f)}}else c.type===h.h.tk&&c.scale>c.Al&&h.Xu(a)}};
h.gq=function(a,c,d){var e=d.Zk(),f=h.g.Cd.Bk(c.top,e.top,c.top+c.height-(e.bottom-e.top))-e.top,g=c.left;c=c.left+c.width-(e.right-e.left);a.J?g=Math.min(c,g):c=Math.max(g,c);return(a=h.g.Cd.Bk(g,e.left,c)-e.left)||f?(d.moveBy(a,f),!0):!1};
h.oC=function(a){var c=a.options,d=v(a);h.N.va(d.parentNode,"contextmenu",null,function(f){h.g.Un(f)||f.preventDefault()});d=h.N.va(window,"resize",null,function(){h.ac(!0);h.am(a);h.Xu(a)});a.zo=d;h.vg.CA();if(c.Rh){d=a.jb;var e=Hc(a,!0);d?d.wa():e&&(e.wa(a),e.show(c.Rh),"function"==typeof e.qx&&e.qx())}c.hw&&a.Nj.wa();c.sb&&c.sb.controls&&a.km.wa();c.nc&&c.nc.scrollbars?(a.Oa=new h.Ip(a,!0===c.nc.scrollbars||!!c.nc.scrollbars.jl,!0===c.nc.scrollbars||!!c.nc.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),
a.Oa.resize()):a.Nl({x:.5,y:.5});c.iC&&h.vg.AC(c.vo,a)};h.vg.CA=function(){h.qB||(h.N.va(document,"scroll",null,function(){for(var a=h.lb.getAll(),c=0,d;d=a[c];c++)d.hm&&d.hm()}),h.N.va(document,"keydown",null,h.fs),h.N.bind(document,"touchend",null,h.Dg),h.N.bind(document,"touchcancel",null,h.Dg),h.g.userAgent.fk&&h.N.va(window,"orientationchange",document,function(){h.am(h.pg())}));h.qB=!0};
h.vg.AC=function(a,c){function d(){for(;f.length;)h.N.rb(f.pop());e.preload()}var e=c.Nc;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(h.N.va(document,"mousemove",null,d,!0));f.push(h.N.va(document,"touchstart",null,d,!0))};h.od=function(a,c){this.Nx=c||"";this.nx=Object.create(null);if(a)for(a=a.split(","),c=0;c<a.length;c++)this.nx[a[c]]=!0;this.reset()};h.od.ap="DEVELOPER_VARIABLE";h.od.prototype.reset=function(){this.Ee=Object.create(null);this.tv=Object.create(null);this.Ja=null};h.od.prototype.Qs=function(a){this.Ja=a};
function cd(a,c,d){var e=c;d==h.qh&&(a.Ja?c=(c=a.Ja.rg(c))?c.name:null:(console.warn("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),c=null),c&&(e=c));c=e.toLowerCase();var f=d==h.qh||d==h.od.ap?a.Nx:"";d in a.Ee||(a.Ee[d]=Object.create(null));var g=a.Ee[d];if(c in g)return f+g[c];e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,
"_"),-1!="0123456789".indexOf(e[0])&&(e="my_"+e)):e=h.M.UNNAMED_KEY||"unnamed";for(var k="";a.tv[e+k]||e+k in a.nx;)k=k?k+1:2;e+=k;a.tv[e]=!0;a=(d==h.qh||d==h.od.ap?a.Nx:"")+e;g[c]=a.substr(f.length);return a}h.od.wf=function(a,c){return a.toLowerCase()==c.toLowerCase()};h.Na={};h.Na.Cz=h.yp;h.Na.xy="x";h.Na.Tu=function(a){var c=jb(a,"procedures_defnoreturn").map(function(d){return d.lj()});a=jb(a,"procedures_defreturn").map(function(d){return d.lj()});c.sort(h.Na.jx);a.sort(h.Na.jx);return[c,a]};h.Na.jx=function(a,c){return a[0].localeCompare(c[0],void 0,{sensitivity:"base"})};h.Na.zB=function(a,c){if(c.Sc)return a;for(a=a||h.M.UNNAMED_KEY||"unnamed";!h.Na.sC(a,c.B,c);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};
h.Na.sC=function(a,c,d){return!h.Na.uC(a,c,d)};h.Na.uC=function(a,c,d){c=D(c,!1);for(var e=0;e<c.length;e++)if(c[e]!=d&&c[e].lj){var f=c[e].lj();if(h.od.wf(f[0],a))return!0}return!1};h.Na.XI=function(a){a=a.trim();var c=h.Na.zB(a,this.$()),d=this.getValue();if(d!=a&&d!=c){a=D(this.$().B,!1);for(var e=0;e<a.length;e++)a[e].AD&&a[e].AD(d,c)}return c};
h.Na.Xk=function(a){function c(g,k){for(var l=0;l<g.length;l++){var m=g[l][0],n=g[l][1],p=h.g.xml.createElement("block");p.setAttribute("type",k);p.setAttribute("gap",16);var q=h.g.xml.createElement("mutation");q.setAttribute("name",m);p.appendChild(q);for(m=0;m<n.length;m++){var B=h.g.xml.createElement("arg");B.setAttribute("name",n[m]);q.appendChild(B)}d.push(p)}}var d=[];if(h.fc.procedures_defnoreturn){var e=h.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=h.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(h.g.xml.createTextNode(h.M.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}h.fc.procedures_defreturn&&(e=h.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=h.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(h.g.xml.createTextNode(h.M.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));h.fc.procedures_ifreturn&&(e=h.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=h.Na.Tu(a);c(a[0],"procedures_callnoreturn");c(a[1],"procedures_callreturn");return d};
h.Na.Ix=function(a){for(var c=[],d=jb(a,"procedures_mutatorarg"),e=0,f;f=d[e];e++)c.push(hb(f,"NAME"));d=h.g.xml.createElement("xml");e=h.g.xml.createElement("block");e.setAttribute("type","procedures_mutatorarg");f=h.g.xml.createElement("field");f.setAttribute("name","NAME");c=h.g.xml.createTextNode(h.ha.Kv(h.Na.xy,c));f.appendChild(c);e.appendChild(f);d.appendChild(e);if(c=h.g.W.pv(d)){if(!a.options.Rh)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(h.g.W.gl(c)){if(!a.jb)throw Error("Existing toolbox has no categories.  Can't change mode.");
a.options.Rh=c;a.jb.Ia(c)}else{if(!a.ta)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.Rh=c;a.ta.show(c)}}else if(a.options.Rh)throw Error("Can't nullify an existing toolbox.");};h.Na.LC=function(a){if(a.type==h.h.tt&&"mutator"===a.XH&&a.zr){a=h.lb.$k(a.Qb).Cc(a.bb);var c=a.type;if("procedures_defnoreturn"==c||"procedures_defreturn"==c)a=a.fe.m,h.Na.Ix(a),E(a,h.Na.KC)}};h.Na.KC=function(a){a.type!=h.h.$g&&a.type!=h.h.Ro&&a.type!=h.h.Zg||h.Na.Ix(h.lb.$k(a.Qb))};
h.Na.IB=function(a,c){var d=[];c=D(c,!1);for(var e=0;e<c.length;e++)if(c[e].UB){var f=c[e].UB();f&&h.od.wf(f,a)&&d.push(c[e])}return d};h.Na.OI=function(a){var c=h.h.Ha,d=a.lj()[0],e=a.Ed(!0);a=h.Na.IB(d,a.B);d=0;for(var f;f=a[d];d++){var g=f.Ed();g=g&&h.I.wd(g);f.uf(e);var k=f.Ed();k=k&&h.I.wd(k);g!=k&&(h.h.Ha=!1,h.h.Aa(new (h.h.get(h.h.Zg))(f,"mutation",null,g,k)),h.h.Ha=c)}};h.Na.tI=function(a,c){c=D(c,!1);for(var d=0;d<c.length;d++)if(c[d].lj){var e=c[d].lj();if(e&&h.od.wf(e[0],a))return c[d]}return null};h.Mb=function(){h.Mb.u=this;this.Id=Object.create(null);this.zj=Object.create(null)};h.Mb.ho={Shift:h.g.fa.Pm,Control:h.g.fa.fh,Alt:h.g.fa.ti,Meta:h.g.fa.Fi};h.Mb.prototype.register=function(a,c){if(this.Id[a.name]&&!c)throw Error('Shortcut with name "'+a.name+'" already exists.');this.Id[a.name]=a};
h.Mb.prototype.unregister=function(a){if(!this.Id[a])return console.warn('Keyboard shortcut with name "'+a+'" not found.'),!1;for(var c in this.zj){var d=c,e=this.zj[d],f=e.indexOf(a);-1<f&&(e.splice(f,1),0==e.length&&delete this.zj[d])}delete this.Id[a];return!0};function J(a,c){var d=h.Mb.u;a=String(a);var e=d.zj[a];if(e)throw Error('Shortcut with name "'+c+'" collides with shortcuts '+e.toString());d.zj[a]=[c]}
h.Mb.prototype.fs=function(a,c){var d="";for(e in h.Mb.ho)c.getModifierState(e)&&(""!=d&&(d+="+"),d+=e);""!=d&&c.keyCode?d=d+"+"+c.keyCode:c.keyCode&&(d=c.keyCode.toString());d=this.zj[d]||[];if(!d)return!1;var e=0;for(var f;f=d[e];e++)if(f=this.Id[f],(!f.xb||f.xb(a))&&f.cb&&f.cb(a,c,f))return!0;return!1};
function K(a,c){var d="";if(c){for(var e=h.g.object.values(h.Mb.ho),f=0,g;g=c[f];f++)if(0>e.indexOf(g))throw Error(g+" is not a valid modifier key.");for(var k in h.Mb.ho)-1<c.indexOf(h.Mb.ho[k])&&(""!=d&&(d+="+"),d+=k)}""!=d&&a?d=d+"+"+a:a&&(d=a.toString());return d}new h.Mb;h.Xm=function(a,c,d,e){this.B=a;this.name=c;this.type=d||"";this.lC=e||h.g.Ie();h.h.Aa(new (h.h.get(h.h.sk))(this))};h.Xm.prototype.$b=function(){return this.lC};h.Xm.WA=function(a,c){return a.name.localeCompare(c.name,void 0,{sensitivity:"base"})};h.ha={};h.ha.Cz=h.qh;h.ha.Up=function(a){var c=D(a,!1);a=Object.create(null);for(var d=0;d<c.length;d++){var e=la(c[d]);if(e)for(var f=0;f<e.length;f++){var g=e[f],k=g.$b();k&&(a[k]=g)}}c=[];for(k in a)c.push(a[k]);return c};h.ha.lt={};
h.ha.sA=function(a){a=D(a,!1);for(var c=Object.create(null),d=0,e;e=a[d];d++){var f=e.uI;!f&&e.PB&&(f=e.PB,h.ha.lt[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),h.ha.lt[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)c[e[f]]=!0}return Object.keys(c)};
h.ha.Xk=function(a){var c=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");Wc(a,function(e){h.ha.rv(e.yI())});c.push(d);a=h.ha.CB(a);return c=c.concat(a)};
h.ha.CB=function(a){a=a.Hn("");var c=[];if(0<a.length){var d=a[a.length-1];if(h.fc.variables_set){var e=h.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",h.fc.math_change?8:24);e.appendChild(h.ha.Yq(d));c.push(e)}h.fc.math_change&&(e=h.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",h.fc.variables_get?20:8),e.appendChild(h.ha.Yq(d)),d=h.I.ke('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),c.push(e));if(h.fc.variables_get){a.sort(h.Xm.WA);d=0;for(var f;f=a[d];d++)e=h.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(h.ha.Yq(f)),c.push(e)}}return c};h.ha.Gu="ijkmnopqrstuvwxyzabcdefgh";h.ha.FB=function(a){return h.ha.Kv(h.ha.Gu.charAt(0),a.Zq())};
h.ha.Kv=function(a,c){if(!c.length)return a;for(var d=h.ha.Gu,e="",f=d.indexOf(a);;){for(var g=!1,k=0;k<c.length;k++)if(c[k].toLowerCase()==a){g=!0;break}if(!g)return a;f++;f==d.length&&(f=0,e=Number(e)+1);a=d.charAt(f)+e}};
h.ha.rv=function(a,c,d){function e(g){h.ha.kx(h.M.NEW_VARIABLE_TITLE,g,function(k){if(k){var l=h.ha.NC(k,a);if(l){if(l.type==f)var m=h.M.VARIABLE_ALREADY_EXISTS.replace("%1",l.name);else m=h.M.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,m=m.replace("%1",l.name).replace("%2",l.type);h.alert(m,function(){e(k)})}else a.Xd(k,f),c&&c(k)}else c&&c(null)})}var f=d||"";e("")};h.ha.Xd=h.ha.rv;
h.ha.lx=function(a,c){function d(e){var f=h.M.RENAME_VARIABLE_TITLE.replace("%1",c.name);h.ha.kx(f,e,function(g){if(g){var k=h.ha.OC(g,c.type,a);k?(k=h.M.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",k.name).replace("%2",k.type),h.alert(k,function(){d(g)})):a.ci(c.$b(),g)}})}d("")};h.ha.kx=function(a,c,d){h.prompt(a,c,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==h.M.RENAME_VARIABLE||e==h.M.NEW_VARIABLE)&&(e=null);d(e)})};
h.ha.OC=function(a,c,d){d=d.Ja.Ah();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=c)return f;return null};h.ha.NC=function(a,c){c=c.Ja.Ah();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a)return e;return null};h.ha.Yq=function(a){var c=h.g.xml.createElement("field");c.setAttribute("name","VAR");c.setAttribute("id",a.$b());c.setAttribute("variabletype",a.type);a=h.g.xml.createTextNode(a.name);c.appendChild(a);return c};
h.ha.wI=function(a,c,d,e){var f=h.ha.qg(a,c,d,e);f||(f=h.ha.fB(a,c,d,e));return f};h.ha.qg=function(a,c,d,e){var f=a.Cj,g=null;if(c&&(g=a.rg(c),!g&&f&&(g=f.rg(c)),g))return g;if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");g=a.qg(d,e);!g&&f&&(g=f.qg(d,e))}return g};h.ha.fB=function(a,c,d,e){var f=a.Cj;d||(d=h.ha.FB(a.Bf?a.ya:a));return f?f.Xd(d,e,c):a.Xd(d,e,c)};
h.ha.Lv=function(a,c){a=a.Ah();var d=[];if(c.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==c.indexOf(f)&&d.push(f)}return d};h.VERSION="uncompiled";h.rl=null;h.selected=null;h.jj=[];h.$i=null;h.ln=null;h.pq=null;h.$H=null;h.ro=null;h.kJ=function(a){h.g.gj.warn("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize");return new h.g.Jc(a.KA,a.JA)};h.ZI=function(a){ja(a)};
h.am=function(a){for(;a.options.Uc;)a=a.options.Uc;var c=v(a),d=Kc(a),e=c.parentNode;if(e){var f=e.offsetWidth;e=e.offsetHeight;d.width!=f&&(c.setAttribute("width",f+"px"),Uc(a,f,null));d.height!=e&&(c.setAttribute("height",e+"px"),Uc(a,null,e));a.resize()}};h.fs=function(a){var c=h.rl;!c||h.g.Un(a)||c.oa&&!c.isVisible()||h.Mb.u.fs(c,a)};h.yq=function(a){a.B.Bf||(h.h.na(!0),h.ac(),a.T?a.H(!1,!0):a.H(!0,!0),h.h.na(!1))};
h.tq=function(a){if(a.wj)a=null;else{var c=h.I.lf(a,!0);h.I.lB(c);var d=a.Ua();c.setAttribute("x",a.J?-d.x:d.x);c.setAttribute("y",d.y);a={xml:c,source:a.B,dE:h.g.$q(a,!0)}}a&&(h.$i=a.xml,h.ln=a.source,h.pq=a.dE)};h.to=function(){if(!h.$i)return!1;var a=h.ln;a.Bf&&(a=a.ya);return h.pq&&lb(a,h.pq)?(h.h.na(!0),a.to(h.$i),h.h.na(!1),!0):!1};h.duplicate=function(a){var c=h.$i,d=h.ln;h.tq(a);a.B.to(h.$i);h.$i=c;h.ln=d};h.QI=function(a){h.g.Un(a)||a.preventDefault()};
h.ac=function(a){h.G.Va();h.Y.Va();h.C.Jn();var c=!!a;ta(h.pg().qf,h.yb.Lb.pt).forEach(function(d){!c&&d.yd&&d.yd&&d.yd.isVisible()&&(d.yd.Va(),Ec(d,!1))})};h.pg=function(){return h.rl};h.alert=function(a,c){alert(a);c&&c()};h.confirm=function(a,c){c(confirm(a))};h.prompt=function(a,c,d){d(prompt(a,c))};h.yC=function(a){return function(){gc(this,a)}};
h.lI=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping."):(h.fc[e]&&console.warn("Block definition #"+c+' in JSON array overwrites prior definition of "'+e+'".'),h.fc[e]={wa:h.yC(d)})}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping.")}};h.vC=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};h.BI=function(a){return h.g.nb.ow(a)};
h.NA=function(){h.yc("LOGIC_HUE",["Blocks","logic","HUE"]);h.yc("LOGIC_HUE",["Constants","Logic","HUE"],210);h.yc("LOOPS_HUE",["Blocks","loops","HUE"]);h.yc("LOOPS_HUE",["Constants","Loops","HUE"],120);h.yc("MATH_HUE",["Blocks","math","HUE"]);h.yc("MATH_HUE",["Constants","Math","HUE"],230);h.yc("TEXTS_HUE",["Blocks","texts","HUE"]);h.yc("TEXTS_HUE",["Constants","Text","HUE"],160);h.yc("LISTS_HUE",["Blocks","lists","HUE"]);h.yc("LISTS_HUE",["Constants","Lists","HUE"],260);h.yc("COLOUR_HUE",["Blocks",
"colour","HUE"]);h.yc("COLOUR_HUE",["Constants","Colour","HUE"],20);h.yc("VARIABLES_HUE",["Blocks","variables","HUE"]);h.yc("VARIABLES_HUE",["Constants","Variables","HUE"],330);h.yc("PROCEDURES_HUE",["Blocks","procedures","HUE"])};h.yc=function(a,c,d){for(var e="Blockly",f=h,g=0;g<c.length;++g)e+="."+c[g],f&&(f=f[c[g]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};
h.gJ=function(a){h.ro=a};h.sh=h.N.bind;h.Ko=h.N.rb;h.WH=h.N.va;h.nE=h.gb.Od.Ab;h.mE=h.gb.Od.sm;h.oE=h.gb.Od.vc;h.Ub=h.Z.Ub;h.Xc=h.Z.Xc;h.Vb=h.Z.Vb;h.pd=h.Z.pd;h.ME=h.Ba.se;h.FH=h.g.W.Xa.ag;h.CH=h.g.W.Xa.ui;h.DH=h.g.W.Xa.Ab;h.EH=h.g.W.Xa.vc;var dd={en:"English",hi:"Hindi",pa:"Punjabi"},ed="ace ar fa he mzn ps ur".split(" "),L=window.BlocklyGamesLang,fd=window.BlocklyGamesLanguages,gd=/\.html$/.test(window.location.pathname);
function hd(a){try{if(0!=a.lineno||0!=a.colno){var c=Date.now();if(!(hd.yw+1E4>c)){hd.yw=c;var d=new XMLHttpRequest,e="error="+encodeURIComponent(a.message+" "+a.filename+" "+a.lineno+":"+a.colno)+"&amp;url="+encodeURIComponent(window.location);d.open("POST","/errorReporter");d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");d.send(e);console.log("Error reported.")}}}catch(f){console.log(a.error)}}hd.yw=0;gd||window.addEventListener("error",hd);
function id(a,c,d){var e=Math,f=e.floor,g=Number;a=(a=window.location.search.match(new RegExp("[?&]"+a+"=([^&]+)")))?decodeURIComponent(a[1].replace(/\+/g,"%20")):"NaN";e=f.call(e,g(a));return isNaN(e)?c:h.g.Cd.Bk(c,e,d)}function jd(){return-1!=ed.indexOf(L)}var M=id("level",1,10);
function kd(){document.title=document.getElementById("title").textContent;document.dir=jd()?"rtl":"ltr";document.head.parentElement.setAttribute("lang",L);var a=document.getElementById("languageMenu");if(a){for(var c=[],d=0;d<fd.length;d++){var e=fd[d];c.push([dd[e],e])}c.sort(function(g,k){return g[0]>k[0]?1:g[0]<k[0]?-1:0});for(d=a.options.length=0;d<c.length;d++){var f=c[d];e=f[1];f=new Option(f[0],e);e==L&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display="none")}for(d=1;10>=
d;d++)a=document.getElementById("level"+d),c=!!ld(d),a&&c&&(a.className+=" level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=device-width, initial-scale=1.0, user-scalable=no");setTimeout(md,1)}function ld(a){var c=nd;try{var d=window.localStorage[c+a]}catch(e){}return d}function N(a){var c;(c=document.getElementById(a))?(c=c.textContent,c=c.replace(/\\n/g,"\n")):c=null;return null===c?"[Unknown message: "+a+"]":c}
function od(a,c){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",function(d){d.preventDefault();c(d)},!0)}
function md(){if(!gd){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var c=document.createElement("script");c.async=1;c.src="//www.google-analytics.com/analytics.js";document.head.appendChild(c);a("create","UA-50448074-1","auto");a("send","pageview")}};h.ia={};h.ia.As=function(){h.za.u.register({Bc:function(){return h.M.UNDO},xb:function(a){return 0<a.B.ni.length?"enabled":"disabled"},cb:function(a){nb(a.B,!1)},fd:h.za.wc.Lc,id:"undoWorkspace",weight:1})};h.ia.zs=function(){h.za.u.register({Bc:function(){return h.M.REDO},xb:function(a){return 0<a.B.Il.length?"enabled":"disabled"},cb:function(a){nb(a.B,!0)},fd:h.za.wc.Lc,id:"redoWorkspace",weight:2})};
h.ia.iD=function(){h.za.u.register({Bc:function(){return h.M.CLEAN_UP},xb:function(a){return a.B.lc()?1<a.B.pb(!1).length?"enabled":"disabled":"hidden"},cb:function(a){a=a.B;a.Sb(!1);h.h.na(!0);for(var c=a.pb(!0),d=0,e=0,f;f=c[e];e++)if(f.lc()){var g=f.Ua();f.moveBy(-g.x,d-g.y);zc(f);d=f.Ua().y+r(f).height+a.ib.ca().jk}h.h.na(!1);a.Sb(!0)},fd:h.za.wc.Lc,id:"cleanWorkspace",weight:3})};h.ia.Ex=function(a,c){for(var d=0,e=0;e<c.length;e++)for(var f=c[e];f;)setTimeout(f.ei.bind(f,a),d),f=y(f),d+=10};
h.ia.jD=function(){h.za.u.register({Bc:function(){return h.M.COLLAPSE_ALL},xb:function(a){if(a.B.options.collapse){a=a.B.pb(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(!d.isCollapsed())return"enabled";d=y(d)}return"disabled"}return"hidden"},cb:function(a){h.ia.Ex(!0,a.B.pb(!0))},fd:h.za.wc.Lc,id:"collapseWorkspace",weight:4})};
h.ia.uD=function(){h.za.u.register({Bc:function(){return h.M.EXPAND_ALL},xb:function(a){if(a.B.options.collapse){a=a.B.pb(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(d.isCollapsed())return"enabled";d=y(d)}return"disabled"}return"hidden"},cb:function(a){h.ia.Ex(!1,a.B.pb(!0))},fd:h.za.wc.Lc,id:"expandWorkspace",weight:5})};h.ia.Qu=function(a,c){if(a.Oe())Array.prototype.push.apply(c,x(a,!1));else{a=ea(a,!1);for(var d=0;d<a.length;d++)h.ia.Qu(a[d],c)}};
h.ia.dr=function(a){var c=[];a=a.pb(!0);for(var d=0;d<a.length;d++)h.ia.Qu(a[d],c);return c};h.ia.un=function(a,c){h.h.na(c);var d=a.shift();d&&(d.B?(d.H(!1,!0),setTimeout(h.ia.un,10,a,c)):h.ia.un(a,c));h.h.na(!1)};
h.ia.qD=function(){h.za.u.register({Bc:function(a){if(a.B)return a=h.ia.dr(a.B).length,1==a?h.M.DELETE_BLOCK:h.M.DELETE_X_BLOCKS.replace("%1",String(a))},xb:function(a){if(a.B)return 0<h.ia.dr(a.B).length?"enabled":"disabled"},cb:function(a){if(a.B){Bc(a.B);var c=h.ia.dr(a.B),d=h.g.Ie();2>c.length?h.ia.un(c,d):h.confirm(h.M.DELETE_ALL_BLOCKS.replace("%1",c.length),function(e){e&&h.ia.un(c,d)})}},fd:h.za.wc.Lc,id:"workspaceDelete",weight:6})};
h.ia.yD=function(){h.ia.As();h.ia.zs();h.ia.iD();h.ia.jD();h.ia.uD();h.ia.qD()};h.ia.sD=function(){h.za.u.register({Bc:function(){return h.M.DUPLICATE_BLOCK},xb:function(a){a=a.block;return!a.Sc&&a.Oe()&&a.lc()?(mb(a.B)?lb(a.B,h.g.$q(a,!0)):1)?"enabled":"disabled":"hidden"},cb:function(a){a.block&&h.duplicate(a.block)},fd:h.za.wc.Kb,id:"blockDuplicate",weight:1})};
h.ia.lD=function(){h.za.u.register({Bc:function(a){return a.block.ud?h.M.REMOVE_COMMENT:h.M.ADD_COMMENT},xb:function(a){a=a.block;return h.g.userAgent.Rd||a.Sc||!a.B.options.VA||a.isCollapsed()||!a.Ad()?"hidden":"enabled"},cb:function(a){a=a.block;a.ud?a.Fj(null):a.Fj("")},fd:h.za.wc.Kb,id:"blockComment",weight:2})};
h.ia.wD=function(){h.za.u.register({Bc:function(a){return Aa(a.block)?h.M.EXTERNAL_INPUTS:h.M.INLINE_INPUTS},xb:function(a){a=a.block;if(!a.Sc&&a.lc()&&!a.isCollapsed())for(var c=1;c<a.V.length;c++)if(a.V[c-1].type!=h.Ba.ic&&a.V[c].type!=h.Ba.ic)return"enabled";return"hidden"},cb:function(a){a.block.gi(!Aa(a.block))},fd:h.za.wc.Kb,id:"blockInline",weight:3})};
h.ia.kD=function(){h.za.u.register({Bc:function(a){return a.block.isCollapsed()?h.M.EXPAND_BLOCK:h.M.COLLAPSE_BLOCK},xb:function(a){a=a.block;return!a.Sc&&a.lc()&&a.B.options.collapse?"enabled":"hidden"},cb:function(a){a.block.ei(!a.block.isCollapsed())},fd:h.za.wc.Kb,id:"blockCollapseExpand",weight:4})};
h.ia.rD=function(){h.za.u.register({Bc:function(a){return a.block.isEnabled()?h.M.DISABLE_BLOCK:h.M.ENABLE_BLOCK},xb:function(a){a=a.block;return!a.Sc&&a.B.options.disable&&a.Ad()?ec(a)?"disabled":"enabled":"hidden"},cb:function(a){a=a.block;var c=h.h.Ob();c||h.h.na(!0);a.Te(!a.isEnabled());c||h.h.na(!1)},fd:h.za.wc.Kb,id:"blockDisable",weight:5})};
h.ia.ys=function(){h.za.u.register({Bc:function(a){var c=a.block;a=x(c,!1).length;(c=y(c))&&(a-=x(c,!1).length);return 1==a?h.M.DELETE_BLOCK:h.M.DELETE_X_BLOCKS.replace("%1",String(a))},xb:function(a){return!a.block.Sc&&a.block.Oe()?"enabled":"hidden"},cb:function(a){h.h.na(!0);a.block&&h.yq(a.block);h.h.na(!1)},fd:h.za.wc.Kb,id:"blockDelete",weight:6})};
h.ia.vD=function(){h.za.u.register({Bc:function(){return h.M.HELP},xb:function(a){a=a.block;return("function"==typeof a.qj?a.qj():a.qj)?"enabled":"hidden"},cb:function(a){a.block.showHelp()},fd:h.za.wc.Kb,id:"blockHelp",weight:7})};h.ia.hD=function(){h.ia.sD();h.ia.lD();h.ia.wD();h.ia.kD();h.ia.rD();h.ia.ys();h.ia.vD()};h.ia.oD=function(){h.ia.yD();h.ia.hD()};h.ia.oD();h.ob={};h.ob.names={My:"escape",gh:"delete",oy:"copy",uy:"cut",Lz:"paste",jA:"undo",Wz:"redo"};h.ob.tD=function(){var a={name:h.ob.names.My,xb:function(c){return!c.options.readOnly},cb:function(){h.ac();return!0}};h.Mb.u.register(a);J(h.g.fa.Ly,a.name)};
h.ob.ys=function(){var a={name:h.ob.names.gh,xb:function(c){return!c.options.readOnly&&h.selected&&h.selected.Oe()},cb:function(c,d){d.preventDefault();if(h.ue.Kh())return!1;h.yq(h.selected);return!0}};h.Mb.u.register(a);J(h.g.fa.gh,a.name);J(h.g.fa.ey,a.name)};
h.ob.mD=function(){var a={name:h.ob.names.oy,xb:function(d){return!d.options.readOnly&&!h.ue.Kh()&&h.selected&&h.selected.Oe()&&h.selected.lc()},cb:function(d,e){e.preventDefault();h.ac();h.tq(h.selected);return!0}};h.Mb.u.register(a);var c=K(h.g.fa.Vo,[h.g.fa.fh]);J(c,a.name);c=K(h.g.fa.Vo,[h.g.fa.ti]);J(c,a.name);c=K(h.g.fa.Vo,[h.g.fa.Fi]);J(c,a.name)};
h.ob.nD=function(){var a={name:h.ob.names.uy,xb:function(d){return!d.options.readOnly&&!h.ue.Kh()&&h.selected&&h.selected.Oe()&&h.selected.lc()&&!h.selected.B.Bf},cb:function(){h.tq(h.selected);h.yq(h.selected);return!0}};h.Mb.u.register(a);var c=K(h.g.fa.Sp,[h.g.fa.fh]);J(c,a.name);c=K(h.g.fa.Sp,[h.g.fa.ti]);J(c,a.name);c=K(h.g.fa.Sp,[h.g.fa.Fi]);J(c,a.name)};
h.ob.xD=function(){var a={name:h.ob.names.Lz,xb:function(d){return!d.options.readOnly&&!h.ue.Kh()},cb:function(){return h.to()}};h.Mb.u.register(a);var c=K(h.g.fa.Pp,[h.g.fa.fh]);J(c,a.name);c=K(h.g.fa.Pp,[h.g.fa.ti]);J(c,a.name);c=K(h.g.fa.Pp,[h.g.fa.Fi]);J(c,a.name)};
h.ob.As=function(){var a={name:h.ob.names.jA,xb:function(d){return!d.options.readOnly&&!h.ue.Kh()},cb:function(d){h.ac();nb(d,!1);return!0}};h.Mb.u.register(a);var c=K(h.g.fa.Si,[h.g.fa.fh]);J(c,a.name);c=K(h.g.fa.Si,[h.g.fa.ti]);J(c,a.name);c=K(h.g.fa.Si,[h.g.fa.Fi]);J(c,a.name)};
h.ob.zs=function(){var a={name:h.ob.names.Wz,xb:function(d){return!h.ue.Kh()&&!d.options.readOnly},cb:function(d){h.ac();nb(d,!0);return!0}};h.Mb.u.register(a);var c=K(h.g.fa.Si,[h.g.fa.Pm,h.g.fa.fh]);J(c,a.name);c=K(h.g.fa.Si,[h.g.fa.Pm,h.g.fa.ti]);J(c,a.name);c=K(h.g.fa.Si,[h.g.fa.Pm,h.g.fa.Fi]);J(c,a.name);c=K(h.g.fa.mA,[h.g.fa.fh]);J(c,a.name)};h.ob.pD=function(){h.ob.tD();h.ob.ys();h.ob.mD();h.ob.nD();h.ob.xD();h.ob.As();h.ob.zs()};h.ob.pD();h.g.A={};h.g.A.Ca=function(a,c){return" "+a+","+c+" "};h.g.A.curve=function(a,c){return" "+a+c.join("")};h.g.A.moveTo=function(a,c){return" M "+a+","+c+" "};h.g.A.moveBy=function(a,c){return" m "+a+","+c+" "};h.g.A.lineTo=function(a,c){return" l "+a+","+c+" "};h.g.A.line=function(a){return" l"+a.join("")};h.g.A.X=function(a,c){return" "+a+" "+c+" "};h.g.A.arc=function(a,c,d,e){return a+" "+d+" "+d+" "+c+e};h.i.af=function(){this.ve=0;this.Zz=3;this.nd=5;this.cu=8;this.uc=10;this.Au=this.nd;this.rk=15;this.Oi=5;this.Um=8;this.Dz=15;this.up=4;this.zz=12;this.Fy=16;this.Ey=this.Dt=this.rk;this.kb=8;this.eA=this.nk=15;this.xu=0;this.zu=20;this.gy=4;this.hA=this.nd;this.iA=this.uc;this.iy=this.nd;this.hy=this.uc;this.lm=!1;this.cA=15;this.dA=100;this.bA=15;this.jk=24;this.Hy=14.5;this.Gy=this.rk+11;this.Ny=2;this.Iy=this.jk;this.wu=h.g.A.moveBy(0,0);this.lz=12;this.mz=6;this.ih=11;this.Qf="normal";this.Pf=
"sans-serif";this.Kt=this.Dm=-1;this.Cm=4;this.Ht=16;this.$j=5;this.Ry="#fff";this.ep=!h.g.userAgent.Rd&&!h.g.userAgent.hh;this.It=this.Ht;this.Ty=this.Sy=this.Jt=!1;this.Vy=this.$j;this.ak=12;this.Uy="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.xo=String(Math.random()).substring(2);this.Bn="";this.Sq=null;this.zv="";this.Kk=this.uv=this.Dq=null;this.wm="#cc0a0a";this.Hm="#4286f4";this.ym=100;this.Ju=5;this.xm=10;this.qy=2;this.ty=4;this.kp="#000000";this.Em=.2;this.vu={Nz:1,Gi:2}};b=h.i.af.prototype;
b.wa=function(){this.Ci=this.Kr();this.Gi=this.Lr();this.Li=this.Nr();this.zp=this.Mr();var a=this.kb,c=h.g.A.arc("a","0 0,0",a,h.g.A.Ca(-a,a)),d=h.g.A.arc("a","0 0,0",a,h.g.A.Ca(a,a));this.Fm={width:a,height:a,qs:c,uo:d};a=this.kb;c=h.g.A.moveBy(0,a)+h.g.A.arc("a","0 0,1",a,h.g.A.Ca(a,-a));d=h.g.A.arc("a","0 0,1",a,h.g.A.Ca(a,a));var e=h.g.A.arc("a","0 0,1",a,h.g.A.Ca(-a,-a)),f=h.g.A.arc("a","0 0,1",a,h.g.A.Ca(-a,a));this.pk={ct:c,aE:d,EA:f,cq:e,DD:a}};
b.Pl=function(a){this.fg=Object.create(null);var c=a.fg,d;for(d in c)this.fg[d]=pd(c[d]);this.Pf=a.fontStyle&&void 0!=a.fontStyle.family?a.fontStyle.family:this.Pf;this.Qf=a.fontStyle&&void 0!=a.fontStyle.weight?a.fontStyle.weight:this.Qf;this.ih=a.fontStyle&&void 0!=a.fontStyle.size?a.fontStyle.size:this.ih;c=h.g.j.EC(this.ih+"pt",this.Qf,this.Pf);this.Dm=c.height;this.Kt=c.Ud;this.wm=fb(a,"cursorColour")||this.wm;this.Hm=fb(a,"markerColour")||this.Hm;this.kp=fb(a,"insertionMarkerColour")||this.kp;
this.Em=Number(fb(a,"insertionMarkerOpacity"))||this.Em;this.lm=null!=a.Vs?a.Vs:this.lm};function Cc(a,c){var d="auto_"+c;a.fg[d]||(a.fg[d]=pd({colourPrimary:c}));return{style:a.fg[d],name:d}}function yc(a,c){return a.fg[c||""]||(c&&0==c.indexOf("auto_")?Cc(a,c.substring(5)).style:pd({colourPrimary:"#000000"}))}
function pd(a){var c={};a&&h.g.object.Fg(c,a);a=h.g.so(c.colourPrimary||"#000");c.uh=a.hl;c.colourSecondary?a=h.g.so(c.colourSecondary).hl:(a=c.uh,a=h.g.nb.$p("#fff",a,.6)||a);c.mn=a;c.colourTertiary?a=h.g.so(c.colourTertiary).hl:(a=c.uh,a=h.g.nb.$p("#fff",a,.3)||a);c.aj=a;c.Ke=c.hat||"";return c}b.H=function(){this.Sq&&h.g.j.removeNode(this.Sq);this.Dq&&h.g.j.removeNode(this.Dq);this.uv&&h.g.j.removeNode(this.uv);this.Kk=null};
b.Kr=function(){var a=this.lz,c=this.mz,d=h.g.A.line([h.g.A.Ca(c,a/4),h.g.A.Ca(2*-c,a/2),h.g.A.Ca(c,a/4)]);return{height:a,width:c,path:d}};b.Nr=function(){var a=this.cA,c=this.dA,d=h.g.A.curve("c",[h.g.A.Ca(30,-a),h.g.A.Ca(70,-a),h.g.A.Ca(c,0)]);return{height:a,width:c,path:d}};
b.Mr=function(){function a(g){g=g?-1:1;var k=-g,l=d/2,m=h.g.A.Ca(c,g*l);return h.g.A.curve("c",[h.g.A.Ca(0,g*(l+2.5)),h.g.A.Ca(-c,k*(l+.5)),h.g.A.Ca(-c,g*l)])+h.g.A.curve("s",[h.g.A.Ca(c,2.5*k),m])}var c=this.Um,d=this.rk,e=a(!0),f=a(!1);return{type:this.vu.Nz,width:c,height:d,Hd:f,Dl:e}};b.Lr=function(){function a(k){return h.g.A.line([h.g.A.Ca(k*e,d),h.g.A.Ca(3*k,0),h.g.A.Ca(k*e,-d)])}var c=this.Dz,d=this.up,e=(c-3)/2,f=a(1),g=a(-1);return{type:this.vu.Gi,width:c,height:d,Mg:f,Yw:g}};
function za(a,c){switch(c.type){case h.Z.Ub:case h.Z.Xc:return a.zp;case h.Z.pd:case h.Z.Vb:return a.Gi;default:throw Error("Unknown connection type");}}
b.Qa=function(a,c,d){d=this.ar(d);c="blockly-renderer-style-"+c;this.Kk=document.getElementById(c);var e=d.join("\n");this.Kk?this.Kk.firstChild.textContent=e:(d=document.createElement("style"),d.id=c,c=document.createTextNode(e),d.appendChild(c),document.head.insertBefore(d,document.head.firstChild),this.Kk=d);a=h.g.j.L(h.g.F.Ct,{},a);c=h.g.j.L(h.g.F.Wy,{id:"blocklyEmbossFilter"+this.xo},a);h.g.j.L(h.g.F.Oy,{"in":"SourceAlpha",stdDeviation:1,result:"blur"},c);d=h.g.j.L(h.g.F.Qy,{"in":"blur",surfaceScale:1,
specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},c);h.g.j.L(h.g.F.Py,{x:-5E3,y:-1E4,z:2E4},d);h.g.j.L(h.g.F.Gt,{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},c);h.g.j.L(h.g.F.Gt,{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},c);this.Bn=c.id;this.Sq=c;a=h.g.j.L(h.g.F.qu,{id:"blocklyDisabledPattern"+this.xo,patternUnits:"userSpaceOnUse",width:10,height:10},a);h.g.j.L(h.g.F.qd,{width:10,height:10,fill:"#aaa"},a);h.g.j.L(h.g.F.we,
{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},a);this.zv=a.id;this.Dq=a};
b.ar=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.Qf+" "+this.ih+"pt "+this.Pf+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.Ry+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.Pf+";","font-weight: "+this.Qf+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.Em+
";","stroke: none;","}"]};h.i.o={NONE:0,sc:1,Mt:2,Pt:4,Fp:8,qt:16,Tt:32,Ft:64,md:128,Rt:256,yu:512,ny:1024,xp:2048,tp:4096,Hz:8192,Yo:16384,op:32768,np:65536,Dp:131072,Cp:262144,Xt:524288,Ep:1048576,Lp:2097152,So:4194304,St:8388608};h.i.o.XF=h.i.o.op|h.i.o.np;h.i.o.oH=h.i.o.Dp|h.i.o.Cp;h.i.o.Xr=16777216;h.i.o.getType=function(a){Object.prototype.hasOwnProperty.call(h.i.o,a)||(h.i.o[a]=h.i.o.Xr,h.i.o.Xr<<=1);return h.i.o[a]};h.i.o.Af=function(a){return a.type&h.i.o.sc};h.i.o.Ph=function(a){return a.type&h.i.o.Mt};
h.i.o.uj=function(a){return a.type&h.i.o.Pt};h.i.o.Bd=function(a){return a.type&h.i.o.Fp};h.i.o.HI=function(a){return a.type&h.i.o.Tt};h.i.o.yg=function(a){return a.type&h.i.o.md};h.i.o.nl=function(a){return a.type&h.i.o.Ft};h.i.o.xg=function(a){return a.type&h.i.o.Rt};h.i.o.Qh=function(a){return a.type&h.i.o.yu};h.i.o.yj=function(a){return a.type&h.i.o.xp};h.i.o.Ag=function(a){return a.type&h.i.o.tp};h.i.o.wC=function(a){return a.type&(h.i.o.xp|h.i.o.tp)};h.i.o.zg=function(a){return a.type&h.i.o.np};
h.i.o.vw=function(a){return a.type&h.i.o.Cp};h.i.o.ol=function(a){return a.type&h.i.o.op};h.i.o.II=function(a){return a.type&h.i.o.Dp};h.i.o.GI=function(a){return a.type&h.i.o.Yo};h.i.o.tw=function(a){return a.type&h.i.o.Xt};h.i.o.KI=function(a){return a.type&h.i.o.Ep};h.i.o.CI=function(a){return a.type&h.i.o.qt};h.i.o.Vn=function(a){return a.type&h.i.o.Lp};h.i.o.Nn=function(a){return a.type&h.i.o.So};h.i.o.xC=function(a){return a.type&(h.i.o.Lp|h.i.o.So)};h.i.o.rC=function(a){return a.type&h.i.o.St};h.i.Uf=function(a){this.height=this.width=0;this.type=h.i.o.NONE;this.Yi=this.Da=0;this.s=a;this.Fd=this.s.nk};h.i.qa=function(a,c){h.i.qa.v.constructor.call(this,a);this.zc=c;this.shape=za(this.s,c);this.Oh=!!this.shape.isDynamic;this.type|=h.i.o.ny};h.g.object.U(h.i.qa,h.i.Uf);h.i.wp=function(a,c){h.i.wp.v.constructor.call(this,a,c);this.type|=h.i.o.Hz;this.height=this.Oh?0:this.shape.height;this.Kd=this.width=this.Oh?0:this.shape.width;this.bd=this.s.Oi;this.Fk=0};h.g.object.U(h.i.wp,h.i.qa);
h.i.Ap=function(a,c){h.i.Ap.v.constructor.call(this,a,c);this.type|=h.i.o.xp;this.height=this.shape.height;this.width=this.shape.width};h.g.object.U(h.i.Ap,h.i.qa);h.i.vp=function(a,c){h.i.vp.v.constructor.call(this,a,c);this.type|=h.i.o.tp;this.height=this.shape.height;this.width=this.shape.width};h.g.object.U(h.i.vp,h.i.qa);h.i.hk=function(a,c){h.i.hk.v.constructor.call(this,a,c.connection);this.type|=h.i.o.md;this.input=c;this.align=c.align;(this.jg=c.connection&&c.connection.la()?c.connection.la():null)?(a=r(this.jg),this.Ek=a.width,this.pn=a.height):this.pn=this.Ek=0;this.bd=this.Fk=0};h.g.object.U(h.i.hk,h.i.qa);
h.i.Rf=function(a,c){h.i.Rf.v.constructor.call(this,a,c);this.type|=h.i.o.Rt;this.jg?(this.width=this.Ek,this.height=this.pn):(this.height=this.s.Gy,this.width=this.s.Hy);this.bj=this.Oh?this.shape.height(this.height):this.shape.height;this.De=this.Oh?this.shape.width(this.height):this.shape.width;this.jg||(this.width+=this.De*(this.Oh?2:1));this.bd=this.Oh?this.shape.bd(this.bj):this.s.Oi;this.Fk=this.Oh?this.shape.Fk(this.De):0};h.g.object.U(h.i.Rf,h.i.hk);
h.i.$f=function(a,c){h.i.$f.v.constructor.call(this,a,c);this.type|=h.i.o.yu;this.height=this.jg?this.pn+this.s.xu:this.s.Iy;this.width=this.s.eA+this.shape.width};h.g.object.U(h.i.$f,h.i.hk);h.i.Bm=function(a,c){h.i.Bm.v.constructor.call(this,a,c);this.type|=h.i.o.Ft;this.height=this.jg?this.pn-this.s.Oi-this.s.nd:this.shape.height;this.width=this.shape.width+this.s.Ny;this.bd=this.s.Oi;this.bj=this.shape.height;this.De=this.shape.width};h.g.object.U(h.i.Bm,h.i.hk);h.i.lp=function(a,c){h.i.lp.v.constructor.call(this,a);this.icon=c;this.isVisible=c.isVisible();this.type|=h.i.o.Pt;a=c.sI();this.height=a.height;this.width=a.width};h.g.object.U(h.i.lp,h.i.Uf);h.i.mp=function(a){h.i.mp.v.constructor.call(this,a);this.type|=h.i.o.Xt;this.height=this.s.Ci.height;this.width=this.s.Ci.width};h.g.object.U(h.i.mp,h.i.Uf);
h.i.kd=function(a,c){h.i.kd.v.constructor.call(this,a);this.Tk=c;this.Ad=c.Zj;this.BB=c.Rv();this.type|=h.i.o.sc;a=this.Tk.xf();this.height=a.height;this.width=a.width};h.g.object.U(h.i.kd,h.i.Uf);h.i.ip=function(a){h.i.ip.v.constructor.call(this,a);this.type|=h.i.o.Mt;this.height=this.s.Li.height;this.width=this.s.Li.width;this.Ui=this.height};h.g.object.U(h.i.ip,h.i.Uf);
h.i.Ni=function(a,c){h.i.Ni.v.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.o.Dp:h.i.o.op)|h.i.o.Yo;this.width=this.height=this.s.ve};h.g.object.U(h.i.Ni,h.i.Uf);h.i.Om=function(a,c){h.i.Om.v.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.o.Cp:h.i.o.np)|h.i.o.Yo;this.width=this.s.kb;this.height=this.s.kb/2};h.g.object.U(h.i.Om,h.i.Uf);h.i.bf=function(a,c){h.i.bf.v.constructor.call(this,a);this.type=this.type|h.i.o.Fp|h.i.o.Tt;this.width=c;this.height=this.s.bA};h.g.object.U(h.i.bf,h.i.Uf);h.i.mh=function(a){this.type=h.i.o.Ep;this.elements=[];this.Da=this.Rb=this.me=this.minWidth=this.minHeight=this.width=this.height=0;this.fw=this.pj=this.pr=this.Ib=this.tg=!1;this.s=a;this.Fd=this.s.nk;this.align=null};h.i.mh.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function O(a){for(var c=a.elements.length-1,d;d=a.elements[c];c--)if(h.i.o.yg(d))return d;return null}h.i.mh.prototype.Go=function(){return!0};h.i.mh.prototype.Rk=function(){return!0};
h.i.ph=function(a){h.i.ph.v.constructor.call(this,a);this.type|=h.i.o.Lp;this.Ui=this.mf=0;this.hC=!1;this.connection=null};h.g.object.U(h.i.ph,h.i.mh);h.i.ph.prototype.qr=function(a){var c=(a.Ke?"cap"===a.Ke:this.s.lm)&&!a.T&&!a.da,d=a.da&&a.da.la();return!!a.T||c||(d?y(d)==a:!1)};
h.i.ph.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.o.Bd(f)||(h.i.o.Ph(f)?d=Math.max(d,f.Ui):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.mf=this.Ui=d;this.me=this.width};h.i.ph.prototype.Go=function(){return!1};h.i.ph.prototype.Rk=function(){return!1};h.i.eh=function(a){h.i.eh.v.constructor.call(this,a);this.type|=h.i.o.So;this.gw=!1;this.connection=null;this.Ud=this.Mk=0};
h.g.object.U(h.i.eh,h.i.mh);h.i.eh.prototype.qr=function(a){return!!a.T||!!y(a)};h.i.eh.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.o.Bd(f)||(h.i.o.Ag(f)?d=Math.max(d,f.height):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.Mk=d;this.me=this.width};h.i.eh.prototype.Go=function(){return!1};h.i.eh.prototype.Rk=function(){return!1};
h.i.Tm=function(a,c,d){h.i.Tm.v.constructor.call(this,a);this.type=this.type|h.i.o.Fp|h.i.o.qt;this.width=d;this.height=c;this.Jv=!1;this.me=0;this.elements=[new h.i.bf(this.s,d)]};h.g.object.U(h.i.Tm,h.i.mh);h.i.Tm.prototype.measure=function(){};h.i.Bi=function(a){h.i.Bi.v.constructor.call(this,a);this.type|=h.i.o.St;this.jv=0};h.g.object.U(h.i.Bi,h.i.mh);
h.i.Bi.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,c=0,d;d=this.elements[c];c++)this.width+=d.width,h.i.o.yg(d)&&(h.i.o.Qh(d)?a+=d.Ek:h.i.o.nl(d)&&0!=d.Ek&&(a+=d.Ek-d.De)),h.i.o.Bd(d)||(this.height=Math.max(this.height,d.height));this.jv=a;this.me=this.width+a};h.i.Bi.prototype.Rk=function(){return!this.tg&&!this.Ib};h.i.Sd=function(a,c){this.Ka=c;this.ib=a;this.s=this.ib.ca();this.T=c.T?new h.i.wp(this.s,c.T):null;this.vj=Aa(c)&&!c.isCollapsed();this.isCollapsed=c.isCollapsed();this.ed=c.ed();this.J=c.J;this.Ug=this.width=this.Qj=this.height=0;this.rows=[];this.rw=[];this.kw=[];this.Jb=new h.i.ph(this.s);this.mb=new h.i.eh(this.s);this.Fo=this.Kd=0};b=h.i.Sd.prototype;
b.measure=function(){var a=!!this.Ka.da,c=(this.Ka.Ke?"cap"===this.Ka.Ke:this.s.lm)&&!this.T&&!a,d=this.Jb.qr(this.Ka)?h.i.Ni:h.i.Om;this.Jb.elements.push(new d(this.s));c?(a=new h.i.ip(this.s),this.Jb.elements.push(a),this.Jb.mf=a.Ui):a&&(this.Jb.hC=!0,this.Jb.connection=new h.i.Ap(this.s,this.Ka.da),this.Jb.elements.push(this.Jb.connection));this.Ka.V.length&&this.Ka.V[0].type==h.Ba.ic&&!this.Ka.isCollapsed()?this.Jb.minHeight=this.s.iA:this.Jb.minHeight=this.s.hA;d=h.i.Ni;this.Jb.elements.push(new d(this.s,
"right"));this.rows.push(this.Jb);a=new h.i.Bi(this.s);this.rw.push(a);d=Ca(this.Ka);c=0;for(var e;e=d[c];c++){var f=new h.i.lp(this.s,e);this.isCollapsed&&e.cI?this.kw.push(f):a.elements.push(f)}e=null;for(c=0;d=this.Ka.V[c];c++)if(d.isVisible()){!e||d.type!=h.Ba.ic&&e.type!=h.Ba.ic&&(d.type!=h.Ba.ze&&d.type!=h.Ba.se||this.vj)||(this.rows.push(a),a=new h.i.Bi(this.s),this.rw.push(a));for(e=0;f=d.$a[e];e++)a.elements.push(new h.i.kd(this.s,f,d));this.Su(d,a);e=d}this.isCollapsed&&(a.fw=!0,a.elements.push(new h.i.mp(this.s)));
(a.elements.length||a.pj)&&this.rows.push(a);this.ts();this.rows.push(this.mb);this.Ru();a=this.rows;this.rows=[];for(c=0;c<a.length;c++)if(this.rows.push(a[c]),c!=a.length-1){d=this.rows;e=d.push;f=a[c];var g=a[c+1],k=new h.i.Tm(this.s,this.$v(f,g),this.width-this.Kd);f.Ib&&(k.Jv=!0);g.Ib&&(k.RI=!0);e.call(d,k)}for(e=d=c=a=0;f=this.rows[e];e++)f.measure(),c=Math.max(c,f.width),f.Ib&&(a=Math.max(a,f.width-O(f).width)),d=Math.max(d,f.me);this.Ug=a;this.width=c;for(e=0;f=this.rows[e];e++)f.Ib&&(f.Ug=
this.Ug);this.Qj=Math.max(c,d);this.T&&(this.Kd=this.T.width,this.width+=this.T.width,this.Qj+=this.T.width);this.Tp();this.Fv()};
b.ts=function(){this.mb.gw=!!this.Ka.ea;this.mb.minHeight=this.Ka.V.length&&this.Ka.V[this.Ka.V.length-1].type==h.Ba.ic?this.s.hy:this.s.iy;this.mb.qr(this.Ka)?this.mb.elements.push(new h.i.Ni(this.s)):this.mb.elements.push(new h.i.Om(this.s));this.mb.gw&&(this.mb.connection=new h.i.vp(this.s,this.Ka.ea),this.mb.elements.push(this.mb.connection));this.mb.elements.push(new h.i.Ni(this.s,"right"))};
b.Su=function(a,c){this.vj&&a.type==h.Ba.ze?(c.elements.push(new h.i.Rf(this.s,a)),c.pr=!0):a.type==h.Ba.ic?(c.elements.push(new h.i.$f(this.s,a)),c.Ib=!0):a.type==h.Ba.ze?(c.elements.push(new h.i.Bm(this.s,a)),c.tg=!0):a.type==h.Ba.se&&(c.minHeight=Math.max(c.minHeight,a.$()&&a.$().Fa?this.s.Ey:this.s.Dt),c.pj=!0);null==c.align&&(c.align=a.align)};
b.Ru=function(){for(var a=0,c;c=this.rows[a];a++){var d=c.elements;c.elements=[];c.Go()&&c.elements.push(new h.i.bf(this.s,this.Ch(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++)c.elements.push(d[e]),c.elements.push(new h.i.bf(this.s,this.Ch(d[e],d[e+1])));c.elements.push(d[d.length-1]);c.Rk()&&c.elements.push(new h.i.bf(this.s,this.Ch(d[d.length-1],null)))}}};
b.Ch=function(a,c){if(!a&&c&&h.i.o.Qh(c))return this.s.zu;if(a&&h.i.o.yg(a)&&!c){if(h.i.o.nl(a))return this.s.ve;if(h.i.o.xg(a))return this.s.uc;if(h.i.o.Qh(a))return this.s.ve}return a&&h.i.o.ol(a)&&c&&(h.i.o.yj(c)||h.i.o.Ag(c))?c.Fd:a&&h.i.o.zg(a)&&c&&(h.i.o.yj(c)||h.i.o.Ag(c))?c.Fd-this.s.kb:this.s.nd};b.Tp=function(){for(var a=0,c;c=this.rows[a];a++)if(c.Ib)qd(this,c);else{var d=this.bl(c)-c.width;0<d&&rd(c,d);h.i.o.xC(c)&&(c.me=c.width)}};b.bl=function(){return this.width-this.Kd};
function rd(a,c){a:{var d=0;for(var e;e=a.elements[d];d++)if(h.i.o.Bd(e)){d=e;break a}d=null}a:{e=a.elements.length-1;for(var f;f=a.elements[e];e--)if(h.i.o.Bd(f)){e=f;break a}e=null}if(a.tg||a.Ib)a.me+=c;a.align==h.gb.Od.Ab?e.width+=c:a.align==h.gb.Od.sm?(d.width+=c/2,e.width+=c/2):a.align==h.gb.Od.vc?d.width+=c:e.width+=c;a.width+=c}
function qd(a,c){var d=O(c),e=c.width-d.width,f=a.Ug;e=f-e;0<e&&rd(c,e);e=c.width;f=a.bl(c);d.width+=f-e;d.height=Math.max(d.height,c.height);c.width+=f-e;c.me=Math.max(c.width,a.Ug+c.jv)}b.$v=function(){return this.s.nd};b.Qv=function(a,c){return h.i.o.Bd(c)?a.Rb+c.height/2:h.i.o.Nn(a)?(a=a.Rb+a.height-a.Mk,h.i.o.Ag(c)?a+c.height/2:a-c.height/2):h.i.o.Vn(a)?h.i.o.Ph(c)?a.mf-c.height/2:a.mf+c.height/2:a.Rb+a.height/2};
function sd(a,c){for(var d=c.Da,e=0,f;f=c.elements[e];e++)h.i.o.Bd(f)&&(f.height=c.height),f.Da=d,f.Yi=a.Qv(c,f),d+=f.width}b.Fv=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++)e.Rb=c,e.Da=this.Kd,c+=e.height,a=Math.max(a,e.me),sd(this,e);this.T&&this.Ka.ea&&this.Ka.ea.isConnected()&&(a=Math.max(a,r(this.Ka.ea.la()).width));this.Qj=a+this.Kd;this.height=c;this.Fo=this.Jb.mf;this.mb.Ud=c-this.mb.Mk};h.i.rc=function(a,c){this.Ka=a;this.ma=c;a.Ua();this.Mn=this.Ga="";this.s=c.ib.ca()};b=h.i.rc.prototype;b.draw=function(){td(this);ud(this);vd(this);this.Ka.tb.Os(this.Ga+"\n"+this.Mn);this.ma.J&&this.Ka.tb.Xq();wd(this)};function wd(a){a.Ka.height=a.ma.height;a.Ka.width=a.ma.Qj}function td(a){for(var c=0,d;d=a.ma.kw[c];c++)d.icon.kC.setAttribute("display","none")}
function ud(a){a.Qq();for(var c=1;c<a.ma.rows.length-1;c++){var d=a.ma.rows[c];d.fw?a.Pk(d):d.Ib?a.Pq(d):d.tg?a.Rq(d):a.Dv(d)}a.Mq();a.Oq()}
b.Qq=function(){var a=this.ma.Jb,c=a.elements,d=this.ma.Jb;if(d.connection){var e=d.Da+d.Fd;G(d.connection.zc,this.ma.J?-e:e,0)}this.Ga+=h.g.A.moveBy(a.Da,this.ma.Fo);for(d=0;e=c[d];d++)h.i.o.zg(e)?this.Ga+=this.s.pk.ct:h.i.o.vw(e)?this.Ga+=this.s.pk.aE:h.i.o.yj(e)?this.Ga+=e.shape.Mg:h.i.o.Ph(e)?this.Ga+=this.s.Li.path:h.i.o.Bd(e)&&(this.Ga+=h.g.A.X("h",e.width));this.Ga+=h.g.A.X("v",a.height)};b.Pk=function(a){this.Ga+=this.s.Ci.path+h.g.A.X("v",a.height-this.s.Ci.height)};
b.Rq=function(a){var c=O(a);this.bx(a);var d="function"==typeof c.shape.Hd?c.shape.Hd(c.height):c.shape.Hd;this.Ga+=h.g.A.X("H",c.Da+c.width)+d+h.g.A.X("v",a.height-c.bj)};b.Pq=function(a){var c=O(a);this.Ga+=h.g.A.X("H",c.Da+c.Fd+c.shape.width)+(c.shape.Yw+h.g.A.X("h",-(c.Fd-this.s.Fm.width))+this.s.Fm.qs)+h.g.A.X("v",a.height-2*this.s.Fm.height)+this.s.Fm.uo+h.g.A.X("H",a.Da+a.width);this.hx(a)};b.Dv=function(a){this.Ga+=h.g.A.X("V",a.Rb+a.height)};
b.Mq=function(){var a=this.ma.mb,c=a.elements;this.gx();for(var d=0,e="",f=c.length-1,g;g=c[f];f--)h.i.o.Ag(g)?e+=g.shape.Yw:h.i.o.ol(g)?e+=h.g.A.X("H",a.Da):h.i.o.zg(g)?e+=this.s.pk.cq:h.i.o.vw(g)?(e+=this.s.pk.EA,d=this.s.pk.DD):h.i.o.Bd(g)&&(e+=h.g.A.X("h",-1*g.width));this.Ga+=h.g.A.X("V",a.Ud-d);this.Ga+=e};
b.Oq=function(){var a=this.ma.T;if(this.ma.T){var c=this.ma.Kd+this.ma.T.Fk;G(this.Ka.T,this.ma.J?-c:c,this.ma.T.bd)}a&&(c=a.bd+a.height,a="function"==typeof a.shape.Dl?a.shape.Dl(a.height):a.shape.Dl,this.Ga+=h.g.A.X("V",c)+a);this.Ga+="z"};
function vd(a){for(var c=0,d;d=a.ma.rows[c];c++)for(var e=0,f;f=d.elements[e];e++)if(h.i.o.xg(f))a.Nq(f);else if(h.i.o.uj(f)||h.i.o.Af(f)){var g=a;if(h.i.o.Af(f))var k=f.Tk.ka();else h.i.o.uj(f)&&(k=f.icon.kC);var l=f.Yi-f.height/2,m=f.Da,n="";g.ma.J&&(m=-(m+f.width),f.BB&&(m+=f.width,n="scale(-1 1)"));h.i.o.uj(f)?(k.setAttribute("display","block"),k.setAttribute("transform","translate("+m+","+l+")"),f.icon.XA()):k.setAttribute("transform","translate("+m+","+l+")"+n);g.ma.ed&&k.setAttribute("display",
"none")}}b.Nq=function(a){var c=a.width,d=a.height,e=a.bd,f=a.bj+e;this.Mn+=h.g.A.moveTo(a.Da+a.De,a.Yi-d/2)+h.g.A.X("v",e)+a.shape.Hd+h.g.A.X("v",d-f)+h.g.A.X("h",c-a.De)+h.g.A.X("v",-d)+"z";this.ex(a)};b.ex=function(a){var c=a.Yi-a.height/2;if(a.zc){var d=a.Da+a.De+a.Fk;this.ma.J&&(d*=-1);G(a.zc,d,c+a.bd)}};b.hx=function(a){var c=O(a);if(c.zc){var d=a.Da+a.Ug+c.Fd;this.ma.J&&(d*=-1);G(c.zc,d,a.Rb)}};b.bx=function(a){var c=O(a);if(c.zc){var d=a.Da+a.width;this.ma.J&&(d*=-1);G(c.zc,d,a.Rb)}};
b.gx=function(){var a=this.ma.mb;if(a.connection){var c=a.connection,d=c.Da;G(c.zc,this.ma.J?-d:d,a.Ud)}};h.h.Sf=function(a,c,d,e){var f=a?a.B.id:void 0;e&&e.getType()==h.D.types.Lc&&(f=e.xa.id);h.h.Sf.v.constructor.call(this,f);this.bb=a?a.id:null;this.Qw=d;this.Mw=e;this.Ne=c};h.g.object.U(h.h.Sf,h.h.Td);h.h.Sf.prototype.type=h.h.qp;h.h.Sf.prototype.ja=function(){var a=h.h.Sf.v.ja.call(this);a.isCursor=this.Ne;a.blockId=this.bb;a.oldNode=this.Qw;a.newNode=this.Mw;return a};h.h.Sf.prototype.aa=function(a){h.h.Sf.v.aa.call(this,a);this.Ne=a.isCursor;this.bb=a.blockId;this.Qw=a.oldNode;this.Mw=a.newNode};
h.u.register(h.u.R.zb,h.h.qp,h.h.Sf);h.i.Tf=function(a,c,d){this.m=a;this.Pr=d;this.Cl=null;this.s=c;this.dj=null;a=this.Ne()?this.s.wm:this.s.Hm;this.td=d.nb||a};h.i.Tf.sy="blocklyCursor";h.i.Tf.vz="blocklyMarker";h.i.Tf.bz=.75;b=h.i.Tf.prototype;b.ka=function(){return this.O};b.dl=function(){return this.Pr};b.Ne=function(){return"cursor"==this.Pr.type};
b.Qa=function(){var a=this.Ne()?h.i.Tf.sy:h.i.Tf.vz;this.O=h.g.j.L(h.g.F.Ic,{"class":a},null);this.Ef=h.g.j.L(h.g.F.Ic,{width:this.s.ym,height:this.s.Ju},this.O);this.Eg=h.g.j.L(h.g.F.qd,{width:this.s.ym,height:this.s.Ju,style:"display: none"},this.Ef);this.Vh=h.g.j.L(h.g.F.qd,{"class":"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.Ef);this.Uh=h.g.j.L(h.g.F.we,{transform:"",style:"display: none"},this.Ef);this.Df=h.g.j.L(h.g.F.we,{transform:"",style:"display: none",fill:"none","stroke-width":this.s.ty},
this.Ef);this.Ne()&&(a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.td+";transparent;transparent;",repeatCount:"indefinite"},h.g.j.L(h.g.F.Po,a,this.Eg),h.g.j.L(h.g.F.Po,a,this.Uh),a.attributeName="stroke",h.g.j.L(h.g.F.Po,a,this.Df));return this.O};function xd(a,c){a.Ne()?(a.Cl&&a.Cl.Gf(null),c.Gf(a.ka())):(a.Cl&&a.Cl.Sg(null),c.Sg(a.ka()));a.Cl=c}
b.draw=function(a,c){if(c){this.s=this.m.ib.ca();var d=this.Ne()?this.s.wm:this.s.Hm;this.td=this.Pr.nb||d;this.Eg.setAttribute("fill",this.td);this.Vh.setAttribute("stroke",this.td);this.Uh.setAttribute("fill",this.td);this.Df.setAttribute("stroke",this.td);this.Ne()&&(d=this.td+";transparent;transparent;",this.Eg.firstChild.setAttribute("values",d),this.Uh.firstChild.setAttribute("values",d),this.Df.firstChild.setAttribute("values",d));d=c.xa.type;if(c.getType()==h.D.types.Kb)yd(this,c);else if(c.getType()==
h.D.types.lh)yd(this,c);else if(d==h.Z.Ub){var e=c.xa;d=e.$();var f=e.Zh.x,g=e.Zh.y;e=h.g.A.moveTo(0,0)+za(this.s,e).Hd;this.Uh.setAttribute("d",e);this.Uh.setAttribute("transform","translate("+f+","+g+")"+(this.m.J?" scale(-1 1)":""));this.dj=this.Uh;xd(this,d);zd(this)}else if(d==h.Z.Vb)g=c.xa,d=g.$(),f=0,g=g.Zh.y,e=r(d).width,this.m.J&&(f=-e),Ad(this,f,g,e),xd(this,d),zd(this);else if(c.getType()==h.D.types.Yf)yd(this,c);else if(c.getType()==h.D.types.sc)d=c.xa,f=d.xf().width,g=d.xf().height,Bd(this,
0,0,f,g),xd(this,d),zd(this);else if(c.getType()==h.D.types.Lc)f=c.Vx,d=f.x,f=f.y,this.m.J&&(d-=this.s.ym),Ad(this,d,f,this.s.ym),xd(this,this.m),zd(this);else if(c.getType()==h.D.types.nh){d=c.xa;g=r(d);f=g.width+this.s.xm;g=g.height+this.s.xm;var k=e=-this.s.xm/2,l=-this.s.xm/2;this.m.J&&(k=-(f+e));Bd(this,k,l,f,g);xd(this,d);zd(this)}d=c.$();a=new (h.h.get(h.h.qp))(d,this.Ne(),a,c);h.h.Aa(a);a=this.dj.childNodes[0];void 0!==a&&a.beginElement&&a.beginElement()}else this.Va()};
function yd(a,c){c=c.$();var d=c.width,e=c.height,f=e*h.i.Tf.bz,g=a.s.qy;if(c.da){var k=za(a.s,c.da);e=k;d=h.g.A.moveBy(-g,f)+h.g.A.X("V",-g)+h.g.A.X("H",a.s.nk)+e.Mg+h.g.A.X("H",d+2*g)+h.g.A.X("V",f);a.Df.setAttribute("d",d)}else c.T?(f=k=za(a.s,c.T),d=h.g.A.moveBy(d,0)+h.g.A.X("h",-(d-f.width))+h.g.A.X("v",a.s.Oi)+f.Hd+h.g.A.X("V",e)+h.g.A.X("H",d),a.Df.setAttribute("d",d)):(d=h.g.A.moveBy(-g,f)+h.g.A.X("V",-g)+h.g.A.X("H",d+2*g)+h.g.A.X("V",f),a.Df.setAttribute("d",d));a.m.J&&a.Wk(a.Df);a.dj=a.Df;
xd(a,c);zd(a)}function zd(a){a.Va();a.dj.style.display=""}function Ad(a,c,d,e){a.Eg.setAttribute("x",c);a.Eg.setAttribute("y",d);a.Eg.setAttribute("width",e);a.dj=a.Eg}function Bd(a,c,d,e,f){a.Vh.setAttribute("x",c);a.Vh.setAttribute("y",d);a.Vh.setAttribute("width",e);a.Vh.setAttribute("height",f);a.dj=a.Vh}b.Wk=function(a){a.setAttribute("transform","scale(-1 1)")};b.Va=function(){this.Eg.style.display="none";this.Vh.style.display="none";this.Uh.style.display="none";this.Df.style.display="none"};
b.H=function(){this.O&&h.g.j.removeNode(this.O)};h.i.cf=function(a,c,d){this.gb=d;this.We=a;this.Eb=h.g.j.L(h.g.F.we,{"class":"blocklyPath"},this.We);this.style=c;this.Or=this.Lk=null};b=h.i.cf.prototype;b.Os=function(a){this.Eb.setAttribute("d",a)};b.Xq=function(){this.Eb.setAttribute("transform","scale(-1 1)")};b.Gf=function(a){a?(this.We.appendChild(a),this.Lk=a):this.Lk=null};b.Sg=function(a){a?(this.Lk?this.We.insertBefore(a,this.Lk):this.We.appendChild(a),this.Or=a):this.Or=null};
b.Yb=function(a){this.Eb.setAttribute("stroke",this.style.aj);this.Eb.setAttribute("fill",this.style.uh);this.Jx(a.Fa);this.ft(!a.isEnabled()||ec(a))};b.ji=function(a){this.style=a};function ya(a,c,d){d?h.g.j.Fb(a.We,c):h.g.j.Vc(a.We,c)}b.Hx=function(a){a?this.Eb.setAttribute("filter","url(#"+this.gb.Bn+")"):this.Eb.setAttribute("filter","none")};b.Jx=function(a){a&&(this.Eb.setAttribute("stroke","none"),this.Eb.setAttribute("fill",this.style.mn))};
b.ft=function(a){ya(this,"blocklyDisabled",a);a&&this.Eb.setAttribute("fill","url(#"+this.gb.zv+")")};h.i.df=function(a){this.name=a;this.ns=this.s=null};b=h.i.df.prototype;b.Zd=function(){return this.name+"-renderer"};b.wa=function(a,c){this.s=this.Jr();c&&(this.ns=c,h.g.object.Fg(this.s,c));this.s.Pl(a);this.s.wa()};b.Qa=function(a,c){this.s.Qa(a,this.name+"-"+c.name,"."+this.Zd()+"."+c.Zd())};b.xs=function(a,c){var d=this.ca();d.H();this.s=this.Jr();this.ns&&h.g.object.Fg(this.s,this.ns);this.s.xo=d.xo;this.s.Pl(c);this.s.wa();this.Qa(a,c)};b.H=function(){this.s&&this.s.H()};b.Jr=function(){return new h.i.af};
b.Dw=function(a){return new h.i.Sd(this,a)};b.Bw=function(a,c){return new h.i.rc(a,c)};b.Cw=function(a,c){return new h.i.cf(a,c,this.s)};b.ca=function(){return this.s};b.Ia=function(a){var c=this.Dw(a);c.measure();this.Bw(a,c).draw()};h.ba={};h.ba.af=function(){h.ba.af.v.constructor.call(this);this.ep=!1;this.Tb=1;this.wz=30;this.xu=-this.up/2};h.g.object.U(h.ba.af,h.i.af);h.ba.af.prototype.ar=function(a){return h.ba.af.v.ar.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.Em+";","stroke: none;","}"])};h.ba.Ot=function(a){this.ma=a;this.kl=this.ga="";this.Wb=this.ma.J;a=a.ib;this.s=a.ca();this.cd=a.cd;this.Qc=this.cd.OFFSET;this.ms=this.cd.Iz;this.tj=this.cd.kz;this.Hl=this.cd.zp;this.RC=this.cd.Gi;this.RD=this.cd.Li;this.xw=this.cd.Ci};h.ba.Ot.prototype.Pk=function(a){this.ma.J&&(this.ga+=this.xw.Mg+h.g.A.X("v",a.height-this.xw.height-this.Qc))};
function Cd(a,c){var d=c.Da+c.width-a.Qc;c.Jv&&(a.ga+=h.g.A.X("H",d));a.Wb&&(a.ga+=h.g.A.X("H",d),c.height>a.Qc&&(a.ga+=h.g.A.X("V",c.Rb+c.height-a.Qc)))};h.ba.Rf=function(a,c){h.ba.Rf.v.constructor.call(this,a,c);this.jg&&(this.width+=this.s.Tb,this.height+=this.s.Tb)};h.g.object.U(h.ba.Rf,h.i.Rf);h.ba.$f=function(a,c){h.ba.$f.v.constructor.call(this,a,c);this.jg&&(this.height+=this.s.Tb)};h.g.object.U(h.ba.$f,h.i.$f);h.ba.Sd=function(a,c){h.ba.Sd.v.constructor.call(this,a,c)};h.g.object.U(h.ba.Sd,h.i.Sd);b=h.ba.Sd.prototype;b.ts=function(){h.ba.Sd.v.ts.call(this);this.Ka.V.length&&this.Ka.V[this.Ka.V.length-1].type==h.Ba.ic||(this.mb.minHeight=this.s.nd-this.s.Tb)};
b.Su=function(a,c){this.vj&&a.type==h.Ba.ze?(c.elements.push(new h.ba.Rf(this.s,a)),c.pr=!0):a.type==h.Ba.ic?(c.elements.push(new h.ba.$f(this.s,a)),c.Ib=!0):a.type==h.Ba.ze?(c.elements.push(new h.i.Bm(this.s,a)),c.tg=!0):a.type==h.Ba.se&&(c.minHeight=Math.max(c.minHeight,this.s.Dt),c.pj=!0);this.vj||null!=c.align||(c.align=a.align)};
b.Ru=function(){for(var a=!1,c=0,d;d=this.rows[c];c++)d.tg&&(a=!0);for(c=0;d=this.rows[c];c++){var e=d.elements;d.elements=[];d.Go()&&d.elements.push(new h.i.bf(this.s,this.Ch(null,e[0])));if(e.length){for(var f=0;f<e.length-1;f++){d.elements.push(e[f]);var g=this.Ch(e[f],e[f+1]);d.elements.push(new h.i.bf(this.s,g))}d.elements.push(e[e.length-1]);d.Rk()&&(g=this.Ch(e[e.length-1],null),a&&d.pj&&(g+=this.s.Um),d.elements.push(new h.i.bf(this.s,g)))}}};
b.Ch=function(a,c){if(!a)return c&&h.i.o.Af(c)&&c.Ad?this.s.nd:c&&h.i.o.xg(c)?this.s.cu:c&&h.i.o.Qh(c)?this.s.zu:this.s.uc;if(!h.i.o.yg(a)&&(!c||h.i.o.Qh(c)))return h.i.o.Af(a)&&a.Ad?this.s.nd:h.i.o.uj(a)?2*this.s.uc+1:h.i.o.Ph(a)?this.s.ve:h.i.o.wC(a)?this.s.uc:h.i.o.zg(a)?this.s.zz:h.i.o.tw(a)?this.s.ve:this.s.uc;if(h.i.o.yg(a)&&!c){if(h.i.o.nl(a))return this.s.ve;if(h.i.o.xg(a))return this.s.uc;if(h.i.o.Qh(a))return this.s.ve}if(!h.i.o.yg(a)&&c&&h.i.o.yg(c)){if(h.i.o.Af(a)&&a.Ad){if(h.i.o.xg(c)||
h.i.o.nl(c))return this.s.Zz}else{if(h.i.o.xg(c)||h.i.o.nl(c))return this.s.cu;if(h.i.o.Qh(c))return this.s.uc}return this.s.uc-1}if(h.i.o.uj(a)&&c&&!h.i.o.yg(c))return this.s.uc;if(h.i.o.xg(a)&&c&&h.i.o.Af(c))return c.Ad?this.s.nd:this.s.uc;if(h.i.o.ol(a)&&c){if(h.i.o.Ph(c))return this.s.ve;if(h.i.o.yj(c))return c.Fd;if(h.i.o.Ag(c))return a=(this.J?1:-1)*this.s.Tb/2,c.Fd+a}if(h.i.o.zg(a)&&c){if(h.i.o.yj(c))return c.Fd-this.s.kb;if(h.i.o.Ag(c))return a=(this.J?1:-1)*this.s.Tb/2,c.Fd-this.s.kb+a}return h.i.o.Af(a)&&
c&&h.i.o.Af(c)&&a.Ad==c.Ad||c&&h.i.o.tw(c)?this.s.uc:this.s.nd};b.$v=function(a,c){return h.i.o.Vn(a)&&h.i.o.Nn(c)?this.s.Fy:h.i.o.Vn(a)||h.i.o.Nn(c)?this.s.ve:a.tg&&c.tg?this.s.uc:!a.Ib&&c.Ib?this.s.gy:a.Ib&&c.Ib||!a.Ib&&c.pj||a.pj?this.s.uc:this.s.nd};
b.Qv=function(a,c){if(h.i.o.Bd(c))return a.Rb+c.height/2;if(h.i.o.Nn(a))return a=a.Rb+a.height-a.Mk,h.i.o.Ag(c)?a+c.height/2:a-c.height/2;if(h.i.o.Vn(a))return h.i.o.Ph(c)?a.mf-c.height/2:a.mf+c.height/2;var d=a.Rb;h.i.o.Af(c)||h.i.o.uj(c)?(d+=c.height/2,(a.pr||a.Ib)&&c.height+this.s.Au<=a.height&&(d+=this.s.Au)):d=h.i.o.xg(c)?d+c.height/2:d+a.height/2;return d};
b.Tp=function(){if(this.vj){for(var a=0,c=null,d=this.rows.length-1,e;e=this.rows[d];d--)e.Wr=a,h.i.o.rC(e)&&(e.Ib&&qd(this,e),c&&c.Ib&&e.width<c.width?e.Wr=c.width:a=e.width,c=e);for(d=a=0;e=this.rows[d];d++)e.Ib?a=this.bl(e):h.i.o.Bd(e)?e.width=Math.max(a,e.Wr):(a=Math.max(a,e.Wr)-e.width,0<a&&rd(e,a),a=e.width)}else h.ba.Sd.v.Tp.call(this)};b.bl=function(a){return this.vj&&a.Ib?this.Ug+this.s.wz+this.Kd:h.ba.Sd.v.bl.call(this,a)};
b.Fv=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++){e.Rb=c;e.Da=this.Kd;c+=e.height;a=Math.max(a,e.me);var f=c-this.Jb.Ui;e==this.mb&&f<this.s.jk&&(f=this.s.jk-f,this.mb.height+=f,c+=f);sd(this,e)}this.T&&this.Ka.ea&&this.Ka.ea.isConnected()&&(a=Math.max(a,r(this.Ka.ea.la()).width-this.s.Tb));this.mb.Ud=c-this.mb.Mk;this.Qj=a+this.Kd+this.s.Tb;this.width+=this.s.Tb;this.height=c+this.s.Tb;this.Fo=this.Jb.mf};h.ba.rc=function(a,c){h.ba.rc.v.constructor.call(this,a,c);this.Me=new h.ba.Ot(c)};h.g.object.U(h.ba.rc,h.i.rc);b=h.ba.rc.prototype;b.draw=function(){td(this);ud(this);vd(this);var a=this.Ka.tb;a.Os(this.Ga+"\n"+this.Mn);var c=this.Me;a.ki.setAttribute("d",c.ga+"\n"+c.kl);this.ma.J&&a.Xq();wd(this)};
b.Qq=function(){var a=this.Me,c=this.ma.Jb;a.ga+=h.g.A.moveBy(c.Da,a.ma.Fo);for(var d=0,e;e=c.elements[d];d++)h.i.o.ol(e)?a.ga+=a.cd.wu:h.i.o.zg(e)?a.ga+=a.ms.ct(a.Wb):h.i.o.yj(e)?a.ga+=a.RC.Mg:h.i.o.Ph(e)?a.ga+=a.RD.path(a.Wb):h.i.o.Bd(e)&&0!=e.width&&(a.ga+=h.g.A.X("H",e.Da+e.width-a.Qc));a.ga+=h.g.A.X("H",c.Da+c.width-a.Qc);Cd(this.Me,this.ma.Jb);h.ba.rc.v.Qq.call(this)};b.Pk=function(a){this.Me.Pk(a);h.ba.rc.v.Pk.call(this,a)};
b.Rq=function(a){var c=this.Me,d=O(a);if(c.Wb){var e=a.height-d.bj;c.ga+=h.g.A.moveTo(d.Da+d.width-c.Qc,a.Rb)+c.Hl.Hd(c.Wb)+h.g.A.X("v",e)}else c.ga+=h.g.A.moveTo(d.Da+d.width,a.Rb)+c.Hl.Hd(c.Wb);h.ba.rc.v.Rq.call(this,a)};
b.Pq=function(a){var c=this.Me,d=O(a);if(c.Wb){var e=a.height-2*c.tj.height;c.ga+=h.g.A.moveTo(d.Da,a.Rb)+c.tj.qs(c.Wb)+h.g.A.X("v",e)+c.tj.uo(c.Wb)+h.g.A.lineTo(a.width-d.Da-c.tj.width,0)}else c.ga+=h.g.A.moveTo(d.Da,a.Rb+a.height)+c.tj.uo(c.Wb)+h.g.A.lineTo(a.width-d.Da-c.tj.width,0);h.ba.rc.v.Pq.call(this,a)};b.Dv=function(a){Cd(this.Me,a);this.Ga+=h.g.A.X("H",a.Da+a.width)+h.g.A.X("V",a.Rb+a.height)};
b.Mq=function(){var a=this.Me,c=this.ma.mb;if(a.Wb)a.ga+=h.g.A.X("V",c.Ud-a.Qc);else{var d=a.ma.mb.elements[0];h.i.o.ol(d)?a.ga+=h.g.A.moveTo(c.Da+a.Qc,c.Ud-a.Qc):h.i.o.zg(d)&&(a.ga+=h.g.A.moveTo(c.Da,c.Ud),a.ga+=a.ms.cq())}h.ba.rc.v.Mq.call(this)};
b.Oq=function(){var a=this.Me,c=a.ma.T;c&&(c=c.bd+c.height,a.Wb?a.ga+=h.g.A.moveTo(a.ma.Kd,c):(a.ga+=h.g.A.moveTo(a.ma.Kd+a.Qc,a.ma.mb.Ud-a.Qc),a.ga+=h.g.A.X("V",c)),a.ga+=a.Hl.Dl(a.Wb));a.Wb||(c=a.ma.Jb,a.ga=h.i.o.zg(c.elements[0])?a.ga+h.g.A.X("V",a.ms.height):a.ga+h.g.A.X("V",c.mf+a.Qc));h.ba.rc.v.Oq.call(this)};
b.Nq=function(a){var c=this.Me,d=c.Qc,e=a.Da+a.De,f=a.Yi-a.height/2,g=a.width-a.De,k=f+d;if(c.Wb){f=a.bd-d;var l=a.height-(a.bd+a.bj)+d;c.kl+=h.g.A.moveTo(e-d,k)+h.g.A.X("v",f)+c.Hl.Hd(c.Wb)+h.g.A.X("v",l)+h.g.A.X("h",g)}else c.kl+=h.g.A.moveTo(a.Da+a.width+d,k)+h.g.A.X("v",a.height)+h.g.A.X("h",-g)+h.g.A.moveTo(e,f+a.bd)+c.Hl.Hd(c.Wb);h.ba.rc.v.Nq.call(this,a)};b.ex=function(a){var c=a.Yi-a.height/2;if(a.zc){var d=a.Da+a.De+this.s.Tb;this.ma.J&&(d*=-1);G(a.zc,d,c+a.bd+this.s.Tb)}};
b.hx=function(a){var c=O(a);if(c.zc){var d=a.Da+a.Ug+c.Fd;d=this.ma.J?-1*d:d+this.s.Tb;G(c.zc,d,a.Rb+this.s.Tb)}};b.bx=function(a){var c=O(a);if(c.zc){var d=a.Da+a.width+this.s.Tb;this.ma.J&&(d*=-1);G(c.zc,d,a.Rb)}};b.gx=function(){var a=this.ma.mb;if(a.connection){var c=a.connection,d=c.Da;G(c.zc,(this.ma.J?-d:d)+this.s.Tb/2,a.Ud+this.s.Tb)}};h.ba.Nt=function(a){this.cj=a;this.OFFSET=.5;this.wu=h.g.A.moveBy(this.OFFSET,this.OFFSET)};b=h.ba.Nt.prototype;b.wa=function(){this.kz=Dd(this);this.Iz=Ed(this);this.zp=this.Mr();this.Gi=this.Lr();this.Ci=this.Kr();this.Li=this.Nr()};
function Dd(a){var c=a.cj.kb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c+a)-a,e=h.g.A.moveBy(d,d)+h.g.A.arc("a","0 0,0",c,h.g.A.Ca(-d-a,c-d)),f=h.g.A.arc("a","0 0,0",c+a,h.g.A.Ca(c+a,c+a)),g=h.g.A.moveBy(d,-d)+h.g.A.arc("a","0 0,0",c+a,h.g.A.Ca(c-d,d+a));return{width:c+a,height:c,qs:function(k){return k?e:""},uo:function(k){return k?f:g}}}
function Ed(a){var c=a.cj.kb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c-a)+a,e=h.g.A.moveBy(d,d)+h.g.A.arc("a","0 0,1",c-a,h.g.A.Ca(c-d,-d+a)),f=h.g.A.moveBy(a,c)+h.g.A.arc("a","0 0,1",c-a,h.g.A.Ca(c,-c+a)),g=-d,k=h.g.A.moveBy(d,g)+h.g.A.arc("a","0 0,1",c-a,h.g.A.Ca(-d+a,-g-c));return{height:c,ct:function(l){return l?e:f},cq:function(){return k}}}
b.Mr=function(){var a=this.cj.Um,c=this.cj.rk,d=h.g.A.moveBy(-2,-c+3.4)+h.g.A.lineTo(-.45*a,-2.1),e=h.g.A.X("v",2.5)+h.g.A.moveBy(.97*-a,2.5)+h.g.A.curve("q",[h.g.A.Ca(.05*-a,10),h.g.A.Ca(.3*a,9.5)])+h.g.A.moveBy(.67*a,-1.9)+h.g.A.X("v",2.5),f=h.g.A.X("v",-1.5)+h.g.A.moveBy(-.92*a,-.5)+h.g.A.curve("q",[h.g.A.Ca(-.19*a,-5.5),h.g.A.Ca(0,-11)])+h.g.A.moveBy(.92*a,1),g=h.g.A.moveBy(-5,c-.7)+h.g.A.lineTo(.46*a,-2.1);return{width:a,height:c,Dl:function(k){return k?d:f},Hd:function(k){return k?e:g}}};
b.Lr=function(){return{Mg:h.g.A.X("h",this.OFFSET)+this.cj.Gi.Mg}};b.Kr=function(){return{Mg:h.g.A.lineTo(5.1,2.6)+h.g.A.moveBy(-10.2,6.8)+h.g.A.lineTo(5.1,2.6),height:12,width:10.2}};b.Nr=function(){var a=this.cj.Li.height,c=h.g.A.moveBy(25,-8.7)+h.g.A.curve("c",[h.g.A.Ca(29.7,-6.2),h.g.A.Ca(57.2,-.5),h.g.A.Ca(75,8.7)]),d=h.g.A.curve("c",[h.g.A.Ca(17.8,-9.2),h.g.A.Ca(45.3,-14.9),h.g.A.Ca(75,-8.7)])+h.g.A.moveTo(100.5,a+.5);return{path:function(e){return e?c:d}}};h.ba.cf=function(a,c,d){this.gb=d;this.We=a;this.$l=h.g.j.L(h.g.F.we,{"class":"blocklyPathDark",transform:"translate(1,1)"},this.We);this.Eb=h.g.j.L(h.g.F.we,{"class":"blocklyPath"},this.We);this.ki=h.g.j.L(h.g.F.we,{"class":"blocklyPathLight"},this.We);this.qq="#000000";this.style=c};h.g.object.U(h.ba.cf,h.i.cf);b=h.ba.cf.prototype;b.Os=function(a){this.Eb.setAttribute("d",a);this.$l.setAttribute("d",a)};
b.Xq=function(){this.Eb.setAttribute("transform","scale(-1 1)");this.ki.setAttribute("transform","scale(-1 1)");this.$l.setAttribute("transform","translate(1,1) scale(-1 1)")};b.Yb=function(a){this.ki.style.display="";this.$l.style.display="";this.ki.setAttribute("stroke",this.style.aj);this.$l.setAttribute("fill",this.qq);h.ba.cf.v.Yb.call(this,a);this.Eb.setAttribute("stroke","none")};b.ji=function(a){this.style=a;this.qq=h.g.nb.$p("#000",this.style.uh,.2)||this.qq};
b.Hx=function(a){a?(this.Eb.setAttribute("filter","url(#"+this.gb.Bn+")"),this.ki.style.display="none"):(this.Eb.setAttribute("filter","none"),this.ki.style.display="inline")};b.Jx=function(a){a&&(this.ki.style.display="none",this.$l.setAttribute("fill",this.style.mn),this.Eb.setAttribute("stroke","none"),this.Eb.setAttribute("fill",this.style.mn))};b.ft=function(a){h.ba.cf.v.ft.call(this,a);a&&this.Eb.setAttribute("stroke","none")};h.ba.df=function(a){h.ba.df.v.constructor.call(this,a);this.cd=null};h.g.object.U(h.ba.df,h.i.df);b=h.ba.df.prototype;b.wa=function(a,c){h.ba.df.v.wa.call(this,a,c);this.cd=new h.ba.Nt(this.ca());this.cd.wa()};b.xs=function(a,c){h.ba.df.v.xs.call(this,a,c);this.cd.wa()};b.Jr=function(){return new h.ba.af};b.Dw=function(a){return new h.ba.Sd(this,a)};b.Bw=function(a,c){return new h.ba.rc(a,c)};b.Cw=function(a,c){return new h.ba.cf(a,c,this.ca())};h.i.register("geras",h.ba.df);h.M.ADD_COMMENT="\u091f\u093f\u092a\u094d\u092a\u0923\u0940 \u091b\u094b\u0921\u093c\u0947\u0902";h.M.CANNOT_DELETE_VARIABLE_PROCEDURE="\u091a\u0930 '%1' \u0915\u094b \u0928\u0939\u0940\u0902 \u0939\u091f\u093e \u0938\u0915\u0924\u093e \u0915\u094d\u092f\u094b\u0902\u0915\u093f \u092f\u0939 \u092b\u093c\u0902\u0915\u094d\u0936\u0928 '%2' \u0915\u0940 \u092a\u0930\u093f\u092d\u093e\u0937\u093e \u0915\u093e \u0939\u093f\u0938\u094d\u0938\u093e \u0939\u0948";h.M.CLEAN_UP="\u0916\u093e\u0928\u094b\u0902 \u0915\u094b \u0938\u093e\u092b \u0915\u0930\u0947\u0902";
h.M.COLLAPSE_ALL="\u092c\u094d\u0932\u0949\u0915 \u0938\u0902\u0915\u094d\u0937\u093f\u092a\u094d\u0924 \u0915\u0930\u0947\u0902";h.M.COLLAPSE_BLOCK="\u092c\u094d\u0932\u0949\u0915 \u0915\u094b \u0938\u0902\u0915\u094d\u0937\u093f\u092a\u094d\u0924 \u0915\u0930\u0947\u0902";h.M.DELETE_ALL_BLOCKS="\u0938\u092d\u0940 %1 \u0916\u093e\u0928\u094b\u0902 \u0915\u094b \u0939\u091f\u093e \u0926\u0947\u0902?";h.M.DELETE_BLOCK="\u092c\u094d\u0932\u0949\u0915 \u0939\u091f\u093e\u090f\u0901";
h.M.DELETE_VARIABLE_CONFIRMATION="'%2' \u091a\u0930 \u0915\u0947 %1 \u0909\u092a\u092f\u094b\u0917 \u0915\u094b \u0939\u091f\u093e\u090f\u0901?";h.M.DELETE_X_BLOCKS="%1 \u092c\u094d\u0932\u0949\u0915 \u0939\u091f\u093e\u090f\u0901";h.M.DIALOG_CANCEL="\u0930\u0926\u094d\u0926 \u0915\u0930\u0947\u0902";h.M.DIALOG_OK="\u0920\u0940\u0915 \u0939\u0948";h.M.DISABLE_BLOCK="\u092c\u094d\u0932\u0949\u0915 \u0915\u094b \u0905\u0915\u094d\u0937\u092e \u0915\u0930\u0947\u0902";h.M.DUPLICATE_BLOCK="\u0915\u0949\u092a\u0940 \u0915\u0930\u0947\u0902";
h.M.DUPLICATE_COMMENT="Duplicate Comment";h.M.ENABLE_BLOCK="\u092c\u094d\u0932\u0949\u0915 \u0915\u094b \u0938\u0915\u094d\u0937\u092e \u0915\u0930\u0947\u0902";h.M.EXPAND_ALL="\u092c\u094d\u0932\u0949\u0915 \u0935\u093f\u0938\u094d\u0924\u093e\u0930 \u0915\u0930\u0947\u0902";h.M.EXPAND_BLOCK="\u092c\u094d\u0932\u0949\u0915 \u0915\u093e \u0935\u093f\u0938\u094d\u0924\u093e\u0930 \u0915\u0930\u0947\u0902";h.M.EXTERNAL_INPUTS="\u092c\u093e\u0939\u0930\u0940 \u0907\u0928\u092a\u0941\u091f";
h.M.HELP="\u0938\u0939\u093e\u092f\u0924\u093e";h.M.INLINE_INPUTS="\u0907\u0928\u0932\u093e\u0907\u0928 \u0907\u0928\u092a\u0941\u091f";h.M.NEW_VARIABLE="\u091a\u0930 \u092c\u0928\u093e\u090f\u0901...";h.M.NEW_VARIABLE_TITLE="\u0928\u090f \u091a\u0930 \u0915\u093e \u0928\u093e\u092e:";h.M.PROCEDURES_DEFNORETURN_PROCEDURE="\u0915\u0941\u091b \u0915\u0930\u0947\u0902";h.M.REDO="\u092b\u093f\u0930 \u0938\u0947 \u0915\u0930\u0947\u0902";h.M.REMOVE_COMMENT="\u091f\u093f\u092a\u094d\u092a\u0923\u0940 \u0939\u091f\u093e\u092f\u0947\u0902";
h.M.RENAME_VARIABLE="\u091a\u0930 \u0915\u093e \u0928\u093e\u092e \u092c\u0926\u0932\u0947\u0902...";h.M.RENAME_VARIABLE_TITLE="\u0938\u092d\u0940 '%1' \u091a\u0930\u094b\u0902 \u0915\u0947 \u0928\u093e\u092e \u092c\u0926\u0932\u0947\u0902:";h.M.UNDO="\u092a\u0942\u0930\u094d\u0935\u0935\u0924 \u0915\u0930\u0947\u0902";h.M.UNNAMED_KEY="\u0905\u091c\u094d\u091e\u093e\u0924";h.M.VARIABLE_ALREADY_EXISTS="\u092a\u094d\u0930\u093e\u091a\u0932 \u0928\u093e\u092e '%1' \u092a\u0939\u0932\u0947 \u0938\u0947 \u092e\u094c\u091c\u0942\u0926 \u0939\u0948\u0964";
h.M.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="'%1' \u0928\u093e\u092e \u0915\u093e \u090f\u0915 \u091a\u0930 \u092a\u0939\u0932\u0947 \u0938\u0947 '%2' \u092a\u094d\u0930\u0915\u093e\u0930 \u0915\u0947 \u0905\u0928\u094d\u092f \u091a\u0930 \u0915\u0947 \u0932\u093f\u090f \u092e\u094c\u091c\u0942\u0926 \u0939\u0948\u0964";h.M.WORKSPACE_ARIA_LABEL="Blockly Workspace";h.M.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";h.M.PROCEDURES_DEFRETURN_PROCEDURE=h.M.PROCEDURES_DEFNORETURN_PROCEDURE;var BlocklyStorage={},Fd=null,Gd=null,Hd=null;function Id(){var a=Fd();Jd("xml="+encodeURIComponent(a),Kd)}var Ld={};
function Jd(a,c){Ld["/storage"]&&Ld["/storage"].abort();Ld["/storage"]=new XMLHttpRequest;Ld["/storage"].onload=function(){200===this.status?c&&c.call(this):Md(N("Games_httpRequestError")+"\nXHR status: "+this.status);Ld["/storage"]=null};Ld["/storage"].open("POST","/storage");Ld["/storage"].setRequestHeader("Content-Type","application/x-www-form-urlencoded");Ld["/storage"].send(a)}
function Kd(){window.location.hash=this.responseText.trim();Md(N("Games_linkAlert").replace("%1",window.location.href));Hd=Fd()}function Nd(){var a=this.responseText.trim();a.length?Gd(a):Md(N("Games_hashError").replace("%1",window.location.hash));Hd=Fd()}function Md(a){if("object"===typeof P){var c=document.getElementById("linkButton");P.UD(c,a)}else alert(a)};var A=null,Od="",Pd="";function Qd(){kd();var a=document.getElementById("linkButton");a&&(gd?a.style.display="none":(Fd=Rd,Gd=Sd,od(a,Id)));(a=document.getElementById("languageMenu"))&&a.addEventListener("change",Td,!0)}
function Ud(){var a='<xml><block movable="'+(1!=M)+'" type="maze_moveForward" x="70" y="70"></block></xml>';if(!gd&&1<window.location.hash.length)Jd("key="+encodeURIComponent(window.location.hash.substring(1)),Nd);else{var c=null;try{c=window.sessionStorage.Hr}catch(e){}c&&delete window.sessionStorage.Hr;var d=ld(M);(a=c||d||a)&&Sd(a)}}function Sd(a){a=h.I.ke(a);A.clear();h.I.yh(a,A);a=A;a.ni.length=0;a.Il.length=0;h.h.TA()}
function Rd(){var a=h.I.Rx(!0);if(1==A.pb(!1).length&&a.querySelector){var c=a.querySelector("block");c&&(c.removeAttribute("x"),c.removeAttribute("y"))}return h.I.wd(a)}function Vd(){"object"==typeof BlocklyStorage&&null!==Hd&&Hd!=Rd()&&(window.location.hash="",Hd=null)}function Wd(a){var c=document.getElementById("toolbox");c&&(a.toolbox=c);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;A=h.vg("blockly",a);E(A,Vd)}function Xd(){window.location=(gd?"index.html":"./")+"?lang="+L}
function Td(){window.sessionStorage&&(window.sessionStorage.Hr=Rd());var a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var c=window.location.search;c=1>=c.length?"?lang="+a:/[?&]lang=[^&]*/.test(c)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c}
function Yd(){10>M?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+L+"&level="+(M+1):Xd()}function Zd(a){if(a){var c=a.match(/^block_id_([^']+)$/);c&&(a=c[1])}Vc(a)}function $d(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")}function ae(a){if("click"==a.type&&"touchend"==be&&ce+2E3>Date.now()||be==a.type&&ce+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;be=a.type;ce=Date.now();return!1}
var be=null,ce=0;function de(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)}function ee(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)};var P={Mh:!1,wv:null,vn:null,Rl:function(a,c,d,e,f,g){function k(){if(P.Mh){l.style.visibility="visible";l.style.zIndex=10;m.style.visibility="hidden";var p=a.getElementsByClassName("primary");p.length||(p=a.getElementsByClassName("secondary"),p.length||(p=a.getElementsByTagName("button")));p.length&&p[0].focus()}}if(!a)throw TypeError("Content not found: "+a);P.Mh&&P.Le(!1);h.pg()&&h.ac(!0);P.Mh=!0;P.wv=c;P.vn=g;var l=document.getElementById("dialog");g=document.getElementById("dialogShadow");var m=
document.getElementById("dialogBorder"),n;for(n in f)window.matchMedia("(max-width: 500px)").matches&&(f={width:"50%",left:"5%",top:"15%"}),l.style[n]=f[n];e&&(g.style.visibility="visible",g.style.opacity=.3,g.style.zIndex=9,e=document.createElement("div"),e.id="dialogHeader",l.appendChild(e),P.zq=h.sh(e,"mousedown",null,P.mB));f=a.getElementsByClassName("dialogOk");for(e=0;e<f.length;e++)f[e].textContent=h.M.DIALOG_OK;f=a.getElementsByClassName("dialogCancel");for(e=0;e<f.length;e++)f[e].textContent=
h.M.DIALOG_CANCEL;l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");try{c.blur()}catch(p){}d&&c?(P.bo(c,!1,.2),P.bo(l,!0,.8),setTimeout(k,175)):k()},xv:0,yv:0,mB:function(a){P.Cq();if(!h.g.pl(a)){var c=document.getElementById("dialog");P.xv=c.offsetLeft-a.clientX;P.yv=c.offsetTop-a.clientY;P.Bq=h.sh(document,"mouseup",null,P.Cq);P.Aq=h.sh(document,"mousemove",null,P.nB);a.stopPropagation()}},nB:function(a){var c=document.getElementById("dialog"),d=P.xv+a.clientX;a=P.yv+a.clientY;
a=Math.max(a,0);a=Math.min(a,window.innerHeight-c.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-c.offsetWidth);c.style.left=d+"px";c.style.top=a+"px"},Cq:function(){P.Bq&&(h.Ko(P.Bq),P.Bq=null);P.Aq&&(h.Ko(P.Aq),P.Aq=null)},Le:function(a){function c(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(P.Mh){P.Cq();P.zq&&(h.Ko(P.zq),P.zq=null);P.Mh=!1;P.vn&&P.vn();P.vn=null;var d=!1===a?null:P.wv;a=document.getElementById("dialog");
var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(P.bo(a,!1,.8),P.bo(d,!0,.2),setTimeout(c,175)):c();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},bo:function(a,c,d){function e(){f.style.width=g.width+"px";f.style.height=g.height+"px";f.style.left=g.x+"px";f.style.top=g.y+"px";f.style.opacity=d}if(a){var f=
document.getElementById("dialogBorder"),g=P.Mv(a);c?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},Mv:function(a){var c=h.g.style.Dh(a);c={x:c.x,y:c.y};a.getBBox?(a=a.getBBox(),c.height=a.height,c.width=a.width):(c.height=a.offsetHeight,c.width=a.offsetWidth);return c},UD:function(a,c){var d=document.getElementById("containerStorage");d.textContent="";c=c.split("\n");for(var e=0;e<c.length;e++){var f=document.createElement("p");f.appendChild(document.createTextNode(c[e]));
d.appendChild(f)}d=document.getElementById("dialogStorage");P.Rl(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},P.Ax);P.xx()},Ou:function(){if(!ld(M))if(P.Mh||A.Rc())setTimeout(P.Ou,15E3);else{var a=document.getElementById("dialogAbort"),c=document.getElementById("abortCancel");c.addEventListener("click",P.Le,!0);c.addEventListener("touchend",P.Le,!0);c=document.getElementById("abortOk");c.addEventListener("click",Xd,!0);c.addEventListener("touchend",Xd,!0);P.Rl(a,null,!1,!0,{width:"40%",left:"30%",
top:"3em"},function(){document.body.removeEventListener("keydown",P.Nu,!0)});document.body.addEventListener("keydown",P.Nu,!0)}},ZA:function(){var a=document.getElementById("dialogDone");if(A){var c=document.getElementById("dialogLinesText");c.textContent="";var d=Pd;d=$d(d);var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");f.textContent=d;"function"==
typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=1==e?N("Games_linesOfCode1"):N("Games_linesOfCode2").replace("%1",String(e));c.appendChild(document.createTextNode(d))}d=10>M?N("Games_nextLevel").replace("%1",String(M+1)):N("Games_finalLevel");c=document.getElementById("doneCancel");c.addEventListener("click",P.Le,!0);c.addEventListener("touchend",P.Le,!0);c=document.getElementById("doneOk");c.addEventListener("click",Yd,!0);c.addEventListener("touchend",Yd,!0);P.Rl(a,
null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",P.hv,!0)});document.body.addEventListener("keydown",P.hv,!0);document.getElementById("dialogDoneText").textContent=d},wn:function(a){!P.Mh||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(P.Le(!0),a.stopPropagation(),a.preventDefault())},xx:function(){document.body.addEventListener("keydown",P.wn,!0)},Ax:function(){document.body.removeEventListener("keydown",P.wn,!0)},hv:function(a){P.wn(a);13!=a.keyCode&&
32!=a.keyCode||Yd()},Nu:function(a){P.wn(a);13!=a.keyCode&&32!=a.keyCode||Xd()}};window.BlocklyDialogs=P;P.hideDialog=P.Le;h.Generator=function(a){this.zl=a};b=h.Generator.prototype;b.Qt=null;b.Qm=null;b.Rm=null;b.iz="  ";b.my=60;b.Mm=[];b.Qn=null;function fe(a,c){return c+a.replace(/(?!\n$)\n/g,"\n"+c)}
function ge(a,c){!1===a.Qn&&console.warn("Generator init was not called before blockToCode was called.");if(!c)return"";if(!c.isEnabled())return ge(a,y(c));if(c.ed())return ge(a,ea(c,!1)[0]);var d=a[c.type];if("function"!=typeof d)throw Error('Language "'+a.zl+'" does not know how to generate code for block type "'+c.type+'".');d=d.call(c,c);if(Array.isArray(d)){if(!c.T)throw TypeError("Expecting string from statement block: "+c.type);return[a.Js(c,d[0]),d[1]]}if("string"==typeof d)return a.Qm&&!c.Xs&&
(d=he(a.Qm,c)+d),a.Rm&&!c.Xs&&(d+=he(a.Rm,c)),a.Js(c,d);if(null===d)return"";throw SyntaxError("Invalid code generated: "+d);}
function ie(a,c,d,e){if(isNaN(e))throw TypeError("Expecting valid order from block: "+c.type);var f=kc(c,d);if(!f)return"";d=ge(a,f);if(""===d)return"";if(!Array.isArray(d))throw TypeError("Expecting tuple from value block: "+f.type);c=d[0];d=d[1];if(isNaN(d))throw TypeError("Expecting valid order from value block: "+f.type);if(!c)return"";f=!1;var g=Math.floor(e),k=Math.floor(d);if(g<=k&&(g!=k||0!=g&&99!=g))for(f=!0,g=0;g<a.Mm.length;g++)if(a.Mm[g][0]==e&&a.Mm[g][1]==d){f=!1;break}f&&(c="("+c+")");
return c}function je(a,c){var d=h.P;a=kc(a,c);c=ge(d,a);if("string"!=typeof c)throw TypeError("Expecting code from statement block: "+(a&&a.type));c&&(c=fe(c,d.iz));return c}function he(a,c){c=c.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+c+"'")}b.Bp="";function ke(a,c){a.Bp+=c+","}
Object.defineProperty(h.Generator.prototype,"variableDB_",{get:function(){h.g.gj.warn("variableDB_","May 2021","May 2026","nameDB_");return this.Pe},set:function(a){h.g.gj.warn("variableDB_","May 2021","May 2026","nameDB_");this.Pe=a}});h.Generator.prototype.wa=function(){this.xq=Object.create(null);this.DB=Object.create(null)};h.Generator.prototype.Js=function(a,c){return c};h.Generator.prototype.finish=function(a){delete this.xq;delete this.DB;return a};h.Generator.prototype.sx=function(a){return a};h.P=new h.Generator("JavaScript");ke(h.P,"break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(h.g.global).join(","));h.P.EG=0;h.P.XG=1.1;h.P.Lm=1.2;h.P.Km=2;h.P.UG=3;h.P.NG=3;h.P.HG=4.1;h.P.$G=4.2;h.P.nu=4.3;h.P.ju=4.4;
h.P.ZG=4.5;h.P.aH=4.6;h.P.OG=4.7;h.P.FG=4.8;h.P.SG=5;h.P.lu=5.1;h.P.PG=5.2;h.P.WG=5.3;h.P.mu=6.1;h.P.Jm=6.2;h.P.JG=7;h.P.YG=8;h.P.TG=8;h.P.VG=8;h.P.QG=9;h.P.GG=10;h.P.KG=11;h.P.IG=12;h.P.iu=13;h.P.ku=14;h.P.MG=15;h.P.DG=16;h.P.bH=17;h.P.LG=18;h.P.Gz=99;h.P.Mm=[[h.P.Km,h.P.Lm],[h.P.Km,h.P.Km],[h.P.Lm,h.P.Lm],[h.P.Lm,h.P.Km],[h.P.ju,h.P.ju],[h.P.lu,h.P.lu],[h.P.Jm,h.P.Jm],[h.P.iu,h.P.iu],[h.P.ku,h.P.ku]];h.P.Qn=!1;
h.P.wa=function(a){Object.getPrototypeOf(this).wa.call(this);this.Pe?this.Pe.reset():this.Pe=new h.od(this.Bp);this.Pe.Qs(a.Ja);for(var c=this.Pe,d=h.ha.Up(a),e=0;e<d.length;e++)cd(c,d[e].$b(),h.qh);c=this.Pe;d=h.Na.Tu(a);d=d[0].concat(d[1]);for(e=0;e<d.length;e++)cd(c,d[e][0],h.yp);c=[];e=h.ha.sA(a);for(d=0;d<e.length;d++)c.push(cd(this.Pe,e[d],h.od.ap));a=h.ha.Up(a);for(d=0;d<a.length;d++)c.push(cd(this.Pe,a[d].$b(),h.qh));c.length&&(this.xq.variables="var "+c.join(", ")+";");this.Qn=!0};
h.P.finish=function(a){var c=h.g.object.values(this.xq);a=Object.getPrototypeOf(this).finish.call(this,a);this.Qn=!1;this.Pe.reset();return c.join("\n\n")+"\n\n\n"+a};h.P.sx=function(a){return a+";\n"};h.P.gD=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};h.P.NI=function(a){return a.split(/\n/g).map(this.gD).join(" + '\\n' +\n")};
h.P.Js=function(a,c){var d="";if(!a.T||!a.T.sa){var e=a.Wd.text;e&&(e=h.g.La.Sx(e,this.my-3),d+=fe(e+"\n","// "));for(var f=0;f<a.V.length;f++)if(a.V[f].type==h.Ba.ze){var g=a.V[f].connection.la();if(g){e=[];g=x(g,!0);for(var k=0;k<g.length;k++){var l=g[k].Wd.text;l&&e.push(l)}e.length&&e.push("");(e=e.join("\n"))&&(d+=fe(e,"// "))}}}a=a.ea&&a.ea.la();a=ge(this,a);return d+c+a};
h.P.rI=function(a,c,d,e,f){d=d||0;f=f||this.Gz;a.B.options.qo&&d--;var g=a.B.options.qo?"1":"0";a=0<d?ie(this,a,c,this.Jm)||g:0>d?ie(this,a,c,this.mu)||g:e?ie(this,a,c,this.nu)||g:ie(this,a,c,f)||g;if(h.vC(a))a=Number(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=this.Jm}else 0>d&&(a=a+" - "+-d,k=this.mu);e&&(a=d?"-("+a+")":"-"+a,k=this.nu);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};h.Qd=function(a,c,d,e,f,g,k){if(!a)throw Error("Src value of an image field is required");a=h.g.Wc(a);d=Number(h.g.Wc(d));c=Number(h.g.Wc(c));if(isNaN(d)||isNaN(c))throw Error("Height and width values of an image field must cast to numbers.");if(0>=d||0>=c)throw Error("Height and width values of an image field must be greater than 0.");this.Wk=!1;this.an="";h.Qd.v.constructor.call(this,a,null,k);k||(this.Wk=!!g,this.an=h.g.Wc(e)||"");this.oc=new h.g.Jc(c,d+h.Qd.nA);this.mC=d;this.pf=null;"function"==
typeof f&&(this.pf=f);this.Ec=null};h.g.object.U(h.Qd,h.kd);h.Qd.prototype.Zo="";h.Qd.aa=function(a){return new h.Qd(a.src,a.width,a.height,void 0,void 0,void 0,a)};h.Qd.nA=1;b=h.Qd.prototype;b.Zj=!1;b.wg=!1;b.Dk=function(a){h.Qd.v.Dk.call(this,a);this.Wk=!!a.flipRtl;this.an=h.g.Wc(a.alt)||""};b.Ln=function(){this.Ec=h.g.j.L(h.g.F.ek,{height:this.mC+"px",width:this.oc.width+"px",alt:this.an},this.Pc);this.Ec.setAttributeNS(h.g.j.Zc,"xlink:href",this.Xe);this.pf&&(this.Ec.style.cursor="pointer")};
b.Kx=function(){};b.zn=function(a){return"string"!=typeof a?null:a};b.Ok=function(a){this.Xe=a;this.Ec&&this.Ec.setAttributeNS(h.g.j.Zc,"xlink:href",String(this.Xe))};b.Rv=function(){return this.Wk};b.Eo=function(){this.pf&&this.pf(this)};b.kr=function(){return this.an};h.ng.register("field_image",h.Qd);var le={},Q,me,ne,R,S,T,oe;h.fc.maze_moveForward={wa:function(){gc(this,{message0:N("Maze_moveForward"),previousStatement:null,nextStatement:null,colour:290,tooltip:N("Maze_moveForwardTooltip")})}};h.P.maze_moveForward=function(a){return"moveForward('block_id_"+a.id+"');\n"};h.fc.maze_turn={wa:function(){var a=[[N("Maze_turnLeft"),"turnLeft"],[N("Maze_turnRight"),"turnRight"]];a[0][0]+=" \u21ba";a[1][0]+=" \u21bb";this.he(290);F(fc(this),new h.Ta(a),"DIR");this.ii(!0);this.Hj(!0);this.je(N("Maze_turnTooltip"))}};
h.P.maze_turn=function(a){return hb(a,"DIR")+"('block_id_"+a.id+"');\n"};h.fc.maze_if={wa:function(){var a=[[N("Maze_pathAhead"),"isPathForward"],[N("Maze_pathLeft"),"isPathLeft"],[N("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.he(210);F(fc(this),new h.Ta(a),"DIR");F(this.kf(h.Ba.ic,"DO"),N("Maze_doCode"));this.je(N("Maze_ifTooltip"));this.ii(!0);this.Hj(!0)}};h.P.maze_if=function(a){var c=hb(a,"DIR")+"('block_id_"+a.id+"')";a=je(a,"DO");return"if ("+c+") {\n"+a+"}\n"};
h.fc.maze_ifElse={wa:function(){var a=[[N("Maze_pathAhead"),"isPathForward"],[N("Maze_pathLeft"),"isPathLeft"],[N("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.he(210);F(fc(this),new h.Ta(a),"DIR");F(this.kf(h.Ba.ic,"DO"),N("Maze_doCode"));F(this.kf(h.Ba.ic,"ELSE"),N("Maze_elseCode"));this.je(N("Maze_ifelseTooltip"));this.ii(!0);this.Hj(!0)}};
h.P.maze_ifElse=function(a){var c=hb(a,"DIR")+"('block_id_"+a.id+"')",d=je(a,"DO");a=je(a,"ELSE");return"if ("+c+") {\n"+d+"} else {\n"+a+"}\n"};h.fc.maze_forever={wa:function(){this.he(120);F(F(fc(this),N("Maze_repeatUntil")),new h.Qd(U.ao,12,16));F(this.kf(h.Ba.ic,"DO"),N("Maze_doCode"));this.ii(!0);this.je(N("Maze_whileTooltip"))}};h.P.maze_forever=function(a){var c=je(a,"DO");h.P.Qt&&(c=h.P.Qt.replace(/%1/g,"'block_id_"+a.id+"'")+c);return"while (notDone()) {\n"+c+"}\n"};var pe=pe||{};function qe(a,c){function d(){}d.prototype=c.prototype;a.v=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.VH=function(e,f,g){return c.prototype[f].apply(e,Array.prototype.slice.call(arguments,2))}}if(!re){var re,se="";"undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(se=navigator.userAgent);var te=0==se.indexOf("Opera");re={MI:{sF:"ScriptEngine"in window},CG:te,Rd:!te&&-1!=se.indexOf("MSIE"),Hu:!te&&-1!=se.indexOf("WebKit")}}if(!ue)var ue={};
if(!ve)var ve={};if(!we)var we={};if(!xe)var xe={};if(!ye)var ye={};if(!ze)var ze={};var Ae=pe.wy?{$I:!0}:{},Be=pe.wy?{aJ:!0}:{};function Ce(){throw Error("Do not instantiate directly");}Ce.prototype.mv=null;Ce.prototype.toString=function(){return this.content};function De(a){if(null!=a)switch(a.mv){case 1:return 1;case -1:return-1;case 0:return 0}return null}function Ee(){Ce.call(this)}qe(Ee,Ce);Ee.prototype.nv=Ae;
function V(a){return null!=a&&a.nv===Ae?a:Fe(String(String(a)).replace(Ge,He),De(a))}var Fe=function(a){function c(){}c.prototype=a.prototype;return function(d,e){var f=new c;f.content=String(d);void 0!==e&&(f.mv=e);return f}}(Ee),Ie={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};
function He(a){return Ie[a]}var Ge=/[\x00\x22\x26\x27\x3c\x3e]/g;function Je(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary dialogOk" onclick="BlocklyDialogs.hideDialog(true)"></button></div>'};function Ke(){var a="skin="+V(Le),c='<table width="100%"><tr><td><h1><span id="title">'+((gd?'<a href="index.html?lang='+V(L)+'">':'<a href="./?lang='+V(L)+'">')+"\u092c\u094d\u0932\u094b\u0915\u094d\u0932\u0940 \u0917\u0947\u092e</a> : "+V("\u092d\u0942\u0932\u092d\u0941\u0932\u0948\u092f\u093e")+"</span>");if(M){a=""+(a?V(a):"");for(var d=" &nbsp; ",e=1;11>e;e++){var f="?lang="+V(L)+"&level="+V(e)+(a?"&"+V(a):"");d+=" "+(e==M?'<span class="level_number level_done" id="level'+V(e)+'">'+V(e)+"</span>":
10==e?'<a class="level_number" id="level'+V(e)+'" href="'+V(f)+'">'+V(e)+"</a>":'<a class="level_dot" id="level'+V(e)+'" href="'+V(f)+'"></a>')}a=d}else a="";return'<div style="display: none"><span id="Games_name">\u092c\u094d\u0932\u094b\u0915\u094d\u0932\u0940 \u0917\u0947\u092e</span><span id="Games_puzzle">\u092a\u0939\u0947\u0932\u0940</span><span id="Games_maze">\u092d\u0942\u0932\u092d\u0941\u0932\u0948\u092f\u093e</span><span id="Games_bird">\u092a\u0915\u094d\u0937\u0940</span><span id="Games_turtle">\u0915\u091b\u0941\u0906</span><span id="Games_movie">\u091a\u093e\u0932</span><span id="Games_music">\u0938\u0902\u0917\u0940\u0924</span><span id="Games_pondTutor">\u0924\u093e\u0932\u093e\u092c \u0905\u0928\u0941\u0936\u093f\u0915\u094d\u0937\u0915</span><span id="Games_pond">\u0924\u093e\u0932\u093e\u092c</span><span id="Games_genetics">\u0906\u0928\u0941\u0935\u0902\u0936\u093f\u0915\u0940</span><span id="Games_linesOfCode1">\u0906\u092a\u0928\u0947 1 \u092a\u0902\u0915\u094d\u0924\u093f \u091c\u093e\u0935\u093e\u0938\u094d\u0915\u094d\u0930\u093f\u092a\u094d\u091f \u0915\u0947 \u0938\u093e\u0925 \u0907\u0938 \u0938\u094d\u0924\u0930 \u0915\u094b \u0939\u0932 \u0915\u093f\u092f\u093e:</span><span id="Games_linesOfCode2">\u0906\u092a\u0928\u0947 %1 \u0938\u094d\u0924\u0930 \u091c\u093e\u0935\u093e\u0938\u094d\u0915\u094d\u0930\u093f\u092a\u094d\u091f \u092a\u0902\u0915\u094d\u0924\u093f \u0915\u0947 \u0938\u093e\u0925 \u0907\u0938 \u0938\u094d\u0924\u0930 \u0915\u094b \u0939\u0932 \u0915\u093f\u092f\u093e:</span><span id="Games_nextLevel">\u0915\u094d\u092f\u093e \u0906\u092a \u0938\u094d\u0924\u0930 %1 \u0915\u0947 \u0932\u093f\u090f \u0924\u0948\u092f\u093e\u0930 \u0939\u0948\u0902?</span><span id="Games_finalLevel">\u0915\u094d\u092f\u093e \u0906\u092a \u0905\u0917\u0932\u0940 \u091a\u0941\u0928\u094c\u0924\u0940 \u0915\u0947 \u0932\u093f\u090f \u0924\u0948\u092f\u093e\u0930 \u0939\u0948\u0902?</span><span id="Games_submitTitle">\u0936\u0940\u0930\u094d\u0937\u0915:</span><span id="Games_linkTooltip">\u0938\u0947\u0935 \u0915\u0930\u0947\u0902 \u0914\u0930 \u092c\u094d\u0932\u0949\u0915 \u0938\u0947 \u0932\u093f\u0902\u0915 \u0915\u0930\u0947\u0902\u0964.</span><span id="Games_runTooltip">\u0906\u092a\u0928\u0947 \u091c\u094b \u0932\u093f\u0916\u093e \u0939\u0948, \u0909\u0938\u0947 \u0930\u0928 \u0915\u0930\u0947\u0902\u0964</span><span id="Games_runProgram">\u092a\u094d\u0930\u094b\u0917\u094d\u0930\u093e\u092e \u091a\u0932\u093e\u090f\u0901</span><span id="Games_resetTooltip">\u0915\u093e\u0930\u094d\u092f\u0915\u094d\u0930\u092e \u0915\u094b \u092c\u0902\u0926 \u0915\u0930\u0947\u0902 \u0914\u0930 \u0938\u094d\u0924\u0930 \u0930\u0940\u0938\u0947\u091f \u0915\u0930\u0947\u0902\u0964.</span><span id="Games_resetProgram">\u0930\u0940\u0938\u0947\u091f \u0915\u0930\u0947\u0902</span><span id="Games_help">\u0938\u0939\u093e\u092f\u0924\u093e</span><span id="Games_catLogic">\u0924\u0930\u094d\u0915</span><span id="Games_catLoops">\u0932\u0942\u092a</span><span id="Games_catMath">\u0917\u0923\u093f\u0924</span><span id="Games_catText">\u091f\u0947\u0915\u094d\u0938\u094d\u091f</span><span id="Games_catLists">\u0938\u0942\u091a\u093f\u092f\u093e\u0901</span><span id="Games_catColour">\u0930\u0902\u0917</span><span id="Games_catVariables">\u091a\u0930</span><span id="Games_catProcedures">\u092a\u094d\u0930\u094b\u0938\u0940\u091c\u0930</span><span id="Games_httpRequestError">\u0905\u0928\u0941\u0930\u094b\u0927 \u0915\u0947 \u0938\u093e\u0925 \u0938\u092e\u0938\u094d\u092f\u093e \u0939\u0941\u0908\u0964</span><span id="Games_linkAlert">\u0907\u0938 \u0932\u093f\u0902\u0915 \u0915\u0947 \u0938\u093e\u0925 \u0915\u093e \u0905\u092a\u0928\u0947 \u092c\u094d\u0932\u0949\u0915 \u0915\u093e \u0938\u093e\u091d\u093e \u0915\u0930\u0947\u0902:\n\n %1</span><span id="Games_hashError">\u0916\u0947\u0926 \u0939\u0948, \'%1\' \u0915\u093f\u0938\u0940 \u0938\u0947\u0935 \u0915\u093f\u090f \u0917\u090f \u092a\u094d\u0930\u094b\u0917\u094d\u0930\u093e\u092e \u0938\u0947 \u0938\u0902\u092c\u0902\u0927\u093f\u0924 \u0928\u0939\u0940\u0902 \u0939\u0948\u0964</span><span id="Games_xmlError">\u0906\u092a\u0915\u0940 \u0938\u0947\u0935 \u0915\u0940 \u0917\u0908 \u092b\u093c\u093e\u0907\u0932 \u0932\u094b\u0921 \u0928\u0939\u0940\u0902 \u0939\u094b \u0938\u0915\u0940\u0964  \u0936\u093e\u092f\u0926 \u092f\u0939 \u092c\u094d\u0932\u0949\u0915\u0932\u0940 \u0915\u0947 \u0915\u093f\u0938\u0940 \u092d\u093f\u0928\u094d\u0928 \u0938\u0902\u0938\u094d\u0915\u0930\u0923 \u0915\u0947 \u0938\u093e\u0925 \u092c\u0928\u093e\u0908 \u0917\u092f\u0940 \u0925\u0940?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">\u0938\u0942\u091a\u0940</span><span id="Games_textVariable">\u091f\u0947\u0915\u094d\u0938\u094d\u091f</span><span id="Games_breakLink">\u090f\u0915 \u092c\u093e\u0930 \u091c\u092c \u0906\u092a \u091c\u093e\u0935\u093e\u0938\u094d\u0915\u094d\u0930\u093f\u092a\u094d\u091f \u0915\u094b \u0936\u0941\u0930\u0942 \u0915\u0930\u0924\u0947 \u0939\u0948\u0902, \u0924\u094b \u0906\u092a \u0938\u0902\u092a\u093e\u0926\u0928 \u092c\u094d\u0932\u0949\u0915\u094b\u0902 \u092a\u0930 \u0935\u093e\u092a\u0938 \u0928\u0939\u0940\u0902 \u091c\u093e \u0938\u0915\u0924\u0947\u0964 \u0915\u094d\u092f\u093e \u092f\u0939 \u0920\u0940\u0915 \u0939\u0948?</span><span id="Games_blocks">\u0905\u0935\u0930\u094b\u0927</div></div><div style="display: none"><span id="Maze_moveForward">\u0906\u0917\u0947 \u092c\u0922\u093c\u0947\u0902</span><span id="Maze_turnLeft">\u092c\u093e\u090f\u0901 \u092e\u0941\u0921\u093c\u0947\u0902 </span><span id="Maze_turnRight">\u0926\u093e\u090f\u0901 \u092e\u0941\u0921\u093c\u0947\u0902</span><span id="Maze_doCode">\u0915\u0930\u0947\u0902</span><span id="Maze_elseCode">\u0905\u0928\u094d\u092f</span><span id="Maze_helpIfElse">\u092f\u0926\u093f \u0905\u0928\u094d\u092f \u092c\u094d\u0932\u093e\u0915 \u090f\u0915 \u0915\u093e\u092e \u092f\u093e \u0905\u0928\u094d\u092f \u0915\u093e\u092e \u0915\u0930\u0947\u0902\u0917\u0947\u0964</span><span id="Maze_pathAhead">\u092f\u0926\u093f \u092a\u0925 \u0906\u0917\u0947 \u0939\u0948 \u0924\u094b</span><span id="Maze_pathLeft">\u092f\u0926\u093f \u092a\u0925 \u092c\u093e\u090f\u0902 \u0939\u0948 \u0924\u094b</span><span id="Maze_pathRight">\u092f\u0926\u093f \u092a\u0925 \u0926\u093e\u090f\u0901 \u0939\u0948 \u0924\u094b</span><span id="Maze_repeatUntil">\u091c\u092c \u0924\u0915 \u0926\u094b\u0939\u0930\u093e\u090f\u0901</span><span id="Maze_moveForwardTooltip">\u0916\u093f\u0932\u093e\u0921\u093c\u0940 \u0915\u094b \u090f\u0915 \u0938\u094d\u0925\u093e\u0928 \u0906\u0917\u0947 \u0932\u0947 \u091c\u093e\u0924\u093e \u0939\u0948\u0964.</span><span id="Maze_turnTooltip">\u0916\u093f\u0932\u093e\u0921\u093c\u0940 \u0915\u094b 90 \u0921\u093f\u0917\u094d\u0930\u0940 \u092c\u093e\u0908\u0902 \u092f\u093e \u0926\u093e\u0908\u0902 \u0924\u0930\u092b \u0918\u0941\u092e\u093e\u0924\u093e \u0939\u0948\u0964.</span><span id="Maze_ifTooltip">\u092f\u0926\u093f \u0928\u093f\u0930\u094d\u0926\u093f\u0937\u094d\u091f \u0926\u093f\u0936\u093e \u092e\u0947\u0902 \u090f\u0915 \u092a\u0925 \u0939\u0948, \\n\u0924\u094b \u0915\u0941\u091b \u0915\u094d\u0930\u093f\u092f\u093e\u090f\u0902 \u0915\u0930\u0947\u0902\u0964 </span><span id="Maze_ifelseTooltip">\u0905\u0917\u0930 \u0928\u093f\u0930\u094d\u0926\u093f\u0937\u094d\u091f \u0926\u093f\u0936\u093e \u092e\u0947\u0902 \u090f\u0915 \u092a\u0925 \u0939\u0948, \\n\u0924\u094b \u0915\u093e\u0930\u094d\u092f \u0915\u093e \u092a\u0939\u0932\u093e \u092c\u094d\u0932\u0949\u0915 \u0915\u0930\u0947\u0902\u0964 \u0905\u0928\u094d\u092f\u0925\u093e, \\n\u0915\u093e\u0930\u094d\u0930\u0935\u093e\u0908 \u0915\u0947 \u0926\u0942\u0938\u0930\u0947 \u092c\u094d\u0932\u0949\u0915 \u0915\u0930\u0947\u0902\u0964 </span><span id="Maze_whileTooltip">\u0938\u092e\u093e\u092a\u0928 \u092c\u093f\u0902\u0926\u0941 \u0915\u094b \u0926\u094b\u0939\u0930\u093e\u090f\u0902 \u091c\u092c \u0924\u0915 \u092a\u0942\u0930\u093e \u092c\u093f\u0902\u0926\u0941 \u0924\u0915 \u092a\u0939\u0941\u0902\u091a \\n\u0928\u0939\u0940\u0902 \u0939\u094b\u0964 </span><span id="Maze_capacity0">\u0906\u092a\u0915\u0947 \u092a\u093e\u0938 %0 \u092c\u094d\u0932\u0949\u0915 \u092c\u091a\u0947\u0902 \u0939\u0948\u0902\u0964</span><span id="Maze_capacity1">\u0906\u092a\u0915\u0947 \u092a\u093e\u0938 %1 \u092c\u094d\u0932\u0949\u0915 \u092c\u091a\u0947\u0902 \u0939\u0948\u0902\u0964</span><span id="Maze_capacity2">\u0906\u092a\u0915\u0947 \u092a\u093e\u0938 %2 \u092c\u094d\u0932\u0949\u0915 \u092c\u091a\u0947\u0902 \u0939\u0948\u0902\u0964</span></div>'+
(c+a+'</h1></td><td id="header_cta" class="farSide"><select id="languageMenu"></select>&nbsp;<button id="linkButton" title="\u0938\u0947\u0935 \u0915\u0930\u0947\u0902 \u0914\u0930 \u092c\u094d\u0932\u0949\u0915 \u0938\u0947 \u0932\u093f\u0902\u0915 \u0915\u0930\u0947\u0902\u0964."><img src="common/1x1.gif" class="link icon21"></button>&nbsp;'+('<button id="pegmanButton"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>'.nv===Be?"zSoyz":'<button id="pegmanButton"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>')+
'</td></tr></table><div id="visualization"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgMaze" width="400px" height="400px"><g id="look"><path d="M 0,-15 a 15 15 0 0 1 15 15" /><path d="M 0,-35 a 35 35 0 0 1 35 35" /><path d="M 0,-55 a 55 55 0 0 1 55 55" /></g></svg><div id="capacityBubble"><div id="capacity"></div></div></div><table width="400"><tr><td style="width: 190px; text-align: center; vertical-align: top;"><td><button id="runButton" class="primary" title="\u092c\u094d\u0932\u0949\u0915 \u091c\u094b \u092c\u0924\u093e\u0924\u0947\u0902 \u0939\u0948\u0902 \u0909\u0938\u0947 \u0916\u093f\u0932\u093e\u0921\u093c\u0940 \u0938\u0947 \u0915\u0930\u0935\u093e\u0924\u093e \u0939\u0948\u0964."><img src="common/1x1.gif" class="run icon21"> \u092a\u094d\u0930\u094b\u0917\u094d\u0930\u093e\u092e \u091a\u0932\u093e\u090f\u0901</button><button id="resetButton" class="primary" style="display: none" title="\u0916\u093f\u0932\u093e\u0921\u093c\u0940 \u0915\u094b \u092d\u0942\u0932\u092d\u0941\u0932\u0948\u092f\u093e \u0915\u0947 \u0936\u0941\u0930\u0942 \u092e\u0947\u0902 \u0935\u093e\u092a\u0938 \u0930\u0916\u0947\u0902\u0964."><img src="common/1x1.gif" class="stop icon21"> \u0930\u0940\u0938\u0947\u091f \u0915\u0930\u0947\u0902</button></td></tr></table><xml id="toolbox" xmlns="https://developers.google.com/blockly/xml"><block type="maze_moveForward"></block><block type="maze_turn"><field name="DIR">turnLeft</field></block><block type="maze_turn"><field name="DIR">turnRight</field></block>')+
((2<M?'<block type="maze_forever"></block>'+(6==M?'<block type="maze_if"><field name="DIR">isPathLeft</field></block>':6<M?'<block type="maze_if"></block>'+(8<M?'<block type="maze_ifElse"></block>':""):""):"")+'</xml><div id="blockly"></div><div id="pegmanMenu"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">\u092c\u0927\u093e\u0908 \u0939\u094b!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneCancel" class="dialogCancel"></button><button id="doneOk" class="secondary dialogOk"></button></div></div><div id="dialogAbort" class="dialogHiddenContent">\u092f\u0939 \u0938\u094d\u0924\u0930 \u092c\u0947\u0939\u0926 \u092e\u0941\u0936\u094d\u0915\u093f\u0932 \u0939\u0948\u0964 \u0915\u094d\u092f\u093e \u0906\u092a \u0907\u0938\u0947 \u091b\u094b\u0921\u093c\u0928\u093e \u091a\u093e\u0939\u0924\u0947 \u0939\u0948\u0902 \u0914\u0930 \u0905\u0917\u0932\u0947 \u0916\u0947\u0932 \u092a\u0930 \u091c\u093e\u0928\u093e \u091a\u093e\u0939\u0947\u0902\u0917\u0947? \u0906\u092a \u0939\u092e\u0947\u0936\u093e \u092c\u093e\u0926 \u092e\u0947\u0902 \u0935\u093e\u092a\u0938 \u0906 \u0938\u0915\u0924\u0947 \u0939\u0948\u0902\u0964<div class="farSide" style="padding: 1ex 3ex 0"><button id="abortCancel" class="dialogCancel"></button><button id="abortOk" class="secondary dialogOk"></button></div></div><div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div>')+
(Je()+"</div>")+(1==M?'<div id="dialogHelpStack" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>\u0932\u0915\u094d\u0937\u094d\u092f \u092a\u0930 \u092a\u0939\u0941\u0902\u091a\u0928\u0947 \u092e\u0947\u0902 \u092e\u0947\u0930\u0940 \u092e\u0926\u0926 \u0915\u0930\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u090f\u0915 \u0938\u093e\u0925 \'\u0906\u0917\u0947 \u092c\u0922\u093c\u0928\u0947\' \u0915\u0947 \u090f\u0915-\u090f\u0915 \u092c\u094d\u0932\u0949\u0915 \u0915\u094b \u0922\u0947\u0930 \u0915\u0930 \u0926\u0947\u0902\u0964</td><td valign="top"><img src="maze/help_stack.png" class="mirrorImg" height=63 width=136></td></tr></table></div><div id="dialogHelpOneTopBlock" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>\u0907\u0938 \u0938\u094d\u0924\u0930 \u092a\u0930, \u0906\u092a\u0915\u094b \u0938\u092b\u0947\u0926 \u0915\u093e\u0930\u094d\u092f\u0915\u094d\u0937\u0947\u0924\u094d\u0930 \u092e\u0947\u0902 \u0938\u092d\u0940 \u092c\u094d\u0932\u0949\u0915\u094b\u0902 \u0915\u094b \u090f\u0915 \u0938\u093e\u0925 \u0922\u0947\u0930 \u0915\u0930\u0928\u0947 \u0915\u0940 \u0906\u0935\u0936\u094d\u092f\u0915\u0924\u093e \u0939\u0948\u0964<div id="sampleOneTopBlock" class="readonly"></div></td></tr></table></div><div id="dialogHelpRun" class="dialogHiddenContent"><table><tr><td>\u0915\u094d\u092f\u093e \u0939\u094b\u0917\u093e \u0926\u0947\u0916\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \u0905\u092a\u0928\u0947 \u092a\u094d\u0930\u094b\u0917\u094d\u0930\u093e\u092e \u0915\u094b \u091a\u0932\u093e\u090f\u0901\u0964</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="maze/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':
2==M?'<div id="dialogHelpReset" class="dialogHiddenContent"><table><tr><td>\u0906\u092a\u0915\u0947 \u092a\u094d\u0930\u094b\u0917\u094d\u0930\u093e\u092e \u0928\u0947 \u092d\u0942\u0932\u092d\u0941\u0932\u0948\u092f\u093e \u0915\u093e \u0938\u092e\u093e\u0927\u093e\u0928 \u0928\u0939\u0940\u0902 \u0915\u093f\u092f\u093e\u0964 \'\u0930\u0940\u0938\u0947\u091f\' \u0926\u092c\u093e\u090f\u0902 \u0914\u0930 \u092b\u093f\u0930 \u0938\u0947 \u092a\u094d\u0930\u092f\u093e\u0938 \u0915\u0930\u0947\u0902\u0964</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="maze/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':
3==M||4==M?(3==M?'<div id="dialogHelpRepeat" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td>\u0915\u0947\u0935\u0932 \u0926\u094b \u092c\u094d\u0932\u0949\u0915\u094b\u0902 \u0915\u093e \u0909\u092a\u092f\u094b\u0917 \u0915\u0930\u0915\u0947 \u0907\u0938 \u0930\u093e\u0938\u094d\u0924\u0947 \u0915\u0947 \u0905\u0902\u0924 \u0924\u0915 \u092a\u0939\u0941\u0902\u091a\u0947\u0902\u0964 \u090f\u0915 \u092c\u093e\u0930 \u0938\u0947 \u0905\u0927\u093f\u0915 \u090f\u0915 \u092c\u093e\u0930 \u091a\u0932\u093e\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \'\u0926\u094b\u0939\u0930\u093e\u0928\u0947\' \u0915\u093e \u092a\u094d\u0930\u092f\u094b\u0917 \u0915\u0930\u0947\u0902</td><td><img src="common/help.png"></td></tr></table></div>':
"")+'<div id="dialogHelpCapacity" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>\u0906\u092a\u0928\u0947 \u0907\u0938 \u0938\u094d\u0924\u0930 \u0915\u0947 \u0938\u092d\u0940 \u092c\u094d\u0932\u0949\u0915\u094b\u0902 \u0915\u093e \u0907\u0938\u094d\u0924\u0947\u092e\u093e\u0932 \u0915\u093f\u092f\u093e \u0939\u0948\u0964 \u090f\u0915 \u0928\u092f\u093e \u092c\u094d\u0932\u0949\u0915 \u092c\u0928\u093e\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f, \u0906\u092a\u0915\u094b \u092a\u0939\u0932\u0947 \u090f\u0915 \u092e\u094c\u091c\u0942\u0926\u093e \u092c\u094d\u0932\u0949\u0915 \u0915\u094b \u0939\u091f\u093e\u0928\u093e \u0939\u094b\u0917\u093e\u0964</td></tr></table></div><div id="dialogHelpRepeatMany" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td>\u0906\u092a \'\u0926\u094b\u0939\u0930\u093e\u0928\u0947\' \u092c\u094d\u0932\u0949\u0915 \u0915\u0947 \u0905\u0902\u0926\u0930 \u090f\u0915 \u0938\u0947 \u0905\u0927\u093f\u0915 \u092c\u094d\u0932\u0949\u0915 \u092b\u093f\u091f \u0915\u0930 \u0938\u0915\u0924\u0947 \u0939\u0948\u0902\u0964</td><td><img src="common/help.png"></td></tr></table></div>':
5==M?'<div id="dialogHelpSkins" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td width="95%">\u0907\u0938 \u092e\u0947\u0928\u094d\u092f\u0942 \u0938\u0947 \u0905\u092a\u0928\u093e \u092a\u0938\u0902\u0926\u0940\u0926\u093e \u0916\u093f\u0932\u093e\u0921\u093c\u0940 \u091a\u0941\u0928\u0947\u0902\u0964</td><td><img src="maze/help_up.png"></td></tr></table></div>':6==M?'<div id="dialogHelpIf" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td>\u090f\u0915 \'\u0905\u0917\u0930\' \u092c\u094d\u0932\u0949\u0915 \u0915\u0947\u0935\u0932 \u0924\u092d\u0940 \u0915\u0941\u091b \u0915\u0930\u0947\u0917\u093e \u091c\u092c \u0938\u094d\u0925\u093f\u0924\u093f \u0938\u0939\u0940 \u0939\u094b\u0964 \u092f\u0926\u093f \u092c\u093e\u0908\u0902 \u0924\u0930\u092b \u090f\u0915 \u092a\u0925 \u0939\u0948 \u0924\u094b \u092c\u093e\u090f\u0902 \u092e\u0941\u0921\u093c\u0928\u0947 \u0915\u093e \u092a\u094d\u0930\u092f\u093e\u0938 \u0915\u0930\u0947\u0902\u0964</td><td><img src="common/help.png"></td></tr></table></div>':
7==M?'<div id="dialogHelpMenu" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td id="helpMenuText">\u0907\u0938\u0915\u0940 \u0938\u094d\u0925\u093f\u0924\u093f \u092c\u0926\u0932\u0928\u0947 \u0915\u0947 \u0932\u093f\u090f \'if\' \u092c\u094d\u0932\u0949\u0915 \u092e\u0947\u0902 %1 \u092a\u0930 \u0915\u094d\u0932\u093f\u0915 \u0915\u0930\u0947\u0902\u0964</td><td><img src="common/help.png"></td></tr></table></div>':9==M?'<div id="dialogHelpIfElse" class="dialogHiddenContent"><table><tr><td><img src="maze/help_down.png"></td><td>\u092f\u0926\u093f \u0905\u0928\u094d\u092f \u092c\u094d\u0932\u093e\u0915 \u090f\u0915 \u0915\u093e\u092e \u092f\u093e \u0905\u0928\u094d\u092f \u0915\u093e\u092e \u0915\u0930\u0947\u0902\u0917\u0947\u0964</td><td><img src="common/help.png"></td></tr></table></div>':
10==M?'<div id="dialogHelpWallFollow" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>\u0915\u094d\u092f\u093e \u0906\u092a \u0907\u0938 \u091c\u091f\u093f\u0932 \u092d\u0942\u0932\u092d\u0941\u0932\u0948\u092f\u093e \u0915\u094b \u0939\u0932 \u0915\u0930 \u0938\u0915\u0924\u0947 \u0939\u0948\u0902? \u092c\u093e\u0908\u0902 \u0913\u0930 \u0915\u0940 \u0926\u0940\u0935\u093e\u0930 \u0915\u093e \u092a\u093e\u0932\u0928 \u0915\u0930\u0928\u0947 \u0915\u093e \u092a\u094d\u0930\u092f\u093e\u0938 \u0915\u0930\u0947\u0902\u0964 \u0909\u0928\u094d\u0928\u0924 \u092a\u094d\u0930\u094b\u0917\u094d\u0930\u093e\u092e\u0930 \u0915\u0947\u0935\u0932!'+
Je()+"</td></tr></table></div>":"")};var nd="maze";Yd=function(){10>M?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+L+"&level="+(M+1)+"&skin="+Le:Xd()};
var Me=[void 0,Infinity,Infinity,2,5,5,5,5,10,7,10][M],Ne=[{Ij:"maze/pegman.png",Ys:"maze/tiles_pegman.png",ao:"maze/marker.png",background:!1,Ir:"#000",it:["maze/win.mp3","maze/win.ogg"],uq:["maze/fail_pegman.mp3","maze/fail_pegman.ogg"],rn:1},{Ij:"maze/astro.png",Ys:"maze/tiles_astro.png",ao:"maze/marker.png",background:"maze/bg_astro.jpg",Ir:"#fff",it:["maze/win.mp3","maze/win.ogg"],uq:["maze/fail_astro.mp3","maze/fail_astro.ogg"],rn:2},{Ij:"maze/panda.png",Ys:"maze/tiles_panda.png",ao:"maze/marker.png",
background:"maze/bg_panda.jpg",Ir:"#000",it:["maze/win.mp3","maze/win.ogg"],uq:["maze/fail_panda.mp3","maze/fail_panda.ogg"],rn:3}],Le=id("skin",0,Ne.length-1),U=Ne[Le],W=[void 0,[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,2,1,3,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,3,0,0,0],[0,0,2,1,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,
0,0,0,0,0],[0,2,1,1,1,1,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,1],[0,0,0,0,0,3,1,0],[0,0,0,0,1,1,0,0],[0,0,0,1,1,0,0,0],[0,0,1,1,0,0,0,0],[0,2,1,0,0,0,0,0],[1,1,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,3,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,2,1,1,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,1,0,0,0,1,0,0],[0,1,1,3,0,1,0,0],[0,0,0,0,0,1,0,0],[0,2,1,1,1,1,0,0],
[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,0],[0,2,1,1,1,1,0,0],[0,0,0,0,0,1,1,0],[0,1,1,3,0,1,0,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,0,0,0],[0,1,0,0,1,1,0,0],[0,1,1,1,0,1,0,0],[0,0,0,1,0,1,0,0],[0,2,1,1,0,3,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,0,1,0,0,0,0,0],[3,1,1,1,1,1,1,0],[0,1,0,1,0,1,1,0],[1,1,1,1,1,0,1,0],[0,1,0,1,0,2,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,0,3,0,1,0],[0,1,1,
0,1,1,1,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,1,0,0,1,0],[0,2,1,1,1,0,1,0],[0,0,0,0,0,0,0,0]]][M],Oe=W.length,Pe=W[0].length,Qe=50*Pe,Re=50*Oe,X=0,Y=[],Se={10010:[4,0],10001:[3,3],11E3:[0,1],10100:[0,2],11010:[4,1],10101:[3,2],10110:[0,0],10011:[2,0],11001:[4,2],11100:[2,3],11110:[1,1],10111:[1,0],11011:[2,1],11101:[1,2],11111:[2,2],null0:[4,3],null1:[3,0],null2:[3,1],null3:[0,3],null4:[1,3]};
function Te(){function a(m,n){return 0>m||m>=Pe||0>n||n>=Oe?"0":0==W[n][m]?"0":"1"}var c=document.getElementById("svgMaze"),d=50*Math.max(Oe,Pe);c.setAttribute("viewBox","0 0 "+d+" "+d);h.g.j.L("rect",{height:Re,width:Qe,fill:"#F1EEE7","stroke-width":1,stroke:"#CCB"},c);if(U.background){var e=h.g.j.L("image",{height:Re,width:Qe,x:0,y:0},c);e.setAttributeNS(h.g.j.Zc,"xlink:href",U.background)}for(var f=d=0;f<Oe;f++)for(var g=0;g<Pe;g++){var k=a(g,f)+a(g,f-1)+a(g+1,f)+a(g,f+1)+a(g-1,f);Se[k]||(k="00000"==
k&&.3<Math.random()?"null0":"null"+Math.floor(1+4*Math.random()));e=Se[k][0];k=Se[k][1];var l=h.g.j.L("clipPath",{id:"tileClipPath"+d},c);h.g.j.L("rect",{height:50,width:50,x:50*g,y:50*f},l);e=h.g.j.L("image",{height:200,width:250,"clip-path":"url(#tileClipPath"+d+")",x:50*(g-e),y:50*(f-k)},c);e.setAttributeNS(h.g.j.Zc,"xlink:href",U.Ys);d++}h.g.j.L("image",{id:"finish",height:34,width:20},c).setAttributeNS(h.g.j.Zc,"xlink:href",U.ao);d=h.g.j.L("clipPath",{id:"pegmanClipPath"},c);h.g.j.L("rect",{id:"clipRect",
height:52,width:49},d);h.g.j.L("image",{id:"pegman",height:52,width:1029,"clip-path":"url(#pegmanClipPath)"},c).setAttributeNS(h.g.j.Zc,"xlink:href",U.Ij)}
function Ue(a){if(!(a&&a.Ar||A.Rc()||1==X||ld(M))){a=jd();var c=h.I.wd(h.I.Rx()),d=A.ta.m.pb(!0),e=null,f=null,g=null;if(1==M)2>D(A).length?(e=document.getElementById("dialogHelpStack"),g={width:"370px",top:"130px"},g[a?"right":"left"]="215px",f=d[0].ka()):(d=A.pb(!0),1<d.length?(e='<xml>;<block type="maze_moveForward" x="10" y="10">;<next>;<block type="maze_moveForward"></block>;</next>;</block>;</xml>'.split(";"),f=document.getElementById("sampleOneTopBlock"),f.firstChild||(f=h.vg(f,{rtl:jd(),readOnly:!0}),
"string"!=typeof e&&(e=e.join("")),h.I.yh(h.I.ke(e),f)),e=document.getElementById("dialogHelpOneTopBlock"),g={width:"360px",top:"120px"},g[a?"right":"left"]="225px",f=d[0].ka()):0==X&&(e=document.getElementById("dialogHelpRun"),g={width:"360px",top:"410px"},g[a?"right":"left"]="400px",f=document.getElementById("runButton")));else if(2==M)0!=X&&"none"==document.getElementById("runButton").style.display&&(e=document.getElementById("dialogHelpReset"),g={width:"360px",top:"410px"},g[a?"right":"left"]=
"400px",f=document.getElementById("resetButton"));else if(3==M)-1==c.indexOf("maze_forever")&&(0==kb(A)?(e=document.getElementById("dialogHelpCapacity"),g={width:"430px",top:"310px"},g[a?"right":"left"]="50px",f=document.getElementById("capacityBubble")):(e=document.getElementById("dialogHelpRepeat"),g={width:"360px",top:"360px"},g[a?"right":"left"]="425px",f=d[3].ka()));else if(4==M)if(0==kb(A)&&(-1==c.indexOf("maze_forever")||1<A.pb(!1).length))e=document.getElementById("dialogHelpCapacity"),g=
{width:"430px",top:"310px"},g[a?"right":"left"]="50px",f=document.getElementById("capacityBubble");else{c=!0;for(var k=D(A),l=0;l<k.length;l++){var m=k[l];if("maze_forever"==m.type){for(var n=0;m;)m=ea(m),m=m.length?m[0]:null,n++;if(2<n){c=!1;break}}}c&&(e=document.getElementById("dialogHelpRepeatMany"),g={width:"360px",top:"360px"},g[a?"right":"left"]="425px",f=d[3].ka())}else if(5==M)0!=Le||Ve.rA||(e=document.getElementById("dialogHelpSkins"),g={width:"360px",top:"60px"},g[a?"left":"right"]="20px",
f=document.getElementById("pegmanButton"));else if(6==M)-1==c.indexOf("maze_if")&&(e=document.getElementById("dialogHelpIf"),g={width:"360px",top:"430px"},g[a?"right":"left"]="425px",f=d[4].ka());else if(7==M){if(!Ue.pC){k=document.createElement("span");k.className="helpMenuFake";l=[N("Maze_pathAhead"),N("Maze_pathLeft"),N("Maze_pathRight")];n=h.g.La.ev(l);m=h.g.La.fv(l);k.textContent=(m?l[0].slice(n,-m):l[0].substring(n))+" "+h.Ta.nm;n=document.getElementById("helpMenuText");l=n.textContent;n.textContent=
"";m=l.split(/%\d/);for(l=0;l<m.length;l++)n.appendChild(document.createTextNode(m[l])),l!=m.length-1&&n.appendChild(k.cloneNode(!0));Ue.pC=!0}-1==c.indexOf("isPathRight")&&(e=document.getElementById("dialogHelpMenu"),g={width:"360px",top:"430px"},g[a?"right":"left"]="425px",f=d[4].ka())}else 9==M&&-1==c.indexOf("maze_ifElse")&&(e=document.getElementById("dialogHelpIfElse"),g={width:"360px",top:"305px"},g[a?"right":"left"]="425px",f=d[5].ka());e?e.parentNode!=document.getElementById("dialog")&&P.Rl(e,
f,!0,!1,g,null):P.Le(!1)}}function Ve(a){var c=document.getElementById("pegmanMenu");"block"==c.style.display?We(a):ae(a)||(a=document.getElementById("pegmanButton"),a.classList.add("buttonHover"),c.style.top=a.offsetTop+a.offsetHeight+"px",c.style.left=a.offsetLeft+"px",c.style.display="block",le.rs=h.sh(document.body,"mousedown",null,We),(c=document.getElementById("dialogHelpSkins"))&&"dialogHiddenContent"!=c.className&&P.Le(!1),Ve.rA=!0)}
function We(a){ae(a)||(document.getElementById("pegmanMenu").style.display="none",document.getElementById("pegmanButton").classList.remove("buttonHover"),le.rs&&(h.Ko(le.rs),delete le.rs))}
function Xe(a){for(var c=0;c<Y.length;c++)clearTimeout(Y[c]);Y=[];R=me.x;S=me.y;a?(T=2,Ye(!1),Y.push(setTimeout(function(){Q=100;Ze([R,S,4*T-4]);T++},5*Q))):(T=1,Z(R,S,4*T));c=document.getElementById("finish");c.setAttribute("x",50*(ne.x+.5)-c.getAttribute("width")/2);c.setAttribute("y",50*(ne.y+.6)-c.getAttribute("height"));c=document.getElementById("look");c.style.display="none";c.parentNode.appendChild(c);a=c.getElementsByTagName("path");c=0;for(var d;d=a[c];c++)d.setAttribute("stroke",U.Ir)}
function $e(a){if(!ae(a))if(P.Le(!1),1==M&&1<A.pb(!1).length&&1!=X&&!ld(M))Ue();else{a=document.getElementById("runButton");var c=document.getElementById("resetButton");c.style.minWidth||(c.style.minWidth=a.offsetWidth+"px");a.style.display="none";c.style.display="inline";Xe(!1);af()}}function bf(a){ae(a)||(document.getElementById("runButton").style.display="inline",document.getElementById("resetButton").style.display="none",Vc(null),Xe(!1),Ue())}
function cf(a,c){var d=function(e){df(0,e)};a.setProperty(c,"moveForward",a.createNativeFunction(d));d=function(e){df(2,e)};a.setProperty(c,"moveBackward",a.createNativeFunction(d));d=function(e){ef(0,e)};a.setProperty(c,"turnLeft",a.createNativeFunction(d));d=function(e){ef(1,e)};a.setProperty(c,"turnRight",a.createNativeFunction(d));d=function(e){return ff(0,e)};a.setProperty(c,"isPathForward",a.createNativeFunction(d));d=function(e){return ff(1,e)};a.setProperty(c,"isPathRight",a.createNativeFunction(d));
d=function(e){return ff(2,e)};a.setProperty(c,"isPathBackward",a.createNativeFunction(d));d=function(e){return ff(3,e)};a.setProperty(c,"isPathLeft",a.createNativeFunction(d));a.setProperty(c,"notDone",a.createNativeFunction(function(){return R!=ne.x||S!=ne.y}))}
function af(){if("Interpreter"in window){oe=[];h.selected&&yb(h.selected);var a=h.P;var c=A;c||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),c=h.pg());var d=[];a.wa(c);c=c.pb(!0);for(var e=0,f;f=c[e];e++){var g=ge(a,f);Array.isArray(g)&&(g=g[0]);g&&(f.T&&(g=a.sx(g),a.Qm&&!f.Xs&&(g=he(a.Qm,f)+g),a.Rm&&!f.Xs&&(g+=he(a.Rm,f))),d.push(g))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");Pd=a=d=d.replace(/[ \t]+\n/g,"\n");Od=Rd();X=0;a=new Interpreter(a,
cf);try{for(d=1E4;a.step();)if(0==d--)throw Infinity;X=R!=ne.x||S!=ne.y?-1:1}catch(k){Infinity===k?X=2:!1===k?X=-2:(X=-2,alert(k))}1==X?(Q=100,oe.push(["finish",null])):Q=150;Xe(!1);Y.push(setTimeout(gf,100))}else setTimeout(af,250)}
function gf(){var a=oe.shift();if(a){Zd(a[1]);switch(a[0]){case "north":Ze([R,S-1,4*T]);S--;break;case "east":Ze([R+1,S,4*T]);R++;break;case "south":Ze([R,S+1,4*T]);S++;break;case "west":Ze([R-1,S,4*T]);R--;break;case "look_north":hf(0);break;case "look_east":hf(1);break;case "look_south":hf(2);break;case "look_west":hf(3);break;case "fail_forward":jf(!0);break;case "fail_backward":jf(!1);break;case "left":Ze([R,S,4*T-4]);T=kf(T-1);break;case "right":Ze([R,S,4*T+4]);T=kf(T+1);break;case "finish":Ye(!0),
window.localStorage&&(window.localStorage[nd+M]=Od),setTimeout(P.ZA,1E3)}Y.push(setTimeout(gf,5*Q))}else Zd(null),Ue()}function lf(a){if("dialogHiddenContent"!=document.getElementById("dialogDone").className){var c=document.getElementById("pegSpin"),d=P.Mv(c),e=a.clientX-(d.x+d.width/2-window.pageXOffset);a=h.g.Cd.YD(Math.atan((a.clientY-(d.y+d.height/2-window.pageYOffset))/e));e=Math.round((0<e?a+90:a+270)/360*16);16==e&&(e=15);c.style.backgroundPosition=49*-e+"px 0px"}}
function Ze(a){var c=[R,S,4*T],d=[(a[0]-c[0])/4,(a[1]-c[1])/4,(a[2]-c[2])/4];Z(c[0]+d[0],c[1]+d[1],mf(c[2]+d[2]));Y.push(setTimeout(function(){Z(c[0]+2*d[0],c[1]+2*d[1],mf(c[2]+2*d[2]))},Q));Y.push(setTimeout(function(){Z(c[0]+3*d[0],c[1]+3*d[1],mf(c[2]+3*d[2]))},2*Q));Y.push(setTimeout(function(){Z(a[0],a[1],mf(a[2]))},3*Q))}
function jf(a){var c=0,d=0;switch(T){case 0:d=-1;break;case 1:c=1;break;case 2:d=1;break;case 3:c=-1}a||(c=-c,d=-d);if(1==U.rn){c/=4;d/=4;var e=mf(4*T);Z(R+c,S+d,e);A.Nc.play("fail",.5);Y.push(setTimeout(function(){Z(R,S,e)},Q));Y.push(setTimeout(function(){Z(R+c,S+d,e);A.Nc.play("fail",.5)},2*Q));Y.push(setTimeout(function(){Z(R,S,e)},3*Q))}else{var f=10*(Math.random()-.5),g=(Math.random()-.5)/2;c+=(Math.random()-.5)/4;d+=(Math.random()-.5)/4;c/=8;d/=8;var k=0;3==U.rn&&(k=.01);Y.push(setTimeout(function(){A.Nc.play("fail",
.5)},2*Q));a=function(m){return function(){Z(R+c*m,S+d*m,mf(4*T+g*m),f*m);d+=k}};for(var l=1;100>l;l++)Y.push(setTimeout(a(l),Q*l/2))}}function Ye(a){var c=mf(4*T);Z(R,S,16);a&&A.Nc.play("win",.5);Q=150;Y.push(setTimeout(function(){Z(R,S,18)},Q));Y.push(setTimeout(function(){Z(R,S,16)},2*Q));Y.push(setTimeout(function(){Z(R,S,c)},3*Q))}
function Z(a,c,d,e){var f=document.getElementById("pegman");f.setAttribute("x",50*a-49*d+1);f.setAttribute("y",50*(c+.5)-26-8);e?f.setAttribute("transform","rotate("+e+", "+(50*a+25)+", "+(50*c+25)+")"):f.setAttribute("transform","rotate(0, 0, 0)");c=document.getElementById("clipRect");c.setAttribute("x",50*a+1);c.setAttribute("y",f.getAttribute("y"))}
function hf(a){var c=R,d=S;switch(a){case 0:c+=.5;break;case 1:c+=1;d+=.5;break;case 2:c+=.5;d+=1;break;case 3:d+=.5}c*=50;d*=50;var e=90*a-45;a=document.getElementById("look");a.setAttribute("transform","translate("+c+", "+d+") rotate("+e+" 0 0) scale(.4)");c=a.getElementsByTagName("path");a.style.display="inline";for(d=0;a=c[d];d++)nf(a,Q*d)}function nf(a,c){Y.push(setTimeout(function(){a.style.display="inline";setTimeout(function(){a.style.display="none"},2*Q)},c))}
function kf(a){a=Math.round(a)%4;0>a&&(a+=4);return a}function mf(a){a=Math.round(a)%16;0>a&&(a+=16);return a}function df(a,c){if(!ff(a,null))throw oe.push(["fail_"+(a?"backward":"forward"),c]),!1;switch(kf(T+a)){case 0:S--;var d="north";break;case 1:R++;d="east";break;case 2:S++;d="south";break;case 3:R--,d="west"}oe.push([d,c])}function ef(a,c){a?(T++,oe.push(["right",c])):(T--,oe.push(["left",c]));T=kf(T)}
function ff(a,c){switch(kf(T+a)){case 0:var d=W[S-1]&&W[S-1][R];var e="look_north";break;case 1:d=W[S][R+1];e="look_east";break;case 2:d=W[S+1]&&W[S+1][R];e="look_south";break;case 3:d=W[S][R-1],e="look_west"}c&&oe.push([e,c]);return 0!==d&&void 0!==d}
window.addEventListener("load",function(){function a(){var t,u=q.offsetTop;if(B.matches)return c();p.style.top=Math.max(10,u-window.pageYOffset)+"px";p.style.left=n?"10px":"420px";p.style.width=window.innerWidth-440+"px";(null===(t=document)||void 0===t?void 0:t.getElementById("visualization").childNodes).forEach(function(w){w.style.width="400px";w.style.height="auto";w.style.position="fixed";w.style.top="120px";w.style.left="1%"})}function c(){var t,u,w,I,ab,bb,vc,wc,cb=null===(t=document)||void 0===
t?void 0:t.getElementById("runButton");t=null===(u=document)||void 0===u?void 0:u.getElementById("resetButton");[cb,t].forEach(function(H){H.style.top="2%";H.style.height="6vh";H.style.right="1%";H.style.fontSize="1rem"});cb.style.top="2%";cb.style.height="6vh";cb.style.right="1%";cb.style.fontSize="1rem";document.body.style.display="flex";document.body.style.flexDirection="column";p.style.top="57vh";p.style.width="90vw";p.style.height="37vh";p.style.left="1%";(null===(w=document)||void 0===w?void 0:
w.getElementById("visualization").childNodes).forEach(function(H){H.style.height="35vh";H.style.position="fixed";H.style.top="24vh";H.style.left="1%"});u=null===(I=document)||void 0===I?void 0:I.getElementById("dialogBorder");I=null===(ab=document)||void 0===ab?void 0:ab.getElementById("dialogShadow");ab=null===(bb=document)||void 0===bb?void 0:bb.getElementById("dialog");[u,ab,I].forEach(function(H){H.style.width="50vw";H.style.height="auto";H.style.top="15%";H.style.left="5%";H.style.opacity="0.9"});
(bb=null===(vc=document)||void 0===vc?void 0:null===(wc=vc.getElementById("dialog"))||void 0===wc?void 0:wc.getElementsByTagName("img"))&&e(bb).forEach(function(H){H.style.height="30px";H.style.width="30px"})}function d(t){return function(){window.sessionStorage&&(window.sessionStorage.Hr=Rd());location=location.protocol+"//"+location.host+location.pathname+"?lang="+L+"&level="+M+"&skin="+t}}function e(t){var u=Array.isArray(t)?f(t):void 0;u||(u="undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||
null!=t["@@iterator"]?Array.from(t):void 0);if(!u)a:{if(t){if("string"===typeof t){u=f(t,void 0);break a}u=Object.prototype.toString.call(t).slice(8,-1);"Object"===u&&t.constructor&&(u=t.constructor.name);if("Map"===u||"Set"===u){u=Array.from(t);break a}if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)){u=f(t,void 0);break a}}u=void 0}if(!(t=u))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
return t}function f(t,u){if(null==u||u>t.length)u=t.length;for(var w=0,I=Array(u);w<u;w++)I[w]=t[w];return I}document.body.innerHTML=Ke();Qd();document.querySelector("#pegmanButton>img").style.backgroundImage="url("+U.Ij+")";for(var g=document.getElementById("pegmanMenu"),k=0;k<Ne.length;k++)if(k!=Le){var l=document.createElement("div"),m=document.createElement("img");m.src="common/1x1.gif";m.style.backgroundImage="url("+Ne[k].Ij+")";l.appendChild(m);g.appendChild(l);h.sh(l,"mousedown",null,d(k))}h.sh(window,
"resize",null,We);g=document.getElementById("pegmanButton");h.sh(g,"mousedown",null,Ve);g=document.getElementById("pegmanButtonArrow");k=document.createTextNode(h.Ta.nm);g.appendChild(k);var n=jd(),p=document.getElementById("blockly"),q=document.getElementById("visualization"),B=window.matchMedia("(max-width: 700px )");B.matches&&c();window.addEventListener("scroll",function(){a(null);h.am(A)});window.addEventListener("resize",a);a(null);Wd({maxBlocks:Me,rtl:n,trashcan:!0,zoom:{startScale:1+(1-M/
10)/3}});A.Nc.load(U.it,"win");A.Nc.load(U.uq,"fail");ke(h.P,"moveForward,moveBackward,turnRight,turnLeft,isPathForward,isPathRight,isPathBackward,isPathLeft");Te();Ud();for(g=0;g<Oe;g++)for(k=0;k<Pe;k++)2==W[g][k]?me={x:k,y:g}:3==W[g][k]&&(ne={x:k,y:g});Xe(!0);E(A,function(){var t=kb(A),u=document.getElementById("capacity");if(Infinity==t)u.style.display="none";else{u.style.display="inline";u.innerHTML="";t=Number(t);var w=document.createElement("span");w.className="capacityNumber";w.appendChild(document.createTextNode(t));
t=(0==t?N("Maze_capacity0"):1==t?N("Maze_capacity1"):N("Maze_capacity2")).split(/%\d/);for(var I=0;I<t.length;I++)u.appendChild(document.createTextNode(t[I])),I!=t.length-1&&u.appendChild(w.cloneNode(!0))}});document.body.addEventListener("mousemove",lf,!0);od("runButton",$e);od("resetButton",bf);1==M&&(h.hc*=2,h.yt=h.hc);10==M?ld(M)||(g=document.getElementById("dialogHelpWallFollow"),P.Rl(g,null,!1,!0,{width:"30%",left:"35%",top:"12em"},P.Ax),P.xx(),setTimeout(P.Ou,3E5)):setTimeout(function(){E(A,
Ue);Ue()},5E3);g=document.getElementById("dialogDoneButtons");k=document.createElement("img");k.id="pegSpin";k.src="common/1x1.gif";k.style.backgroundImage="url("+U.Ij+")";g.parentNode.insertBefore(k,g);de();ee()});

