// Automatically generated file.  Do not edit!

var b,h={ka:{lc:1,vd:2,mc:3,Vd:4}};
h.tb={};h.Aw=40;h.Pw=125;h.mB=5;h.FB=10;h.xd=28;h.XA=h.xd;h.bB=8;h.no=250;h.Xq=10;h.VA=30;h.hC=750;h.OC=100;h.nB=!0;h.OB=.45;h.PB=.65;h.Zj={width:96,height:124,url:"sprites.png"};h.tb.Ae={Gb:-1,po:0,nc:1};h.NH=0;h.OH=1;h.LH=1;h.MH=2;h.Uj=[];h.Uj[h.ka.lc]=h.ka.vd;h.Uj[h.ka.vd]=h.ka.lc;h.Uj[h.ka.mc]=h.ka.Vd;h.Uj[h.ka.Vd]=h.ka.mc;h.ih="VARIABLE";h.Qo="PROCEDURE";h.Sw="RENAME_VARIABLE_ID";h.bw="DELETE_VARIABLE_ID";h.tb.so="_TEMP_COLLAPSED_INPUT";h.tb.qo="_TEMP_COLLAPSED_FIELD";
h.g={};h.g.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();
h.o={};h.g.global.Blockly||(h.g.global.Blockly={});h.g.global.Blockly.Msg||(h.g.global.Blockly.Msg=h.o);h.g.zb={};h.g.zb.parse=function(a){a=String(a).toLowerCase().trim();var c=h.g.zb.names[a];if(c)return c;c="0x"==a.substring(0,2)?"#"+a.substring(2):a;c="#"==c[0]?c:"#"+c;if(/^#[0-9a-f]{6}$/.test(c))return c;if(/^#[0-9a-f]{3}$/.test(c))return["#",c[1],c[1],c[2],c[2],c[3],c[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),c=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=c&&256>c&&0<=d&&256>d)?h.g.zb.ev(a,c,d):null};
h.g.zb.ev=function(a,c,d){c=a<<16|c<<8|d;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)};h.g.zb.Ry=function(a){a=h.g.zb.parse(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
h.g.zb.Wy=function(a){var c=h.OB,d=255*h.PB,e=0,f=0,g=0;if(0==c)g=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-c);var m=d*(1-c*l);c=d*(1-c*(1-l));switch(k){case 1:e=m;f=d;g=a;break;case 2:e=a;f=d;g=c;break;case 3:e=a;f=m;g=d;break;case 4:e=c;f=a;g=d;break;case 5:e=d;f=a;g=m;break;case 6:case 0:e=d,f=c,g=a}}return h.g.zb.ev(Math.floor(e),Math.floor(f),Math.floor(g))};
h.g.zb.ss=function(a,c,d){a=h.g.zb.parse(a);if(!a)return null;c=h.g.zb.parse(c);if(!c)return null;a=h.g.zb.Ry(a);c=h.g.zb.Ry(c);return h.g.zb.ev(Math.round(c[0]+d*(a[0]-c[0])),Math.round(c[1]+d*(a[1]-c[1])),Math.round(c[2]+d*(a[2]-c[2])))};h.g.zb.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};h.g.K=function(a,c){this.x=a;this.y=c};h.g.K.tf=function(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1};h.g.K.ng=function(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)};h.g.K.uF=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};h.g.K.um=function(a,c){return new h.g.K(a.x-c.x,a.y-c.y)};h.g.K.sum=function(a,c){return new h.g.K(a.x+c.x,a.y+c.y)};h.g.K.prototype.clone=function(){return new h.g.K(this.x,this.y)};h.g.K.prototype.scale=function(a){this.x*=a;this.y*=a;return this};
h.g.K.prototype.translate=function(a,c){this.x+=a;this.y+=c;return this};h.g.Rect=function(a,c,d,e){this.top=a;this.bottom=c;this.left=d;this.right=e};h.g.Rect.prototype.contains=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};h.g.eb={};h.g.eb.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};h.g.eb.qv=function(a){return a.length?a.reduce(function(c,d){return c.length<d.length?c:d}).length:0};h.g.eb.OD=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.eb.qv(a);for(var e=0;e<c;e++){for(var f=a[0][e],g=1;g<a.length;g++)if(f!=a[g][e])return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g][e])&&" "!=f)return d;return c};
h.g.eb.PD=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.eb.qv(a);for(var e=0;e<c;e++){for(var f=a[0].substr(-e-1,1),g=1;g<a.length;g++)if(f!=a[g].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g].charAt(a[g].length-e-1))&&" "!=f)return d;return c};h.g.eb.CA=function(a,c){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=h.g.eb.mH(a[d],c);return a.join("\n")};
h.g.eb.mH=function(a,c){if(a.length<=c)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>c&&(c=d[e].length);e=-Infinity;var f=1;do{var g=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=h.g.eb.DA(d,a,c);e=h.g.eb.Jv(d,a,c);a=h.g.eb.nH(d,a);f++}while(e>g);return k};
h.g.eb.Jv=function(a,c,d){for(var e=[0],f=[],g=0;g<a.length;g++)e[e.length-1]+=a[g].length,!0===c[g]?(e.push(0),f.push(a[g].charAt(a[g].length-1))):!1===c[g]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(g=c=0;g<e.length;g++)c-=2*Math.pow(Math.abs(d-e[g]),1.5),c-=Math.pow(a-e[g],1.5),-1!=".?!".indexOf(f[g])?c+=d/3:-1!=",;)]}".indexOf(f[g])&&(c+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(c+=.5);return c};
h.g.eb.DA=function(a,c,d){for(var e=h.g.eb.Jv(a,c,d),f,g=0;g<c.length-1;g++)if(c[g]!=c[g+1]){var k=[].concat(c);k[g]=!k[g];k[g+1]=!k[g+1];var l=h.g.eb.Jv(a,k,d);l>e&&(e=l,f=k)}return f?h.g.eb.DA(a,f,d):c};h.g.eb.nH=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==c[e]&&d.push(c[e]?"\n":" ");return d.join("")};h.g.Pc=function(a,c){this.width=a;this.height=c};h.g.Pc.tf=function(a,c){return a==c?!0:a&&c?a.width==c.width&&a.height==c.height:!1};h.g.style={};h.g.style.pg=function(a){if("none"!=h.g.style.Hy(a,"display"))return h.g.style.Fy(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var g=a.offsetWidth;a=a.offsetHeight;c.display=d;c.position=f;c.visibility=e;return new h.g.Pc(g,a)};h.g.style.Fy=function(a){return new h.g.Pc(a.offsetWidth,a.offsetHeight)};h.g.style.Hy=function(a,c){return h.g.style.getComputedStyle(a,c)||h.g.style.DE(a,c)||a.style&&a.style[c]};
h.g.style.getComputedStyle=function(a,c){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""};h.g.style.DE=function(a,c){return a.currentStyle?a.currentStyle[c]:null};h.g.style.vf=function(a){var c=new h.g.K(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new h.g.K(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);c.x=a.left+d.x;c.y=a.top+d.y;return c};
h.g.style.SE=function(){var a=document.body,c=document.documentElement;return new h.g.K(a.scrollLeft||c.scrollLeft,a.scrollTop||c.scrollTop)};h.g.style.JL=function(a,c){a.style.display=c?"":"none"};h.g.style.sL=function(a){return"rtl"==h.g.style.Hy(a,"direction")};
h.g.style.AE=function(a){var c=h.g.style.getComputedStyle(a,"borderLeftWidth"),d=h.g.style.getComputedStyle(a,"borderRightWidth"),e=h.g.style.getComputedStyle(a,"borderTopWidth");a=h.g.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(e),right:parseFloat(d),bottom:parseFloat(a),left:parseFloat(c)}};h.g.style.DG=function(a,c){a=h.g.style.GE(a,c);c.scrollLeft=a.x;c.scrollTop=a.y};
h.g.style.GE=function(a,c){var d=h.g.style.vf(a),e=h.g.style.vf(c),f=h.g.style.AE(c),g=d.x-e.x-f.left;d=d.y-e.y-f.top;a=h.g.style.Fy(a);e=c.clientHeight-a.height;f=c.scrollLeft;var k=c.scrollTop;f+=Math.min(g,Math.max(g-(c.clientWidth-a.width),0));k+=Math.min(d,Math.max(d-e,0));return new h.g.K(f,k)};h.g.userAgent={};
(function(a){function c(e){return-1!=d.indexOf(e.toUpperCase())}h.g.userAgent.raw=a;var d=h.g.userAgent.raw.toUpperCase();h.g.userAgent.Be=c("Trident")||c("MSIE");h.g.userAgent.ni=c("Edge");h.g.userAgent.ZB=c("JavaFX");h.g.userAgent.CH=(c("Chrome")||c("CriOS"))&&!h.g.userAgent.ni;h.g.userAgent.ix=c("WebKit")&&!h.g.userAgent.ni;h.g.userAgent.JB=c("Gecko")&&!h.g.userAgent.ix&&!h.g.userAgent.Be&&!h.g.userAgent.ni;h.g.userAgent.Ej=c("Android");a=h.g.global.navigator&&h.g.global.navigator.maxTouchPoints;h.g.userAgent.pi=
c("iPad")||c("Macintosh")&&0<a;h.g.userAgent.xw=c("iPod");h.g.userAgent.ww=c("iPhone")&&!h.g.userAgent.pi&&!h.g.userAgent.xw;h.g.userAgent.iC=c("Macintosh");h.g.userAgent.VC=h.g.userAgent.pi||h.g.userAgent.Ej&&!c("Mobile")||c("Silk");h.g.userAgent.Hw=!h.g.userAgent.VC&&(h.g.userAgent.xw||h.g.userAgent.ww||h.g.userAgent.Ej||c("IEMobile"))})(h.g.global.navigator&&h.g.global.navigator.userAgent||"");
h.g.IF=function(a){a.preventDefault();a.stopPropagation()};h.g.Sp=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable||a.target.dataset&&"true"==a.target.dataset.uL};
h.g.ke=function(a){var c=new h.g.K(0,0),d=a.getAttribute("x");d&&(c.x=parseInt(d,10));if(d=a.getAttribute("y"))c.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(h.g.ke.cD))c.x+=Number(d[1]),d[3]&&(c.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(h.g.ke.dD))&&(c.x+=Number(a[1]),a[3]&&(c.y+=Number(a[3])));return c};
h.g.Hm=function(a){for(var c=0,d=0;a;){var e=h.g.ke(a);c+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new h.g.K(c,d)};h.g.ke.cD=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;h.g.ke.dD=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;h.g.Vk=function(a){return a.ctrlKey&&h.g.userAgent.iC?!0:2==a.button};
h.g.fn=function(a,c,d){var e=c.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=c.getScreenCTM().inverse());return e.matrixTransform(d)};h.g.Ey=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*h.Aw,y:a.deltaY*h.Aw};case 2:return{x:a.deltaX*h.Pw,y:a.deltaY*h.Pw}}};h.g.YG=function(a){return h.g.zv(a,!0)};h.g.Ve=function(a){if("string"!=typeof a)return a;a=h.g.zv(a,!1);return a.length?String(a[0]):""};
h.g.Dx=function(a){for(var c=h.o,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==c[d[e].toUpperCase().slice(6,-1)]&&console.warn("No message string for "+d[e]+" in "+a)};
h.g.zv=function(a,c){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var g=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):c&&"0"<=l&&"9">=l?(f=2,g=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?g+=l:(d.push(parseInt(g,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=h.g.eb.startsWith(l,"BKY_")?
l.substring(4):null)&&l in h.o?(f=h.o[l],"string"==typeof f?Array.prototype.push.apply(d,h.g.zv(f,c)):c?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);c=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&c.push(l),a.length=0,c.push(d[k]));(l=a.join(""))&&c.push(l);a.length=0;return c};h.g.uf=function(){for(var a=h.g.uf.eA.length,c=[],d=0;20>d;d++)c[d]=h.g.uf.eA.charAt(Math.random()*a);return c.join("")};
h.g.uf.eA="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
h.g.Ui=function(){if(void 0!==h.g.Ui.Ds)return h.g.Ui.Ds;if(!h.g.global.getComputedStyle)return!1;var a=document.createElement("p"),c="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";c=h.g.global.getComputedStyle(a);if(!c)return document.body.removeChild(a),!1;c=c.getPropertyValue(d[e])}document.body.removeChild(a);
h.g.Ui.Ds="none"!==c;return h.g.Ui.Ds};h.g.Yz=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var c=setInterval(function(){"complete"==document.readyState&&(clearInterval(c),a())},10)};h.g.RE=function(){var a=h.g.style.SE();return new h.g.Rect(a.y,document.documentElement.clientHeight+a.y,a.x,document.documentElement.clientWidth+a.x)};
h.g.bp=function(a,c){c=a.indexOf(c);if(-1==c)return!1;a.splice(c,1);return!0};h.g.JE=function(){var a=document.documentElement,c=window;return h.g.userAgent.Be&&c.pageYOffset!=a.scrollTop?new h.g.K(a.scrollLeft,a.scrollTop):new h.g.K(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop)};h.g.yt=function(a,c){var d=Object.create(null),e=r(a,!0);c&&(a=t(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;c=e[a];a++)d[c.type]?d[c.type]++:d[c.type]=1;return d};
h.g.HL=function(a,c){var d=c.x;c=c.y;var e=aa(a).getBoundingClientRect();d=new h.g.K(d-e.left,c-e.top);c=h.g.Hm(a.ob);return h.g.K.um(d,c).scale(1/a.scale)};h.g.rq=function(a){var c="string"==typeof a?h.g.Ve(a):a,d=Number(c);if(!isNaN(d)&&0<=d&&360>=d)return{dF:d,Mm:h.g.zb.Wy(d)};if(d=h.g.zb.parse(c))return{dF:null,Mm:d};d='Invalid colour: "'+c+'"';a!=c&&(d+=' (from "'+a+'")');throw Error(d);};h.Touch={};h.Touch.bx="ontouchstart"in h.g.global||!!(h.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!h.g.global.navigator||!h.g.global.navigator.maxTouchPoints&&!h.g.global.navigator.msMaxTouchPoints);h.Touch.Sn=null;h.Touch.gf={};
h.g.global.PointerEvent?h.Touch.gf={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:h.Touch.bx&&(h.Touch.gf={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});h.Zp=0;
h.tF=function(a,c){h.Jh();a.changedTouches&&1!=a.changedTouches.length||(h.Zp=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);c&&ca(c,a)},h.hC))};h.Jh=function(){h.Zp&&(clearTimeout(h.Zp),h.Zp=0)};h.Touch.jp=function(){h.Touch.Sn=null};h.Touch.uv=function(a){return!h.Touch.kF(a)||h.Touch.ID(a)};
h.Touch.Hp=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};h.Touch.ID=function(a){var c=h.Touch.Hp(a);return void 0!==h.Touch.Sn&&null!==h.Touch.Sn?h.Touch.Sn==c:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(h.Touch.Sn=c,!0):!1};
h.Touch.FG=function(a){if(h.g.eb.startsWith(a.type,"touch")){var c=a.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY}};h.Touch.kF=function(a){return h.g.eb.startsWith(a.type,"touch")||h.g.eb.startsWith(a.type,"mouse")||h.g.eb.startsWith(a.type,"pointer")};h.Touch.Up=function(a){return h.g.eb.startsWith(a.type,"touch")||h.g.eb.startsWith(a.type,"pointer")};
h.Touch.MG=function(a){var c=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)c[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else c.push(a);return c};h.P={};h.P.Aa=function(a,c,d,e,f,g){function k(v){var M=!f;v=h.Touch.MG(v);for(var ba=0,I;I=v[ba];ba++)if(!M||h.Touch.uv(I))h.Touch.FG(I),d?e.call(d,I):e(I),l=!0}var l=!1,m=[];if(h.g.global.PointerEvent&&c in h.Touch.gf)for(var n=0,p;p=h.Touch.gf[c][n];n++)a.addEventListener(p,k,!1),m.push([a,p,k]);else if(a.addEventListener(c,k,!1),m.push([a,c,k]),c in h.Touch.gf){var q=function(v){k(v);var M=!g;l&&M&&v.preventDefault()};for(n=0;p=h.Touch.gf[c][n];n++)a.addEventListener(p,q,!1),m.push([a,p,q])}return m};
h.P.bind=function(a,c,d,e){function f(n){d?e.call(d,n):e(n)}var g=[];if(h.g.global.PointerEvent&&c in h.Touch.gf)for(var k=0,l;l=h.Touch.gf[c][k];k++)a.addEventListener(l,f,!1),g.push([a,l,f]);else if(a.addEventListener(c,f,!1),g.push([a,c,f]),c in h.Touch.gf){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var p=n.changedTouches[0];n.clientX=p.clientX;n.clientY=p.clientY}f(n);n.preventDefault()};for(k=0;l=h.Touch.gf[c][k];k++)a.addEventListener(l,m,!1),g.push([a,l,m])}return g};
h.P.gb=function(a){for(;a.length;){var c=a.pop(),d=c[2];c[0].removeEventListener(c[1],d,!1)}return d};h.Ob=function(){this.nh=Object.create(null);this.lk=Object.create(null)};function da(a,c){var d=c.hm.id;if(a.nh[d])throw Error('Plugin "'+d+'" with capabilities "'+a.nh[d].mh+'" already added.');a.nh[d]=c;for(var e=[],f=0;f<c.mh.length;f++){var g=String(c.mh[f]).toLowerCase();e.push(g);void 0===a.lk[g]?a.lk[g]=[d]:a.lk[g].push(d)}a.nh[d].mh=e}
function ea(a,c){var d=a.nh[c];if(d){for(var e=0;e<d.mh.length;e++){var f=String(d.mh[e]).toLowerCase();a.lk[f].splice(a.lk[f].indexOf(c),1)}delete a.nh[c]}}function fa(a,c){var d=h.Ob.Xb.er;d=String(d).toLowerCase();return-1!==a.nh[c].mh.indexOf(d)}function ha(a,c){c=String(c).toLowerCase();c=a.lk[c];if(!c)return[];var d=[],e=[],f=a.nh;c.forEach(function(g){e.push(f[g])});e.sort(function(g,k){return g.weight-k.weight});e.forEach(function(g){d.push(g.hm)});return d}h.Ob.Xb=function(a){this.gn=a};
h.Ob.Xb.prototype.toString=function(){return this.gn};h.Ob.Xb.Rw=new h.Ob.Xb("positionable");h.Ob.Xb.ir=new h.Ob.Xb("drag_target");h.Ob.Xb.er=new h.Ob.Xb("delete_area");h.Ob.Xb.Qv=new h.Ob.Xb("autohideable");
h.g.G=function(a){this.VG=a};h.g.G.prototype.toString=function(){return this.VG};h.g.G.Tq=new h.g.G("animate");h.g.G.$q=new h.g.G("circle");h.g.G.Vv=new h.g.G("clipPath");h.g.G.aw=new h.g.G("defs");h.g.G.hw=new h.g.G("feComposite");h.g.G.fI=new h.g.G("feComponentTransfer");h.g.G.gI=new h.g.G("feFlood");h.g.G.hI=new h.g.G("feFuncA");h.g.G.wB=new h.g.G("feGaussianBlur");h.g.G.xB=new h.g.G("fePointLight");h.g.G.yB=new h.g.G("feSpecularLighting");h.g.G.EB=new h.g.G("filter");h.g.G.pI=new h.g.G("foreignObject");
h.g.G.Cc=new h.g.G("g");h.g.G.Go=new h.g.G("image");h.g.G.ri=new h.g.G("line");h.g.G.Ud=new h.g.G("path");h.g.G.Qw=new h.g.G("pattern");h.g.G.zC=new h.g.G("polygon");h.g.G.wd=new h.g.G("rect");h.g.G.ah=new h.g.G("svg");h.g.G.ax=new h.g.G("text");h.g.G.$r=new h.g.G("tspan");h.g.j={};h.g.j.Sl="http://www.w3.org/2000/svg";h.g.j.Fo="http://www.w3.org/1999/xhtml";h.g.j.Ee="http://www.w3.org/1999/xlink";h.g.j.Zg={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};h.g.j.He=null;h.g.j.As=0;h.g.j.gp=null;h.g.j.O=function(a,c,d){a=document.createElementNS(h.g.j.Sl,String(a));for(var e in c)a.setAttribute(e,c[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
h.g.j.Db=function(a,c){var d=a.getAttribute("class")||"";-1==(" "+d+" ").indexOf(" "+c+" ")&&(d&&(d+=" "),a.setAttribute("class",d+c))};h.g.j.CL=function(a,c){c=c.split(" ");for(var d=0;d<c.length;d++)h.g.j.vc(a,c[d])};h.g.j.vc=function(a,c){var d=a.getAttribute("class");if(-1!=(" "+d+" ").indexOf(" "+c+" ")){d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=c||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class")}};
h.g.j.Nt=function(a,c){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+c+" ")};h.g.j.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};h.g.j.Mk=function(a,c){var d=c.nextSibling;c=c.parentNode;if(!c)throw Error("Reference node has no parent.");d?c.insertBefore(a,d):c.appendChild(a)};h.g.j.containsNode=function(a,c){return!!(a.compareDocumentPosition(c)&h.g.j.Zg.DOCUMENT_POSITION_CONTAINED_BY)};
h.g.j.zn=function(a,c){a.style.transform=c;a.style["-webkit-transform"]=c};h.g.j.Jn=function(){h.g.j.As++;h.g.j.He||(h.g.j.He=Object.create(null))};h.g.j.Kn=function(){h.g.j.As--;h.g.j.As||(h.g.j.He=null)};h.g.j.iL=function(a){var c=a.textContent+"\n"+a.className.baseVal,d;if(h.g.j.He&&(d=h.g.j.He[c]))return d;try{d=h.g.userAgent.Be||h.g.userAgent.ni?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}h.g.j.He&&(h.g.j.He[c]=d);return d};
h.g.j.Dt=function(a,c,d,e){return h.g.j.KE(a,c+"pt",d,e)};h.g.j.KE=function(a,c,d,e){var f=a.textContent;a=f+"\n"+a.className.baseVal;var g;if(h.g.j.He&&(g=h.g.j.He[a]))return g;h.g.j.gp||(g=document.createElement("canvas"),g.className="blocklyComputeCanvas",document.body.appendChild(g),h.g.j.gp=g.getContext("2d"));h.g.j.gp.font=d+" "+c+" "+e;g=h.g.j.gp.measureText(f).width;h.g.j.He&&(h.g.j.He[a]=g);return g};
h.g.j.wF=function(a,c,d){var e=document.createElement("span");e.style.font=c+" "+a+" "+d;e.textContent="Hg";a=document.createElement("div");a.style.width="1px";a.style.height="0px";c=document.createElement("div");c.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;");c.appendChild(e);c.appendChild(a);document.body.appendChild(c);try{d={},c.style.alignItems="baseline",d.Ge=a.offsetTop-e.offsetTop,c.style.alignItems="flex-end",d.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(c)}return d};h.g.bc={};h.g.bc.vj=function(a){return a*Math.PI/180};h.g.bc.lA=function(a){return 180*a/Math.PI};h.g.bc.fm=function(a,c,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(c,d))};
h.F=function(){};h.F.ws=null;h.F.qe=null;h.F.Qz=null;h.F.jo=16;h.F.Tv=1;h.F.Pv=12;h.F.Ow=16;h.F.Uq=.25;h.F.ns=null;h.F.jj=null;h.F.Ue="";h.F.Xe="";
h.F.Va=function(){if(!h.F.bf){var a=document.createElement("div");a.className="blocklyDropDownDiv";(h.qq||document.body).appendChild(a);h.F.bf=a;var c=document.createElement("div");c.className="blocklyDropDownContent";a.appendChild(c);h.F.lg=c;c=document.createElement("div");c.className="blocklyDropDownArrow";a.appendChild(c);h.F.Xd=c;h.F.bf.style.opacity=0;h.F.bf.style.transition="transform "+h.F.Uq+"s, opacity "+h.F.Uq+"s";a.addEventListener("focusin",function(){h.g.j.Db(a,"blocklyFocused")});a.addEventListener("focusout",
function(){h.g.j.vc(a,"blocklyFocused")})}};h.F.EG=function(a){h.F.ws=a};h.F.uy=function(){return h.F.lg};h.F.JD=function(){h.F.lg.textContent="";h.F.lg.style.width=""};h.F.Jd=function(a,c){h.F.bf.style.backgroundColor=a;h.F.bf.style.borderColor=c};h.F.LL=function(a,c,d,e){return h.F.dA(h.F.Cy(c),a,d,e)};h.F.cA=function(a,c){h.F.Qz=!0;h.F.dA(h.F.Dy(a),a,c)};h.F.Cy=function(a){var c=a.ta(),d=c.getBBox(),e=a.B.scale;a=d.height*e;d=d.width*e;c=h.g.style.vf(c);return new h.g.Rect(c.y,c.y+a,c.x,c.x+d)};
h.F.Dy=function(a){a=ia(a);return new h.g.Rect(a.top,a.bottom,a.left,a.right)};h.F.dA=function(a,c,d,e){var f=a.left+(a.right-a.left)/2,g=a.bottom;a=a.top;e&&(a+=e);e=c.ba();for(var k=e.B;k.options.ic;)k=k.options.ic;h.F.EG(u(k).parentNode);return h.F.show(c,e.M,f,g,f,a,d)};h.F.show=function(a,c,d,e,f,g,k){h.F.qe=a;h.F.jj=k||null;a=h.F.bf;a.style.direction=c?"rtl":"ltr";c=h.vh();h.F.Ue=c.vb.Me();h.F.Xe=c.qg().Me();h.g.j.Db(a,h.F.Ue);h.g.j.Db(a,h.F.Xe);return h.F.qn(d,e,f,g)};
h.F.BE=function(){var a=h.g.style.vf(h.F.ws),c=h.g.style.pg(h.F.ws);return{left:a.x,right:a.x+c.width,top:a.y,bottom:a.y+c.height,width:c.width,height:c.height}};h.F.LE=function(a,c,d,e){var f=h.F.BE(),g=h.g.style.pg(h.F.bf);return c+g.height<f.bottom?h.F.By(a,c,f,g):e-g.height>f.top?h.F.Ay(d,e,f,g):c+g.height<document.documentElement.clientHeight?h.F.By(a,c,f,g):e-g.height>document.documentElement.clientTop?h.F.Ay(d,e,f,g):h.F.ME(a,f,g)};
h.F.By=function(a,c,d,e){a=h.F.Ht(a,d.left,d.right,e.width);return{Tt:a.yk,Ut:c,st:a.yk,tt:c+h.F.Ow,hk:a.hk,ps:-(h.F.jo/2+h.F.Tv),cp:!0,os:!0}};h.F.Ay=function(a,c,d,e){a=h.F.Ht(a,d.left,d.right,e.width);return{Tt:a.yk,Ut:c-e.height,st:a.yk,tt:c-e.height-h.F.Ow,hk:a.hk,ps:e.height-2*h.F.Tv-h.F.jo/2,cp:!1,os:!0}};h.F.ME=function(a,c,d){a=h.F.Ht(a,c.left,c.right,d.width);return{Tt:a.yk,Ut:0,st:a.yk,tt:0,cp:null,hk:null,ps:null,os:!1}};
h.F.Ht=function(a,c,d,e){var f=a;a=h.g.bc.fm(c,a-e/2,d-e);f-=h.F.jo/2;c=h.g.bc.fm(h.F.Pv,f-a,e-h.F.Pv-h.F.jo);return{hk:c,yk:a}};h.F.isVisible=function(){return!!h.F.qe};h.F.Kk=function(a,c){h.F.qe===a&&(c?h.F.Ni():h.F.Ra())};h.F.Ra=function(){var a=h.F.bf;a.style.transform="translate(0, 0)";a.style.opacity=0;h.F.ns=setTimeout(function(){h.F.Ni()},1E3*h.F.Uq);h.F.jj&&(h.F.jj(),h.F.jj=null)};
h.F.Ni=function(){if(h.F.isVisible()){h.F.ns&&clearTimeout(h.F.ns);var a=h.F.bf;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";h.F.jj&&(h.F.jj(),h.F.jj=null);h.F.JD();h.F.qe=null;h.F.Ue&&(h.g.j.vc(a,h.F.Ue),h.F.Ue="");h.F.Xe&&(h.g.j.vc(a,h.F.Xe),h.F.Xe="");ja(h.vh())}};
h.F.qn=function(a,c,d,e){a=h.F.LE(a,c,d,e);a.os?(h.F.Xd.style.display="",h.F.Xd.style.transform="translate("+a.hk+"px,"+a.ps+"px) rotate(45deg)",h.F.Xd.setAttribute("class",a.cp?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):h.F.Xd.style.display="none";c=Math.floor(a.Tt);d=Math.floor(a.Ut);e=Math.floor(a.st);var f=Math.floor(a.tt),g=h.F.bf;g.style.left=c+"px";g.style.top=d+"px";g.style.display="block";g.style.opacity=1;g.style.transform="translate("+(e-c)+"px,"+
(f-d)+"px)";return!!a.cp};h.F.EL=function(){if(h.F.qe){var a=h.F.qe,c=a.ba();a=h.F.Qz?h.F.Dy(a):h.F.Cy(c);c=a.left+(a.right-a.left)/2;h.F.qn(c,a.bottom,c,a.top)}else h.F.Ra()};h.C={};h.C.ml=Object.create(null);h.C.Mj="default";h.C.T=function(a){this.gn=a};h.C.T.prototype.toString=function(){return this.gn};h.C.T.Yv=new h.C.T("connectionChecker");h.C.T.Ij=new h.C.T("cursor");h.C.T.Jb=new h.C.T("event");h.C.T.Bc=new h.C.T("field");h.C.T.RENDERER=new h.C.T("renderer");h.C.T.WC=new h.C.T("toolbox");h.C.T.Vr=new h.C.T("theme");h.C.T.zK=new h.C.T("toolboxItem");h.C.T.mr=new h.C.T("flyoutsVerticalToolbox");h.C.T.oI=new h.C.T("flyoutsHorizontalToolbox");h.C.T.Gw=new h.C.T("metricsManager");
h.C.T.Sv=new h.C.T("blockDragger");
h.C.register=function(a,c,d,e){if(!(a instanceof h.C.T)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof c||""==c.trim())throw Error('Invalid name "'+c+'". The name must be a non-empty string.');c=c.toLowerCase();if(!d)throw Error("Can not register a null value");var f=h.C.ml[a];f||(f=h.C.ml[a]=Object.create(null));h.C.fH(a,d);if(!e&&f[c])throw Error('Name "'+
c+'" with type "'+a+'" already registered.');f[c]=d};h.C.fH=function(a,c){switch(a){case String(h.C.T.Bc):if("function"!=typeof c.Z)throw Error('Type "'+a+'" must have a fromJson function');}};h.C.unregister=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();var d=h.C.ml[a];d&&d[c]?delete h.C.ml[a][c]:console.warn("Unable to unregister ["+c+"]["+a+"] from the registry.")};
h.C.xy=function(a,c,d){a=String(a).toLowerCase();c=c.toLowerCase();var e=h.C.ml[a];if(!e||!e[c]){c="Unable to find ["+c+"]["+a+"] in the registry.";if(d)throw Error(c+" You must require or register a "+a+" plugin.");console.warn(c);return null}return e[c]};h.C.jL=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();return(a=h.C.ml[a])?!!a[c]:!1};h.C.At=function(a,c,d){return h.C.xy(a,c,d)};h.C.Gt=function(a,c){return h.C.xy(a,c)};
h.C.Ji=function(a,c,d){c=c.plugins[a.toString()]||h.C.Mj;return"function"==typeof c?c:h.C.At(a,c,d)};h.h={};h.h.My="";h.h.Qa=!0;h.h.Xs=0;h.h.zl="create";h.h.ei=h.h.zl;h.h.mi="delete";h.h.Vq=h.h.mi;h.h.Hj="change";h.h.Nf=h.h.Hj;h.h.Jl="move";h.h.gi=h.h.Jl;h.h.Vl="var_create";h.h.Yo="var_delete";h.h.fs="var_rename";h.h.bs="ui";h.h.lo="drag";h.h.Xj="selected";h.h.xl="click";h.h.yr="marker_move";h.h.ul="bubble_open";h.h.Zr="trashcan_open";h.h.AK="toolbox_item_select";h.h.Wr="theme_change";h.h.Wl="viewport_change";h.h.to="comment_create";h.h.Xv="comment_delete";h.h.Wv="comment_change";h.h.yl="comment_move";
h.h.lr="finished_loading";h.h.TA=[h.h.ei,h.h.gi,h.h.to,h.h.yl];h.h.Dl=[];h.h.Ea=function(a){h.h.isEnabled()&&(h.h.Dl.length||setTimeout(h.h.uE,0),h.h.Dl.push(a))};h.h.uE=function(){for(var a=h.h.filter(h.h.Dl,!0),c=h.h.Dl.length=0,d;d=a[c];c++)if(d.dc){var e=h.xb.Fm(d.dc);if(e){var f=d;if(f.Qa)for(e.xj.push(f),e.un.length=0;e.xj.length>e.Ew&&0<=e.Ew;)e.xj.shift();for(var g=0;d=e.Zc[g];g++)d(f)}}};
h.h.filter=function(a,c){a=a.slice();c||a.reverse();for(var d=[],e=Object.create(null),f=0,g;g=a[f];f++)if(!g.Sk()){var k=[g.$t?h.h.bs:g.type,g.ab,g.dc].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:g,index:f},d.push(g);else if(g.type==h.h.Jl&&l.index==f-1)m.fj=g.fj,m.ej=g.ej,m.Lh=g.Lh,l.index=f;else if(g.type==h.h.Hj&&g.element==m.element&&g.name==m.name)m.newValue=g.newValue;else if(g.type==h.h.Wl)m.ye=g.ye,m.xe=g.xe,m.scale=g.scale,m.hn=g.hn;else if(g.type!=h.h.xl||m.type!=h.h.ul)e[k]={event:g,
index:f},d.push(g)}a=d.filter(function(n){return!n.Sk()});c||a.reverse();for(f=1;g=a[f];f++)g.type==h.h.Hj&&"mutation"==g.element&&a.unshift(a.splice(f,1)[0]);return a};h.h.KD=function(){for(var a=0,c;c=h.h.Dl[a];a++)c.Qa=!1};h.h.disable=function(){h.h.Xs++};h.h.enable=function(){h.h.Xs--};h.h.isEnabled=function(){return 0==h.h.Xs};h.h.Tb=function(){return h.h.My};h.h.ma=function(a){h.h.My="boolean"==typeof a?a?h.g.uf():"":a};
h.h.vy=function(a){var c=[];a=r(a,!1);for(var d=0,e;e=a[d];d++)c[d]=e.id;return c};h.h.Z=function(a){var c=h.h.get(a.type);if(!c)throw Error("Unknown event type.");c=new c;c.Z(a);c.dc=(void 0).id;return c};h.h.get=function(a){return h.C.At(h.C.T.Jb,a)};
h.h.Xx=function(a){if((a.type==h.h.Jl||a.type==h.h.zl)&&a.dc){var c=h.xb.Fm(a.dc),d=c.Wc(a.ab);if(d){a=h.h.Qa;try{h.h.Qa=!1;var e=d.getParent();if(e&&e.isEnabled()){var f=r(d,!1);c=0;for(var g;g=f[c];c++)g.Hf(!0)}else if((d.R||d.la)&&!c.rc()){do d.Hf(!1),d=t(d);while(d)}}finally{h.h.Qa=a}}}};
h.h.Abstract=function(){this.Gd=null;this.dc=void 0;this.group=h.h.Tb();this.Qa=h.h.Qa};b=h.h.Abstract.prototype;b.$t=!1;b.va=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};b.Z=function(a){this.Gd=!1;this.group=a.group};b.Sk=function(){return!1};b.run=function(){};function w(a){if(a.dc)var c=h.xb.Fm(a.dc);if(!c)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return c};h.g.object={};h.g.object.U=function(a,c){a.A=c.prototype;a.prototype=Object.create(c.prototype);a.prototype.constructor=a};h.g.object.Te=function(a,c){for(var d in c)a[d]=c[d]};h.g.object.wk=function(a,c){for(var d in c)a[d]=null!=c[d]&&"object"===typeof c[d]?h.g.object.wk(a[d]||Object.create(null),c[d]):c[d];return a};h.g.object.values=function(a){return Object.values?Object.values(a):Object.keys(a).map(function(c){return a[c]})};h.g.xml={};h.g.xml.pC="https://developers.google.com/blockly/xml";h.g.xml.document=function(){return document};h.g.xml.createElement=function(a){return h.g.xml.document().createElementNS(h.g.xml.pC,a)};h.g.xml.createTextNode=function(a){return h.g.xml.document().createTextNode(a)};h.g.xml.WG=function(a){return(new DOMParser).parseFromString(a,"text/xml")};h.g.xml.Vc=function(a){return(new XMLSerializer).serializeToString(a)};h.Ga={jf:h.ka.lc,Dc:h.ka.mc,Nd:5};h.N={};h.N.BA=function(a){var c=x,d=h.g.xml.createElement("xml"),e=h.N.iH(h.na.ks(c));e.hasChildNodes()&&d.appendChild(e);var f=[].concat(c.Nq);1<f.length&&(c.If.offset=Math.sin(h.g.bc.vj(h.xb.Uw)),c.M&&(c.If.offset*=-1),f.sort(c.If));e=0;for(var g;g=f[e];e++)d.appendChild(g.nA(a));c=c.Eb(!0);for(e=0;f=c[e];e++)d.appendChild(h.N.us(f,a));return d};
h.N.iH=function(a){for(var c=h.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=h.g.xml.createElement("variable");f.appendChild(h.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.lb();c.appendChild(f)}return c};h.N.us=function(a,c){if(a.nd()&&(a=ka(a,!1)[0],!a))return new DocumentFragment;var d;a.B.M&&(d=a.B.yh());c=h.N.dg(a,c);var e=a.Wa();c.setAttribute("x",Math.round(a.B.M?d-e.x:e.x));c.setAttribute("y",Math.round(e.y));return c};
h.N.sE=function(a){var c=!1;a.name&&(a.Yj?c=!0:a.Bo&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),c=!0));return c?(c=h.g.xml.createElement("field"),c.setAttribute("name",a.name||""),a.mA(c)):null};h.N.jD=function(a,c){for(var d=0,e;e=a.V[d];d++)for(var f=0,g;g=e.bb[f];f++)(g=h.N.sE(g))&&c.appendChild(g)};
h.N.dg=function(a,c){if(a.nd())return(a=ka(a,!1)[0])?h.N.dg(a):new DocumentFragment;var d=h.g.xml.createElement(a.Ha?"shadow":"block");d.setAttribute("type",a.type);c||d.setAttribute("id",a.id);if(a.uc){var e=a.uc();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}h.N.jD(a,d);if(e=a.Ie.text){var f=a.Ie.size,g=a.Ie.Kz,k=h.g.xml.createElement("comment");k.appendChild(h.g.xml.createTextNode(e));k.setAttribute("pinned",g);k.setAttribute("h",f.height);k.setAttribute("w",f.width);d.appendChild(k)}a.data&&
(e=h.g.xml.createElement("data"),e.appendChild(h.g.xml.createTextNode(a.data)),d.appendChild(e));for(e=0;f=a.V[e];e++){var l;g=!0;if(f.type!=h.Ga.Nd){var m=f.connection.sa();f.type==h.Ga.jf?l=h.g.xml.createElement("value"):f.type==h.Ga.Dc&&(l=h.g.xml.createElement("statement"));k=f.connection.Gk();!k||m&&m.Ha||l.appendChild(h.N.Gx(k,c));m&&(k=h.N.dg(m,c),k.nodeType==h.g.j.Zg.ELEMENT_NODE&&(l.appendChild(k),g=!1));l.setAttribute("name",f.name);g||d.appendChild(l)}}void 0!=a.ug&&a.ug!=a.hF&&d.setAttribute("inline",
a.ug);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.Bf()||a.Ha||d.setAttribute("deletable",!1);a.Gc()||a.Ha||d.setAttribute("movable",!1);a.md()||d.setAttribute("editable",!1);if(e=t(a))k=h.N.dg(e,c),k.nodeType==h.g.j.Zg.ELEMENT_NODE&&(l=h.g.xml.createElement("next"),l.appendChild(k),d.appendChild(l));k=a.$&&a.$.Gk();!k||e&&e.Ha||l.appendChild(h.N.Gx(k,c));return d};
h.N.Gx=function(a,c){for(var d=a=a.cloneNode(!0),e;d;)if(c&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==h.g.j.Zg.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&h.g.j.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==h.g.j.Zg.TEXT_NODE&&""==e.data.trim()&&h.g.j.removeNode(e))}return a};h.N.Vc=function(a){return h.g.xml.Vc(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")};
h.N.ZK=function(a){a=h.N.Vc(a).split("<");for(var c="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(c=c.substring(2));a[d]=c+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(c+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};h.N.Mf=function(a){var c=h.g.xml.WG(a);if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return c.documentElement};
h.N.QK=function(a,c){c.jc(!1);c.clear();a=h.N.Ak(a,c);c.jc(!0);return a};
h.N.Ak=function(a,c){if(a instanceof h.xb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;c.M&&(e=c.yh());d=[];h.g.j.Jn();var f=h.h.Tb();f||h.h.ma(!0);c.jc&&c.jc(!1);var g=!0;try{for(var k=0,l;l=a.childNodes[k];k++){var m=l.nodeName.toLowerCase(),n=l;if("block"==m||"shadow"==m&&!h.h.Qa){var p=h.N.zk(n,c);d.push(p.id);var q=n.hasAttribute("x")?parseInt(n.getAttribute("x"),10):10,v=n.hasAttribute("y")?parseInt(n.getAttribute("y"),10):10;isNaN(q)||
isNaN(v)||p.moveBy(c.M?e-q:q,v);g=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==m)c.xa?h.fk?h.fk.Ck(n):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):h.mx?h.mx.Ck(n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==m){if(g)h.N.mE(n,c);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
g=!1}}}}finally{f||h.h.ma(!1),h.g.j.Kn()}c.jc&&c.jc(!0);h.h.Ea(new (h.h.get(h.h.lr))(c));return d};h.N.LK=function(a,c){var d;Object.prototype.hasOwnProperty.call(c,"scale")&&(d=la(c));a=h.N.Ak(a,c);if(d&&d.top!=d.bottom){var e=d.bottom;var f=c.M?d.right:d.left;var g=Infinity,k=-Infinity,l=Infinity;for(d=0;d<a.length;d++){var m=c.Wc(a[d]).Wa();m.y<l&&(l=m.y);m.x<g&&(g=m.x);m.x>k&&(k=m.x)}e=e-l+10;f=c.M?f-k:f-g;for(d=0;d<a.length;d++)c.Wc(a[d]).moveBy(f,e)}return a};
h.N.zk=function(a,c){if(a instanceof h.xb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}h.h.disable();d=c.Ii();try{var e=h.N.ct(a,c),f=r(e,!1);if(c.xa){ma(e,!1);for(var g=f.length-1;0<=g;g--)f[g].zf();for(g=f.length-1;0<=g;g--)f[g].Ma(!1);setTimeout(function(){e.fe||ma(e,!0)},1);na(e);oa(c)}else for(g=f.length-1;0<=g;g--)f[g].Si()}finally{h.h.enable()}if(h.h.isEnabled()){a=h.na.qy(c,d);for(g=0;g<a.length;g++)c=a[g],h.h.Ea(new (h.h.get(h.h.Vl))(c));
h.h.Ea(new (h.h.get(h.h.zl))(e))}return e};h.N.mE=function(a,c){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==h.g.j.Zg.ELEMENT_NODE){var f=e.getAttribute("type"),g=e.getAttribute("id");c.Je(e.textContent,f,g)}};
h.N.vF=function(a){for(var c={rz:[],Ci:[],data:[],zm:[],input:[],next:[]},d=0,e;e=a.childNodes[d];d++)if(e.nodeType!=h.g.j.Zg.TEXT_NODE)switch(e.nodeName.toLowerCase()){case "mutation":c.rz.push(e);break;case "comment":if(!h.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}c.Ci.push(e);break;case "data":c.data.push(e);break;case "title":case "field":c.zm.push(e);break;case "value":case "statement":c.input.push(e);break;case "next":c.next.push(e);break;default:console.warn("Ignoring unknown tag: "+
e.nodeName)}return c};h.N.oD=function(a,c){for(var d=!1,e=0,f;f=a[e];e++)c.ge&&(c.ge(f),c.zf&&(d=!0));return d};h.N.kD=function(a,c){for(var d=0,e;e=a[d];d++){var f=e.textContent,g="true"==e.getAttribute("pinned"),k=parseInt(e.getAttribute("w"),10);e=parseInt(e.getAttribute("h"),10);c.dl(f);c.Ie.Kz=g;isNaN(k)||isNaN(e)||(c.Ie.size=new h.g.Pc(k,e));g&&c.EE&&!c.tc&&setTimeout(function(){c.ae.Bb(!0)},1)}};h.N.lD=function(a,c){for(var d=0,e;e=a[d];d++)c.data=e.textContent};
h.N.mD=function(a,c){for(var d=0,e;e=a[d];d++){var f=e.getAttribute("name");h.N.lE(c,f,e)}};h.N.ky=function(a){for(var c={dm:null,em:null},d=0,e;e=a.childNodes[d];d++)e.nodeType==h.g.j.Zg.ELEMENT_NODE&&("block"==e.nodeName.toLowerCase()?c.dm=e:"shadow"==e.nodeName.toLowerCase()&&(c.em=e));return c};
h.N.nD=function(a,c,d,e){for(var f=0,g;g=a[f];f++){var k=g.getAttribute("name"),l=y(d,k);if(!l){console.warn("Ignoring non-existent input "+k+" in block "+e);break}g=h.N.ky(g);if(g.dm){if(!l.connection)throw TypeError("Input connection does not exist.");h.N.ct(g.dm,c,l.connection,!1)}g.em&&l.connection.Dn(g.em)}};
h.N.pD=function(a,c,d){for(var e=0,f;f=a[e];e++){f=h.N.ky(f);if(f.dm){if(!d.$)throw TypeError("Next statement does not exist.");if(d.$.isConnected())throw TypeError("Next statement is already connected.");h.N.ct(f.dm,c,d.$,!0)}f.em&&d.$&&d.$.Dn(f.em)}};
h.N.ct=function(a,c,d,e){var f=a.getAttribute("type");if(!f)throw TypeError("Block type unspecified: "+a.outerHTML);var g=a.getAttribute("id");g=c.Zk(f,g);var k=h.N.vF(a),l=h.N.oD(k.rz,g);h.N.kD(k.Ci,g);h.N.lD(k.data,g);if(d)if(e)if(g.la)d.connect(g.la);else throw TypeError("Next block does not have previous statement.");else if(g.R)d.connect(g.R);else if(g.la)d.connect(g.la);else throw TypeError("Child block does not have output or previous statement.");h.N.mD(k.zm,g);h.N.nD(k.input,c,g,f);h.N.pD(k.next,
c,g);l&&g.zf();(c=a.getAttribute("inline"))&&g.Eg("true"==c);(c=a.getAttribute("disabled"))&&g.Hf("true"!=c&&"disabled"!=c);if(c=a.getAttribute("deletable"))g.sm="true"==c;(c=a.getAttribute("movable"))&&g.Cq("true"==c);(c=a.getAttribute("editable"))&&g.kv("true"==c);(c=a.getAttribute("collapsed"))&&g.pj("true"==c);if("shadow"==a.nodeName.toLowerCase()){a=ka(g,!1);for(c=0;d=a[c];c++)if(!d.Ha)throw TypeError("Shadow block not allowed non-shadow child.");if(pa(g).length)throw TypeError("Shadow blocks cannot have variable references.");
g.nv(!0)}return g};h.N.lE=function(a,c,d){var e=qa(a,c);e?e.Ck(d):console.warn("Ignoring non-existent field "+c+" in block "+a.type)};h.N.fE=function(a){for(var c=0,d;d=a.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};h.h.$e=function(a){h.h.$e.A.constructor.call(this);this.ab=(this.Gd="undefined"==typeof a)?"":a.id;this.dc=this.Gd?"":a.B.id};h.g.object.U(h.h.$e,h.h.Abstract);h.h.$e.prototype.va=function(){var a=h.h.$e.A.va.call(this);a.blockId=this.ab;return a};h.h.$e.prototype.Z=function(a){h.h.$e.A.Z.call(this,a);this.ab=a.blockId};
h.h.ji=function(a,c,d,e,f){h.h.gB.A.constructor.call(this,a);a&&(this.element="undefined"==typeof c?"":c,this.name="undefined"==typeof d?"":d,this.oldValue="undefined"==typeof e?"":e,this.newValue="undefined"==typeof f?"":f)};h.g.object.U(h.h.ji,h.h.$e);h.h.gB=h.h.ji;b=h.h.ji.prototype;b.type=h.h.Hj;b.va=function(){var a=h.h.ji.A.va.call(this);a.element=this.element;this.name&&(a.name=this.name);a.oldValue=this.oldValue;a.newValue=this.newValue;return a};
b.Z=function(a){h.h.ji.A.Z.call(this,a);this.element=a.element;this.name=a.name;this.oldValue=a.oldValue;this.newValue=a.newValue};b.Sk=function(){return this.oldValue==this.newValue};
b.run=function(a){var c=w(this).Wc(this.ab);if(c)switch(c.od&&c.od.Bb(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(c=qa(c,this.name))?c.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":c.dl(a||null);break;case "collapsed":c.pj(!!a);break;case "disabled":c.Hf(!a);break;case "inline":c.Eg(!!a);break;case "mutation":var d="";c.uc&&(d=(d=c.uc())&&h.N.Vc(d));if(c.ge){var e=h.N.Mf(a||"<mutation/>");c.ge(e)}h.h.Ea(new h.h.ji(c,"mutation",null,d,
a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.ab)};h.h.af=function(a){h.h.af.A.constructor.call(this,a);a&&(a.Ha&&(this.Qa=!1),this.xml=a.B.xa?h.N.us(a):h.N.dg(a),this.Qi=h.h.vy(a))};h.g.object.U(h.h.af,h.h.$e);h.h.wH=h.h.af;h.h.af.prototype.type=h.h.zl;h.h.af.prototype.va=function(){var a=h.h.af.A.va.call(this);a.xml=h.N.Vc(this.xml);a.ids=this.Qi;this.Qa||(a.recordUndo=this.Qa);return a};
h.h.af.prototype.Z=function(a){h.h.af.A.Z.call(this,a);this.xml=h.N.Mf(a.xml);this.Qi=a.ids;void 0!==a.recordUndo&&(this.Qa=a.recordUndo)};h.h.af.prototype.run=function(a){var c=w(this);if(a)a=h.g.xml.createElement("xml"),a.appendChild(this.xml),h.N.Ak(a,c);else{a=0;for(var d;d=this.Qi[a];a++){var e=c.Wc(d);e?e.L(!1):d==this.ab&&console.warn("Can't uncreate non-existent block: "+d)}}};
h.h.cf=function(a){h.h.cf.A.constructor.call(this,a);if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.Ha&&(this.Qa=!1);this.$k=a.B.xa?h.N.us(a):h.N.dg(a);this.Qi=h.h.vy(a)}};h.g.object.U(h.h.cf,h.h.$e);h.h.xH=h.h.cf;h.h.cf.prototype.type=h.h.mi;h.h.cf.prototype.va=function(){var a=h.h.cf.A.va.call(this);a.oldXml=h.N.Vc(this.$k);a.ids=this.Qi;this.Qa||(a.recordUndo=this.Qa);return a};
h.h.cf.prototype.Z=function(a){h.h.cf.A.Z.call(this,a);this.$k=h.N.Mf(a.oldXml);this.Qi=a.ids;void 0!==a.recordUndo&&(this.Qa=a.recordUndo)};h.h.cf.prototype.run=function(a){var c=w(this);if(a){a=0;for(var d;d=this.Qi[a];a++){var e=c.Wc(d);e?e.L(!1):d==this.ab&&console.warn("Can't delete non-existent block: "+d)}}else a=h.g.xml.createElement("xml"),a.appendChild(this.$k),h.N.Ak(a,c)};
h.h.si=function(a){h.h.si.A.constructor.call(this,a);a&&(a.Ha&&(this.Qa=!1),a=ra(this),this.Az=a.Hz,this.xz=a.Yy,this.xu=a.Px)};h.g.object.U(h.h.si,h.h.$e);h.h.yH=h.h.si;b=h.h.si.prototype;b.type=h.h.Jl;b.va=function(){var a=h.h.si.A.va.call(this);this.fj&&(a.newParentId=this.fj);this.ej&&(a.newInputName=this.ej);this.Lh&&(a.newCoordinate=Math.round(this.Lh.x)+","+Math.round(this.Lh.y));this.Qa||(a.recordUndo=this.Qa);return a};
b.Z=function(a){h.h.si.A.Z.call(this,a);this.fj=a.newParentId;this.ej=a.newInputName;if(a.newCoordinate){var c=a.newCoordinate.split(",");this.Lh=new h.g.K(Number(c[0]),Number(c[1]))}void 0!==a.recordUndo&&(this.Qa=a.recordUndo)};b.kj=function(){var a=ra(this);this.fj=a.Hz;this.ej=a.Yy;this.Lh=a.Px};function ra(a){var c=w(a).Wc(a.ab);a={};var d=c.getParent();if(d){if(a.Hz=d.id,c=sa(d,c))a.Yy=c.name}else a.Px=c.Wa();return a}
b.Sk=function(){return this.Az==this.fj&&this.xz==this.ej&&h.g.K.tf(this.xu,this.Lh)};
b.run=function(a){var c=w(this),d=c.Wc(this.ab);if(d){var e=a?this.fj:this.Az,f=a?this.ej:this.xz,g=a?this.Lh:this.xu;a=null;if(e&&(a=c.Wc(e),!a)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&z(d);if(g)f=d.Wa(),d.moveBy(g.x-f.x,g.y-f.y);else{d=d.R||d.la;c=d.type;if(f){if(a=y(a,f))var k=a.connection}else c==h.ka.Vd&&(k=a.$);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.ab)};
h.C.register(h.C.T.Jb,h.h.zl,h.h.af);h.C.register(h.C.T.Jb,h.h.mi,h.h.cf);h.C.register(h.C.T.Jb,h.h.Hj,h.h.ji);h.C.register(h.C.T.Jb,h.h.Jl,h.h.si);h.h.El=function(a){this.Gd="undefined"==typeof a;this.dc=a?a.id:"";this.group=h.h.Tb();this.Qa=!1};h.g.object.U(h.h.El,h.h.Abstract);h.h.El.prototype.type=h.h.lr;h.h.El.prototype.va=function(){var a={type:this.type};this.group&&(a.group=this.group);this.dc&&(a.workspaceId=this.dc);return a};h.h.El.prototype.Z=function(a){this.Gd=!1;this.dc=a.workspaceId;this.group=a.group};h.C.register(h.C.T.Jb,h.h.lr,h.h.El);h.h.Wd=function(a){h.h.Wd.A.constructor.call(this);this.Gd="undefined"==typeof a;this.dc=a?a:"";this.Qa=!1};h.g.object.U(h.h.Wd,h.h.Abstract);h.h.Wd.prototype.$t=!0;h.h.hh=function(a,c,d,e){h.h.hh.A.constructor.call(this,a?a.B.id:void 0);this.ab=a?a.id:null;this.element="undefined"==typeof c?"":c;this.oldValue="undefined"==typeof d?"":d;this.newValue="undefined"==typeof e?"":e};h.g.object.U(h.h.hh,h.h.Wd);h.h.hh.prototype.type=h.h.bs;
h.h.hh.prototype.va=function(){var a=h.h.hh.A.va.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.ab&&(a.blockId=this.ab);return a};h.h.hh.prototype.Z=function(a){h.h.hh.A.Z.call(this,a);this.element=a.element;this.newValue=a.newValue;this.ab=a.blockId};h.C.register(h.C.T.Jb,h.h.bs,h.h.hh);h.h.Zf=function(a){h.h.Zf.A.constructor.call(this);this.ci=(this.Gd="undefined"==typeof a)?"":a.lb();this.dc=this.Gd?"":a.B.id};h.g.object.U(h.h.Zf,h.h.Abstract);h.h.Zf.prototype.va=function(){var a=h.h.Zf.A.va.call(this);a.varId=this.ci;return a};h.h.Zf.prototype.Z=function(a){h.h.Zf.A.va.call(this);this.ci=a.varId};h.h.$f=function(a){h.h.$f.A.constructor.call(this,a);a&&(this.Aj=a.type,this.zj=a.name)};h.g.object.U(h.h.$f,h.h.Zf);h.h.$f.prototype.type=h.h.Vl;
h.h.$f.prototype.va=function(){var a=h.h.$f.A.va.call(this);a.varType=this.Aj;a.varName=this.zj;return a};h.h.$f.prototype.Z=function(a){h.h.$f.A.Z.call(this,a);this.Aj=a.varType;this.zj=a.varName};h.h.$f.prototype.run=function(a){var c=w(this);a?c.Je(this.zj,this.Aj,this.ci):c.Fi(this.ci)};h.h.ag=function(a){h.h.ag.A.constructor.call(this,a);a&&(this.Aj=a.type,this.zj=a.name)};h.g.object.U(h.h.ag,h.h.Zf);h.h.ag.prototype.type=h.h.Yo;
h.h.ag.prototype.va=function(){var a=h.h.ag.A.va.call(this);a.varType=this.Aj;a.varName=this.zj;return a};h.h.ag.prototype.Z=function(a){h.h.ag.A.Z.call(this,a);this.Aj=a.varType;this.zj=a.varName};h.h.ag.prototype.run=function(a){var c=w(this);a?c.Fi(this.ci):c.Je(this.zj,this.Aj,this.ci)};h.h.cg=function(a,c){h.h.cg.A.constructor.call(this,a);a&&(this.yu=a.name,this.uu="undefined"==typeof c?"":c)};h.g.object.U(h.h.cg,h.h.Zf);h.h.cg.prototype.type=h.h.fs;
h.h.cg.prototype.va=function(){var a=h.h.cg.A.va.call(this);a.oldName=this.yu;a.newName=this.uu;return a};h.h.cg.prototype.Z=function(a){h.h.cg.A.Z.call(this,a);this.yu=a.oldName;this.uu=a.newName};h.h.cg.prototype.run=function(a){var c=w(this);a?c.mj(this.ci,this.uu):c.mj(this.ci,this.yu)};h.C.register(h.C.T.Jb,h.h.Vl,h.h.$f);h.C.register(h.C.T.Jb,h.h.Yo,h.h.ag);h.C.register(h.C.T.Jb,h.h.fs,h.h.cg);h.Uv=function(a){this.lm=a;this.Va()};b=h.Uv.prototype;b.jb=null;b.rf=null;b.lm=null;b.Vh=1;b.Mn=null;b.Fx=new h.g.K(0,0);b.Va=function(){this.jb||(this.jb=h.g.j.O(h.g.G.ah,{xmlns:h.g.j.Sl,"xmlns:html":h.g.j.Fo,"xmlns:xlink":h.g.j.Ee,version:"1.1","class":"blocklyBlockDragSurface"},this.lm),this.rf=h.g.j.O(h.g.G.Cc,{},this.jb))};function ta(a,c){if(a.rf.childNodes.length)throw Error("Already dragging a block.");a.rf.appendChild(c);a.jb.style.display="block";a.Mn=new h.g.K(0,0)}
b.wj=function(a,c){this.Mn=new h.g.K(a*this.Vh,c*this.Vh);a=this.Mn.x;c=this.Mn.y;a=a.toFixed(0);c=c.toFixed(0);this.jb.style.display="block";h.g.j.zn(this.jb,"translate3d("+a+"px, "+c+"px, 0px)")};b.It=function(){var a=h.g.ke(this.jb);return new h.g.K(a.x/this.Vh,a.y/this.Vh)};b.Tb=function(){return this.rf};b.ta=function(){return this.jb};
b.ip=function(a){a?a.appendChild(this.rf.firstChild):this.rf.removeChild(this.rf.firstChild);this.jb.style.display="none";if(this.rf.childNodes.length)throw Error("Drag group was not cleared.");this.Mn=null};h.Md={};h.Md.Vt=!1;h.Md.register=function(a){if(h.Md.Vt)throw Error("CSS already injected");Array.prototype.push.apply(h.Md.cr,a);a.length=0};h.Md.Ti=function(a,c){if(!h.Md.Vt){h.Md.Vt=!0;var d=h.Md.cr.join("\n");h.Md.cr.length=0;a&&(a=c.replace(/[\\/]$/,""),d=d.replace(/<<<PATH>>>/g,a),a=document.createElement("style"),a.id="blockly-common-style",d=document.createTextNode(d),a.appendChild(d),document.head.insertBefore(a,document.head.firstChild))}};
h.Md.cr=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;",
"border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;",
"}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;",
"}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",
".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {",
"margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;",
"}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",
".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {",
"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {",
"background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];
h.oi=function(a,c){this.Hk=a;this.vv=c.spacing;this.iz=c.length;this.qF=(this.gu=a.firstChild)&&this.gu.nextSibling;this.LG=c.snap};h.oi.prototype.Vh=1;h.oi.prototype.L=function(){this.Hk=null};h.oi.prototype.update=function(a){this.Vh=a;var c=this.vv*a||100;this.Hk.setAttribute("width",c);this.Hk.setAttribute("height",c);c=Math.floor(this.vv/2)+.5;var d=c-this.iz/2,e=c+this.iz/2;c*=a;d*=a;e*=a;ua(this.gu,a,d,e,c,c);ua(this.qF,a,c,c,d,e)};
function ua(a,c,d,e,f,g){a&&(a.setAttribute("stroke-width",c),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",g))}h.oi.prototype.moveTo=function(a,c){this.Hk.setAttribute("x",a);this.Hk.setAttribute("y",c);(h.g.userAgent.Be||h.g.userAgent.ni)&&this.update(this.Vh)};
h.oi.Va=function(a,c,d){a=h.g.j.O(h.g.G.Qw,{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<c.length&&0<c.spacing?(h.g.j.O(h.g.G.ri,{stroke:c.colour},a),1<c.length&&h.g.j.O(h.g.G.ri,{stroke:c.colour},a)):h.g.j.O(h.g.G.ri,{},a);return a};h.yi=function(a,c,d,e){this.name=a;this.kh=c||Object.create(null);this.Fs=d||Object.create(null);this.Ix=e||Object.create(null);this.fontStyle=Object.create(null);this.wv=null;h.C.register(h.C.T.Vr,a,this)};h.yi.prototype.Me=function(){return this.name+"-theme"};function va(a,c){return(c=a.Ix[c])&&"string"==typeof c&&va(a,c)?va(a,c):c?String(c):null}
h.yi.eE=function(a,c){var d=new h.yi(a),e=c.base;e&&("string"==typeof e&&(e=h.C.Gt(h.C.T.Vr,e)),e instanceof h.yi&&(h.g.object.wk(d,e),d.name=a));h.g.object.wk(d.kh,c.blockStyles);h.g.object.wk(d.Fs,c.categoryStyles);h.g.object.wk(d.Ix,c.componentStyles);h.g.object.wk(d.fontStyle,c.fontStyle);null!=c.startHats&&(d.wv=c.startHats);return d};h.Yf={};h.Yf.Mg={};h.Yf.Mg.bE={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
h.Yf.Mg.Fs={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"}};h.Yf.Mg=new h.yi("classic",h.Yf.Mg.bE,h.Yf.Mg.Fs);h.g.Gl={};h.g.Gl.HF=0;h.g.Gl.yy=function(){return"blockly-"+(h.g.Gl.HF++).toString(36)};h.g.iJ=function(){};h.g.Y={};h.g.Y.Zq="categoryToolbox";h.g.Y.mw="flyoutToolbox";h.g.Y.Za={eh:0,Fj:1,Gb:2,nc:3};h.g.Y.Ms=function(a){if(!a)return null;if(a instanceof Element||"string"==typeof a)a=h.g.Y.Ou(a),a=h.g.Y.WD(a);h.g.Y.eH(a);return a};h.g.Y.eH=function(a){var c=a.kind;a=a.contents;if(c&&c!=h.g.Y.mw&&c!=h.g.Y.Zq)throw Error("Invalid toolbox kind "+c+". Please supply either "+h.g.Y.mw+" or "+h.g.Y.Zq);if(!a)throw Error("Toolbox must have a contents attribute.");};
h.g.Y.Ox=function(a){return a?a.contents?a.contents:Array.isArray(a)&&0<a.length&&!a[0].nodeType?a:h.g.Y.Kv(a):[]};h.g.Y.Lm=function(a){if(!a)return!1;var c=a.kind;return c?c==h.g.Y.Zq:!!a.contents.filter(function(d){return"CATEGORY"==d.kind.toUpperCase()}).length};h.g.Y.mL=function(a){return a&&a.contents?!!a.contents.filter(function(c){return"CATEGORY"==c.kind.toUpperCase()}).length:!1};h.g.Y.WD=function(a){var c={contents:h.g.Y.Kv(a)};a instanceof Node&&h.g.Y.qx(a,c);return c};
h.g.Y.Kv=function(a){var c=[],d=a.childNodes;d||(d=a);a=0;for(var e;e=d[a];a++)if(e.tagName){var f={},g=e.tagName.toUpperCase();f.kind=g;"BLOCK"==g?f.blockxml=e:e.childNodes&&0<e.childNodes.length&&(f.contents=h.g.Y.Kv(e));h.g.Y.qx(e,f);c.push(f)}return c};h.g.Y.qx=function(a,c){for(var d=0;d<a.attributes.length;d++){var e=a.attributes[d];-1<e.nodeName.indexOf("css-")?(c.cssconfig=c.cssconfig||{},c.cssconfig[e.nodeName.replace("css-","")]=e.value):c[e.nodeName]=e.value}};
h.g.Y.Ou=function(a){if(a){if("string"!=typeof a&&(h.g.userAgent.Be&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=h.N.Mf(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};h.gd=function(a){var c=!!a.readOnly;if(c)var d=null,e=!1,f=!1,g=!1,k=!1,l=!1,m=!1;else{d=h.g.Y.Ms(a.toolbox);e=h.g.Y.Lm(d);f=a.trashcan;void 0===f&&(f=e);var n=a.maxTrashcanContents;f?void 0===n&&(n=32):n=0;g=a.collapse;void 0===g&&(g=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);m=a.sounds;void 0===m&&(m=!0)}var p=!!a.rtl;var q="end"!==a.toolboxPosition==p?h.g.Y.Za.nc:h.g.Y.Za.Gb;var v=a.css;void 0===v&&(v=!0);var M="https://blockly-demo.appspot.com/static/media/";a.media?M=a.media:
a.path&&(M=a.path+"media/");var ba=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,I=a.renderer||"geras",sb=a.plugins||{};this.M=p;this.pq=ba;this.collapse=g;this.ND=k;this.disable=l;this.readOnly=c;this.Zm=a.maxBlocks||Infinity;this.aq=a.maxInstances;this.nn=M;this.Lm=e;this.Ic=h.gd.XF(a,e);this.Py=f;this.bq=n;this.bF=m;this.$E=v;this.yg=d;this.Ly=h.gd.WF(a);this.Fb=h.gd.ZF(a);this.pd=q;this.XG=h.gd.YF(a);this.zq=I;this.Aq=a.rendererOverrides;this.Mt=null;this.ic=a.parentWorkspace;this.plugins=sb};
h.zH=function(){};
h.gd.XF=function(a,c){var d=a.move||{},e={};void 0===d.scrollbars&&void 0===a.scrollbars?e.scrollbars=c:"object"==typeof d.scrollbars?(e.scrollbars={},e.scrollbars.Nm=!!d.scrollbars.horizontal,e.scrollbars.vertical=!!d.scrollbars.vertical,e.scrollbars.Nm&&e.scrollbars.vertical?e.scrollbars=!0:e.scrollbars.Nm||e.scrollbars.vertical||(e.scrollbars=!1)):e.scrollbars=!!d.scrollbars||!!a.scrollbars;e.ol=e.scrollbars&&void 0!==d.wheel?!!d.wheel:"object"==typeof e.scrollbars;e.og=e.scrollbars?void 0===d.drag?
!0:!!d.drag:!1;return e};h.gd.ZF=function(a){a=a.zoom||{};var c={};c.controls=void 0===a.controls?!1:!!a.controls;c.ol=void 0===a.wheel?!1:!!a.wheel;c.QG=void 0===a.startScale?1:Number(a.startScale);c.$m=void 0===a.maxScale?3:Number(a.maxScale);c.cn=void 0===a.minScale?.3:Number(a.minScale);c.CG=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);c.Jz=void 0===a.pinch?c.ol||c.controls:!!a.pinch;return c};
h.gd.WF=function(a){a=a.grid||{};var c={};c.spacing=Number(a.spacing)||0;c.zb=a.colour||"#888";c.length=void 0===a.length?1:Number(a.length);c.ML=0<c.spacing&&!!a.snap;return c};h.gd.YF=function(a){a=a.theme||h.Yf.Mg;return"string"==typeof a?h.C.Gt(h.C.T.Vr,a):a instanceof h.yi?a:h.yi.eE(a.name||"builtin"+h.g.Gl.yy(),a)};h.gd.Ou=function(a){h.g.xk.warn("Blockly.Options.parseToolboxTree","September 2020","September 2021","Blockly.utils.toolbox.parseToolboxTree");return h.g.Y.Ou(a)};
h.Ur=function(a,c,d,e,f){this.m=a;c=void 0===c?!0:c;d=void 0===d?!0:d;var g=c&&d;c&&(this.mb=new h.Oa(a,!0,g,e,f));d&&(this.Ya=new h.Oa(a,!1,g,e,f));g&&(this.mm=h.g.j.O(h.g.G.wd,{height:h.Oa.wc,width:h.Oa.wc,"class":"blocklyScrollbarBackground"},null),h.g.j.Mk(this.mm,a.Gg));this.cb=null};b=h.Ur.prototype;b.L=function(){h.g.j.removeNode(this.mm);this.cb=this.m=this.mm=null;this.mb&&(this.mb.L(),this.mb=null);this.Ya&&(this.Ya.L(),this.Ya=null)};
b.resize=function(){var a=this.m.Oe();if(a){var c=!1,d=!1;this.cb&&this.cb.Jc==a.Jc&&this.cb.ed==a.ed&&this.cb.kd==a.kd&&this.cb.Qc==a.Qc?(this.cb&&this.cb.scrollWidth==a.scrollWidth&&this.cb.xe==a.xe&&this.cb.scrollLeft==a.scrollLeft||(c=!0),this.cb&&this.cb.scrollHeight==a.scrollHeight&&this.cb.ye==a.ye&&this.cb.scrollTop==a.scrollTop||(d=!0)):d=c=!0;if(c||d){try{h.h.disable(),this.mb&&c&&this.mb.resize(a),this.Ya&&d&&this.Ya.resize(a)}finally{h.h.enable()}wa(this.m)}this.mb&&this.Ya&&(this.cb&&
this.cb.Jc==a.Jc&&this.cb.Qc==a.Qc||this.mm.setAttribute("x",this.Ya.position.x),this.cb&&this.cb.ed==a.ed&&this.cb.kd==a.kd||this.mm.setAttribute("y",this.mb.position.y));this.cb=a}};b.Eq=function(a,c){this.mb&&this.mb.Eq(a,c);this.Ya&&this.Ya.Eq(a,c)};b.set=function(a,c,d){this.mb&&this.mb.set(a,!1);this.Ya&&this.Ya.set(c,!1);if(d||void 0===d)a={},this.mb&&(a.x=xa(this.mb)),this.Ya&&(a.y=xa(this.Ya)),this.m.An(a)};b.qj=function(a){this.mb&&this.mb.qj(a);this.Ya&&this.Ya.qj(a)};
b.isVisible=function(){var a=!1;this.mb&&(a=this.mb.isVisible());this.Ya&&(a=a||this.Ya.isVisible());return a};
h.Oa=function(a,c,d,e,f){this.m=a;this.Qh=d||!1;this.Pi=c;this.$i=void 0!==f?f:h.Oa.jB;this.ratio=this.cb=null;this.nm(e);this.position=new h.g.K(0,0);a=h.Oa.wc;c?(this.xc.setAttribute("height",a),this.Df.setAttribute("height",a),this.Ld.setAttribute("height",a-5),this.Ld.setAttribute("y",2.5),this.Xp="width",this.Lz="x"):(this.xc.setAttribute("width",a),this.Df.setAttribute("width",a),this.Ld.setAttribute("width",a-5),this.Ld.setAttribute("x",2.5),this.Xp="height",this.Lz="y");this.Fz=h.P.Aa(this.xc,
"mousedown",this,this.PF);this.Gz=h.P.Aa(this.Ld,"mousedown",this,this.QF)};b=h.Oa.prototype;b.Ku=new h.g.K(0,0);b.hA=0;b.te=0;b.zh=0;b.Km=0;b.xg=!0;b.Di=!0;h.Oa.wc=15;h.Touch.bx&&(h.Oa.wc=25);h.Oa.jB=.5;h.Oa.xF=function(a,c){return a.Jc==c.Jc&&a.ed==c.ed&&a.xe==c.xe&&a.ye==c.ye&&a.kd==c.kd&&a.Qc==c.Qc&&a.scrollWidth==c.scrollWidth&&a.scrollHeight==c.scrollHeight&&a.scrollLeft==c.scrollLeft&&a.scrollTop==c.scrollTop};b=h.Oa.prototype;
b.L=function(){ya();h.P.gb(this.Fz);this.Fz=null;h.P.gb(this.Gz);this.Gz=null;h.g.j.removeNode(this.Df);this.xc=this.S=this.Df=null;this.Ld&&(this.m.Ac.unsubscribe(this.Ld),this.Ld=null);this.m=null};function za(a,c){return c=0>=c||isNaN(c)?0:Math.min(c,a.te)}function Aa(a,c){a.zh=c;a.Ld.setAttribute(a.Xp,a.zh)}function Ba(a,c){return c=0>=c||isNaN(c)?0:Math.min(c,a.te-a.zh)}function Ca(a,c){a.Km=c;a.Ld.setAttribute(a.Lz,a.Km)}
function Da(a,c){a.te=c;a.Df.setAttribute(a.Xp,a.te);a.xc.setAttribute(a.Xp,a.te)}b.setPosition=function(a,c){this.position.x=a;this.position.y=c;h.g.j.zn(this.Df,"translate("+(this.position.x+this.Ku.x)+"px,"+(this.position.y+this.Ku.y)+"px)")};b.resize=function(a){if(!a&&(a=this.m.Oe(),!a))return;if(!this.cb||!h.Oa.xF(a,this.cb)){if(this.Pi){var c=a;Ea(this,c)?Fa(this,c):Ga(this,c)}else c=a,Ea(this,c)?Ha(this,c):Ia(this,c);this.cb=a;Ja(this)}};
function Ea(a,c){return a.cb?a.cb.Jc!==c.Jc||a.cb.ed!==c.ed||a.cb.Qc!==c.Qc||a.cb.kd!==c.kd:!0}function Fa(a,c){var d=c.Jc-2*a.$i;a.Qh&&(d-=h.Oa.wc);Da(a,Math.max(0,d));d=c.Qc+a.$i;a.Qh&&a.m.M&&(d+=h.Oa.wc);a.setPosition(d,c.kd+c.ed-h.Oa.wc-a.$i);Ga(a,c)}function Ga(a,c){if(c.Jc>=c.scrollWidth)Aa(a,a.te),Ca(a,0),a.Qh||a.Bb(!1);else{a.Qh||a.Bb(!0);var d=a.te*c.Jc/c.scrollWidth;d=za(a,d);Aa(a,d);d=c.scrollWidth-c.Jc;var e=a.te-a.zh;c=(c.xe-c.scrollLeft)/d*e;c=Ba(a,c);Ca(a,c);a.ratio=e/d}}
function Ha(a,c){var d=c.ed-2*a.$i;a.Qh&&(d-=h.Oa.wc);Da(a,Math.max(0,d));a.setPosition(a.m.M?c.Qc+a.$i:c.Qc+c.Jc-h.Oa.wc-a.$i,c.kd+a.$i);Ia(a,c)}function Ia(a,c){if(c.ed>=c.scrollHeight)Aa(a,a.te),Ca(a,0),a.Qh||a.Bb(!1);else{a.Qh||a.Bb(!0);var d=a.te*c.ed/c.scrollHeight;d=za(a,d);Aa(a,d);d=c.scrollHeight-c.ed;var e=a.te-a.zh;c=(c.ye-c.scrollTop)/d*e;c=Ba(a,c);Ca(a,c);a.ratio=e/d}}
b.nm=function(a){var c="blocklyScrollbar"+(this.Pi?"Horizontal":"Vertical");a&&(c+=" "+a);this.Df=h.g.j.O(h.g.G.ah,{"class":c},null);this.S=h.g.j.O(h.g.G.Cc,{},this.Df);this.xc=h.g.j.O(h.g.G.wd,{"class":"blocklyScrollbarBackground"},this.S);a=Math.floor((h.Oa.wc-5)/2);this.Ld=h.g.j.O(h.g.G.wd,{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.S);this.m.Ac.subscribe(this.Ld,"scrollbarColour","fill");this.m.Ac.subscribe(this.Ld,"scrollbarOpacity","fill-opacity");h.g.j.Mk(this.Df,u(this.m))};
b.isVisible=function(){return this.xg};b.qj=function(a){var c=a!=this.Di;this.Di=a;c&&this.Vn()};b.Bb=function(a){var c=a!=this.isVisible();if(this.Qh)throw Error("Unable to toggle visibility of paired scrollbars.");this.xg=a;c&&this.Vn()};b.Vn=function(){this.Di&&this.isVisible()?this.Df.setAttribute("display","block"):this.Df.setAttribute("display","none")};
b.PF=function(a){ja(this.m);h.Touch.jp();ya();if(h.g.Vk(a))a.stopPropagation();else{var c=h.g.fn(a,u(this.m),Ka(this.m));c=this.Pi?c.x:c.y;var d=h.g.Hm(this.Ld);d=this.Pi?d.x:d.y;var e=this.Km,f=.95*this.zh;c<=d?e-=f:c>=d+this.zh&&(e+=f);Ca(this,Ba(this,e));Ja(this);a.stopPropagation();a.preventDefault()}};
b.QF=function(a){ja(this.m);ya();h.g.Vk(a)?a.stopPropagation():(this.OG=this.Km,La(this.m),this.hA=this.Pi?a.clientX:a.clientY,h.Oa.Oh=h.P.Aa(document,"mouseup",this,this.UF),h.Oa.Nh=h.P.Aa(document,"mousemove",this,this.RF),a.stopPropagation(),a.preventDefault())};b.RF=function(a){Ca(this,Ba(this,this.OG+((this.Pi?a.clientX:a.clientY)-this.hA)));Ja(this)};b.UF=function(){Ma(this.m);h.Touch.jp();ya()};
function ya(){h.qc(!0);h.Oa.Oh&&(h.P.gb(h.Oa.Oh),h.Oa.Oh=null);h.Oa.Nh&&(h.P.gb(h.Oa.Nh),h.Oa.Nh=null)}function xa(a){a=a.Km/(a.te-a.zh);isNaN(a)&&(a=0);return a}function Ja(a){var c=xa(a),d={};a.Pi?d.x=c:d.y=c;a.m.An(d)}b.set=function(a,c){Ca(this,Ba(this,a*this.ratio));(c||void 0===c)&&Ja(this)};b.Eq=function(a,c){this.Ku=new h.g.K(a,c)};h.I={};h.I.visible=!1;h.I.kk=!1;h.I.aC=50;h.I.pz=0;h.I.Gn=0;h.I.cu=0;h.I.du=0;h.I.ib=null;h.I.pn=null;h.I.Jw=0;h.I.Kw=10;h.I.BC=10;h.I.NB=750;h.I.xr=5;h.I.Ta=null;h.I.QE=function(){var a=h.I.Iy(h.I.ib);if(a){for(a=a.we;"function"==typeof a;)a=a();if("string"!=typeof a)throw Error("Tooltip function must return a string.");return a}return""};h.I.Iy=function(a){for(;a&&a.we;){if("string"==typeof a.we||"function"==typeof a.we)return a;a=a.we}return null};
h.I.Va=function(){h.I.Ta||(h.I.Ta=document.createElement("div"),h.I.Ta.className="blocklyTooltipDiv",(h.qq||document.body).appendChild(h.I.Ta))};h.I.jk=function(a){a.AF=h.P.bind(a,"mouseover",null,h.I.TF);a.yF=h.P.bind(a,"mouseout",null,h.I.SF);a.addEventListener("mousemove",h.I.jn,!1)};h.I.Ev=function(a){a&&(h.P.gb(a.AF),h.P.gb(a.yF),a.removeEventListener("mousemove",h.I.jn))};h.I.TF=function(a){h.I.kk||(a=h.I.Iy(a.currentTarget),h.I.ib!=a&&(h.I.Ra(),h.I.pn=null,h.I.ib=a),clearTimeout(h.I.pz))};
h.I.SF=function(){h.I.kk||(h.I.pz=setTimeout(function(){h.I.ib=null;h.I.pn=null;h.I.Ra()},1),clearTimeout(h.I.Gn))};h.I.jn=function(a){if(h.I.ib&&h.I.ib.we&&!h.I.kk)if(h.I.visible){var c=h.I.cu-a.pageX;a=h.I.du-a.pageY;Math.sqrt(c*c+a*a)>h.I.BC&&h.I.Ra()}else h.I.pn!=h.I.ib&&(clearTimeout(h.I.Gn),h.I.cu=a.pageX,h.I.du=a.pageY,h.I.Gn=setTimeout(h.I.KG,h.I.NB))};h.I.L=function(){h.I.ib=null;h.I.pn=null;h.I.Ra()};
h.I.Ra=function(){h.I.visible&&(h.I.visible=!1,h.I.Ta&&(h.I.Ta.style.display="none"));h.I.Gn&&clearTimeout(h.I.Gn)};h.I.block=function(){h.I.Ra();h.I.kk=!0};h.I.dH=function(){h.I.kk=!1};
h.I.KG=function(){if(!h.I.kk&&(h.I.pn=h.I.ib,h.I.Ta)){h.I.Ta.textContent="";var a=h.I.QE();a=h.g.eb.CA(a,h.I.aC);a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[c]));h.I.Ta.appendChild(d)}a=h.I.ib.M;c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;h.I.Ta.style.direction=a?"rtl":"ltr";h.I.Ta.style.display="block";h.I.visible=!0;var e=h.I.cu;e=a?e-(h.I.Jw+h.I.Ta.offsetWidth):e+h.I.Jw;var f=h.I.du+h.I.Kw;
f+h.I.Ta.offsetHeight>d+window.scrollY&&(f-=h.I.Ta.offsetHeight+2*h.I.Kw);a?e=Math.max(h.I.xr-window.scrollX,e):e+h.I.Ta.offsetWidth>c+window.scrollX-2*h.I.xr&&(e=c-h.I.Ta.offsetWidth-2*h.I.xr);h.I.Ta.style.top=f+"px";h.I.Ta.style.left=e+"px"}};h.g.$a={};h.g.$a.LA="aria-";h.g.$a.KC="role";h.g.$a.Ro={rI:"grid",sI:"gridcell",tI:"group",bC:"listbox",mC:"menu",nC:"menuitem",hJ:"menuitemcheckbox",tC:"option",eK:"presentation",Qr:"row",BK:"tree",CK:"treeitem"};h.g.$a.State={IA:"activedescendant",EH:"colcount",lB:"disabled",SH:"expanded",uw:"invalid",$B:"label",YI:"labelledby",aJ:"level",YJ:"orientation",dK:"posinset",jK:"rowcount",Xj:"selected",nK:"setsize",$C:"valuemax",aD:"valuemin"};h.g.$a.Yh=function(a,c){a.setAttribute(h.g.$a.KC,c)};
h.g.$a.Zh=function(a,c,d){Array.isArray(d)&&(d=d.join(" "));a.setAttribute(h.g.$a.LA+c,d)};h.xI=function(){};h.yI=function(){};h.zI=function(){};h.NI=function(){};h.g.xk={};h.g.xk.warn=function(a,c,d,e){a=a+" was deprecated on "+c+" and will be deleted on "+d+".";e&&(a+="\nUse "+e+" instead.");console.warn(a)};h.Ba=function(a,c){this.J=a;this.type=c};h.Ba.oo=0;h.Ba.FC=1;h.Ba.IC=2;h.Ba.HC=3;h.Ba.CC=4;h.Ba.DC=5;h.Ba.GC=6;h.Ba.EC=7;b=h.Ba.prototype;b.ua=null;b.fe=!1;b.nk=null;b.Gq=null;b.x=0;b.y=0;
b.qp=function(a){var c=this.ba(),d=a.ba();a.isConnected()&&a.disconnect();if(this.isConnected()){var e=this.Gk(!0);this.Gq=null;var f=this.sa();if(f.Ha)f.L(!1);else{this.disconnect();var g=f}this.Gq=e}var k;h.h.isEnabled()&&(k=new (h.h.get(h.h.gi))(d));h.Ba.SD(this,a);d.Fq(c);k&&(k.kj(),h.h.Ea(k));g&&(a=this.type===h.ka.lc?g.R:g.la,(d=h.Ba.ty(d,a))?a.connect(d):a.Du(this))};b.L=function(){if(this.isConnected()){this.Dn(null);var a=this.sa();a&&z(a)}this.fe=!0};b.ba=function(){return this.J};
function Na(a){return a.type==h.ka.lc||a.type==h.ka.mc}b.isConnected=function(){return!!this.ua};b.Es=function(a){h.g.xk.warn("Connection.prototype.canConnectWithReason","July 2020","July 2021","the workspace's connection checker");return this.J.B.kg.Es(this,a,!1)};b.Du=function(){};b.connect=function(a){if(this.ua!=a&&A(this.J.B.kg,this,a,!1)){var c=h.h.Tb();c||h.h.ma(!0);Na(this)?this.qp(a):a.qp(this);c||h.h.ma(!1)}};
h.Ba.SD=function(a,c){if(!a||!c)throw Error("Cannot connect null connections.");a.ua=c;c.ua=a};h.Ba.OE=function(a,c){var d=null;c=c.R;for(var e=c.J.B.kg,f=0,g;g=a.V[f];f++)if((g=g.connection)&&A(e,c,g,!1)){if(d)return null;d=g}return d};h.Ba.FE=function(a,c){for(var d;d=h.Ba.OE(a,c);)if(a=d.sa(),!a||a.Ha)return d;return null};h.Ba.ty=function(a,c){if(c.type===h.ka.vd)return h.Ba.FE(a,c.ba());a=a.Vp(!0);var d=c.J.B.kg;return a&&A(d,c,a,!1)?a:null};b=h.Ba.prototype;
b.disconnect=function(){var a=this.ua;if(!a)throw Error("Source connection not connected.");if(a.ua!=this)throw Error("Target connection not connected to source connection.");if(Na(this)){var c=this.J;var d=a.ba();a=this}else c=a.ba(),d=this.J;var e=h.h.Tb();e||h.h.ma(!0);this.Ys(c,d);d.Ha||a.wn();e||h.h.ma(!1)};b.Ys=function(a,c){var d;h.h.isEnabled()&&(d=new (h.h.get(h.h.gi))(c));this.ua=this.ua.ua=null;c.Fq(null);d&&(d.kj(),h.h.Ea(d))};
b.wn=function(){var a=this.ba(),c=this.Gk();if(a.B&&c)if(a=h.N.zk(c,a.B),a.R)this.connect(a.R);else if(a.la)this.connect(a.la);else throw Error("Child block does not have output or previous statement.");};b.sa=function(){return this.isConnected()?this.ua.ba():null};b.Dz=function(){!this.isConnected()||this.ua&&A(this.J.B.kg,this,this.ua,!1)||z(Na(this)?this.sa():this.J)};b.bd=function(a){a?(Array.isArray(a)||(a=[a]),this.nk=a,this.Dz()):this.nk=null;return this};
b.Dn=function(a){this.Gq=a;a=this.sa();a?a.Ha&&(a.L(!1),this.wn()):this.wn()};b.Gk=function(a){return a&&this.sa().Ha?h.N.dg(this.sa()):this.Gq};b.sz=function(){return[]};b.wf=function(){for(var a=null,c=this.J.V,d=0;d<c.length;d++)if(c[d].connection===this){a=c[d];break}return a};h.FI=function(){};h.$v=function(){};function A(a,c,d,e,f){return a.Es(c,d,e,f)==h.Ba.oo}h.$v.prototype.Es=function(a,c,d,e){if(a&&c){if(Na(a)){var f=a.ba();var g=c.ba()}else g=a.ba(),f=c.ba();f=f==g?h.Ba.FC:c.type!=h.Uj[a.type]?h.Ba.IC:f.B!==g.B?h.Ba.DC:f.Ha&&!g.Ha?h.Ba.GC:h.Ba.oo}else f=h.Ba.HC;return f!=h.Ba.oo?f:Oa(a,c)?d&&!Pa(a,c,e||0)?h.Ba.EC:h.Ba.oo:h.Ba.CC};function Oa(a,c){a=a.nk;c=c.nk;if(!a||!c)return!0;for(var d=0;d<a.length;d++)if(-1!=c.indexOf(a[d]))return!0;return!1}
function Pa(a,c,d){if(Qa(a,c)>d||c.ba().nd())return!1;switch(c.type){case h.ka.Vd:return a.ua||-1!=h.Bk.indexOf(c)?a=!1:c.ua?(a=c.sa(),a=a.nd()?!(a.la&&a.la.sa()):!1):a=!0,a;case h.ka.vd:if(c.isConnected()&&!c.sa().nd()||a.isConnected())return!1;break;case h.ka.lc:if(c.isConnected()&&!c.sa().Gc()&&!c.sa().Ha)return!1;break;case h.ka.mc:if(c.isConnected()&&!a.ba().$&&!c.sa().Ha&&c.sa().$)return!1;break;default:return!1}return-1!=h.Bk.indexOf(c)?!1:!0}h.C.register(h.C.T.Yv,h.C.Mj,h.$v);h.gs=function(a){this.Ja=Object.create(null);this.B=a};b=h.gs.prototype;b.clear=function(){this.Ja=Object.create(null)};b.av=function(a,c){var d=this.Qe(c,a.type),e=B(this.B);h.h.ma(!0);try{if(d&&d.lb()!=a.lb()){var f=a.type;c!=d.name&&Ra(d,c,e);for(c=0;c<e.length;c++)for(var g=void 0,k=e[c],l=a.lb(),m=d.lb(),n=0;g=k.V[n];n++)for(var p=0,q;q=g.bb[p];p++)q.xq()&&l==q.getValue()&&q.setValue(m);h.h.Ea(new (h.h.get(h.h.Yo))(a));this.Ja[f].splice(this.Jm(f).indexOf(a),1)}else Ra(a,c,e)}finally{h.h.ma(!1)}};
b.mj=function(a,c){var d=this.rg(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.av(d,c)};function Ra(a,c,d){h.h.Ea(new (h.h.get(h.h.fs))(a,c));a.name=c;for(c=0;c<d.length;c++)for(var e,f=d[c],g=a,k=0;e=f.V[k];k++)for(var l=0,m;m=e.bb[l];l++)m.xq()&&g.lb()==m.getValue()&&Sa(m)}
b.Je=function(a,c,d){var e=this.Qe(a,c);if(e){if(d&&e.lb()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.lb()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.rg(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||h.g.uf();c=c||"";e=new h.Xl(this.B,a,c,e);a=this.Ja[c]||[];a.push(e);delete this.Ja[c];this.Ja[c]=a;return e};
b.Fi=function(a){var c=this.rg(a);if(c){var d=c.name,e=this.Lt(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=C(f,"NAME");d=h.o.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);h.alert(d);return}var g=this;1<e.length?(d=h.o.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),h.confirm(d,function(k){k&&c&&Ta(g,c,e)})):Ta(g,c,e)}else console.warn("Can't delete non-existent variable: "+a)};
function Ta(a,c,d){var e=h.h.Tb();e||h.h.ma(!0);try{for(var f=0;f<d.length;f++)d[f].L(!0);var g=a.Ja[c.type];a=0;for(var k;k=g[a];a++)if(k.lb()==c.lb()){g.splice(a,1);h.h.Ea(new (h.h.get(h.h.Yo))(c));break}}finally{e||h.h.ma(!1)}}b.Qe=function(a,c){if(c=this.Ja[c||""])for(var d=0,e;e=c[d];d++)if(h.Td.tf(e.name,a))return e;return null};b.rg=function(a){for(var c=Object.keys(this.Ja),d=0;d<c.length;d++)for(var e=c[d],f=0,g;g=this.Ja[e][f];f++)if(g.lb()==a)return g;return null};
b.Jm=function(a){return(a=this.Ja[a||""])?a.slice():[]};b.Kt=function(a){var c={};h.g.object.Te(c,this.Ja);a&&a.Sh&&h.g.object.Te(c,a.Sh.Ja);a=Object.keys(c);c=!1;for(var d=0;d<a.length;d++)""==a[d]&&(c=!0);c||a.push("");return a};b.Ii=function(){var a=[],c;for(c in this.Ja)a=a.concat(this.Ja[c]);return a};b.xt=function(){var a=[],c;for(c in this.Ja)for(var d=this.Ja[c],e=0,f;f=d[e];e++)a.push(f.name);return a};
b.Lt=function(a){for(var c=[],d=B(this.B),e=0;e<d.length;e++){var f=pa(d[e]);if(f)for(var g=0;g<f.length;g++)f[g].lb()==a&&c.push(d[e])}return c};h.xb=function(a){this.id=h.g.uf();h.xb.Zl[this.id]=this;this.options=a||new h.gd({});this.M=!!this.options.M;this.pd=this.options.pd;this.kg=new (h.C.Ji(h.C.T.Yv,this.options,!0))(this);this.Qn=[];this.Nq=[];this.pp=Object.create(null);this.Zc=[];this.xj=[];this.un=[];this.ts=Object.create(null);this.Jg=Object.create(null);this.Ja=new h.gs(this);this.Sh=null};b=h.xb.prototype;b.xa=!1;b.Yt=!1;b.Ew=1024;b.sp=null;b.L=function(){this.Zc.length=0;this.clear();delete h.xb.Zl[this.id]};h.xb.Uw=3;b=h.xb.prototype;
b.If=function(a,c){a=a.Wa();c=c.Wa();return a.y+h.xb.prototype.If.offset*a.x-(c.y+h.xb.prototype.If.offset*c.x)};b.ap=function(a){this.Qn.push(a)};b.yq=function(a){if(!h.g.bp(this.Qn,a))throw Error("Block not present in workspace's list of top-most blocks.");};b.Eb=function(a){var c=[].concat(this.Qn);a&&1<c.length&&(this.If.offset=Math.sin(h.g.bc.vj(h.xb.Uw)),this.M&&(this.If.offset*=-1),c.sort(this.If));return c};function Ua(a,c){return a.Jg[c]?a.Jg[c].slice(0):[]}
function B(a){var c=a.Eb(!1);for(a=0;a<c.length;a++)c.push.apply(c,ka(c[a],!1));return c.filter(function(d){return!d.nd()})}b.clear=function(){this.Yt=!0;try{var a=h.h.Tb();for(a||h.h.ma(!0);this.Qn.length;)this.Qn[0].L(!1);for(;this.Nq.length;)this.Nq[this.Nq.length-1].L(!1);a||h.h.ma(!1);this.Ja.clear();this.Sh&&this.Sh.clear()}finally{this.Yt=!1}};b.mj=function(a,c){this.Ja.mj(a,c)};b.Je=function(a,c,d){return this.Ja.Je(a,c,d)};b.Lt=function(a){return this.Ja.Lt(a)};b.Fi=function(a){this.Ja.Fi(a)};
b.Qe=function(a,c){return this.Ja.Qe(a,c)};b.rg=function(a){return this.Ja.rg(a)};b.Jm=function(a){return this.Ja.Jm(a)};b.Kt=function(){return this.Ja.Kt(this)};b.Ii=function(){return this.Ja.Ii()};b.xt=function(){return this.Ja.xt()};b.yh=function(){return 0};b.Zk=function(a,c){return new h.Gj(this,a,c)};
function Va(a,c){if(!Wa(a))return!0;var d=0,e;for(e in c){if(c[e]>(a.options.aq?(void 0!==a.options.aq[e]?a.options.aq[e]:Infinity)-Ua(a,e).length:Infinity))return!1;d+=c[e]}return d>(isNaN(a.options.Zm)?Infinity:a.options.Zm-B(a).length)?!1:!0}function Wa(a){return Infinity!=a.options.Zm||!!a.options.aq}
function Xa(a,c){var d=c?a.un:a.xj;a=c?a.xj:a.un;var e=d.pop();if(e){for(var f=[e];d.length&&e.group&&e.group==d[d.length-1].group;)f.push(d.pop());for(d=0;e=f[d];d++)a.push(e);f=h.h.filter(f,c);h.h.Qa=!1;try{for(d=0;e=f[d];d++)e.run(c)}finally{h.h.Qa=!0}}}function D(a,c){a.Zc.push(c)}function Ya(a,c){h.g.bp(a.Zc,c)}b.Wc=function(a){return this.ts[a]||null};b.pv=function(a){this.Ja=a};h.xb.Zl=Object.create(null);h.xb.Fm=function(a){return h.xb.Zl[a]||null};
h.xb.getAll=function(){var a=[],c;for(c in h.xb.Zl)a.push(h.xb.Zl[c]);return a};h.nx=function(a){this.lm=a;this.Va()};b=h.nx.prototype;b.jb=null;b.lm=null;b.Va=function(){this.jb||(this.jb=h.g.j.O(h.g.G.ah,{xmlns:h.g.j.Sl,"xmlns:html":h.g.j.Fo,"xmlns:xlink":h.g.j.Ee,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.lm.appendChild(this.jb))};b.wj=function(a,c){a=a.toFixed(0);c=c.toFixed(0);this.jb.style.display="block";h.g.j.zn(this.jb,"translate3d("+a+"px, "+c+"px, 0px)")};b.It=function(){return h.g.ke(this.jb)};
b.ip=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var c=this.jb.childNodes[0],d=this.jb.childNodes[1];if(!(c&&d&&h.g.j.Nt(c,"blocklyBlockCanvas")&&h.g.j.Nt(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.Tu?h.g.j.Mk(c,this.Tu):a.insertBefore(c,a.firstChild);h.g.j.Mk(d,c);this.jb.style.display="none";if(this.jb.childNodes.length)throw Error("Drag surface was not cleared.");h.g.j.zn(this.jb,
"");this.Tu=null};h.i={};h.i.register=function(a,c){h.C.register(h.C.T.RENDERER,a,c)};h.i.unregister=function(a){h.C.unregister(h.C.T.RENDERER,a)};h.i.Ca=function(a,c,d){a=new (h.C.At(h.C.T.RENDERER,a))(a);a.Ca(c,d);return a};h.H=function(a,c,d){if(!c)throw Error("Cannot create a node without a location.");this.Un=a;this.Fa=c;this.GA=null;(a=d||null)&&a.FA&&(this.GA=a.FA)};h.H.types={Bc:"field",Wb:"block",Rd:"input",ui:"output",Yg:"next",$g:"previous",xi:"stack",jd:"workspace"};h.H.Xg=!1;h.H.iB=-20;h.H.oL=function(a){switch(a){case h.H.types.$g:case h.H.types.Yg:case h.H.types.Rd:case h.H.types.ui:return!0}return!1};h.H.tk=function(a){return a?new h.H(h.H.types.Bc,a):null};
h.H.rh=function(a){if(!a)return null;var c=a.type;return c==h.ka.lc||c==h.ka.mc&&a.wf()?h.H.Ei(a.wf()):c==h.ka.mc?new h.H(h.H.types.Yg,a):c==h.ka.vd?new h.H(h.H.types.ui,a):c==h.ka.Vd?new h.H(h.H.types.$g,a):null};h.H.Ei=function(a){return a&&a.connection?new h.H(h.H.types.Rd,a.connection):null};h.H.qh=function(a){return a?new h.H(h.H.types.Wb,a):null};h.H.tp=function(a){return a?new h.H(h.H.types.xi,a):null};h.H.$D=function(a,c){return c&&a?new h.H(h.H.types.jd,a,{FA:c}):null};
h.H.YK=function(a){var c=a.la||a.R;return c?h.H.rh(c):h.H.qh(a)};b=h.H.prototype;b.getType=function(){return this.Un};function Za(a,c){a=a.Fa;a instanceof h.Gj||(a=a.ba());if(!a||!a.B)return null;var d=a.Pe();a=d.B.Eb(!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return c=e+(c?1:-1),-1==c||c==a.length?null:h.H.tp(a[c]);throw Error("Couldn't find "+(c?"next":"previous")+" stack?!");}
function $a(a){if(!a)return null;do var c=a.la&&a.la.sa();while(c&&t(c)==a&&(a=c));return(c=a.la||a.R)&&c.ua&&c.ua.wf()?h.H.Ei(c.ua.wf()):h.H.tp(a)}b.ba=function(){return this.getType()===h.H.types.Wb?this.Fa:this.getType()===h.H.types.xi?this.Fa:this.getType()===h.H.types.jd?null:this.Fa.ba()};
b.next=function(){switch(this.Un){case h.H.types.xi:return Za(this,!0);case h.H.types.ui:var a=this.Fa;return h.H.qh(a.ba());case h.H.types.Bc:a:{var c=this.Fa,d=c.wf();a=c.ba();c=d.bb.indexOf(c)+1;d=a.V.indexOf(d);for(var e;e=a.V[d];d++){for(var f=e.bb;c<f.length;){if(E(f[c])||h.H.Xg){a=h.H.tk(f[c]);break a}c++}c=0;if(e.connection){a=h.H.Ei(e);break a}}a=null}return a;case h.H.types.Rd:a:{c=this.Fa.wf();a=c.ba();for(c=a.V.indexOf(c)+1;d=a.V[c];c++){e=d.bb;f=0;for(var g;g=e[f];f++)if(E(g)||h.H.Xg){a=
h.H.tk(g);break a}if(d.connection){a=h.H.Ei(d);break a}}a=null}return a;case h.H.types.Wb:return h.H.rh(this.Fa.$);case h.H.types.$g:return a=this.Fa,h.H.qh(a.ba());case h.H.types.Yg:return a=this.Fa,h.H.rh(a.ua)}return null};
b.Ch=function(){switch(this.Un){case h.H.types.jd:var a=this.Fa.Eb(!0);if(0<a.length)return h.H.tp(a[0]);break;case h.H.types.xi:a=this.Fa;var c=a.la||a.R;return c?h.H.rh(c):h.H.qh(a);case h.H.types.Wb:a=this.Fa;a:{a=a.V;c=0;for(var d;d=a[c];c++){for(var e=d.bb,f=0,g;g=e[f];f++)if(E(g)||h.H.Xg){a=h.H.tk(g);break a}if(d.connection){a=h.H.Ei(d);break a}}a=null}return a;case h.H.types.Rd:return h.H.rh(this.Fa.ua)}return null};
b.Bg=function(){switch(this.Un){case h.H.types.xi:return Za(this,!1);case h.H.types.Bc:a:{var a=this.Fa;var c=a.wf();var d=a.ba();a=c.bb.indexOf(a)-1;for(var e=d.V.indexOf(c),f;f=d.V[e];e--){if(f.connection&&f!==c){c=h.H.Ei(f);break a}for(f=f.bb;-1<a;){if(E(f[a])||h.H.Xg){c=h.H.tk(f[a]);break a}a--}0<=e-1&&(a=d.V[e-1].bb.length-1)}c=null}return c;case h.H.types.Rd:a:{c=this.Fa.wf();d=c.ba();for(a=d.V.indexOf(c);e=d.V[a];a--){if(e.connection&&e!==c){c=h.H.Ei(e);break a}e=e.bb;f=e.length-1;for(var g;g=
e[f];f--)if(E(g)||h.H.Xg){c=h.H.tk(g);break a}}c=null}return c;case h.H.types.Wb:return c=this.Fa,h.H.rh(c.la||c.R);case h.H.types.$g:c=this.Fa;if((c=c.ua)&&!c.wf())return h.H.rh(c);break;case h.H.types.Yg:return c=this.Fa,h.H.qh(c.ba())}return null};
b.Ph=function(){switch(this.Un){case h.H.types.xi:var a=this.Fa,c=a.Wa();return h.H.$D(a.B,new h.g.K(c.x,c.y+h.H.iB));case h.H.types.ui:return a=this.Fa,(c=a.ua)?h.H.rh(c):h.H.tp(a.ba());case h.H.types.Bc:return h.H.qh(this.Fa.ba());case h.H.types.Rd:return a=this.Fa,h.H.qh(a.ba());case h.H.types.Wb:return a=this.Fa,$a(a);case h.H.types.$g:return a=this.Fa,$a(a.ba());case h.H.types.Yg:return a=this.Fa,$a(a.ba())}return null};h.Ib=Object.create(null);h.qa={};h.qa.tl=Object.create(null);h.qa.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(h.qa.tl[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof c)throw Error('Error: Extension "'+a+'" must be a function');h.qa.tl[a]=c};h.qa.uG=function(){var a=h.rb.td.gC;if(!a||"object"!=typeof a)throw Error('Error: Mixin "logic_ternary" must be a object');h.qa.register("logic_ternary",function(){this.Te(a)})};
h.qa.Yu=function(a,c,d,e){var f='Error when registering mutator "'+a+'": ';h.qa.Cx(f,c.ge,"domToMutation");h.qa.Cx(f,c.uc,"mutationToDom");var g=h.qa.Ex(c,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');h.qa.register(a,function(){if(g){if(!h.Ce)throw Error(f+"Missing require for Blockly.Mutator");this.bA(new h.Ce(e||[]))}this.Te(c);d&&d.apply(this)})};h.qa.unregister=function(a){h.qa.tl[a]?delete h.qa.tl[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')};
h.qa.apply=function(a,c,d){var e=h.qa.tl[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)h.qa.HD(a,c);else var f=h.qa.Ft(c);e.apply(c);if(d)h.qa.FD('Error after applying mutator "'+a+'": ',c);else if(!h.qa.EF(f,c))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
h.qa.Cx=function(a,c,d){if(!c)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof c)throw Error(a+'" required property "'+d+'" must be a function');};h.qa.HD=function(a,c){if(h.qa.Ft(c).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+c.id);};
h.qa.Ex=function(a,c){var d=void 0!==a.im,e=void 0!==a.qm;if(d&&e){if("function"!=typeof a.im)throw Error(c+"compose must be a function.");if("function"!=typeof a.qm)throw Error(c+"decompose must be a function.");return!0}if(!d&&!e)return!1;throw Error(c+'Must have both or neither of "compose" and "decompose"');};
h.qa.FD=function(a,c){if("function"!=typeof c.ge)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof c.uc)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');h.qa.Ex(c,a)};h.qa.Ft=function(a){var c=[];void 0!==a.ge&&c.push(a.ge);void 0!==a.uc&&c.push(a.uc);void 0!==a.im&&c.push(a.im);void 0!==a.qm&&c.push(a.qm);return c};h.qa.EF=function(a,c){c=h.qa.Ft(c);if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++)if(a[d]!=c[d])return!1;return!0};
h.qa.zx=function(a){var c=[];"object"==typeof document&&h.g.Yz(function(){for(var d in a)h.g.Dx(a[d])});return function(){this.type&&-1==c.indexOf(this.type)&&(h.qa.GD(this,a),c.push(this.type));this.ue(function(){var d=String(C(this,"OP")),e=a[d];null==e?-1==c.indexOf(this.type)&&(d="No tooltip mapping for value "+d+" of field OP",null!=this.type&&(d+=" of block type "+this.type),console.warn(d+".")):e=h.g.Ve(e);return e}.bind(this))}};
h.qa.GD=function(a,c){var d=qa(a,"OP");if(!ab(d)){d=d.getOptions();for(var e=0;e<d.length;++e){var f=d[e][1];null==c[f]&&console.warn("No tooltip mapping for value "+f+" of field OP of block type "+a.type)}}};h.qa.xD=function(){"object"==typeof document&&h.g.Yz(function(){h.g.Dx("%{BKY_MATH_CHANGE_TOOLTIP}")});return function(){this.ue(function(){var a=qa(this,"VAR");return h.g.Ve("%{BKY_MATH_CHANGE_TOOLTIP}").replace("%1",a?a.xh():"")}.bind(this))}};
h.qa.qE=function(){this.ZG=this.we;this.ue(function(){var a=this.getParent();return a&&bb(a)&&a.we||this.ZG}.bind(this))};h.qa.register("parent_tooltip_when_inline",h.qa.qE);h.Le={};h.Le.register=function(a,c){h.C.register(h.C.T.Bc,a,c)};h.Le.unregister=function(a){h.C.unregister(h.C.T.Bc,a)};h.Le.Z=function(a){var c=h.C.Gt(h.C.T.Bc,a.type);return c?c.Z(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};h.II=function(){};h.hb={};h.hb.Zs=0;h.hb.yp=null;h.hb.jE=function(a){var c=a.B,d=a.ta();c.Yd.play("delete");a=cb(c,d);d=d.cloneNode(!0);d.aH=a.x;d.bH=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");u(c).appendChild(d);d.wx=d.getBBox();h.hb.$x(d,c.M,new Date,c.scale)};h.hb.$x=function(a,c,d,e){var f=(new Date-d)/150;1<f?h.g.j.removeNode(a):(a.setAttribute("transform","translate("+(a.aH+(c?-1:1)*a.wx.width*e/2*f)+","+(a.bH+a.wx.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(h.hb.$x,10,a,c,d,e))};
h.hb.TD=function(a){var c=a.B,d=c.scale;c.Yd.play("click");if(!(1>d)){var e=cb(c,a.ta());a.R?(e.x+=(a.M?3:-3)*d,e.y+=13*d):a.la&&(e.x+=(a.M?-23:23)*d,e.y+=3*d);a=h.g.j.O(h.g.G.$q,{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},u(c));h.hb.Mx(a,new Date,d)}};h.hb.Mx=function(a,c,d){var e=(new Date-c)/150;1<e?h.g.j.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,h.hb.Zs=setTimeout(h.hb.Mx,10,a,c,d))};
h.hb.iE=function(a){a.B.Yd.play("disconnect");if(!(1>a.B.scale)){var c=F(a).height;c=Math.atan(10/c)/Math.PI*180;a.M||(c*=-1);h.hb.Zx(a.ta(),c,new Date)}};h.hb.Zx=function(a,c,d){var e=(new Date-d)/200;1<e?a.Hn="":(a.Hn="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*c)+")",h.hb.yp=a,h.hb.Zs=setTimeout(h.hb.Zx,10,a,c,d));a.setAttribute("transform",a.Tn+a.Hn)};h.hb.$s=function(){if(h.hb.yp){clearTimeout(h.hb.Zs);var a=h.hb.yp;a.Hn="";a.setAttribute("transform",a.Tn);h.hb.yp=null}};h.h.Kg=function(a,c,d){h.h.Kg.A.constructor.call(this,a?a.B.id:void 0);this.ab=a?a.id:null;this.dz=c;this.xx=d};h.g.object.U(h.h.Kg,h.h.Wd);h.h.Kg.prototype.type=h.h.lo;h.h.Kg.prototype.va=function(){var a=h.h.Kg.A.va.call(this);a.isStart=this.dz;a.blockId=this.ab;a.blocks=this.xx;return a};h.h.Kg.prototype.Z=function(a){h.h.Kg.A.Z.call(this,a);this.dz=a.isStart;this.ab=a.blockId;this.xx=a.blocks};h.C.register(h.C.T.Jb,h.h.lo,h.h.Kg);h.BI=function(){};h.Mc=function(a){this.bi=h.selected=a;this.m=a.B;this.Hh=this.au=null;this.Bm=db(this,this.bi);this.Hc=this.Lb=null;this.Ze=!1;this.ym=this.Qt=this.aj=null;this.ep=eb(this)};h.Mc.Wj={pr:0,TB:1,Tw:2};h.Mc.dw="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.";h.Mc.prototype.L=function(){this.ep.length=0;h.h.disable();try{this.Bm&&this.Bm.L(),this.Hh&&this.Hh.L()}finally{h.h.enable()}};
h.Mc.prototype.update=function(a,c){var d=this.Lb&&this.Hc?h.XA:h.xd;for(var e=null,f=null,g=0;g<this.ep.length;g++){var k=this.ep[g],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.vq)}d={closest:e,local:f,vq:d};if((this.Ze=this.tv(d,c))||fb(this,d,a)){h.h.disable();d.closest?(a=this.Lb!=d.closest,c=this.Hc!=d.local,this.Lb&&this.Hc&&(a||c||this.Ze)&&gb(this)):gb(this);this.Hc=this.Lb=this.aj=null;if(!this.Ze&&(a=d.closest,c=d.local,a))if(a==this.Lb||a.ba().nd())console.log("Trying to connect to an insertion marker");
else{this.Lb=a;this.Hc=c;a=this.Lb;c=this.Hc;d=this.bi;c.type==h.ka.vd||c.type==h.ka.Vd?((e=!a.isConnected())||(e=a.sa(),e=!!h.Ba.ty(d,c.type===h.ka.vd?e.R:e.la)),c=e?h.Mc.Wj.pr:h.Mc.Wj.Tw):c=h.Mc.Wj.pr;switch(c){case h.Mc.Wj.TB:this.Qt=this.Lb.ba();break;case h.Mc.Wj.pr:e=this.Hc;c=this.Lb;d=this.au&&e==this.au?this.Hh:this.Bm;e=d.Et(e.ba(),e);if(e==this.aj)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");d.Ma();d.xa=!0;d.ta().setAttribute("visibility","visible");
e&&c&&(e.type!=h.ka.mc&&e.type!=h.ka.lc||d.moveBy(c.x-e.x,c.y-e.y));c&&e.connect(c);this.aj=e;break;case h.Mc.Wj.Tw:this.ym=this.Lb.sa(),G(this.ym.Ab,"blocklyReplaceable",!0)}a&&(d=a.J.B.vb.aa(),c=hb(d,a),a.type==h.ka.lc||a.type==h.ka.vd?(d=d.ck,c=h.g.D.moveBy(0,-d)+h.g.D.ga("v",d)+c.re+h.g.D.ga("v",d)):(d=d.Ml-d.qb,c=h.g.D.moveBy(-d,0)+h.g.D.ga("h",d)+c.Rh+h.g.D.ga("h",d)),d=a.J.Wa(),h.Ba.Uy=h.g.j.O(h.g.G.Ud,{"class":"blocklyHighlightedConnectionPath",d:c,transform:"translate("+(a.x-d.x)+","+(a.y-
d.y)+")"+(a.J.M?" scale(-1 1)":"")},a.J.ta()))}h.h.enable()}};
function db(a,c){var d=c.type;h.h.disable();try{var e=a.m.Zk(d);e.aA(!0);if(c.uc){var f=c.uc();f&&e.ge(f)}for(a=0;a<c.V.length;a++){var g=c.V[a];if(g.name!=h.tb.so){var k=e.V[a];if(!k)throw Error(h.Mc.dw.replace("%1","an input"));for(d=0;d<g.bb.length;d++){var l=g.bb[d],m=k.bb[d];if(!m)throw Error(h.Mc.dw.replace("%1","a field"));m.setValue(l.getValue())}}}e.pj(c.isCollapsed());e.Eg(bb(c));e.zf();e.ta().setAttribute("visibility","hidden")}finally{h.h.enable()}return e}
function eb(a){var c=a.bi.Ne(!1),d=a.bi.Vp(!0);if(d&&d!=a.bi.$){c.push(d);a.au=d;if(a.Hh){h.h.disable();try{a.Hh.L()}finally{h.h.enable()}}a.Hh=db(a,d.ba())}return c}
function fb(a,c,d){var e=c.local,f=c.closest;c=c.vq;if(e&&f){if(a.Hc&&a.Lb){if(a.Lb==f&&a.Hc==e)return!1;e=a.Hc.x+d.x-a.Lb.x;a=a.Hc.y+d.y-a.Lb.y;a=Math.sqrt(e*e+a*a);return!(f&&c>a-h.bB)}if(a.Hc||a.Lb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.Hc||!a.Lb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
h.Mc.prototype.tv=function(a,c){return c&&fa(this.m.jg,c.id)?ib(c,this.bi,a&&!!a.closest):!1};
function gb(a){a.Lb&&a.Lb.sa()&&(h.g.j.removeNode(h.Ba.Uy),delete h.Ba.Uy);if(a.ym)G(a.ym.Ab,"blocklyReplaceable",!1),a.ym=null;else if(a.Qt)a.Qt=null;else if(a.aj)if(a.aj){var c=a.aj,d=c.ba(),e=d.$,f=d.la,g=d.R;g=c.type==h.ka.lc&&!(g&&g.ua);!(c!=e||f&&f.ua)||g?z(c.sa(),!1):c.type==h.ka.mc&&c!=e?(e=c.ua,z(e.ba(),!1),f=f?f.ua:null,z(d,!0),f&&f.connect(e)):z(d,!0);if(c.ua)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.aj=null;(a=d.ta())&&a.setAttribute("visibility",
"hidden")}else console.log("No insertion marker connection to disconnect")}h.Mc.prototype.Ek=function(){var a=[];this.Bm&&a.push(this.Bm);this.Hh&&a.push(this.Hh);return a};h.vl=function(a,c){this.ub=a;this.m=c;this.sf=new h.Mc(this.ub);this.pc=null;this.Ze=!1;this.Kf=this.ub.Wa();this.Ap=h.vl.fF(a)};h.vl.prototype.L=function(){this.Ap.length=0;this.sf&&this.sf.L()};h.vl.fF=function(a){var c=[];a=r(a,!1);for(var d=0,e;e=a[d];d++){e=H(e);for(var f=0;f<e.length;f++)c.push({location:e[f].Kp,icon:e[f]})}return c};b=h.vl.prototype;
b.In=function(a,c){h.h.Tb()||h.h.ma(!0);var d=new (h.h.get(h.h.lo))(this.ub,!0,r(this.ub,!1));h.h.Ea(d);this.m.Tm&&jb(this.ub);h.g.j.Jn();this.m.jc(!1);h.hb.$s();if(this.ub.getParent()||c&&this.ub.$&&this.ub.$.sa())z(this.ub,c),a=this.al(a),a=h.g.K.sum(this.Kf,a),this.ub.translate(a.x,a.y),h.hb.iE(this.ub),a=this.sf,a.ep=eb(a);this.ub.Wh(!0);a=this.ub;a.Yn&&(c=a.Wa(),a.ta().removeAttribute("transform"),a.B.yd.wj(c.x,c.y),(c=a.ta())&&ta(a.B.yd,c))};
b.og=function(a,c){c=this.al(c);var d=h.g.K.sum(this.Kf,c);this.ub.tu(d);for(d=0;d<this.Ap.length;d++){var e=this.Ap[d];kb(e.icon,h.g.K.sum(e.location,c))}d=this.pc;this.pc=lb(this.m,a);this.sf.update(c,this.pc);a=this.Ze;this.Ze=this.sf.Ze;a!=this.Ze&&this.ub.jv(this.Ze);this.pc!==d&&d&&d.Au();this.pc&&this.pc.Bu()};
b.wm=function(a,c){this.og(a,c);this.Ap=[];a=new (h.h.get(h.h.lo))(this.ub,!1,r(this.ub,!1));h.h.Ea(a);h.g.j.Kn();h.hb.$s();c=this.al(c);a=h.g.K.sum(this.Kf,c);var d=this.ub;d.Yn&&(d.translate(a.x,a.y),d.B.yd.ip(d.B.ob));this.pc&&this.pc.Cu();this.Ze?(this.Am(),this.ub.L(!1,!0),h.Bk=[],a=!0):a=!1;a||(this.ub.Wh(!1),c?(mb(this.ub,c.x,c.y),this.Am(),this.sf.Lb?(c=this.sf,c.Lb&&(h.h.disable(),gb(c),h.h.enable(),c.Hc.connect(c.Lb),c.bi.xa&&(h.hb.TD((Na(c.Hc)?c.Lb:c.Hc).ba()),jb(c.bi.Pe())))):this.ub.Ma(),
nb(this.ub)):h.zs(this.ub.B,this.m.ad.wh(!0),this.ub));this.m.jc(!0);h.h.ma(!1)};b.Am=function(){var a=new (h.h.get(h.h.gi))(this.ub);a.xu=this.Kf;a.kj();h.h.Ea(a)};b.al=function(a){a=new h.g.K(a.x/this.m.scale,a.y/this.m.scale);this.m.Tm&&a.scale(1/this.m.options.ic.scale);return a};b.Ek=function(){return this.sf&&this.sf.Ek?this.sf.Ek():[]};h.C.register(h.C.T.Sv,h.C.Mj,h.vl);h.GI=function(){};h.LI=function(){};h.DI=function(){};h.ya=function(a,c,d,e,f,g){this.m=a;this.lg=c;this.JG=d;this.Hu=this.Gu=this.su=this.Xz=null;this.fe=!1;d=h.ya.MA;this.m.M&&(d=-d);this.rD=h.g.bc.vj(d);a.Gg.appendChild(this.nm(c,!(!f||!g)));this.Qb=e;this.cv&&ob(this);f&&g||(a=this.lg.getBBox(),f=a.width+2*h.ya.rd,g=a.height+2*h.ya.rd);pb(this,f,g);ob(this);qb(this);this.cv=!0};h.ya.rd=6;h.ya.NA=5;h.ya.MA=20;h.ya.Nv=4;h.ya.JA=8;h.ya.Oh=null;h.ya.Nh=null;
h.ya.Cv=function(){h.ya.Oh&&(h.P.gb(h.ya.Oh),h.ya.Oh=null);h.ya.Nh&&(h.P.gb(h.ya.Nh),h.ya.Nh=null)};h.ya.wD=function(){h.Touch.jp();h.ya.Cv()};b=h.ya.prototype;b.cv=!1;b.Qb=null;b.Ff=0;b.Uh=0;b.pb=0;b.Xc=0;b.qs=!0;
b.nm=function(a,c){this.Zd=h.g.j.O(h.g.G.Cc,{},null);var d={filter:"url(#"+this.m.vb.aa().Bp+")"};h.g.userAgent.ZB&&(d={});d=h.g.j.O(h.g.G.Cc,d,this.Zd);this.yx=h.g.j.O(h.g.G.Ud,{},d);this.fp=h.g.j.O(h.g.G.wd,{"class":"blocklyDraggable",x:0,y:0,rx:h.ya.rd,ry:h.ya.rd},d);c?(this.Cg=h.g.j.O(h.g.G.Cc,{"class":this.m.M?"blocklyResizeSW":"blocklyResizeSE"},this.Zd),c=2*h.ya.rd,h.g.j.O(h.g.G.zC,{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.Cg),h.g.j.O(h.g.G.ri,{"class":"blocklyResizeLine",x1:c/
3,y1:c-1,x2:c-1,y2:c/3},this.Cg),h.g.j.O(h.g.G.ri,{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.Cg)):this.Cg=null;this.m.options.readOnly||(this.Gu=h.P.Aa(this.fp,"mousedown",this,this.vD),this.Cg&&(this.Hu=h.P.Aa(this.Cg,"mousedown",this,this.zG)));this.Zd.appendChild(a);return this.Zd};b.ta=function(){return this.Zd};function rb(a,c){a.Zd.dataset&&(a.Zd.dataset.blockId=c)}
b.vD=function(a){var c=this.m.uh(a);if(c){if(c.Mi)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");c.Kd||(c.Kd=this);c.ne=a}};b.Fn=function(){};b.Bf=function(){return!1};b.jv=function(){};
b.zG=function(a){var c=this.Zd.parentNode;c.lastChild!==this.Zd&&c.appendChild(this.Zd);h.ya.Cv();h.g.Vk(a)||(this.m.In(a,new h.g.K(this.m.M?-this.pb:this.pb,this.Xc)),h.ya.Oh=h.P.Aa(document,"mouseup",this,h.ya.wD),h.ya.Nh=h.P.Aa(document,"mousemove",this,this.AG),h.qc());a.stopPropagation()};b.AG=function(a){this.qs=!1;var c=this.m;a=h.g.fn(a,u(c),Ka(c));a.x/=c.scale;a.y/=c.scale;c=h.g.K.sum(c.by,a);pb(this,this.m.M?-c.x:c.x,c.y);this.m.M&&ob(this)};function tb(a,c){a.su=c}
function ub(a,c,d){var e=a.m.M?a.Qb.x-c.x-a.pb:c.x+a.Qb.x;c=c.y+a.Qb.y;return Math.max(0,Math.min(1,(Math.min(e+a.pb,d.left+d.width)-Math.max(e,d.left))*(Math.min(c+a.Xc,d.top+d.height)-Math.max(c,d.top))/(a.pb*a.Xc)))}function ob(a){var c=a.Qb.x;c=a.m.M?c-(a.Ff+a.pb):c+a.Ff;a.moveTo(c,a.Uh+a.Qb.y)}b.moveTo=function(a,c){this.Zd.setAttribute("transform","translate("+a+","+c+")")};b.Wh=function(a){!a&&this.su&&this.su()};
function pb(a,c,d){var e=2*h.ya.rd;c=Math.max(c,e+45);d=Math.max(d,e+20);a.pb=c;a.Xc=d;a.fp.setAttribute("width",c);a.fp.setAttribute("height",d);a.Cg&&(a.m.M?a.Cg.setAttribute("transform","translate("+2*h.ya.rd+","+(d-e)+") scale(-1 1)"):a.Cg.setAttribute("transform","translate("+(c-e)+","+(d-e)+")"));if(a.qs){c=J(a.m.ad,!0);d=-a.pb/4;if(!(a.pb>c.width)){if(a.m.M){e=a.Qb.x-d;var f=e-a.pb;var g=c.left+c.width,k=c.left+h.Oa.wc/a.m.scale}else f=d+a.Qb.x,e=f+a.pb,k=c.left,g=c.left+c.width-h.Oa.wc/a.m.scale;
a.m.M?f<k?d=-(k-a.Qb.x+a.pb):e>g&&(d=-(g-a.Qb.x)):f<k?d=k-a.Qb.x:e>g&&(d=g-a.Qb.x-a.pb)}f=d;d=-a.Xc/4;if(!(a.Xc>c.height)){e=a.Qb.y+d;g=e+a.Xc;k=c.top;var l=c.top+c.height-h.Oa.wc/a.m.scale,m=a.Qb.y;e<k?d=k-m:g>l&&(d=l-m-a.Xc)}k=d;g=a.JG.getBBox();d={x:f,y:-a.Xc-a.m.vb.aa().Il};e={x:-a.pb-30,y:k};k={x:g.width,y:k};l={x:f,y:g.height};f=g.width<g.height?k:l;g=g.width<g.height?l:k;k=ub(a,d,c);l=ub(a,e,c);m=ub(a,f,c);c=Math.max(k,l,m,ub(a,g,c));k==c?(a.Ff=d.x,a.Uh=d.y):l==c?(a.Ff=e.x,a.Uh=e.y):m==c?(a.Ff=
f.x,a.Uh=f.y):(a.Ff=g.x,a.Uh=g.y)}ob(a);qb(a);a.Xz&&a.Xz()}
function qb(a){var c=[],d=a.pb/2,e=a.Xc/2,f=-a.Ff,g=-a.Uh;if(d==f&&e==g)c.push("M "+d+","+e);else{g-=e;f-=d;a.m.M&&(f*=-1);var k=Math.sqrt(g*g+f*f),l=Math.acos(f/k);0>g&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),p=Math.cos(m),q=new h.g.Pc(a.pb,a.Xc);m=(q.width+q.height)/h.ya.NA;m=Math.min(m,q.width,q.height)/4;q=1-h.ya.JA/k;f=d+q*f;g=e+q*g;q=d+m*p;var v=e+m*n;d-=m*p;e-=m*n;n=l+a.rD;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/h.ya.Nv;k=Math.cos(n)*k/h.ya.Nv;c.push("M"+
q+","+v);c.push("C"+(q+k)+","+(v+l)+" "+f+","+g+" "+f+","+g);c.push("C"+f+","+g+" "+(d+k)+","+(e+l)+" "+d+","+e)}c.push("z");a.yx.setAttribute("d",c.join(" "))}b.Jd=function(a){this.fp.setAttribute("fill",a);this.yx.setAttribute("fill",a)};b.L=function(){this.Gu&&h.P.gb(this.Gu);this.Hu&&h.P.gb(this.Hu);h.ya.Cv();h.g.j.removeNode(this.Zd);this.fe=!0};b.tu=function(a,c){a?a.wj(c.x,c.y):this.moveTo(c.x,c.y);this.Ff=this.m.M?this.Qb.x-c.x-this.pb:c.x-this.Qb.x;this.Uh=c.y-this.Qb.y;qb(this)};
b.Wa=function(){return new h.g.K(this.m.M?-this.Ff+this.Qb.x-this.pb:this.Qb.x+this.Ff,this.Qb.y+this.Uh)};h.ya.Mf=function(a){var c=h.g.j.O(h.g.G.ax,{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:h.ya.rd},null);a=a.split("\n");for(var d=0;d<a.length;d++){var e=h.g.j.O(h.g.G.$r,{dy:"1em",x:h.ya.rd},c),f=document.createTextNode(a[d]);e.appendChild(f)}return c};
h.ya.XK=function(a,c,d){d=new h.ya(c.B,a,c.Ab.Hb,d,null,null);rb(d,c.id);if(c.M){c=a.getBBox().width;for(var e=0,f;f=a.childNodes[e];e++)f.setAttribute("text-anchor","end"),f.setAttribute("x",c+h.ya.rd)}return d};h.h.Of=function(a){this.mf=(this.Gd="undefined"==typeof a)?"":a.id;this.dc=this.Gd?"":a.B.id;this.group=h.h.Tb();this.Qa=h.h.Qa};h.g.object.U(h.h.Of,h.h.Abstract);h.h.Of.prototype.va=function(){var a=h.h.Of.A.va.call(this);this.mf&&(a.commentId=this.mf);return a};h.h.Of.prototype.Z=function(a){h.h.Of.A.Z.call(this,a);this.mf=a.commentId};h.h.Jj=function(a,c,d){h.h.Jj.A.constructor.call(this,a);a&&(this.jq="undefined"==typeof c?"":c,this.iq="undefined"==typeof d?"":d)};h.g.object.U(h.h.Jj,h.h.Of);
b=h.h.Jj.prototype;b.type=h.h.Wv;b.va=function(){var a=h.h.Jj.A.va.call(this);a.oldContents=this.jq;a.newContents=this.iq;return a};b.Z=function(a){h.h.Jj.A.Z.call(this,a);this.jq=a.oldContents;this.iq=a.newContents};b.Sk=function(){return this.jq==this.iq};b.run=function(a){var c;(c=w(this).pp[this.mf]||null)?c.IL(a?this.iq:this.jq):console.warn("Can't change non-existent comment: "+this.mf)};h.h.Pf=function(a){h.h.Pf.A.constructor.call(this,a);a&&(this.xml=a.nA())};h.g.object.U(h.h.Pf,h.h.Of);
h.h.Pf.prototype.type=h.h.to;h.h.Pf.prototype.va=function(){var a=h.h.Pf.A.va.call(this);a.xml=h.N.Vc(this.xml);return a};h.h.Pf.prototype.Z=function(a){h.h.Pf.A.Z.call(this,a);this.xml=h.N.Mf(a.xml)};h.h.Pf.prototype.run=function(a){h.h.Zv(this,a)};h.h.Zv=function(a,c){var d=w(a);c?(c=h.g.xml.createElement("xml"),c.appendChild(a.xml),h.N.Ak(c,d)):(d=d.pp[a.mf]||null)?d.L(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.mf)};
h.h.Qf=function(a){h.h.Qf.A.constructor.call(this,a);a&&(this.xml=a.nA())};h.g.object.U(h.h.Qf,h.h.Of);h.h.Qf.prototype.type=h.h.Xv;h.h.Qf.prototype.va=function(){return h.h.Qf.A.va.call(this)};h.h.Qf.prototype.Z=function(a){h.h.Qf.A.Z.call(this,a)};h.h.Qf.prototype.run=function(a){h.h.Zv(this,!a)};h.h.Kj=function(a){h.h.Kj.A.constructor.call(this,a);a&&(this.Ls=a,this.ij=a.Ky(),this.dj=null)};h.g.object.U(h.h.Kj,h.h.Of);b=h.h.Kj.prototype;
b.kj=function(){if(!this.Ls)throw Error("Tried to record the new position of a comment on the same event twice.");this.dj=this.Ls.Ky();this.Ls=null};b.type=h.h.yl;b.va=function(){var a=h.h.Kj.A.va.call(this);this.ij&&(a.oldCoordinate=Math.round(this.ij.x)+","+Math.round(this.ij.y));this.dj&&(a.newCoordinate=Math.round(this.dj.x)+","+Math.round(this.dj.y));return a};
b.Z=function(a){h.h.Kj.A.Z.call(this,a);if(a.oldCoordinate){var c=a.oldCoordinate.split(",");this.ij=new h.g.K(Number(c[0]),Number(c[1]))}a.newCoordinate&&(c=a.newCoordinate.split(","),this.dj=new h.g.K(Number(c[0]),Number(c[1])))};b.Sk=function(){return h.g.K.tf(this.ij,this.dj)};b.run=function(a){var c;if(c=w(this).pp[this.mf]||null){a=a?this.dj:this.ij;var d=c.Ky();c.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.mf)};h.C.register(h.C.T.Jb,h.h.to,h.h.Pf);
h.C.register(h.C.T.Jb,h.h.Wv,h.h.Jj);h.C.register(h.C.T.Jb,h.h.yl,h.h.Kj);h.C.register(h.C.T.Jb,h.h.Xv,h.h.Qf);h.wl=function(a,c){this.Fc=a;this.m=c;this.pc=null;this.ao=!1;this.Kf=this.Fc.Wa();this.Hi=h.g.Ui()&&c.yd?c.yd:null};h.wl.prototype.L=function(){this.Hi=this.m=this.Fc=null};function vb(a,c,d){d=a.al(d);d=h.g.K.sum(a.Kf,d);a.Fc.tu(a.Hi,d);d=a.pc;a.pc=lb(a.m,c);c=a.ao;a.ao=a.tv(a.pc);c!=a.ao&&a.Fc.jv(a.ao);a.pc!==d&&d&&d.Au();a.pc&&a.pc.Bu()}h.wl.prototype.tv=function(a){return a&&fa(this.m.jg,a.id)?ib(a,this.Fc,!1):!1};
function wb(a,c,d){vb(a,c,d);c=a.al(d);c=h.g.K.sum(a.Kf,c);a.Fc.moveTo(c.x,c.y);a.pc&&a.pc.Cu();a.ao?(a.Am(),a.Fc.L(!1,!0)):(a.Hi&&a.Hi.ip(a.m.Gg),a.Fc.Wh&&a.Fc.Wh(!1),a.Am());a.m.jc(!0);h.h.ma(!1)}h.wl.prototype.Am=function(){if(this.Fc.nL){var a=new (h.h.get(h.h.yl))(this.Fc);a.ij=this.Kf;a.kj();h.h.Ea(a)}};h.wl.prototype.al=function(a){a=new h.g.K(a.x/this.m.scale,a.y/this.m.scale);this.m.Tm&&a.scale(1/this.m.options.ic.scale);return a};h.h.Ng=function(a,c,d){h.h.Ng.A.constructor.call(this,a?a.B.id:c);this.ab=a?a.id:null;this.jA=d};h.g.object.U(h.h.Ng,h.h.Wd);h.h.Ng.prototype.type=h.h.xl;h.h.Ng.prototype.va=function(){var a=h.h.Ng.A.va.call(this);a.targetType=this.jA;this.ab&&(a.blockId=this.ab);return a};h.h.Ng.prototype.Z=function(a){h.h.Ng.A.Z.call(this,a);this.jA=a.targetType;this.ab=a.blockId};h.C.register(h.C.T.Jb,h.h.xl,h.h.Ng);h.$l=function(a){this.m=a;this.Vy=xb(this.m);this.yA=yb(this.m);this.SG=new h.g.K(a.scrollX,a.scrollY)};h.$l.prototype.L=function(){this.m=null};h.$l.prototype.In=function(){h.selected&&zb(h.selected);La(this.m)};h.$l.prototype.wm=function(a){this.og(a);Ma(this.m)};
h.$l.prototype.og=function(a){a=h.g.K.sum(this.SG,a);if(this.Vy&&this.yA)this.m.scroll(a.x,a.y);else if(this.Vy)this.m.scroll(a.x,this.m.scrollY);else if(this.yA)this.m.scroll(this.m.scrollX,a.y);else throw new TypeError("Invalid state.");};h.df=function(a,c){this.oz=null;this.Tc=new h.g.K(0,0);this.Rb=this.yc=this.hl=this.il=this.Kd=null;this.Os=c;this.Pm=this.Wi=this.Qm=this.Li=!1;this.ne=a;this.Da=this.Cj=this.kf=this.lh=this.oq=this.nq=null;this.Op=this.Mi=this.Bx=!1;this.Qy=!h.nB};b=h.df.prototype;b.L=function(){h.Touch.jp();h.I.dH();this.Os.Ec=null;this.nq&&h.P.gb(this.nq);this.oq&&h.P.gb(this.oq);this.kf&&this.kf.L();this.Cj&&this.Cj.L();this.lh&&this.lh.L()};
function Ab(a,c){a.Tc=h.g.K.um(new h.g.K(c.clientX,c.clientY),a.oz);if(a.Li)var d=!1;else a.Li=h.g.K.uF(a.Tc)>(a.Da?h.FB:h.mB),d=a.Li;if(d){if(a.Bx)throw Error("updateIsDragging_ should only be called once per gesture.");a.Bx=!0;a.Kd?(a.Pm=!0,a.lh=new h.wl(a.Kd,a.Rb),d=a.lh,h.h.Tb()||h.h.ma(!0),d.m.jc(!1),d.Fc.qs=!1,d.Hi&&(d.Fc.moveTo(0,0),d.Hi.wj(d.Kf.x,d.Kf.y),ta(d.Hi,d.Fc.ta())),d.Fc.Wh&&d.Fc.Wh(!0),vb(a.lh,a.ne,a.Tc),d=!0):d=!1;if(!d){if(a.yc){if(a.Da){if(a.yc&&a.yc.isEnabled()){if(!(d=!Bb(a.Da))){d=
a.Tc;d=Math.atan2(d.y,d.x)/Math.PI*180;var e=a.Da.nE;d=d<e&&d>-e||d<-180+e||d>180-e?!0:!1}d?(a.Rb=a.Da.Ia,Cb(a.Rb),h.h.Tb()||h.h.ma(!0),a.hl=null,a.yc=Db(a.Da,a.yc),a.yc.select(),d=!0):d=!1}else d=!1;a.Wi=d}else a.yc.Gc()&&(a.Wi=!0);a.Wi?(a.kf=new (h.C.Ji(h.C.T.Sv,a.Os.options,!0))(a.yc,a.Rb),a.kf.In(a.Tc,a.Qy),a.kf.og(a.ne,a.Tc),d=!0):d=!1}else d=!1;if(d=!d)if(a.Da)d=Bb(a.Da);else if(d=a.Rb)d=a.Rb,d=d.options.Ic&&d.options.Ic.og;d&&(a.Cj=new h.$l(a.Rb),a.Qm=!0,a.Cj.In())}h.Jh()}a.ne=c}
b.bt=function(a){h.g.Sp(a)?this.cancel():(this.Mi=!0,h.hb.$s(),Cb(this.Rb),this.Rb.Tm&&this.Rb.resize(),h.qc(!!this.Da),ja(this.Rb),this.ne=a,h.I.block(),this.yc&&this.yc.select(),h.g.Vk(a)?ca(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||h.tF(a,this),this.oz=new h.g.K(a.clientX,a.clientY),this.Qy=a.altKey||a.ctrlKey||a.metaKey,this.jk(a)))};
b.jk=function(a){this.nq=h.P.Aa(document,"mousemove",null,this.Ik.bind(this));this.oq=h.P.Aa(document,"mouseup",null,this.Ip.bind(this));a.preventDefault();a.stopPropagation()};b.Ik=function(a){Ab(this,a);this.Qm?this.Cj.og(this.Tc):this.Wi?this.kf.og(this.ne,this.Tc):this.Pm&&vb(this.lh,this.ne,this.Tc);a.preventDefault();a.stopPropagation()};
b.Ip=function(a){Ab(this,a);h.Jh();if(this.Op)console.log("Trying to end a gesture recursively.");else{this.Op=!0;if(this.Pm)wb(this.lh,a,this.Tc);else if(this.Wi)this.kf.wm(a,this.Tc);else if(this.Qm)this.Cj.wm(this.Tc);else if(this.Kd&&!this.Li)this.Kd.GG&&this.Kd.GG(),this.Kd.select&&this.Kd.select();else if(Eb(this)){var c=this.il,d=this.ne;E(c)&&c.rj(d);Fb(this)}else!this.hl||this.Li||Eb(this)?this.hl||this.Kd||this.il||this.Li||(c=this.Os,h.selected&&zb(h.selected),c=this.Rb||c,h.h.Ea(new (h.h.get(h.h.xl))(null,
c.id,"workspace"))):(this.Da&&this.Da.Ai?this.yc.isEnabled()&&(h.h.Tb()||h.h.ma(!0),nb(Db(this.Da,this.yc))):(c=new (h.h.get(h.h.xl))(this.hl,this.Rb.id,"block"),h.h.Ea(c)),Fb(this),h.h.ma(!1));a.preventDefault();a.stopPropagation();this.L()}};b.cancel=function(){this.Op||(h.Jh(),this.Pm?wb(this.lh,this.ne,this.Tc):this.Wi?this.kf.wm(this.ne,this.Tc):this.Qm&&this.Cj.wm(this.Tc),this.L())};
function ca(a,c){a.yc?(Fb(a),h.qc(!!a.Da),a.yc.Fn(c)):a.Kd?a.Kd.Fn(c):a.Rb&&!a.Da&&(h.qc(),a.Rb.Fn(c));c.preventDefault();c.stopPropagation();a.L()}function Gb(a,c,d){if(a.Mi)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Rb||(a.Rb=d);a.ne=c;a.bt(c)}function Hb(a,c,d){if(a.Mi)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.Da||(a.Da=d);Gb(a,c,d.m)}function Fb(a){a.yc&&!a.Da&&jb(a.yc)}
function Ib(a,c){a.hl||a.Kd||(a.hl=c,c.tc&&c!=c.Pe()?Jb(a,c.Pe()):Jb(a,c))}function Jb(a,c){c.Ha?Jb(a,c.getParent()):a.yc=c}function Eb(a){return(a.il?E(a.il):!1)&&!a.Li&&(!a.Da||!a.Da.Ai)}b.rc=function(){return this.Qm||this.Wi||this.Pm};b.Ek=function(){return this.kf?this.kf.Ek():[]};h.df.Ri=function(){for(var a=h.xb.getAll(),c=0,d;d=a[c];c++)if(d.Ec)return!0;return!1};h.UI=function(){};h.Mo=function(){this.ie=this.Bd=this.zb=null;this.type="marker"};function Kb(a,c){var d=a.Bd;a.Bd=c;a.ie&&a.ie.draw(d,a.Bd)}h.Mo.prototype.draw=function(){this.ie&&this.ie.draw(this.Bd,this.Bd)};h.Mo.prototype.Ra=function(){this.ie&&this.ie.Ra()};h.Mo.prototype.L=function(){this.ie&&this.ie.L()};h.Og=function(){h.Og.A.constructor.call(this);this.type="cursor"};h.g.object.U(h.Og,h.Mo);h.Og.prototype.next=function(){var a=this.Bd;if(!a)return null;for(a=a.next();a&&a.next()&&(a.getType()==h.H.types.Yg||a.getType()==h.H.types.Wb);)a=a.next();a&&Kb(this,a);return a};h.Og.prototype.Ch=function(){var a=this.Bd;if(!a)return null;if(a.getType()==h.H.types.$g||a.getType()==h.H.types.ui)a=a.next();(a=a.Ch())&&Kb(this,a);return a};
h.Og.prototype.Bg=function(){var a=this.Bd;if(!a)return null;for(a=a.Bg();a&&a.Bg()&&(a.getType()==h.H.types.Yg||a.getType()==h.H.types.Wb);)a=a.Bg();a&&Kb(this,a);return a};h.Og.prototype.Ph=function(){var a=this.Bd;if(!a)return null;(a=a.Ph())&&a.getType()==h.H.types.Wb&&(a=a.Bg()||a);a&&Kb(this,a);return a};h.C.register(h.C.T.Ij,h.C.Mj,h.Og);h.Kl=function(a){this.mg=this.ee=null;this.Xm=Object.create(null);this.m=a};h.Kl.Bw="local_marker_1";b=h.Kl.prototype;b.Dk=function(){return this.ee};b.Im=function(a){return this.Xm[a]||null};b.Dg=function(a){a?(this.m.ob.appendChild(a),this.mg=a):this.mg=null};b.Xh=function(a){a?this.m.ob&&(this.mg?this.m.ob.insertBefore(a,this.mg):this.m.ob.appendChild(a)):this.Ag=null};
b.L=function(){for(var a=Object.keys(this.Xm),c=0,d;d=a[c];c++){var e=this.Xm[d];if(e)e.L(),delete this.Xm[d];else throw Error("Marker with ID "+d+" does not exist. Can only unregister markers that exist.");}this.Xm=null;this.ee&&(this.ee.L(),this.ee=null)};h.W={};h.W.qe=null;h.W.zp=null;h.W.Ue="";h.W.Xe="";h.W.Va=function(){h.W.Ta||(h.W.Ta=document.createElement("div"),h.W.Ta.className="blocklyWidgetDiv",(h.qq||document.body).appendChild(h.W.Ta))};h.W.show=function(a,c,d){h.W.Ra();h.W.qe=a;h.W.zp=d;a=h.W.Ta;a.style.direction=c?"rtl":"ltr";a.style.display="block";c=h.vh();h.W.Ue=c.vb.Me();h.W.Xe=c.qg().Me();h.g.j.Db(a,h.W.Ue);h.g.j.Db(a,h.W.Xe)};
h.W.Ra=function(){if(h.W.isVisible()){h.W.qe=null;var a=h.W.Ta;a.style.display="none";a.style.left="";a.style.top="";h.W.zp&&h.W.zp();h.W.zp=null;a.textContent="";h.W.Ue&&(h.g.j.vc(a,h.W.Ue),h.W.Ue="");h.W.Xe&&(h.g.j.vc(a,h.W.Xe),h.W.Xe="");ja(h.vh())}};h.W.isVisible=function(){return!!h.W.qe};h.W.Kk=function(a){h.W.qe==a&&h.W.Ra()};h.W.qn=function(a,c,d){h.W.Ta.style.left=a+"px";h.W.Ta.style.top=c+"px";h.W.Ta.style.height=d+"px"};
h.W.aG=function(a,c,d,e){var f=h.W.DD(a,c,d);a=h.W.CD(a,c,d,e);0>f?h.W.qn(a,0,d.height+f):h.W.qn(a,f,d.height)};h.W.CD=function(a,c,d,e){if(e)return c=Math.max(c.right-d.width,a.left),Math.min(c,a.right-d.width);c=Math.min(c.left,a.right-d.width);return Math.max(c,a.left)};h.W.DD=function(a,c,d){return c.bottom+d.height>=a.bottom?c.top-d.height:c.bottom};h.Od=function(a,c,d){this.dd=this.Al;this.qA=this.Zn=null;this.cd=new h.g.Pc(0,0);this.v=this.qu=this.uj=this.zc=this.Kb=this.Dd=this.Ag=this.mg=null;d&&this.ce(d);this.setValue(a);c&&(this.Zn=c)};b=h.Od.prototype;b.Al=null;b.name=void 0;b.fe=!1;b.nz=50;b.J=null;b.vg=!0;b.di=!0;b.Is=null;h.Od.Iw="\u00a0";b=h.Od.prototype;b.Bo=!0;b.Yj=!1;b.ce=function(a){var c=a.tooltip;"string"==typeof c&&(c=h.g.Ve(a.tooltip));c&&this.ue(c)};
b.ov=function(a){if(this.J)throw Error("Field already bound to a block.");this.J=a};b.aa=function(){!this.v&&this.J&&this.J.B&&this.J.B.xa&&(this.v=this.J.B.vb.aa());return this.v};b.ba=function(){return this.J};b.Ca=function(){this.Dd||(this.Dd=h.g.j.O(h.g.G.Cc,{},null),this.isVisible()||(this.Dd.style.display="none"),this.J.ta().appendChild(this.Dd),this.Lk(),this.yj(),this.ue(this.qA),h.I.jk(Lb(this)),this.qu=h.P.Aa(Lb(this),"mousedown",this,this.Mh),this.Si())};b.Lk=function(){Mb(this);Nb(this)};
b.Si=function(){};function Mb(a){a.Kb=h.g.j.O(h.g.G.wd,{rx:a.aa().Do,ry:a.aa().Do,x:0,y:0,height:a.cd.height,width:a.cd.width,"class":"blocklyFieldRect"},a.Dd)}function Nb(a){a.zc=h.g.j.O(h.g.G.ax,{"class":"blocklyText"},a.Dd);a.aa().kr&&a.zc.setAttribute("dominant-baseline","central");a.uj=document.createTextNode("");a.zc.appendChild(a.uj)}b.Ck=function(a){this.setValue(a.textContent)};b.mA=function(a){a.textContent=this.getValue();return a};
b.L=function(){h.F.Kk(this);h.W.Kk(this);h.I.Ev(Lb(this));this.qu&&h.P.gb(this.qu);h.g.j.removeNode(this.Dd);this.fe=!0};b.yj=function(){var a=this.Dd;this.Bo&&a&&(this.J.md()?(h.g.j.Db(a,"blocklyEditableText"),h.g.j.vc(a,"blocklyNonEditableText"),a.style.cursor=this.Ij):(h.g.j.Db(a,"blocklyNonEditableText"),h.g.j.vc(a,"blocklyEditableText"),a.style.cursor=""))};function E(a){return!!a.J&&a.J.md()&&!!a.rj&&"function"===typeof a.rj}b.isVisible=function(){return this.di};
b.Bb=function(a){if(this.di!=a){this.di=a;var c=this.ta();c&&(c.style.display=a?"block":"none")}};function Ob(a,c){a.Zn=c}b.Jy=function(){return this.Zn};b.ta=function(){return this.Dd};b.Sb=function(){};b.nj=function(){this.uj&&(this.uj.nodeValue=Pb(this));var a=this.aa(),c=this.Kb?this.aa().Bl:0,d=2*c,e=a.Eo,f=0;this.zc&&(f=h.g.j.Dt(this.zc,a.Qg,a.Rg,a.Pg),d+=f);this.Kb&&(e=Math.max(e,a.jw));this.cd.height=e;this.cd.width=d;Qb(this,c,f);Rb(this)};
function Qb(a,c,d){if(a.zc){var e=a.aa(),f=a.cd.height/2;a.zc.setAttribute("x",a.J.M?a.cd.width-d-c:c);a.zc.setAttribute("y",e.kr?f:f-e.Eo/2+e.lw)}}function Rb(a){a.Kb&&(a.Kb.setAttribute("width",a.cd.width),a.Kb.setAttribute("height",a.cd.height),a.Kb.setAttribute("rx",a.aa().Do),a.Kb.setAttribute("ry",a.aa().Do))}
b.pg=function(){if(!this.isVisible())return new h.g.Pc(0,0);this.vg?(this.nj(),this.vg=!1):this.di&&0==this.cd.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.nj());return this.cd};
function ia(a){if(a.Kb)c=a.Kb.getBoundingClientRect(),a=h.g.style.vf(a.Kb),e=c.width,c=c.height;else{var c=F(a.J),d=a.J.B.scale;a=h.g.style.vf(Lb(a));var e=c.width*d;c=c.height*d;h.g.userAgent.JB?(a.x+=1.5*d,a.y+=1.5*d):h.g.userAgent.ni||h.g.userAgent.Be||(a.x-=.5*d,a.y-=.5*d);e+=1*d;c+=1*d}return new h.g.Rect(a.y,a.y+c,a.x,a.x+e)}function Pb(a){var c=a.xh();if(!c)return h.Od.Iw;c.length>a.nz&&(c=c.substring(0,a.nz-2)+"\u2026");c=c.replace(/\s/g,h.Od.Iw);a.J&&a.J.M&&(c+="\u200f");return c}
b.xh=function(){if(this.Jt){var a=this.Jt.call(this);if(null!==a)return String(a)}return String(this.getValue())};b.Wm=function(){this.vg=!0;this.v=null};function Sa(a){a.vg=!0;a.J&&a.J.xa&&(a.J.Ma(),a.J.hc(),a.Gv())}
b.setValue=function(a){if(null!==a){var c=this.Gi(a);a=Sb(this,a,c);if(!(a instanceof Error)){if(c=this.Jy())if(c=c.call(this,a),a=Sb(this,a,c),a instanceof Error)return;c=this.J;if(!c||!c.fe){var d=this.getValue();d===a?this.sh(a):(c&&h.h.isEnabled()&&h.h.Ea(new (h.h.get(h.h.Nf))(c,"field",this.name||null,d,a)),this.sh(a),this.vg&&Sa(this))}}}};function Sb(a,c,d){if(null===d)return a.ay(),a.vg&&Sa(a),Error();void 0!==d&&(c=d);return c}b.getValue=function(){return this.dd};
b.Gi=function(a){return null===a||void 0===a?null:a};b.sh=function(a){this.dd=a;this.vg=!0};b.ay=function(){};b.Mh=function(a){if(this.J&&this.J.B&&(a=this.J.B.uh(a))){if(a.Mi)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.il||(a.il=this)}};b.ue=function(a){a||""===a||(a=this.J);var c=Lb(this);c?c.we=a:this.qA=a};function Lb(a){return a.Is||a.ta()}b.xq=function(){return!1};
b.wf=function(){for(var a=null,c=this.J,d=c.V,e=0;e<c.V.length;e++)for(var f=d[e],g=f.bb,k=0;k<g.length;k++)if(g[k]===this){a=f;break}return a};b.ez=function(){return!1};b.Dg=function(a){a?(this.Dd.appendChild(a),this.mg=a):this.mg=null};b.Xh=function(a){a?(this.Dd.appendChild(a),this.Ag=a):this.Ag=null};b.Gv=function(){var a=this.J.B;a.Xk&&this.mg&&a.Dk().draw();a.Xk&&this.Ag&&a.Im(h.Kl.Bw).draw()};h.Pd=function(a,c,d){this.hp=null;h.Pd.A.constructor.call(this,a,null,d);d||(this.hp=c||null)};h.g.object.U(h.Pd,h.Od);h.Pd.prototype.Al="";h.Pd.Z=function(a){var c=h.g.Ve(a.text);return new h.Pd(c,void 0,a)};h.Pd.prototype.Bo=!1;h.Pd.prototype.ce=function(a){h.Pd.A.ce.call(this,a);this.hp=a["class"]};h.Pd.prototype.Lk=function(){Nb(this);this.hp&&h.g.j.Db(this.zc,this.hp)};h.Pd.prototype.Gi=function(a){return null===a||void 0===a?null:String(a)};h.Le.register("field_label",h.Pd);h.yw=function(a,c,d,e){if(a!=h.Ga.Nd&&!c)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=c;this.J=d;this.connection=e;this.bb=[]};b=h.yw.prototype;b.align=h.tb.Ae.Gb;b.di=!0;b.ba=function(){return this.J};function K(a,c,d){Tb(a,a.bb.length,c,d);return a}
function Tb(a,c,d,e){if(0>c||c>a.bb.length)throw Error("index "+c+" out of bounds.");if(!(d||""==d&&e))return c;"string"==typeof d&&(d=h.Le.Z({type:"field_label",text:d}));d.ov(a.J);a.J.xa&&(d.Ca(),d.Sb());d.name=e;d.Bb(a.isVisible());d.Su&&(c=Tb(a,c,d.Su));a.bb.splice(c,0,d);++c;d.yv&&(c=Tb(a,c,d.yv));a.J.xa&&(a.J=a.J,a.J.Ma(),a.J.hc());return c}b.isVisible=function(){return this.di};
b.Bb=function(a){if(this.di!=a){this.di=a;for(var c=0,d;d=this.bb[c];c++)d.Bb(a);if(this.connection){this.connection=this.connection;if(a)Ub(this.connection);else if(c=this.connection,Vb(c,!1),c.ua)for(c=r(c.sa(),!1),d=0;d<c.length;d++){for(var e=c[d],f=e.Ne(!0),g=0;g<f.length;g++)Vb(f[g],!1);e=H(e);for(g=0;g<e.length;g++)e[g].Bb(!1)}if(c=this.connection.sa())c.ta().style.display=a?"block":"none"}}};b.Wm=function(){for(var a=0,c;c=this.bb[a];a++)c.Wm()};
b.bd=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.bd(a);return this};b.Dn=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Dn(a)};b.Gk=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.Gk()};b.Ca=function(){if(this.J.B.xa)for(var a=0;a<this.bb.length;a++)this.bb[a].Ca()};
b.L=function(){for(var a=0,c;c=this.bb[a];a++)c.L();this.connection&&this.connection.L();this.J=null};h.Gj=function(a,c,d){if(h.Generator&&"undefined"!=typeof h.Generator.prototype[c])throw Error('Block prototypeName "'+c+'" conflicts with Blockly.Generator members.');this.id=d&&!a.Wc(d)?d:h.g.uf();a.ts[this.id]=this;this.la=this.$=this.R=null;this.V=[];this.ug=void 0;this.disabled=!1;this.we="";this.contextMenu=!0;this.Ef=null;this.gg=[];this.gy=this.qz=this.sm=!0;this.Bi=this.Ha=!1;this.Ci=null;this.Ie={text:null,Kz:!1,size:new h.g.Pc(160,80)};this.HA=new h.g.K(0,0);this.B=a;this.tc=a.Cf;this.M=
a.M;this.Rk=!1;this.xf=void 0;this.xa=null;if(c){this.type=c;d=h.Ib[c];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+c);h.g.object.Te(this,d)}a.ap(this);a.Jg[this.type]||(a.Jg[this.type]=[]);a.Jg[this.type].push(this);(a=h.h.Tb())||h.h.ma(!0);c=h.h.Qa;try{"function"==typeof this.Ca&&(h.h.Qa=!1,this.Ca(),h.h.Qa=c),h.h.isEnabled()&&h.h.Ea(new (h.h.get(h.h.ei))(this))}finally{a||h.h.ma(!1),h.h.Qa=c}this.hF=this.ug;if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=
typeof a)throw Error("onchange must be a function.");this.ln&&Ya(this.B,this.ln);if(this.onchange=a)this.ln=a.bind(this),D(this.B,this.ln)}};h.Gj.so=h.tb.so;h.Gj.qo=h.tb.qo;b=h.Gj.prototype;b.data=null;b.fe=!1;b.$d="#000000";b.sj="";
b.L=function(a){if(this.B){this.ln&&Ya(this.B,this.ln);z(this,a);h.h.isEnabled()&&h.h.Ea(new (h.h.get(h.h.Vq))(this));h.h.disable();try{if(this.B){this.B.yq(this);var c=this.B;c.Jg[this.type].splice(c.Jg[this.type].indexOf(this),1);c.Jg[this.type].length||delete c.Jg[this.type];delete this.B.ts[this.id];this.B=null}h.selected==this&&(h.selected=null);for(var d=this.gg.length-1;0<=d;d--)this.gg[d].L(!1);d=0;for(var e;e=this.V[d];d++)e.L();this.V.length=0;var f=this.Ne(!0);d=0;for(var g;g=f[d];d++)g.L()}finally{h.h.enable(),
this.fe=!0}}};b.Si=function(){for(var a=0,c;c=this.V[a];a++)for(var d=0,e;e=c.bb[d];d++)e.Si&&e.Si()};
function z(a,c){if(a.R){var d=null;a.R.isConnected()&&(d=a.R.ua,a.R.disconnect());if(d&&c){a:{c=null;for(var e=0;e<a.V.length;e++){var f=a.V[e].connection;if(f&&f.type==h.ka.lc&&f.ua){if(c){c=null;break a}c=f}}}c&&c.isConnected()&&!c.sa().Ha&&(c=c.ua,c.disconnect(),A(a.B.kg,c,d,!1)?d.connect(c):c.Du(d))}}else a.la&&(d=null,a.la.isConnected()&&(d=a.la.ua,a.la.disconnect()),e=t(a),c&&e&&!e.Ha&&(c=a.$.ua,c.disconnect(),d&&A(a.B.kg,d,c,!1)&&d.connect(c)))}
b.Ne=function(){var a=[];this.R&&a.push(this.R);this.la&&a.push(this.la);this.$&&a.push(this.$);for(var c=0,d;d=this.V[c];c++)d.connection&&a.push(d.connection);return a};b.Vp=function(a){for(var c=this.$;c;){var d=c.sa();if(!d||a&&d.Ha)return c;c=d.$}return null};b.hc=function(){};b.getParent=function(){return this.Ef};function sa(a,c){for(var d=0,e;e=a.V[d];d++)if(e.connection&&e.connection.sa()==c)return e;return null}
function Wb(a){do{var c=a;a=a.getParent();if(!a)return null}while(t(a)==c);return a}function t(a){return a.$&&a.$.sa()}b.Pe=function(){var a=this;do{var c=a;a=c.Ef}while(a);return c};function ka(a,c){if(!c)return a.gg;c=[];for(var d=0,e;e=a.V[d];d++)e.connection&&(e=e.connection.sa())&&c.push(e);(a=t(a))&&c.push(a);return c}
b.Fq=function(a){if(a!=this.Ef){if(this.Ef){h.g.bp(this.Ef.gg,this);if(this.la&&this.la.isConnected())throw Error("Still connected to previous block.");if(this.R&&this.R.isConnected())throw Error("Still connected to parent block.");this.Ef=null}else this.B.yq(this);(this.Ef=a)?a.gg.push(this):this.B.ap(this)}};function r(a,c){var d=[a];a=ka(a,c);for(var e,f=0;e=a[f];f++)d.push.apply(d,r(e,c));return d}b.Bf=function(){return this.sm&&!this.Ha&&!(this.B&&this.B.options.readOnly)};
b.Gc=function(){return this.qz&&!this.Ha&&!(this.B&&this.B.options.readOnly)};b.Cq=function(a){this.qz=a};b.nv=function(a){this.Ha=a};b.nd=function(){return this.Rk};b.aA=function(a){this.Rk=a};b.md=function(){return this.gy&&!(this.B&&this.B.options.readOnly)};b.kv=function(a){this.gy=a;a=0;for(var c;c=this.V[a];a++)for(var d=0,e;e=c.bb[d];d++)e.yj()};
b.Et=function(a,c){var d=this.Ne(!0);a=a.Ne(!0);if(d.length!=a.length)throw Error("Connection lists did not match in length.");for(var e=0;e<a.length;e++)if(a[e]==c)return d[e];return null};b.ue=function(a){this.we=a};b.Bt=function(){return this.$d};b.Jd=function(a){this.$d=h.g.rq(a).Mm};b.Fg=function(a){this.sj=a};
function qa(a,c){if("string"!==typeof c)throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(void 0===c?"nothing":c+" of type "+typeof c)+" instead");for(var d=0,e;e=a.V[d];d++)for(var f=0,g;g=e.bb[f];f++)if(g.name===c)return g;return null}function pa(a){for(var c=[],d=0,e;e=a.V[d];d++)for(var f=0,g;g=e.bb[f];f++)g.xq()&&(g=a.B.rg(g.getValue()))&&c.push(g);return c}function C(a,c){return(a=qa(a,c))?a.getValue():null}
b.Cn=function(a,c){if(a){void 0===c&&(c=null);if(!this.la){if(this.R)throw Error("Remove output connection prior to adding previous connection.");this.la=this.Vm(h.ka.Vd)}this.la.bd(c)}else if(this.la){if(this.la.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.la.L();this.la=null}};
b.Dq=function(a,c){if(a)void 0===c&&(c=null),this.$||(this.$=this.Vm(h.ka.mc)),this.$.bd(c);else if(this.$){if(this.$.isConnected())throw Error("Must disconnect next statement before removing connection.");this.$.L();this.$=null}};
b.Bn=function(a,c){if(a){void 0===c&&(c=null);if(!this.R){if(this.la)throw Error("Remove previous connection prior to adding output connection.");this.R=this.Vm(h.ka.vd)}this.R.bd(c)}else if(this.R){if(this.R.isConnected())throw Error("Must disconnect output value before removing connection.");this.R.L();this.R=null}};b.Eg=function(a){this.ug!=a&&(h.h.Ea(new (h.h.get(h.h.Nf))(this,"inline",null,this.ug,a)),this.ug=a)};
function bb(a){if(void 0!=a.ug)return a.ug;for(var c=1;c<a.V.length;c++)if(a.V[c-1].type==h.Ga.Nd&&a.V[c].type==h.Ga.Nd)return!1;for(c=1;c<a.V.length;c++)if(a.V[c-1].type==h.Ga.jf&&a.V[c].type==h.Ga.Nd)return!0;return!1}b.isEnabled=function(){return!this.disabled};b.Hf=function(a){this.isEnabled()!=a&&(h.h.Ea(new (h.h.get(h.h.Nf))(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function Xb(a){for(a=Wb(a);a;){if(a.disabled)return!0;a=Wb(a)}return!1}b.isCollapsed=function(){return this.Bi};
b.pj=function(a){this.Bi!=a&&(h.h.Ea(new (h.h.get(h.h.Nf))(this,"collapsed",null,this.Bi,a)),this.Bi=a)};
b.toString=function(a,c){function d(n){var p=n.nk;!p&&n.ua&&(p=n.ua.nk);return!!p&&(-1!=p.indexOf("Boolean")||-1!=p.indexOf("Number"))}function e(){k&&k.getType()==l.getType()&&k.Fa==l.Fa&&(k=null)}var f=[];c=c||"?";var g=h.H.Xg;h.H.Xg=!0;for(var k=h.H.qh(this),l=k;k;){switch(k.getType()){case h.H.types.Rd:var m=k.Fa;k.Ch()?d(m)&&f.push("("):f.push(c);break;case h.H.types.Bc:m=k.Fa,m.name!=h.tb.qo&&f.push(m.xh())}m=k;k=m.Ch()||m.next();if(!k){k=m.Ph();for(e();k&&!k.next();)k=k.Ph(),e(),k&&k.getType()==
h.H.types.Rd&&d(k.Fa)&&f.push(")");k&&(k=k.next())}}h.H.Xg=g;for(c=2;c<f.length;c++)"("==f[c-2]&&")"==f[c]&&(f[c-2]=f[c-1],f.splice(c-1,2));f=f.reduce(function(n,p){return n+("("==n.substr(-1)||")"==p?"":" ")+p},"");f=f.trim()||"???";a&&f.length>a&&(f=f.substring(0,a-3)+"...");return f};function Yb(a,c){return a.Fe(h.Ga.jf,c)}
function Zb(a,c){var d=c.type?'Block "'+c.type+'": ':"";if(c.output&&c.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");c.style&&c.style.xf&&(a.xf=c.style.xf,c.style=null);if(c.style&&c.colour)throw Error(d+"Must not have both a colour and a style.");if(c.style){var e=c.style;try{a.Fg(e)}catch(sb){console.warn(d+"Style does not exist: ",e)}}else if("colour"in c)if(void 0===c.colour)console.warn(d+"Undefined colour value.");else{e=c.colour;try{a.Jd(e)}catch(sb){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==c["message"+e];){var f=a,g=c["args"+e]||[],k=c["lastDummyAlign"+e],l=d,m=h.g.YG(c["message"+e]);var n=f;for(var p=m,q=g.length,v=[],M=0,ba=0;ba<p.length;ba++){var I=p[ba];if("number"==typeof I){if(1>I||I>q)throw Error('Block "'+n.type+'": Message index %'+I+" out of range.");if(v[I])throw Error('Block "'+n.type+'": Message index %'+I+" duplicated.");v[I]=!0;M++}}if(M!=q)throw Error('Block "'+n.type+'": Message does not reference all '+q+" arg(s).");n=
g;g=[];for(p=0;p<m.length;p++){q=m[p];"number"==typeof q&&(q=n[q-1]);if("string"==typeof q&&(q=$b(q),!q))continue;g.push(q)}(m=g.length)&&!ac(g[m-1].type)&&(m={type:"input_dummy"},k&&(m.align=k),g.push(m));k=g;g=[];for(m=0;n=k[m];m++)if(ac(n.type)){p=f;q=n;v=l;M={LEFT:h.tb.Ae.Gb,RIGHT:h.tb.Ae.nc,CENTRE:h.tb.Ae.po,CENTER:h.tb.Ae.po};n=null;switch(q.type){case "input_value":n=Yb(p,q.name);break;case "input_statement":n=p.Fe(h.Ga.Dc,q.name);break;case "input_dummy":n=p.Fe(h.Ga.Nd,q.name||"")}n?(q.check&&
n.bd(q.check),q.align&&(p=M[q.align.toUpperCase()],void 0===p?console.warn(v+"Illegal align value: ",q.align):(q=n,q.align=p,q.J.xa&&(q.J=q.J,q.J.Ma())))):n=null;if(n){for(p=0;q=g[p];p++)K(n,q[0],q[1]);g.length=0}}else(p=bc(f,n))&&g.push([p,n.name]);e++}void 0!==c.inputsInline&&a.Eg(c.inputsInline);void 0!==c.output&&a.Bn(!0,c.output);void 0!==c.previousStatement&&a.Cn(!0,c.previousStatement);void 0!==c.nextStatement&&a.Dq(!0,c.nextStatement);void 0!==c.tooltip&&(e=c.tooltip,e=h.g.Ve(e),a.ue(e));
void 0!==c.enableContextMenu&&(e=c.enableContextMenu,a.contextMenu=!!e);void 0!==c.helpUrl&&(e=c.helpUrl,e=h.g.Ve(e),a.sg=e);"string"==typeof c.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+c.type+"' block."),c.extensions=[c.extensions]);void 0!==c.mutator&&h.qa.apply(c.mutator,a,!0);c=c.extensions;if(Array.isArray(c))for(d=0;d<c.length;++d)h.qa.apply(c[d],a,!1)}
b.Te=function(a,c){if(void 0!==c&&"boolean"!=typeof c)throw Error("opt_disableCheck must be a boolean if provided");if(!c){c=[];for(var d in a)void 0!==this[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));}h.g.object.Te(this,a)};function bc(a,c){var d=h.Le.Z(c);return!d&&c.alt?"string"==typeof c.alt?(c=$b(c.alt))?bc(a,c):null:bc(a,c.alt):d}function ac(a){return"input_value"==a||"input_statement"==a||"input_dummy"==a}
function $b(a){return(a=a.trim())?{type:"field_label",text:a}:null}b.Fe=function(a,c){var d=null;if(a==h.Ga.jf||a==h.Ga.Dc)d=this.Vm(a);a=new h.yw(a,c,this,d);this.V.push(a);return a};b.lj=function(a,c){for(var d=0,e;e=this.V[d];d++)if(e.name==a)return e.L(),this.V.splice(d,1),!0;if(c)return!1;throw Error("Input not found: "+a);};function y(a,c){for(var d=0,e;e=a.V[d];d++)if(e.name==c)return e;return null}function cc(a,c){return(a=y(a,c))&&a.connection&&a.connection.sa()}
b.dl=function(a){this.Ie.text!=a&&(h.h.Ea(new (h.h.get(h.h.Nf))(this,"comment",null,this.Ie.text,a)),this.Ci=this.Ie.text=a)};b.bA=function(){};b.Wa=function(){return this.HA};b.moveBy=function(a,c){if(this.Ef)throw Error("Block has parent.");var d=new (h.h.get(h.h.gi))(this);this.HA.translate(a,c);d.kj();h.h.Ea(d)};b.Vm=function(a){return new h.Ba(this,a)};h.i.SI=function(){};h.g.ea={JK:0,cJ:3,OA:8,UC:9,mJ:12,ew:13,To:16,li:17,Dj:18,$J:19,AH:20,fw:27,PC:32,xC:33,wC:34,tB:35,MB:36,Gb:37,Ul:38,nc:39,xo:40,cK:43,fK:44,RI:45,mi:46,ZERO:48,ONE:49,DK:50,tK:51,qI:52,nI:53,qK:54,oK:55,QH:56,kJ:57,lI:59,jI:61,iI:173,kI:163,gK:63,tH:64,oH:65,uH:66,Yq:67,IH:68,E:69,TH:70,Cc:71,uI:72,wI:73,VI:74,WI:75,XI:76,bJ:77,jJ:78,CJ:79,ZJ:80,Q:81,hK:82,kK:83,sK:84,EK:85,ds:86,GK:87,hs:88,eD:89,gk:90,Sj:91,KK:92,HH:93,BJ:96,uJ:97,AJ:98,zJ:99,qJ:100,pJ:101,yJ:102,xJ:103,oJ:104,tJ:105,sJ:106,wJ:107,
rJ:109,vJ:110,nJ:111,UH:112,YH:113,ZH:114,$H:115,aI:116,bI:117,cI:118,dI:119,eI:120,VH:121,WH:122,XH:123,lJ:144,lK:145,mI:166,ZI:183,mK:186,JH:189,RH:187,GH:188,aK:190,rK:191,sH:192,uK:192,pK:222,DJ:219,vH:220,DH:221,IK:224,dJ:224,eJ:91,fJ:93,HK:229,FK:252,bK:255};h.zr=function(){this.Se=[];this.oj=this.ib=this.kq=this.fq=this.eq=this.kp=this.gq=this.Oi=this.Ju=null};b=h.zr.prototype;
b.Ma=function(a){var c=document.createElement("div");c.className="blocklyMenu goog-menu blocklyNonSelectable";c.tabIndex=0;this.oj&&h.g.$a.Yh(c,this.oj);this.ib=c;for(var d=0,e;e=this.Se[d];d++)c.appendChild(e.Va());this.gq=h.P.Aa(c,"mouseover",this,this.YE,!0);this.kp=h.P.Aa(c,"click",this,this.TE,!0);this.eq=h.P.Aa(c,"mouseenter",this,this.WE,!0);this.fq=h.P.Aa(c,"mouseleave",this,this.XE,!0);this.kq=h.P.Aa(c,"keydown",this,this.UE);a.appendChild(c)};
b.focus=function(){var a=this.ib;a&&(a.focus({preventScroll:!0}),h.g.j.Db(a,"blocklyFocused"))};b.Yh=function(a){this.oj=a};b.L=function(){this.gq&&(h.P.gb(this.gq),this.gq=null);this.kp&&(h.P.gb(this.kp),this.kp=null);this.eq&&(h.P.gb(this.eq),this.eq=null);this.fq&&(h.P.gb(this.fq),this.fq=null);this.kq&&(h.P.gb(this.kq),this.kq=null);for(var a=0,c;c=this.Se[a];a++)c.L();this.ib=null};
function dc(a,c){for(var d=a.ib;c&&c!=d;){if(h.g.j.Nt(c,"blocklyMenuItem"))for(var e=0,f;f=a.Se[e];e++)if(f.ib==c)return f;c=c.parentElement}return null}b.We=function(a){var c=this.Oi;c&&(c.We(!1),this.Oi=null);a&&(a.We(!0),this.Oi=a,c=this.ib,h.g.style.DG(a.ib,c),h.g.$a.Zh(c,h.g.$a.State.IA,a.lb()))};function ec(a,c,d){c+=d;for(var e;e=a.Se[c];){if(e.isEnabled()){a.We(e);break}c+=d}}b.YE=function(a){(a=dc(this,a.target))&&(a.isEnabled()?this.Oi!=a&&this.We(a):this.We(null))};
b.TE=function(a){var c=this.Ju;this.Ju=null;c&&"number"==typeof a.clientX&&1>h.g.K.ng(c,new h.g.K(a.clientX,a.clientY))||(a=dc(this,a.target))&&a.isEnabled()&&a.bm&&a.bm(a)};b.WE=function(){this.focus()};b.XE=function(){if(this.ib){var a=this.ib;a&&(a.blur(),h.g.j.vc(a,"blocklyFocused"));this.We(null)}};
b.UE=function(a){if(this.Se.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var c=this.Oi;switch(a.keyCode){case h.g.ea.ew:case h.g.ea.PC:c&&c.isEnabled()&&c.bm&&c.bm(c);break;case h.g.ea.Ul:c=this.Se.indexOf(this.Oi);ec(this,0>c?this.Se.length:c,-1);break;case h.g.ea.xo:ec(this,this.Se.indexOf(this.Oi),1);break;case h.g.ea.xC:case h.g.ea.MB:ec(this,-1,1);break;case h.g.ea.wC:case h.g.ea.tB:ec(this,this.Se.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
b.pg=function(){var a=this.ib,c=h.g.style.pg(a);c.height=a.scrollHeight;return c};h.Ar=function(a,c){this.lg=a;this.dd=c;this.Cp=!0;this.ib=null;this.fv=!1;this.oj=null;this.Ty=this.Hs=this.Gs=!1;this.bm=null};b=h.Ar.prototype;
b.Va=function(){var a=document.createElement("div");a.id=h.g.Gl.yy();this.ib=a;a.className="blocklyMenuItem goog-menuitem "+(this.Cp?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.Hs?"blocklyMenuItemSelected goog-option-selected ":"")+(this.Ty?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.fv?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var c=document.createElement("div");c.className="blocklyMenuItemContent goog-menuitem-content";if(this.Gs){var d=document.createElement("div");
d.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";c.appendChild(d)}d=this.lg;"string"==typeof this.lg&&(d=document.createTextNode(this.lg));c.appendChild(d);a.appendChild(c);this.oj&&h.g.$a.Yh(a,this.oj);h.g.$a.Zh(a,h.g.$a.State.Xj,this.Gs&&this.Hs||!1);h.g.$a.Zh(a,h.g.$a.State.lB,!this.Cp);return a};b.L=function(){this.ib=null};b.lb=function(){return this.ib.id};b.getValue=function(){return this.dd};b.Yh=function(a){this.oj=a};
b.We=function(a){this.Ty=a;var c=this.ib;c&&this.isEnabled()&&(a?(h.g.j.Db(c,"blocklyMenuItemHighlight"),h.g.j.Db(c,"goog-menuitem-highlight")):(h.g.j.vc(c,"blocklyMenuItemHighlight"),h.g.j.vc(c,"goog-menuitem-highlight")))};b.isEnabled=function(){return this.Cp};b.Hf=function(a){this.Cp=a};function fc(a,c,d){a.bm=c.bind(d)};h.Sa={};h.Sa.up=null;h.Sa.$c=null;h.Sa.show=function(a,c,d){h.W.show(h.Sa,d,h.Sa.L);if(c.length){var e=h.Sa.$F(c,d);h.Sa.$c=e;h.Sa.bG(e,a,d);setTimeout(function(){e.focus()},1);h.Sa.up=null}else h.Sa.Ra()};h.Sa.$F=function(a,c){var d=new h.zr;d.Yh(h.g.$a.Ro.mC);for(var e=0,f;f=a[e];e++){var g=new h.Ar(f.text);g.fv=c;g.Yh(h.g.$a.Ro.nC);d.Se.push(g);g.Hf(f.enabled);f.enabled&&fc(g,function(){h.Sa.Ra();this.kb(this.scope)},f)}return d};
h.Sa.bG=function(a,c,d){var e=h.g.RE();c=new h.g.Rect(c.clientY+e.top,c.clientY+e.top,c.clientX+e.left,c.clientX+e.left);h.Sa.ZD(a);var f=a.pg();d&&(c.left+=f.width,c.right+=f.width,e.left+=f.width,e.right+=f.width);h.W.aG(e,c,f,d);a.focus()};h.Sa.ZD=function(a){a.Ma(h.W.Ta);var c=a.ib;h.g.j.Db(c,"blocklyContextMenu");h.P.Aa(c,"contextmenu",null,h.g.IF);a.focus()};h.Sa.Ra=function(){h.W.Kk(h.Sa);h.Sa.up=null};h.Sa.L=function(){h.Sa.$c&&(h.Sa.$c.L(),h.Sa.$c=null)};
h.Sa.PK=function(a,c){return function(){h.h.disable();try{var d=h.N.zk(c,a.B),e=a.Wa();e.x=a.M?e.x-h.xd:e.x+h.xd;e.y+=2*h.xd;d.moveBy(e.x,e.y)}finally{h.h.enable()}h.h.isEnabled()&&!d.Ha&&h.h.Ea(new (h.h.get(h.h.ei))(d));d.select()}};h.Sa.RK=function(a){return{text:h.o.REMOVE_COMMENT,enabled:!0,kb:function(){h.h.ma(!0);a.L(!0,!0);h.h.ma(!1)}}};h.Sa.SK=function(a){return{text:h.o.DUPLICATE_COMMENT,enabled:!0,kb:function(){h.duplicate(a)}}};
h.Sa.TL=function(a,c){if(!h.fk)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var d={enabled:!h.g.userAgent.Be};d.text=h.o.ADD_COMMENT;d.kb=function(){var e=new h.fk(a,h.o.WORKSPACE_COMMENT_DEFAULT_TEXT,h.fk.kB,h.fk.kB),f=aa(a).getBoundingClientRect();f=new h.g.K(c.clientX-f.left,c.clientY-f.top);var g=h.g.Hm(a.ob);f=h.g.K.um(f,g);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.xa&&(e.zf(),e.Ma(),e.select())};return d};h.Ka=function(){h.Ka.C=this;this.se=Object.create(null)};h.Ka.Oc={Wb:"block",jd:"workspace"};h.Ka.C=null;h.Ka.prototype.register=function(a){if(this.se[a.id])throw Error('Menu item with ID "'+a.id+'" is already registered.');this.se[a.id]=a};h.Ka.prototype.unregister=function(a){if(!this.se[a])throw Error('Menu item with ID "'+a+'" not found.');delete this.se[a]};h.Ka.prototype.getItem=function(a){return this.se[a]||null};
function gc(a,c){var d=[],e=h.Ka.C.se;Object.keys(e).forEach(function(f){f=e[f];if(a==f.Id){var g=f.Nb(c);"hidden"!=g&&(f={text:"function"==typeof f.Uc?f.Uc(c):f.Uc,enabled:"enabled"==g,kb:f.kb,scope:c,weight:f.weight},d.push(f))}});d.sort(function(f,g){return f.weight-g.weight});return d}new h.Ka;h.h.bh=function(a,c,d){h.h.bh.A.constructor.call(this,d);this.wz=a;this.uz=c};h.g.object.U(h.h.bh,h.h.Wd);h.h.bh.prototype.type=h.h.Xj;h.h.bh.prototype.va=function(){var a=h.h.bh.A.va.call(this);a.oldElementId=this.wz;a.newElementId=this.uz;return a};h.h.bh.prototype.Z=function(a){h.h.bh.A.Z.call(this,a);this.wz=a.oldElementId;this.uz=a.newElementId};h.C.register(h.C.T.Jb,h.h.Xj,h.h.bh);h.CI=function(){};h.HI=function(){};h.Pb=function(a,c){h.Pb.A.constructor.call(this,a,c);this.qf=a.B.sp[c];this.Rx=a.B.sp[h.Uj[c]];this.gj=new h.g.K(0,0);this.Ig=h.Pb.hf.jx;this.ua=null};h.g.object.U(h.Pb,h.Ba);h.Pb.hf={jx:-1,gx:0,dk:1};b=h.Pb.prototype;b.L=function(){h.Pb.A.L.call(this);this.Ig==h.Pb.hf.dk&&hc(this.qf,this,this.y)};b.ba=function(){return h.Pb.A.ba.call(this)};b.sa=function(){return h.Pb.A.sa.call(this)};function Qa(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)}
function ic(a,c){if(!a.J.B.rc()){var d=a.J.Pe();if(!d.tc){var e=!1;if(!d.Gc()){d=c.ba().Pe();if(!d.Gc())return;c=a;e=!0}var f=h.selected==d;f||d.$o();var g=c.x+h.xd+Math.floor(Math.random()*h.Xq)-a.x,k=c.y+h.xd+Math.floor(Math.random()*h.Xq)-a.y;e&&(k=-k);d.M&&(g=c.x-h.xd-Math.floor(Math.random()*h.Xq)-a.x);d.moveBy(g,k);f||d.vn()}}}
b.moveTo=function(a,c){if(this.Ig==h.Pb.hf.jx){var d=this.qf;d.Mb.splice(jc(d,c),0,this);this.Ig=h.Pb.hf.dk}else this.Ig==h.Pb.hf.dk&&(hc(this.qf,this,this.y),d=this.qf,d.Mb.splice(jc(d,c),0,this));this.x=a;this.y=c};b.moveBy=function(a,c){this.moveTo(this.x+a,this.y+c)};function kc(a,c){a.moveTo(c.x+a.gj.x,c.y+a.gj.y)}function L(a,c,d){a.gj.x=c;a.gj.y=d}
function lc(a){var c=a.ua.x-a.x,d=a.ua.y-a.y;if(0!=c||0!=d){a=a.sa();var e=a.ta();if(!e)throw Error("block is not rendered.");e=h.g.ke(e);a.ta().setAttribute("transform","translate("+(e.x-c)+","+(e.y-d)+")");mb(a,-c,-d)}}
b.closest=function(a,c){var d=this.Rx;if(d.Mb.length){var e=this.y,f=this.x;this.x=f+c.x;this.y=e+c.y;var g=jc(d,this.y);c=null;for(var k=a,l,m=g-1;0<=m&&Math.abs(d.Mb[m].y-this.y)<=a;)l=d.Mb[m],A(d.Lx,this,l,!0,k)&&(c=l,k=Qa(l,this)),m--;for(;g<d.Mb.length&&Math.abs(d.Mb[g].y-this.y)<=a;)l=d.Mb[g],A(d.Lx,this,l,!0,k)&&(c=l,k=Qa(l,this)),g++;this.x=f;this.y=e;a={connection:c,vq:k}}else a={connection:null,vq:a};return a};
function Vb(a,c){c&&a.Ig==h.Pb.hf.dk||!c&&a.Ig==h.Pb.hf.gx||a.J.tc||(c?(c=a.qf,c.Mb.splice(jc(c,a.y),0,a),a.Ig=h.Pb.hf.dk):(a.Ig==h.Pb.hf.dk&&hc(a.qf,a,a.y),a.Ig=h.Pb.hf.gx))}function Ub(a){Vb(a,!0);var c=[];if(a.type!=h.ka.lc&&a.type!=h.ka.mc)return c;if(a=a.sa()){if(a.isCollapsed()){var d=[];a.R&&d.push(a.R);a.$&&d.push(a.$);a.la&&d.push(a.la)}else d=a.Ne(!0);for(var e=0;e<d.length;e++)c.push.apply(c,Ub(d[e]));c.length||(c[0]=a)}return c}
b.Du=function(a){var c=this.ba();if(h.h.Qa){var d=h.h.Tb();setTimeout(function(){c.fe||c.getParent()||(h.h.ma(d),ic(this,a),h.h.ma(!1))}.bind(this),h.no)}};b.Ys=function(a,c){h.Pb.A.Ys.call(this,a,c);a.xa&&a.Ma();c.xa&&(na(c),c.Ma(),c.ta().style.display="block")};b.wn=function(){h.Pb.A.wn.call(this);var a=this.sa();a&&(a.zf(),a.Ma(!1),a=this.ba(),a.xa&&a.Ma())};b.sz=function(a){return mc(this.Rx,this,a)};
b.qp=function(a){h.Pb.A.qp.call(this,a);var c=this.ba();a=a.ba();var d=c.xa,e=a.xa;d&&na(c);e&&na(a);d&&e&&(this.type==h.ka.mc||this.type==h.ka.Vd?a.Ma():c.Ma());if(c=sa(c,a))c=c.isVisible(),a.ta().style.display=c?"block":"none"};b.Dz=function(){!this.isConnected()||this.ua&&A(this.J.B.kg,this,this.ua,!1)||(z(Na(this)?this.sa():this.J),this.J.hc())};h.ii=function(){h.ii.A.constructor.call(this)};h.g.object.U(h.ii,h.Og);h.ii.xG="basicCursor";b=h.ii.prototype;b.next=function(){var a=this.Bd;if(!a)return null;(a=nc(this,a,this.Hv))&&Kb(this,a);return a};b.Ch=function(){return this.next()};b.Bg=function(){var a=this.Bd;if(!a)return null;(a=oc(this,a,this.Hv))&&Kb(this,a);return a};b.Ph=function(){return this.Bg()};
function nc(a,c,d){if(!c)return null;var e=c.Ch()||c.next();if(d(e))return e;if(e)return nc(a,e,d);c=pc(a,c.Ph());return d(c)?c:c?nc(a,c,d):null}function oc(a,c,d){if(!c)return null;var e=c.Bg();e=e?qc(a,e):c.Ph();return d(e)?e:e?oc(a,e,d):null}b.Hv=function(a){var c=!1;a=a&&a.getType();if(a==h.H.types.ui||a==h.H.types.Rd||a==h.H.types.Bc||a==h.H.types.Yg||a==h.H.types.$g||a==h.H.types.jd)c=!0;return c};function pc(a,c){if(!c)return null;var d=c.next();return d?d:pc(a,c.Ph())}
function qc(a,c){if(!c.Ch())return c;for(c=c.Ch();c.next();)c=c.next();return qc(a,c)}h.C.register(h.C.T.Ij,h.ii.xG,h.ii);h.Xo=function(){h.Xo.A.constructor.call(this)};h.g.object.U(h.Xo,h.ii);h.Xo.prototype.Hv=function(a){var c=!1,d=a&&a.getType();a&&(a=a.Fa,d==h.H.types.Bc&&a&&a.ez()&&E(a)&&(c=!0));return c};h.fb=function(a,c,d){this.S=h.g.j.O(h.g.G.Cc,{},null);this.S.Tn="";this.style=rc(a.vb.aa(),null);this.Ab=a.vb.lz(this.S,this.style);this.bv=this.xa=!1;this.B=a;this.la=this.$=this.R=null;this.Yn=h.g.Ui()&&!!a.yd;var e=this.Ab.Hb;e.we=this;h.I.jk(e);h.fb.A.constructor.call(this,a,c,d);this.S.dataset?this.S.dataset.id=this.id:h.g.userAgent.Be&&this.S.setAttribute("data-id",this.id)};h.g.object.U(h.fb,h.Gj);h.fb.prototype.height=0;h.fb.prototype.width=0;h.fb.prototype.Rq=null;h.fb.QI=-1;h.fb.FH="TEMP_COLLAPSED_WARNING_";
b=h.fb.prototype;b.zf=function(){if(!this.B.xa)throw TypeError("Workspace is headless.");for(var a=0,c;c=this.V[a];a++)c.Ca();c=H(this);for(a=0;a<c.length;a++)sc(c[a]);this.Sb();G(this.Ab,"blocklyDraggable",this.Gc());a=this.ta();this.B.options.readOnly||this.pE||!a||h.P.Aa(a,"mousedown",this,this.Mh);this.pE=!0;a.parentNode||this.B.ob.appendChild(a)};
b.select=function(){if(this.Ha&&this.getParent())this.getParent().select();else if(h.selected!=this){var a=null;if(h.selected){a=h.selected.id;h.h.disable();try{zb(h.selected)}finally{h.h.enable()}}a=new (h.h.get(h.h.Xj))(a,this.id,this.B.id);h.h.Ea(a);h.selected=this;this.$o()}};function zb(a){if(h.selected==a){var c=new (h.h.get(h.h.Xj))(a.id,null,a.B.id);c.dc=a.B.id;h.h.Ea(c);h.selected=null;a.vn()}}b.od=null;b.Ci=null;b.ae=null;b.AA=null;
function H(a){var c=[];a.od&&c.push(a.od);a.ae&&c.push(a.ae);a.AA&&c.push(a.AA);return c}b.Fq=function(a){var c=this.Ef;if(a!=c){h.g.j.Jn();h.fb.A.Fq.call(this,a);h.g.j.Kn();var d=this.ta();if(!this.B.Yt&&d){var e=this.Wa();a?(a.ta().appendChild(d),a=this.Wa(),mb(this,a.x-e.x,a.y-e.y)):c&&(this.B.ob.appendChild(d),this.translate(e.x,e.y));this.Sb()}}};
b.Wa=function(){var a=0,c=0,d=this.Yn?this.B.yd.Tb():null,e=this.ta();if(e){do{var f=h.g.ke(e);a+=f.x;c+=f.y;this.Yn&&this.B.yd.rf.firstChild==e&&(f=this.B.yd.It(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.B.ob&&e!=d)}return new h.g.K(a,c)};b.moveBy=function(a,c){if(this.Ef)throw Error("Block has parent.");var d=h.h.isEnabled();if(d)var e=new (h.h.get(h.h.gi))(this);var f=this.Wa();this.translate(f.x+a,f.y+c);mb(this,a,c);d&&(e.kj(),h.h.Ea(e));oa(this.B)};
b.translate=function(a,c){this.ta().setAttribute("transform","translate("+a+","+c+")")};b.moveTo=function(a){var c=this.Wa();this.moveBy(a.x-c.x,a.y-c.y)};b.tu=function(a){this.Yn?this.B.yd.wj(a.x,a.y):(this.S.Tn="translate("+a.x+","+a.y+")",this.S.setAttribute("transform",this.S.Tn+this.S.Hn))};
function tc(a){if(a.B&&!a.B.rc()&&!a.getParent()&&!a.tc){var c=a.B.le;if(c&&c.LG){var d=c.vv,e=d/2,f=a.Wa();c=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;c=Math.round(c);d=Math.round(d);0==c&&0==d||a.moveBy(c,d)}}}b.Em=function(){var a=this.Wa(),c=F(this);if(this.M){var d=a.x-c.width;var e=a.x}else d=a.x,e=a.x+c.width;return new h.g.Rect(a.y,a.y+c.height,d,e)};b.Wm=function(){this.Ab.tb=this.B.vb.aa();for(var a=0,c;c=this.V[a];a++)c.Wm()};
b.pj=function(a){this.Bi!=a&&(h.fb.A.pj.call(this,a),a?this.xa&&this.Ma():uc(this))};function uc(a){for(var c=a.isCollapsed(),d=h.tb.so,e=h.tb.qo,f=0,g;g=a.V[f];f++)g.name!=d&&g.Bb(!c);if(c){g=H(a);for(f=0;c=g[f];f++)c.Bb(!1);f=a.toString(h.VA);(g=qa(a,e))?g.setValue(f):(g=y(a,d)||a.Fe(h.Ga.Nd,d||""),K(g,new h.Pd(f),e))}else na(a),a.lj(d)}
b.Mh=function(a){var c=this.B&&this.B.uh(a);if(c){if(c.Mi)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");Ib(c,this);c.ne=a}};b.showHelp=function(){var a="function"==typeof this.sg?this.sg():this.sg;a&&window.open(a)};b.Fn=function(a){if(this.B.options.readOnly||!this.contextMenu)var c=null;else c=gc(h.Ka.Oc.Wb,{block:this}),this.aE&&this.aE(c);c&&c.length&&(h.Sa.show(a,c,this.M),h.Sa.up=this)};
function mb(a,c,d){if(a.xa){for(var e=a.Ne(!1),f=0;f<e.length;f++)e[f].moveBy(c,d);e=H(a);for(f=0;f<e.length;f++)vc(e[f]);for(f=0;f<a.gg.length;f++)mb(a.gg[f],c,d)}}b.Wh=function(a){if(a){var c=this.ta();c.Tn="";c.Hn="";h.Bk=h.Bk.concat(this.Ne(!0));h.g.j.Db(this.S,"blocklyDragging")}else h.Bk=[],h.g.j.vc(this.S,"blocklyDragging");for(c=0;c<this.gg.length;c++)this.gg[c].Wh(a)};b.Cq=function(a){h.fb.A.Cq.call(this,a);G(this.Ab,"blocklyDraggable",a)};
b.kv=function(a){h.fb.A.kv.call(this,a);a=H(this);for(var c=0;c<a.length;c++)a[c].yj()};b.nv=function(a){h.fb.A.nv.call(this,a);this.Sb()};b.aA=function(a){this.Rk!=a&&(this.Rk=a)&&(this.Jd(this.B.vb.aa().qr),G(this.Ab,"blocklyInsertionMarker",!0))};b.ta=function(){return this.S};
b.L=function(a,c){if(this.B){h.I.L();h.I.Ev(this.Ab.Hb);h.g.j.Jn();var d=this.B;h.selected==this&&(zb(this),wc(this.B));h.Sa.up==this&&h.Sa.Ra();c&&this.xa&&(z(this,a),h.hb.jE(this));this.xa=!1;if(this.Rq){for(var e in this.Rq)clearTimeout(this.Rq[e]);this.Rq=null}c=H(this);for(e=0;e<c.length;e++)c[e].L();h.fb.A.L.call(this,!!a);h.g.j.removeNode(this.S);oa(d);this.S=null;h.g.j.Kn()}};
b.Sb=function(){this.Ab.Sb(this);for(var a=H(this),c=0;c<a.length;c++)a[c].Sb();for(a=0;c=this.V[a];a++)for(var d=0,e;e=c.bb[d];d++)e.Sb()};function na(a){var c=ka(a,!1);a.Sb();if(!a.isCollapsed()){a=0;for(var d;d=c[a];a++)d.xa&&na(d)}}b.EE=function(){return this.ae};
b.dl=function(a){if(!h.Comment)throw Error("Missing require for Blockly.Comment");this.Ie.text!=a&&(h.fb.A.dl.call(this,a),a=null!=a,!!this.ae==a?this.ae.SL():(a?this.Ci=this.ae=new h.Comment(this):(this.ae.L(),this.Ci=this.ae=null),this.xa&&(this.Ma(),this.hc())))};b.bA=function(a){this.od&&this.od!==a&&this.od.L();a&&(a.X=this,this.od=a,sc(a));this.xa&&(this.Ma(),this.hc())};b.Hf=function(a){this.isEnabled()!=a&&(h.fb.A.Hf.call(this,a),this.xa&&!Xb(this)&&na(this))};b.We=function(a){this.xa&&this.Ab.sA(a)};
b.$o=function(){G(this.Ab,"blocklySelected",!0)};b.vn=function(){G(this.Ab,"blocklySelected",!1)};b.jv=function(a){G(this.Ab,"blocklyDraggingDelete",a)};b.Bt=function(){return this.style.hg};b.Jd=function(a){h.fb.A.Jd.call(this,a);a=xc(this.B.vb.aa(),this.$d);this.Ab.Fg(a.style);this.style=a.style;this.sj=a.name;this.Sb()};b.Fg=function(a){var c=rc(this.B.vb.aa(),a);this.sj=a;if(c)this.xf=c.xf,this.Ab.Fg(c),this.$d=c.hg,this.style=c,this.Sb();else throw Error("Invalid style name: "+a);};
function jb(a){do{var c=a.ta(),d=c.parentNode,e=d.childNodes;e[e.length-1]!==c&&d.appendChild(c);a=a.getParent()}while(a)}b.Cn=function(a,c){h.fb.A.Cn.call(this,a,c);this.xa&&(this.Ma(),this.hc())};b.Dq=function(a,c){h.fb.A.Dq.call(this,a,c);this.xa&&(this.Ma(),this.hc())};b.Bn=function(a,c){h.fb.A.Bn.call(this,a,c);this.xa&&(this.Ma(),this.hc())};b.Eg=function(a){h.fb.A.Eg.call(this,a);this.xa&&(this.Ma(),this.hc())};b.lj=function(a,c){a=h.fb.A.lj.call(this,a,c);this.xa&&(this.Ma(),this.hc());return a};
b.Fe=function(a,c){a=h.fb.A.Fe.call(this,a,c);this.xa&&(this.Ma(),this.hc());return a};function ma(a,c){a.la&&Vb(a.la,c);a.R&&Vb(a.R,c);if(a.$){Vb(a.$,c);var d=a.$.sa();d&&ma(d,c)}if(!a.Bi)for(d=0;d<a.V.length;d++){var e=a.V[d].connection;e&&(Vb(e,c),(e=e.sa())&&ma(e,c))}}b.Ne=function(a){var c=[];if(a||this.xa)if(this.R&&c.push(this.R),this.la&&c.push(this.la),this.$&&c.push(this.$),a||!this.Bi){a=0;for(var d;d=this.V[a];a++)d.connection&&c.push(d.connection)}return c};
b.Vp=function(a){return h.fb.A.Vp.call(this,a)};b.Et=function(a,c){return h.fb.A.Et.call(this,a,c)};b.Vm=function(a){return new h.Pb(this,a)};b.hc=function(){if(this.B&&!this.B.rc()){var a=this.Pe();if(!a.tc)for(var c=this.Ne(!1),d=0,e;e=c[d];d++){e.isConnected()&&Na(e)&&e.sa().hc();for(var f=e.sz(h.xd),g=0,k;k=f[g];g++)e.isConnected()&&k.isConnected()||k.ba().Pe()!=a&&(Na(e)?ic(k,e):ic(e,k))}}};
function nb(a){var c=h.h.Tb();setTimeout(function(){h.h.ma(c);tc(a);h.h.ma(!1)},h.no/2);setTimeout(function(){h.h.ma(c);a.hc();h.h.ma(!1)},h.no)}b.getParent=function(){return h.fb.A.getParent.call(this)};b.Pe=function(){return h.fb.A.Pe.call(this)};
b.Ma=function(a){if(!this.bv){this.bv=!0;try{this.xa=!0;h.g.j.Jn();this.isCollapsed()&&uc(this);this.B.vb.Ma(this);var c=this.Wa();this.la&&kc(this.la,c);this.R&&kc(this.R,c);for(var d=0;d<this.V.length;d++){var e=this.V[d].connection;e&&(kc(e,c),e.isConnected()&&lc(e))}this.$&&(kc(this.$,c),this.$.isConnected()&&lc(this.$));if(!1!==a){var f=this.getParent();f?f.Ma(!0):oa(this.B)}h.g.j.Kn();this.Gv()}finally{this.bv=!1}}};
b.Gv=function(){this.B.Xk&&this.Ab.pm&&this.B.Dk().draw();this.B.Xk&&this.Ab.nu&&this.B.Im(h.Kl.Bw).draw()};b.Dg=function(a){this.Ab.Dg(a)};b.Xh=function(a){this.Ab.Xh(a)};function F(a){var c=a.height,d=a.width,e=t(a);e&&(e=F(e),a=a.B.vb.aa().Cr,c+=e.height-a,d=Math.max(d,e.width));return{height:c,width:d}};h.Lj=function(a){this.Mb=[];this.Lx=a};function yc(a,c,d){if(!a.Mb.length)return-1;var e=jc(a,d);if(e>=a.Mb.length)return-1;d=c.y;for(var f=e;0<=f&&a.Mb[f].y==d;){if(a.Mb[f]==c)return f;f--}for(f=e;f<a.Mb.length&&a.Mb[f].y==d;){if(a.Mb[f]==c)return f;f++}return-1}function jc(a,c){if(!a.Mb.length)return 0;for(var d=0,e=a.Mb.length;d<e;){var f=Math.floor((d+e)/2);if(a.Mb[f].y<c)d=f+1;else if(a.Mb[f].y>c)e=f;else{d=f;break}}return d}
function hc(a,c,d){c=yc(a,c,d);if(-1==c)throw Error("Unable to find connection in connectionDB.");a.Mb.splice(c,1)}function mc(a,c,d){function e(n){var p=g-f[n].x,q=k-f[n].y;Math.sqrt(p*p+q*q)<=d&&m.push(f[n]);return q<d}var f=a.Mb,g=c.x,k=c.y;a=0;for(var l=c=f.length-2;a<l;)f[l].y<k?a=l:c=l,l=Math.floor((a+c)/2);var m=[];c=a=l;if(f.length){for(;0<=a&&e(a);)a--;do c++;while(c<f.length&&e(c))}return m}
h.Lj.Ca=function(a){var c=[];c[h.ka.lc]=new h.Lj(a);c[h.ka.vd]=new h.Lj(a);c[h.ka.mc]=new h.Lj(a);c[h.ka.Vd]=new h.Lj(a);return c};h.h.fh=function(a,c){h.h.fh.A.constructor.call(this,c);this.kA=a};h.g.object.U(h.h.fh,h.h.Wd);h.h.fh.prototype.type=h.h.Wr;h.h.fh.prototype.va=function(){var a=h.h.fh.A.va.call(this);a.themeName=this.kA;return a};h.h.fh.prototype.Z=function(a){h.h.fh.A.Z.call(this,a);this.kA=a.themeName};h.C.register(h.C.T.Jb,h.h.Wr,h.h.fh);h.h.jh=function(a,c,d,e,f){h.h.jh.A.constructor.call(this,e);this.ye=a;this.xe=c;this.scale=d;this.hn=f};h.g.object.U(h.h.jh,h.h.Wd);h.h.jh.prototype.type=h.h.Wl;h.h.jh.prototype.va=function(){var a=h.h.jh.A.va.call(this);a.viewTop=this.ye;a.viewLeft=this.xe;a.scale=this.scale;a.oldScale=this.hn;return a};h.h.jh.prototype.Z=function(a){h.h.jh.A.Z.call(this,a);this.ye=a.viewTop;this.xe=a.viewLeft;this.scale=a.scale;this.hn=a.oldScale};h.C.register(h.C.T.Jb,h.h.Wl,h.h.jh);h.OI=function(){};h.Ll=function(a){this.m=a};function zc(a){var c=0,d=0;a&&(c=a.yh(),d=a.Xc);return new h.g.Pc(c,d)}function Ac(a){var c=zc(N(a.m,!0));return{width:c.width,height:c.height,position:a.m.pd}}function Bc(a){var c=zc(a.m.wb);return{width:c.width,height:c.height,position:a.m.pd}}function Cc(a){var c=0,d=Bc(a),e=Ac(a),f=!!a.m.wb;a=!!N(a.m,!0);var g=f?d.position:e.position,k=g==h.g.Y.Za.Gb;g=g==h.g.Y.Za.eh;f&&k?c=d.width:a&&k&&(c=e.width);k=0;f&&g?k=d.height:a&&g&&(k=e.height);return{top:k,left:c}}
function J(a,c){c=c?a.m.scale:1;var d=Dc(a.m),e=Bc(a),f=Ac(a),g=a.m.wb?e.position:f.position;if(a.m.wb)if(g==h.g.Y.Za.eh||g==h.g.Y.Za.Fj)d.height-=e.height;else{if(g==h.g.Y.Za.Gb||g==h.g.Y.Za.nc)d.width-=e.width}else if(N(a.m,!0))if(g==h.g.Y.Za.eh||g==h.g.Y.Za.Fj)d.height-=f.height;else if(g==h.g.Y.Za.Gb||g==h.g.Y.Za.nc)d.width-=f.width;return{height:d.height/c,width:d.width/c,top:-a.m.scrollY/c,left:-a.m.scrollX/c}}
h.Ll.prototype.Gp=function(){var a=this.m.scale,c=la(this.m);return{height:(c.bottom-c.top)*a,width:(c.right-c.left)*a,top:c.top*a,left:c.left*a}};
h.Ll.prototype.wh=function(a,c,d){a=a?this.m.scale:1;var e=c||J(this,!1);d=d||this.Gp();if(xb(this.m)&&yb(this.m))c={};else{c=xb(this.m);var f=yb(this.m),g=e||J(this,!1);var k={};f||(k.top=g.top,k.bottom=g.top+g.height);c||(k.left=g.left,k.right=g.left+g.width);c=k}k=d.top+d.height;f=d.left+d.width;g=e.width;var l=e.height;var m=g/2,n=l/2;e=Math.min(d.top-n,k-l);k=Math.max(k+n,d.top+l);l=Math.min(d.left-m,f-g);d=Math.max(f+m,d.left+g);e=void 0!==c.top?c.top:e;f=void 0!==c.left?c.left:l;return{top:e/
a,left:f/a,width:((void 0!==c.right?c.right:d)-f)/a,height:((void 0!==c.bottom?c.bottom:k)-e)/a}};h.Ll.prototype.Oe=function(){var a=Bc(this),c=Ac(this),d=Dc(this.m),e=Cc(this),f=J(this),g=this.Gp(),k=this.wh(!1,f,g);return{TK:g.height,WK:g.width,VK:g.top,UK:g.left,scrollHeight:k.height,scrollWidth:k.width,scrollTop:k.top,scrollLeft:k.left,ed:f.height,Jc:f.width,ye:f.top,xe:f.left,kd:e.top,Qc:e.left,NL:d.height,PL:d.width,RL:a.width,QL:a.height,pd:a.position,cL:c.width,bL:c.height}};
h.C.register(h.C.T.Gw,h.C.Mj,h.Ll);h.Fl=function(a,c){this.Da=c;h.Fl.A.constructor.call(this,a)};h.g.object.U(h.Fl,h.Ll);h.Fl.prototype.Gp=function(){try{var a=this.m.ob.getBBox()}catch(d){a={height:0,y:0,width:0,x:0}}var c=this.m.scale;return{height:a.height*c,width:a.width*c,top:a.y*c,left:a.x*c}};h.Fl.prototype.wh=function(a,c,d){c=d||this.Gp();d=this.Da.Rj*this.m.scale;a=a?this.m.scale:1;return{height:(c.height+2*d)/a,width:(c.width+c.left+d)/a,top:0,left:0}};h.ex=function(a,c){this.m=a;this.Hg=c;this.Ln=[];this.nf=Object.create(null)};b=h.ex.prototype;b.qg=function(){return this.Hg};b.En=function(a){var c=this.Hg;this.Hg=a;if(a=aa(this.m))c&&h.g.j.vc(a,c.Me()),h.g.j.Db(a,this.Hg.Me());for(c=0;a=this.Ln[c];c++)Ec(a);c=0;a=Object.keys(this.nf);for(var d;d=a[c];c++)for(var e=0,f;f=this.nf[d][e];e++)f.element.style[f.propertyName]=this.Hg&&va(this.Hg,d)||"";h.qc()};
b.subscribe=function(a,c,d){this.nf[c]||(this.nf[c]=[]);this.nf[c].push({element:a,propertyName:d});a.style[d]=this.Hg&&va(this.Hg,c)||""};b.unsubscribe=function(a){if(a)for(var c=Object.keys(this.nf),d=0,e;e=c[d];d++){for(var f=this.nf[e],g=f.length-1;0<=g;g--)f[g].element===a&&f.splice(g,1);this.nf[e].length||delete this.nf[e]}};b.L=function(){this.nf=this.Ln=this.Hg=this.qe=null};h.hd=function(a,c){h.hd.A.constructor.call(this,a,c);this.Rp=!1;this.zd=Object.create(null);this.gA=this.sn=0;this.bz=this.Iu=null};h.g.object.U(h.hd,h.df);h.hd.fD=5;h.hd.gD=6;b=h.hd.prototype;b.bt=function(a){this.bz=this.Rb.options.Fb&&this.Rb.options.Fb.Jz;h.hd.A.bt.call(this,a);!this.Op&&h.Touch.Up(a)&&Fc(this,a)};
b.jk=function(a){this.Iu=h.P.Aa(document,"mousedown",null,this.ZE.bind(this),!0);this.nq=h.P.Aa(document,"mousemove",null,this.Ik.bind(this),!0);this.oq=h.P.Aa(document,"mouseup",null,this.Ip.bind(this),!0);a.preventDefault();a.stopPropagation()};b.ZE=function(a){!this.rc()&&h.Touch.Up(a)&&(Fc(this,a),this.Rp&&h.Jh())};
b.Ik=function(a){if(this.rc())h.Touch.uv(a)&&h.hd.A.Ik.call(this,a);else if(this.Rp){if(h.Touch.Up(a)){this.zd[h.Touch.Hp(a)]=Gc(this,a);var c=Object.keys(this.zd);if(this.bz&&2===c.length){c=Object.keys(this.zd);c=h.g.K.ng(this.zd[c[0]],this.zd[c[1]])/this.gA;if(0<this.sn&&Infinity>this.sn){var d=c-this.sn;d=0<d?d*h.hd.fD:d*h.hd.gD;var e=this.Rb,f=h.g.fn(a,u(e),Ka(e));e.zoom(f.x,f.y,d)}this.sn=c;a.preventDefault()}else h.hd.A.Ik.call(this,a)}h.Jh()}else h.hd.A.Ik.call(this,a)};
b.Ip=function(a){if(h.Touch.Up(a)&&!this.rc()){var c=h.Touch.Hp(a);this.zd[c]&&delete this.zd[c];2>Object.keys(this.zd).length&&(this.zd=Object.create(null),this.sn=0)}!this.Rp||this.rc()?h.Touch.uv(a)&&h.hd.A.Ip.call(this,a):(a.preventDefault(),a.stopPropagation(),this.L())};b.L=function(){h.hd.A.L.call(this);this.Iu&&h.P.gb(this.Iu)};function Fc(a,c){a.zd[h.Touch.Hp(c)]=Gc(a,c);var d=Object.keys(a.zd);2==d.length&&(a.gA=h.g.K.ng(a.zd[d[0]],a.zd[d[1]]),a.Rp=!0,c.preventDefault())}
function Gc(a,c){return a.Rb?new h.g.K(c.changedTouches?c.changedTouches[0].pageX:c.pageX,c.changedTouches?c.changedTouches[0].pageY:c.pageY):null};h.lx=function(a){this.Nu=a;this.Rl=Object.create(null)};b=h.lx.prototype;b.bu=null;b.L=function(){this.Rl=this.Nu=null};b.load=function(a,c){if(a.length){try{var d=new h.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var g=a[f],k=g.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new h.g.global.Audio(g);break}}e&&e.play&&(this.Rl[c]=e)}};
b.preload=function(){for(var a in this.Rl){var c=this.Rl[a];c.volume=.01;var d=c.play();void 0!==d?d.then(c.pause).catch(function(){}):c.pause();if(h.g.userAgent.pi||h.g.userAgent.ww)break}};b.play=function(a,c){var d=this.Rl[a];d?(a=new Date,null!=this.bu&&a-this.bu<h.OC||(this.bu=a,d=h.g.userAgent.pi||h.g.userAgent.Ej?d:d.cloneNode(),d.volume=void 0===c?1:c,d.play())):this.Nu&&this.Nu.Yd.play(a,c)};
h.fc=function(a,c,d){h.fc.A.constructor.call(this,a);this.ad=new (h.C.Ji(h.C.T.Gw,a,!0))(this);this.Oe=a.Oe||this.ad.Oe.bind(this.ad);this.An=a.An||h.fc.IG;this.jg=new h.Ob;this.sp=h.Lj.Ca(this.kg);c&&(this.yd=c);d&&(this.Bj=d);this.Pq=!!this.Bj&&h.g.Ui();this.Jp=[];this.Yd=new h.lx(a.ic);this.le=this.options.Mt?new h.oi(this.options.Mt,a.Ly):null;this.Re=new h.Kl(this);this.Av=Object.create(null);this.ly=Object.create(null);h.na&&h.na.Cm&&Hc(this,h.ih,h.na.Cm);h.Ua&&h.Ua.Cm&&(Hc(this,h.Qo,h.Ua.Cm),
D(this,h.Ua.DF));this.Ac=this.options.ic?this.options.ic.Ac:new h.ex(this,this.options.XG||h.Yf.Mg);this.Ac.Ln.push(this);this.vb=h.i.Ca(this.options.zq||"geras",this.qg(),this.options.Aq);this.Cs=null;this.Xk=!1;this.Rn=[];this.dt=[];this.Bs=new h.g.Pc(0,0)};h.g.object.U(h.fc,h.xb);b=h.fc.prototype;b.Bq=null;b.xa=!0;b.xg=!0;b.Cf=!1;b.Tm=!1;b.dv=!0;b.scrollX=0;b.scrollY=0;b.by=null;b.scale=1;b.zu=1;b.Bz=0;b.yz=0;b.ll=null;b.Xa=null;b.Da=null;b.wb=null;b.Ec=null;b.yd=null;b.Bj=null;b.Pq=!1;b.Np=!1;
b.Wt=null;b.hz=null;b.Ia=null;b.$y=null;b.Xt=!0;b.Dg=function(a){this.Re.Dg(a)};b.Xh=function(a){this.Re.Xh(a)};b.Im=function(a){return this.Re?this.Re.Im(a):null};b.Dk=function(){return this.Re?this.Re.Dk():null};b.qg=function(){return this.Ac.qg()};b.En=function(a){a||(a=h.Yf.Mg);this.Ac.En(a)};function Ec(a){a.S&&a.vb.Wu(a.S,a.qg());Ic(B(a).filter(function(c){return!!c.sj}));Jc(a);a.wb&&Ec(a.wb);a.isVisible()&&a.Bb(!0);a=new (h.h.get(h.h.Wr))(a.qg().name,a.id);h.h.Ea(a)}
function Ic(a){for(var c=0,d;d=a[c];c++){var e=d.sj;if(e&&(d.Fg(e),d.od)){var f=d.od.m;if(f&&B(f)){var g=B(f);for(e=0;d=g[e];e++)d.Fg(d.sj);if(d=N(f))for(f=B(d.m),e=0;d=f[e];e++)d.Fg(d.sj)}}}}function Ka(a){if(a.Xt){var c=u(a).getScreenCTM();c&&(a.$y=c.inverse(),a.Xt=!1)}return a.$y}b.Wn=function(){this.Xt=!0};b.isVisible=function(){return this.xg};
function cb(a,c){var d=0,e=0,f=1;if(h.g.j.containsNode(a.ob,c)||h.g.j.containsNode(a.Gg,c))f=a.scale;do{var g=h.g.ke(c);if(c==a.ob||c==a.Gg)f=1;d+=g.x*f;e+=g.y*f;c=c.parentNode}while(c&&c!=u(a));return new h.g.K(d,e)}function Dc(a){a=a.Bs;return new h.g.Pc(a.width,a.height)}function aa(a){if(!a.Wt)for(var c=a.S;c;){if(-1!=(" "+(c.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.Wt=c;break}c=c.parentNode}return a.Wt}
b.Va=function(a){this.S=h.g.j.O(h.g.G.Cc,{"class":"blocklyWorkspace"},null);a&&(this.xc=h.g.j.O(h.g.G.wd,{height:"100%",width:"100%","class":a},this.S),"blocklyMainBackground"==a&&this.le?this.xc.style.fill="url(#"+this.le.Hk.id+")":this.Ac.subscribe(this.xc,"workspaceBackgroundColour","fill"));this.ob=h.g.j.O(h.g.G.Cc,{"class":"blocklyBlockCanvas"},this.S);this.Gg=h.g.j.O(h.g.G.Cc,{"class":"blocklyBubbleCanvas"},this.S);this.Cf||(h.P.Aa(this.S,"mousedown",this,this.Mh,!1,!0),h.P.Aa(this.S,"wheel",
this,this.VF));this.options.Lm&&(this.wb=new (h.C.Ji(h.C.T.WC,this.options,!0))(this));this.le&&this.le.update(this.scale);Kc(this);var c=h.C.Ji(h.C.T.Ij,this.options);c&&(a=this.Re,c=new c,a.ee&&a.ee.ie&&a.ee.ie.L(),a.ee=c,a.ee&&(c=a.ee,c=new h.i.Vg(a.m,a.m.vb.aa(),c),a.ee.ie=c,a.Dg(a.ee.ie.Va())));this.vb.Va(this.S,this.qg());return this.S};
b.L=function(){this.xa=!1;this.Ec&&this.Ec.cancel();this.S&&(h.g.j.removeNode(this.S),this.S=null);this.Gg=this.ob=null;this.wb&&(this.wb.L(),this.wb=null);this.Da&&(this.Da.L(),this.Da=null);this.ll&&(this.ll.L(),this.ll=null);this.Xa&&(this.Xa.L(),this.Xa=null);this.ho&&(this.ho.L(),this.ho=null);this.Yd&&(this.Yd.L(),this.Yd=null);this.le&&(this.le.L(),this.le=null);this.vb.L();this.Re&&(this.Re.L(),this.Re=null);h.fc.A.L.call(this);if(this.Ac){var a=this.Ac,c=a.Ln.indexOf(this);if(0>c)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.Ln.splice(c,1);this.Ac.unsubscribe(this.xc);this.options.ic||(this.Ac.L(),this.Ac=null)}this.ly=this.Av=this.sp=null;this.options.ic||(a=u(this))&&a.parentNode&&h.g.j.removeNode(a.parentNode);this.Bq&&(h.P.gb(this.Bq),this.Bq=null)};b.Zk=function(a,c){return new h.fb(this,a,c)};
function Lc(a,c){var d=new h.gd({parentWorkspace:a,rtl:a.M,oneBasedIndex:a.options.pq,renderer:a.options.zq,rendererOverrides:a.options.Aq,move:{scrollbars:!0}});d.pd=a.options.pd;a.Da=new (h.C.Ji(h.C.T.mr,a.options,!0))(d);a.Da.Ai=!1;a.Da.m.Bb(!0);return a.Da.Va(c)}function N(a,c){return a.Da||c?a.Da:a.wb?N(a.wb):null}function oa(a){a.dv&&a.xa&&(a.Xa&&a.Xa.resize(),a.Wn())}
b.resize=function(){this.wb&&this.wb.position();this.Da&&this.Da.position();var a=ha(this.jg,h.Ob.Xb.Rw);var c=this.ad;c={zA:J(c),Zo:Cc(c),pA:Bc(c)};for(var d=[],e=0,f;f=a[e];e++)f.position(c,d),(f=f.Em())&&d.push(f);this.Xa&&this.Xa.resize();this.Wn();Kc(this)};function Cb(a){var c=h.g.JE();h.g.K.tf(a.hz,c)||(a.hz=c,a.Wn(),Kc(a))}function Mc(a,c,d){var e=u(a);c&&(a.Bs.width=c,e.BD=c);d&&(a.Bs.height=d,e.AD=d)}
function u(a){if(!a.Cs)for(var c=a.S;c;){if("svg"==c.tagName){a.Cs=c;break}c=c.parentNode}return a.Cs}function wa(a){if(h.h.isEnabled()){var c=a.scale,d=-a.scrollY,e=-a.scrollX;if(!(c==a.zu&&1>Math.abs(d-a.Bz)&&1>Math.abs(e-a.yz))){var f=new (h.h.get(h.h.Wl))(d,e,c,a.id,a.zu);a.zu=c;a.Bz=d;a.yz=e;h.h.Ea(f)}}}
b.translate=function(a,c){if(this.Pq&&this.Np)this.Bj.wj(a,c);else{var d="translate("+a+","+c+") scale("+this.scale+")";this.ob.setAttribute("transform",d);this.Gg.setAttribute("transform",d)}if(this.yd){d=this.yd;var e=this.scale;d.Vh=e;var f=a.toFixed(0),g=c.toFixed(0);d.Fx.x=parseInt(f,10);d.Fx.y=parseInt(g,10);d.rf.setAttribute("transform","translate("+f+","+g+") scale("+e+")")}this.le&&this.le.moveTo(a,c);wa(this)};
function Ma(a){if(a.Pq){a.Np=!1;var c=a.Bj.It();a.Bj.ip(a.S);c="translate("+c.x+","+c.y+") scale("+a.scale+")";a.ob.setAttribute("transform",c);a.Gg.setAttribute("transform",c)}}
function La(a){if(a.Pq&&!a.Np){a.Np=!0;var c=a.ob.previousSibling,d=parseInt(u(a).getAttribute("width"),10),e=parseInt(u(a).getAttribute("height"),10),f=h.g.ke(a.ob),g=a.Bj,k=a.ob,l=a.Gg,m=a.scale;if(g.jb.childNodes.length)throw Error("Already dragging a block.");g.Tu=c;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");g.jb.setAttribute("width",d);g.jb.setAttribute("height",e);g.jb.appendChild(k);g.jb.appendChild(l);g.jb.style.display=
"block";a.Bj.wj(f.x,f.y)}}b.yh=function(){var a=this.Oe();return a?a.Jc/this.scale:0};b.Bb=function(a){this.xg=a;if(this.S)if(this.Xa&&this.Xa.qj(a),N(this)&&N(this).qj(a),u(this).style.display=a?"block":"none",this.wb&&this.wb.Bb(a),a){a=B(this);for(var c=a.length-1;0<=c;c--)a[c].Wm();this.Ma();this.wb&&this.wb.position()}else h.qc(!0)};b.Ma=function(){for(var a=B(this),c=a.length-1;0<=c;c--)a[c].Ma(!1);if(this.Ec)for(a=this.Ec.Ek(),c=0;c<a.length;c++)a[c].Ma(!1);c=this.Re;c.m.Xk&&c.mg&&c.m.Dk().draw()};
function Nc(a){for(var c=x,d=0,e;e=c.Jp[d];d++)e.We(!1);c.Jp.length=0;if(e=a?c.Wc(a):null)-1==c.Jp.indexOf(e)&&c.Jp.push(e),e.We(!0)}
b.tq=function(a){if(this.xa&&a.tagName&&!(a.getElementsByTagName("block").length>=(isNaN(this.options.Zm)?Infinity:this.options.Zm-B(this).length)))if(this.Ec&&this.Ec.cancel(),"comment"==a.tagName.toLowerCase()){h.h.disable();try{var c=h.fk.Ck(a),d=parseInt(a.getAttribute("x"),10),e=parseInt(a.getAttribute("y"),10);isNaN(d)||isNaN(e)||(this.M&&(d=-d),c.moveBy(d+50,e+50))}finally{h.h.enable()}h.h.isEnabled()&&h.mx.aL(c);c.select()}else{h.h.disable();try{var f=h.N.zk(a,this),g=parseInt(a.getAttribute("x"),
10),k=parseInt(a.getAttribute("y"),10);if(!isNaN(g)&&!isNaN(k)){this.M&&(g=-g);do{a=!1;var l=B(this);c=0;for(var m;m=l[c];c++){var n=m.Wa();if(1>=Math.abs(g-n.x)&&1>=Math.abs(k-n.y)){a=!0;break}}if(!a){var p=f.Ne(!1);c=0;for(var q;q=p[c];c++)if(q.closest(h.xd,new h.g.K(g,k)).connection){a=!0;break}}a&&(g=this.M?g-h.xd:g+h.xd,k+=2*h.xd)}while(a);f.moveBy(g,k)}}finally{h.h.enable()}h.h.isEnabled()&&!f.Ha&&h.h.Ea(new (h.h.get(h.h.ei))(f));f.select()}};
function Jc(a){(a=a.Cf?a.Ia:a)&&!a.Ec&&a.wb&&N(a.wb)&&a.wb.AL()}b.mj=function(a,c){h.fc.A.mj.call(this,a,c);Jc(this)};b.Fi=function(a){h.fc.A.Fi.call(this,a);Jc(this)};b.Je=function(a,c,d){a=h.fc.A.Je.call(this,a,c,d);Jc(this);return a};function Kc(a){var c=ha(a.jg,h.Ob.Xb.ir);a.dt=[];for(var d=0,e;e=c[d];d++){var f=e.sy();f&&a.dt.push({hm:e,LD:f})}}function lb(a,c){for(var d=0,e;e=a.dt[d];d++)if(e.LD.contains(c.clientX,c.clientY))return e.hm;return null}
b.Mh=function(a){var c=this.uh(a);c&&Gb(c,a,this)};b.In=function(a,c){a=h.g.fn(a,u(this),Ka(this));a.x/=this.scale;a.y/=this.scale;this.by=h.g.K.um(c,a)};b.rc=function(){return null!=this.Ec&&this.Ec.rc()};b.Gc=function(){return this.options.Ic&&!!this.options.Ic.scrollbars||this.options.Ic&&this.options.Ic.ol||this.options.Ic&&this.options.Ic.og||this.options.Fb&&this.options.Fb.ol||this.options.Fb&&this.options.Fb.Jz};function xb(a){var c=!!a.Xa;return a.Gc()&&(!c||c&&!!a.Xa.mb)}
function yb(a){var c=!!a.Xa;return a.Gc()&&(!c||c&&!!a.Xa.Ya)}b.VF=function(a){if(h.df.Ri())a.preventDefault(),a.stopPropagation();else{var c=this.options.Fb&&this.options.Fb.ol,d=this.options.Ic&&this.options.Ic.ol;if(c||d){var e=h.g.Ey(a);!c||!a.ctrlKey&&d?(c=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(c=this.scrollX-e.y,d=this.scrollY),this.scroll(c,d)):(e=-e.y/50,c=h.g.fn(a,u(this),Ka(this)),this.zoom(c.x,c.y,e));a.preventDefault()}}};
function la(a){a=[].concat(a.Rn);if(!a.length)return new h.g.Rect(0,0,0,0);for(var c=a[0].Em(),d=1;d<a.length;d++){var e=a[d];e.nd&&e.nd()||(e=e.Em(),e.top<c.top&&(c.top=e.top),e.bottom>c.bottom&&(c.bottom=e.bottom),e.left<c.left&&(c.left=e.left),e.right>c.right&&(c.right=e.right))}return c}b.Fn=function(a){if(!this.options.readOnly&&!this.Cf){var c=gc(h.Ka.Oc.jd,{B:this});this.QD&&this.QD(c,a);h.Sa.show(a,c,this.M)}};
function ja(a){if(a.options.ic)ja(a.options.ic);else{h.Um=a;document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{u(a).focus({preventScroll:!0})}catch(c){try{u(a).parentNode.setActive()}catch(d){u(a).parentNode.focus({preventScroll:!0})}}}}
b.zoom=function(a,c,d){d=Math.pow(this.options.Fb.CG,d);var e=this.scale*d;if(this.scale!=e){e>this.options.Fb.$m?d=this.options.Fb.$m/this.scale:e<this.options.Fb.cn&&(d=this.options.Fb.cn/this.scale);var f=this.ob.getCTM(),g=u(this).createSVGPoint();g.x=a;g.y=c;g=g.matrixTransform(f.inverse());a=g.x;c=g.y;f=f.translate(a*(1-d),c*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
b.setScale=function(a){this.options.Fb.$m&&a>this.options.Fb.$m?a=this.options.Fb.$m:this.options.Fb.cn&&a<this.options.Fb.cn&&(a=this.options.Fb.cn);this.scale=a;h.qc(!1);this.Da&&(this.Da.Vu(),Kc(this));this.le&&this.le.update(this.scale);a=this.Oe();this.scrollX-=a.Qc;this.scrollY-=a.kd;a.xe+=a.Qc;a.ye+=a.kd;this.scroll(this.scrollX,this.scrollY);if(this.Xa)if(this.Da){var c=this.Xa;c.mb&&Fa(c.mb,a);c.Ya&&Ha(c.Ya,a)}else c=this.Xa,c.mb&&Ga(c.mb,a),c.Ya&&Ia(c.Ya,a)};
function Oc(a){return a.options.ic?Oc(a.options.ic):a.scale}b.scroll=function(a,c){h.qc(!0);var d=this.Oe();a=Math.min(a,-d.scrollLeft);c=Math.min(c,-d.scrollTop);var e=d.scrollTop+Math.max(0,d.scrollHeight-d.ed);a=Math.max(a,-(d.scrollLeft+Math.max(0,d.scrollWidth-d.Jc)));c=Math.max(c,-e);this.scrollX=a;this.scrollY=c;this.Xa&&this.Xa.set(-(a+d.scrollLeft),-(c+d.scrollTop),!1);a+=d.Qc;c+=d.kd;this.translate(a,c)};
h.fc.IG=function(a){var c=this.Oe();"number"==typeof a.x&&(this.scrollX=-(c.scrollLeft+(c.scrollWidth-c.Jc)*a.x));"number"==typeof a.y&&(this.scrollY=-(c.scrollTop+(c.scrollHeight-c.ed)*a.y));this.translate(this.scrollX+c.Qc,this.scrollY+c.kd)};b=h.fc.prototype;b.Wc=function(a){return h.fc.A.Wc.call(this,a)};b.Eb=function(a){return h.fc.A.Eb.call(this,a)};b.ap=function(a){this.Rn.push(a);h.fc.A.ap.call(this,a)};b.yq=function(a){h.g.bp(this.Rn,a);h.fc.A.yq.call(this,a)};
b.jc=function(a){var c=!this.dv&&a;this.dv=a;c&&oa(this)};b.clear=function(){this.jc(!1);h.fc.A.clear.call(this);this.Rn=[];this.jc(!0)};function Pc(a,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.ly.CREATE_VARIABLE=c}function Hc(a,c,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.Av[c]=d}
b.uh=function(a){var c="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.Ec;return d?c&&d.Mi?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:c?this.Ec=new h.hd(a,this):null};function wc(a){a.Ec&&a.Ec.cancel()};h.Ti=function(a,c){h.ED();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!a||!h.g.j.containsNode(document,a))throw Error("Error: container is not in current document.");c=new h.gd(c||{});var d=document.createElement("div");d.className="injectionDiv";d.tabIndex=0;h.g.$a.Zh(d,h.g.$a.State.$B,h.o.WORKSPACE_ARIA_LABEL);a.appendChild(d);a=h.nm(d,c);var e=new h.Uv(d),f=new h.nx(d),g=h.XD(a,c,e,f);h.gF(g);h.Um=g;h.Pn(g);d.addEventListener("focusin",function(){h.Um=g});return g};
h.nm=function(a,c){a.setAttribute("dir","LTR");h.Md.Ti(c.$E,c.nn);a=h.g.j.O(h.g.G.ah,{xmlns:h.g.j.Sl,"xmlns:html":h.g.j.Fo,"xmlns:xlink":h.g.j.Ee,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var d=h.g.j.O(h.g.G.aw,{},a);c.Mt=h.oi.Va(String(Math.random()).substring(2),c.Ly,d);return a};
h.XD=function(a,c,d,e){c.ic=null;c=new h.fc(c,d,e);d=c.options;c.scale=d.Fb.QG;a.appendChild(c.Va("blocklyMainBackground"));h.g.j.Db(aa(c),c.vb.Me());h.g.j.Db(aa(c),c.qg().Me());!d.Lm&&d.yg&&(e=Lc(c,h.g.G.ah),h.g.j.Mk(e,a));if(d.Py){if(!h.ac)throw Error("Missing require for Blockly.Trashcan");c.ll=new h.ac(c);e=c.ll.Va();c.S.insertBefore(e,c.ob)}if(d.Fb&&d.Fb.controls){if(!h.hD)throw Error("Missing require for Blockly.ZoomControls");c.ho=new h.hD(c);d=c.ho.Va();c.S.appendChild(d)}c.Ac.subscribe(a,
"workspaceBackgroundColour","background-color");c.translate(0,0);D(c,h.yD(c));h.Pn(c);h.W.Va();h.F.Va();h.I.Va();return c};h.rE=function(a,c){var d=null;switch(c.type){case h.h.ei:case h.h.gi:(d=a.Wc(c.ab))&&(d=d.Pe());break;case h.h.to:case h.h.yl:d=a.pp[c.mf]||null}return d};h.Ax=function(a){var c=a.ad;if(!(xb(c.m)&&yb(c.m)||a.rc())){c=c.wh(!0);for(var d=[].concat(a.Rn),e=0,f;f=d[e];e++)h.zs(a,c,f)}};
h.yD=function(a){return function(c){var d=a.ad;if(!(xb(d.m)&&yb(d.m)||a.rc()))if(-1!==h.h.TA.indexOf(c.type)){d=d.wh(!0);var e=h.rE(a,c);if(e){var f=h.h.Tb();h.h.ma(c.group);h.zs(a,d,e)&&!c.group&&console.warn("Moved object in bounds but there was no event group. This may break undo.");null!==f&&h.h.ma(f)}}else c.type===h.h.Wl&&c.scale>c.hn&&h.Ax(a)}};
h.zs=function(a,c,d){var e=d.Em(),f=h.g.bc.fm(c.top,e.top,c.top+c.height-(e.bottom-e.top))-e.top,g=c.left;c=c.left+c.width-(e.right-e.left);a.M?g=Math.min(c,g):c=Math.max(g,c);return(a=h.g.bc.fm(g,e.left,c)-e.left)||f?(d.moveBy(a,f),!0):!1};
h.gF=function(a){var c=a.options,d=u(a);h.P.Aa(d.parentNode,"contextmenu",null,function(f){h.g.Sp(f)||f.preventDefault()});d=h.P.Aa(window,"resize",null,function(){h.qc(!0);h.Pn(a);h.Ax(a)});a.Bq=d;h.Ti.sD();if(c.yg){d=a.wb;var e=N(a,!0);d?d.Ca():e&&(e.Ca(a),e.show(c.yg),"function"==typeof e.Zz&&e.Zz())}c.Py&&a.ll.Ca();c.Fb&&c.Fb.controls&&a.ho.Ca();c.Ic&&c.Ic.scrollbars?(a.Xa=new h.Ur(a,!0===c.Ic.scrollbars||!!c.Ic.scrollbars.Nm,!0===c.Ic.scrollbars||!!c.Ic.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),
a.Xa.resize()):a.An({x:.5,y:.5});c.bF&&h.Ti.rF(c.nn,a)};h.Ti.sD=function(){h.kE||(h.P.Aa(document,"scroll",null,function(){for(var a=h.xb.getAll(),c=0,d;d=a[c];c++)d.Wn&&d.Wn()}),h.P.Aa(document,"keydown",null,h.Fu),h.P.bind(document,"touchend",null,h.Jh),h.P.bind(document,"touchcancel",null,h.Jh),h.g.userAgent.pi&&h.P.Aa(window,"orientationchange",document,function(){h.Pn(h.vh())}));h.kE=!0};
h.Ti.rF=function(a,c){function d(){for(;f.length;)h.P.gb(f.pop());e.preload()}var e=c.Yd;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(h.P.Aa(document,"mousemove",null,d,!0));f.push(h.P.Aa(document,"touchstart",null,d,!0))};h.Td=function(a,c){this.xA=c||"";this.Wz=Object.create(null);if(a)for(a=a.split(","),c=0;c<a.length;c++)this.Wz[a[c]]=!0;this.reset()};h.Td.gr="DEVELOPER_VARIABLE";h.Td.prototype.reset=function(){this.qf=Object.create(null);this.Sx=Object.create(null);this.Ja=null};h.Td.prototype.pv=function(a){this.Ja=a};
function Qc(a,c,d){var e=c;d==h.ih&&(a.Ja?c=(c=a.Ja.rg(c))?c.name:null:(console.warn("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),c=null),c&&(e=c));c=e.toLowerCase();var f=d==h.ih||d==h.Td.gr?a.xA:"";d in a.qf||(a.qf[d]=Object.create(null));var g=a.qf[d];if(c in g)return f+g[c];a=Rc(a,e,d);g[c]=a.substr(f.length);
return a}function Rc(a,c,d){c?(c=encodeURI(c.replace(/ /g,"_")).replace(/[^\w]/g,"_"),-1!="0123456789".indexOf(c[0])&&(c="my_"+c)):c=h.o.UNNAMED_KEY||"unnamed";for(var e="";a.Sx[c+e]||c+e in a.Wz;)e=e?e+1:2;c+=e;a.Sx[c]=!0;return(d==h.ih||d==h.Td.gr?a.xA:"")+c}h.Td.tf=function(a,c){return a.toLowerCase()==c.toLowerCase()};h.Ua={};h.Ua.qC=h.Qo;h.Ua.hB="x";h.Ua.vx=function(a){var c=Ua(a,"procedures_defnoreturn").map(function(d){return d.Fk()});a=Ua(a,"procedures_defreturn").map(function(d){return d.Fk()});c.sort(h.Ua.Sz);a.sort(h.Ua.Sz);return[c,a]};h.Ua.Sz=function(a,c){return a[0].localeCompare(c[0],void 0,{sensitivity:"base"})};h.Ua.tE=function(a,c){if(c.tc)return a;for(a=a||h.o.UNNAMED_KEY||"unnamed";!h.Ua.jF(a,c.B,c);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};
h.Ua.jF=function(a,c,d){return!h.Ua.lF(a,c,d)};h.Ua.lF=function(a,c,d){c=B(c);for(var e=0;e<c.length;e++)if(c[e]!=d&&c[e].Fk){var f=c[e].Fk();if(h.Td.tf(f[0],a))return!0}return!1};h.Ua.DL=function(a){a=a.trim();var c=h.Ua.tE(a,this.ba()),d=this.getValue();if(d!=a&&d!=c){a=B(this.ba().B);for(var e=0;e<a.length;e++)a[e].yG&&a[e].yG(d,c)}return c};
h.Ua.Cm=function(a){function c(g,k){for(var l=0;l<g.length;l++){var m=g[l][0],n=g[l][1],p=h.g.xml.createElement("block");p.setAttribute("type",k);p.setAttribute("gap",16);var q=h.g.xml.createElement("mutation");q.setAttribute("name",m);p.appendChild(q);for(m=0;m<n.length;m++){var v=h.g.xml.createElement("arg");v.setAttribute("name",n[m]);q.appendChild(v)}d.push(p)}}var d=[];if(h.Ib.procedures_defnoreturn){var e=h.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=h.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(h.g.xml.createTextNode(h.o.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}h.Ib.procedures_defreturn&&(e=h.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=h.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(h.g.xml.createTextNode(h.o.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));h.Ib.procedures_ifreturn&&(e=h.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=h.Ua.vx(a);c(a[0],"procedures_callnoreturn");c(a[1],"procedures_callreturn");return d};
h.Ua.tA=function(a){for(var c=[],d=Ua(a,"procedures_mutatorarg"),e=0,f;f=d[e];e++)c.push(C(f,"NAME"));d=h.g.xml.createElement("xml");e=h.g.xml.createElement("block");e.setAttribute("type","procedures_mutatorarg");f=h.g.xml.createElement("field");f.setAttribute("name","NAME");c=h.g.xml.createTextNode(h.na.py(h.Ua.hB,c));f.appendChild(c);e.appendChild(f);d.appendChild(e);if(c=h.g.Y.Ms(d)){if(!a.options.yg)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(h.g.Y.Lm(c)){if(!a.wb)throw Error("Existing toolbox has no categories.  Can't change mode.");
a.options.yg=c;a.wb.Ma(c)}else{if(!a.Da)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.yg=c;a.Da.show(c)}}else if(a.options.yg)throw Error("Can't nullify an existing toolbox.");};h.Ua.DF=function(a){if(a.type==h.h.ul&&"mutator"===a.xs&&a.Tk){a=h.xb.Fm(a.dc).Wc(a.ab);var c=a.type;if("procedures_defnoreturn"==c||"procedures_defreturn"==c)a=a.od.m,h.Ua.tA(a),D(a,h.Ua.CF)}};h.Ua.CF=function(a){a.type!=h.h.ei&&a.type!=h.h.Vq&&a.type!=h.h.Nf||h.Ua.tA(h.xb.Fm(a.dc))};
h.Ua.CE=function(a,c){var d=[];c=B(c);for(var e=0;e<c.length;e++)if(c[e].NE){var f=c[e].NE();f&&h.Td.tf(f,a)&&d.push(c[e])}return d};h.Ua.xL=function(a){var c=h.h.Qa,d=a.Fk()[0],e=a.uc(!0);a=h.Ua.CE(d,a.B);d=0;for(var f;f=a[d];d++){var g=f.uc();g=g&&h.N.Vc(g);f.ge(e);var k=f.uc();k=k&&h.N.Vc(k);g!=k&&(h.h.Qa=!1,h.h.Ea(new (h.h.get(h.h.Nf))(f,"mutation",null,g,k)),h.h.Qa=c)}};h.Ua.eL=function(a,c){c=B(c);for(var d=0;d<c.length;d++)if(c[d].Fk){var e=c[d].Fk();if(e&&h.Td.tf(e[0],a))return c[d]}return null};h.$b=function(){h.$b.C=this;this.se=Object.create(null);this.Wk=Object.create(null)};h.$b.cq={Shift:h.g.ea.To,Control:h.g.ea.li,Alt:h.g.ea.Dj,Meta:h.g.ea.Sj};h.$b.prototype.register=function(a,c){if(this.se[a.name]&&!c)throw Error('Shortcut with name "'+a.name+'" already exists.');this.se[a.name]=a};
h.$b.prototype.unregister=function(a){if(!this.se[a])return console.warn('Keyboard shortcut with name "'+a+'" not found.'),!1;for(var c in this.Wk){var d=c,e=this.Wk[d],f=e.indexOf(a);-1<f&&(e.splice(f,1),0==e.length&&delete this.Wk[d])}delete this.se[a];return!0};function O(a,c){var d=h.$b.C;a=String(a);var e=d.Wk[a];if(e)throw Error('Shortcut with name "'+c+'" collides with shortcuts '+e.toString());d.Wk[a]=[c]}
h.$b.prototype.Fu=function(a,c){var d="";for(e in h.$b.cq)c.getModifierState(e)&&(""!=d&&(d+="+"),d+=e);""!=d&&c.keyCode?d=d+"+"+c.keyCode:c.keyCode&&(d=c.keyCode.toString());d=this.Wk[d]||[];if(!d)return!1;var e=0;for(var f;f=d[e];e++)if(f=this.se[f],(!f.Nb||f.Nb(a))&&f.kb&&f.kb(a,c,f))return!0;return!1};
function P(a,c){var d="";if(c){for(var e=h.g.object.values(h.$b.cq),f=0,g;g=c[f];f++)if(0>e.indexOf(g))throw Error(g+" is not a valid modifier key.");for(var k in h.$b.cq)-1<c.indexOf(h.$b.cq[k])&&(""!=d&&(d+="+"),d+=k)}""!=d&&a?d=d+"+"+a:a&&(d=a.toString());return d}new h.$b;h.Xl=function(a,c,d,e){this.B=a;this.name=c;this.type=d||"";this.eF=e||h.g.uf();h.h.Ea(new (h.h.get(h.h.Vl))(this))};h.Xl.prototype.lb=function(){return this.eF};h.Xl.Hx=function(a,c){return a.name.localeCompare(c.name,void 0,{sensitivity:"base"})};h.na={};h.na.qC=h.ih;h.na.ks=function(a){var c=B(a);a=Object.create(null);for(var d=0;d<c.length;d++){var e=pa(c[d]);if(e)for(var f=0;f<e.length;f++){var g=e[f],k=g.lb();k&&(a[k]=g)}}c=[];for(k in a)c.push(a[k]);return c};h.na.Lv={};
h.na.iD=function(a){a=B(a);for(var c=Object.create(null),d=0,e;e=a[d];d++){var f=e.fL;!f&&e.IE&&(f=e.IE,h.na.Lv[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),h.na.Lv[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)c[e[f]]=!0}return Object.keys(c)};
h.na.Cm=function(a){var c=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");Pc(a,function(e){h.na.Qx(e.hL())});c.push(d);a=h.na.wE(a);return c=c.concat(a)};
h.na.wE=function(a){a=a.Jm("");var c=[];if(0<a.length){var d=a[a.length-1];if(h.Ib.variables_set){var e=h.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",h.Ib.math_change?8:24);e.appendChild(h.na.wt(d));c.push(e)}h.Ib.math_change&&(e=h.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",h.Ib.variables_get?20:8),e.appendChild(h.na.wt(d)),d=h.N.Mf('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),c.push(e));if(h.Ib.variables_get){a.sort(h.Xl.Hx);d=0;for(var f;f=a[d];d++)e=h.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(h.na.wt(f)),c.push(e)}}return c};h.na.hx="ijkmnopqrstuvwxyzabcdefgh";h.na.yE=function(a){return h.na.py(h.na.hx.charAt(0),a.xt())};
h.na.py=function(a,c){if(!c.length)return a;for(var d=h.na.hx,e="",f=d.indexOf(a);;){for(var g=!1,k=0;k<c.length;k++)if(c[k].toLowerCase()==a){g=!0;break}if(!g)return a;f++;f==d.length&&(f=0,e=Number(e)+1);a=d.charAt(f)+e}};
h.na.Qx=function(a,c,d){function e(g){h.na.Tz(h.o.NEW_VARIABLE_TITLE,g,function(k){if(k){var l=h.na.FF(k,a);if(l){if(l.type==f)var m=h.o.VARIABLE_ALREADY_EXISTS.replace("%1",l.name);else m=h.o.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,m=m.replace("%1",l.name).replace("%2",l.type);h.alert(m,function(){e(k)})}else a.Je(k,f),c&&c(k)}else c&&c(null)})}var f=d||"";e("")};h.na.Je=h.na.Qx;
h.na.av=function(a,c){function d(e){var f=h.o.RENAME_VARIABLE_TITLE.replace("%1",c.name);h.na.Tz(f,e,function(g){if(g){var k=h.na.GF(g,c.type,a);k?(k=h.o.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",k.name).replace("%2",k.type),h.alert(k,function(){d(g)})):a.mj(c.lb(),g)}})}d("")};h.na.Tz=function(a,c,d){h.prompt(a,c,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==h.o.RENAME_VARIABLE||e==h.o.NEW_VARIABLE)&&(e=null);d(e)})};
h.na.GF=function(a,c,d){d=d.Ja.Ii();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=c)return f;return null};h.na.FF=function(a,c){c=c.Ja.Ii();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a)return e;return null};h.na.wt=function(a){var c=h.g.xml.createElement("field");c.setAttribute("name","VAR");c.setAttribute("id",a.lb());c.setAttribute("variabletype",a.type);a=h.g.xml.createTextNode(a.name);c.appendChild(a);return c};
h.na.zy=function(a,c,d,e){var f=h.na.Qe(a,c,d,e);f||(f=h.na.YD(a,c,d,e));return f};h.na.Qe=function(a,c,d,e){var f=a.Sh,g=null;if(c&&(g=a.rg(c),!g&&f&&(g=f.rg(c)),g))return g;if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");g=a.Qe(d,e);!g&&f&&(g=f.Qe(d,e))}return g};h.na.YD=function(a,c,d,e){var f=a.Sh;d||(d=h.na.yE(a.Cf?a.Ia:a));return f?f.Je(d,e,c):a.Je(d,e,c)};
h.na.qy=function(a,c){a=a.Ii();var d=[];if(c.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==c.indexOf(f)&&d.push(f)}return d};h.VERSION="uncompiled";h.Um=null;h.selected=null;h.Bk=[];h.pk=null;h.np=null;h.Js=null;h.OK=null;h.qq=null;h.OL=function(a){h.g.xk.warn("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize");return new h.g.Pc(a.BD,a.AD)};h.FL=function(a){oa(a)};
h.Pn=function(a){for(;a.options.ic;)a=a.options.ic;var c=u(a),d=Dc(a),e=c.parentNode;if(e){var f=e.offsetWidth;e=e.offsetHeight;d.width!=f&&(c.setAttribute("width",f+"px"),Mc(a,f,null));d.height!=e&&(c.setAttribute("height",e+"px"),Mc(a,null,e));a.resize()}};h.Fu=function(a){var c=h.Um;!c||h.g.Sp(a)||c.xa&&!c.isVisible()||h.$b.C.Fu(c,a)};h.Rs=function(a){a.B.Cf||(h.h.ma(!0),h.qc(),a.R?a.L(!1,!0):a.L(!0,!0),h.h.ma(!1))};
h.Ns=function(a){if(a.Rk)a=null;else{var c=h.N.dg(a,!0);h.N.fE(c);var d=a.Wa();c.setAttribute("x",a.M?-d.x:d.x);c.setAttribute("y",d.y);a={xml:c,source:a.B,cH:h.g.yt(a,!0)}}a&&(h.pk=a.xml,h.np=a.source,h.Js=a.cH)};h.tq=function(){if(!h.pk)return!1;var a=h.np;a.Cf&&(a=a.Ia);return h.Js&&Va(a,h.Js)?(h.h.ma(!0),a.tq(h.pk),h.h.ma(!1),!0):!1};h.duplicate=function(a){var c=h.pk,d=h.np;h.Ns(a);a.B.tq(h.pk);h.pk=c;h.np=d};h.yL=function(a){h.g.Sp(a)||a.preventDefault()};
h.qc=function(a){h.I.Ra();h.W.Ra();h.F.Ni();var c=!!a;ha(h.vh().jg,h.Ob.Xb.Qv).forEach(function(d){!c&&d.je&&d.je&&d.je.isVisible()&&(d.je.Ra(),Sc(d,!1))})};h.vh=function(){return h.Um};h.alert=function(a,c){alert(a);c&&c()};h.confirm=function(a,c){c(confirm(a))};h.prompt=function(a,c,d){d(prompt(a,c))};h.pF=function(a){return function(){Zb(this,a)}};
h.Qs=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping."):(h.Ib[e]&&console.warn("Block definition #"+c+' in JSON array overwrites prior definition of "'+e+'".'),h.Ib[e]={Ca:h.pF(d)})}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping.")}};h.mF=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};h.kL=function(a){return h.g.zb.Wy(a)};
h.ED=function(){h.Rc("LOGIC_HUE",["Blocks","logic","HUE"]);h.Rc("LOGIC_HUE",["Constants","Logic","HUE"],210);h.Rc("LOOPS_HUE",["Blocks","loops","HUE"]);h.Rc("LOOPS_HUE",["Constants","Loops","HUE"],120);h.Rc("MATH_HUE",["Blocks","math","HUE"]);h.Rc("MATH_HUE",["Constants","Math","HUE"],230);h.Rc("TEXTS_HUE",["Blocks","texts","HUE"]);h.Rc("TEXTS_HUE",["Constants","Text","HUE"],160);h.Rc("LISTS_HUE",["Blocks","lists","HUE"]);h.Rc("LISTS_HUE",["Constants","Lists","HUE"],260);h.Rc("COLOUR_HUE",["Blocks",
"colour","HUE"]);h.Rc("COLOUR_HUE",["Constants","Colour","HUE"],20);h.Rc("VARIABLES_HUE",["Blocks","variables","HUE"]);h.Rc("VARIABLES_HUE",["Constants","Variables","HUE"],330);h.Rc("PROCEDURES_HUE",["Blocks","procedures","HUE"])};h.Rc=function(a,c,d){for(var e="Blockly",f=h,g=0;g<c.length;++g)e+="."+c[g],f&&(f=f[c[g]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};
h.KL=function(a){h.qq=a};h.rs=h.P.bind;h.Dv=h.P.gb;h.NK=h.P.Aa;h.qH=h.tb.Ae.Gb;h.pH=h.tb.Ae.po;h.rH=h.tb.Ae.nc;h.lc=h.ka.lc;h.vd=h.ka.vd;h.mc=h.ka.mc;h.Vd=h.ka.Vd;h.PH=h.Ga.Nd;h.yK=h.g.Y.Za.eh;h.vK=h.g.Y.Za.Fj;h.wK=h.g.Y.Za.Gb;h.xK=h.g.Y.Za.nc;h.sb=function(a,c,d){"function"!=typeof a&&h.sb.wA(a);this.Yk=a;this.yv=this.Su=this.Fp=null;a=this.Yk;if(Array.isArray(a)){for(var e=!1,f=0;f<a.length;f++){var g=a[f][0];"string"==typeof g?a[f][0]=h.g.Ve(g):(null!=g.alt&&(a[f][0].alt=h.g.Ve(g.alt)),e=!0)}if(!(e||2>a.length)){e=[];for(f=0;f<a.length;f++)e.push(a[f][0]);f=h.g.eb.qv(e);g=h.g.eb.OD(e,f);var k=h.g.eb.PD(e,f);!g&&!k||f<=g+k||(g&&(this.Su=e[0].substring(0,g-1)),k&&(this.yv=e[0].substr(1-k)),this.Yk=h.sb.qD(a,g,k))}}this.cl=this.getOptions(!1)[0];
h.sb.A.constructor.call(this,this.cl[1],c,d);this.jl=this.Xd=this.tg=this.$c=this.yn=null};h.g.object.U(h.sb,h.Od);h.sb.Z=function(a){return new h.sb(a.options,void 0,a)};h.sb.prototype.Ck=function(a){ab(this)&&this.getOptions(!1);this.setValue(a.textContent)};h.sb.prototype.Yj=!0;h.sb.BH=25;h.sb.gJ=.45;h.sb.RB=5;h.sb.SB=2*h.sb.RB;h.sb.Ov=h.g.userAgent.Ej?"\u25bc":"\u25be";b=h.sb.prototype;b.Ij="default";
b.Lk=function(){this.rv()?Mb(this):this.Is=this.J.ta();Nb(this);this.tg=h.g.j.O(h.g.G.Go,{},this.Dd);this.aa().AB?(this.jl=h.g.j.O(h.g.G.Go,{height:this.aa().Cl+"px",width:this.aa().Cl+"px"},this.Dd),this.jl.setAttributeNS(h.g.j.Ee,"xlink:href",this.aa().BB)):(this.Xd=h.g.j.O(h.g.G.$r,{},this.zc),this.Xd.appendChild(document.createTextNode(this.J.M?h.sb.Ov+" ":" "+h.sb.Ov)),this.J.M?this.zc.insertBefore(this.Xd,this.uj):this.zc.appendChild(this.Xd));this.Kb&&h.g.j.Db(this.Kb,"blocklyDropdownRect")};
b.rv=function(){return!this.aa().jr||this.aa().jr&&!this.J.Ha};b.rj=function(a){this.mt();this.$c.Ju=a&&"number"===typeof a.clientX?new h.g.K(a.clientX,a.clientY):null;this.$c.Ma(h.F.uy());h.g.j.Db(this.$c.ib,"blocklyDropdownMenu");if(this.aa().zB){a=this.J.Ha?this.J.getParent().Bt():this.J.Bt();var c=this.J.Ha?this.J.getParent().style.lf:this.J.style.lf;h.F.Jd(a,c)}h.F.cA(this,this.nt.bind(this));this.$c.focus();this.yn&&this.$c.We(this.yn);this.Sb()};
b.mt=function(){var a=new h.zr;a.Yh(h.g.$a.Ro.bC);this.$c=a;var c=this.getOptions(!1);this.yn=null;for(var d=0;d<c.length;d++){var e=c[d][0],f=c[d][1];if("object"==typeof e){var g=new Image(e.width,e.height);g.src=e.src;g.alt=e.alt||"";e=g}e=new h.Ar(e,f);e.Yh(h.g.$a.Ro.tC);e.fv=this.J.M;e.Gs=!0;a.Se.push(e);e.Hs=f==this.dd;f==this.dd&&(this.yn=e);fc(e,this.VE,this)}};b.nt=function(){this.$c&&this.$c.L();this.yn=this.$c=null;this.Sb()};b.VE=function(a){h.F.Kk(this,!0);this.Ez(a)};b.Ez=function(a){this.setValue(a.getValue())};
h.sb.qD=function(a,c,d){for(var e=[],f=0;f<a.length;f++){var g=a[f][0],k=a[f][1];g=g.substring(c,g.length-d);e[f]=[g,k]}return e};function ab(a){return"function"==typeof a.Yk}b=h.sb.prototype;b.getOptions=function(a){return ab(this)?(this.Fp&&a||(this.Fp=this.Yk.call(this),h.sb.wA(this.Fp)),this.Fp):this.Yk};
b.Gi=function(a){for(var c=!1,d=this.getOptions(!0),e=0,f;f=d[e];e++)if(f[1]==a){c=!0;break}return c?a:(this.J&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.J.type+", Field name: "+this.name+", Value: "+a),null)};b.sh=function(a){h.sb.A.sh.call(this,a);a=this.getOptions(!0);for(var c=0,d;d=a[c];c++)d[1]==this.dd&&(this.cl=d)};
b.Sb=function(){this.Kb&&(this.Kb.setAttribute("stroke",this.J.style.lf),this.$c?this.Kb.setAttribute("fill",this.J.style.lf):this.Kb.setAttribute("fill","transparent"));this.J&&this.Xd&&(this.Xd.style.fill=this.J.Ha?this.J.style.op:this.J.style.hg)};
b.nj=function(){this.uj.nodeValue="";this.tg.style.display="none";var a=this.cl&&this.cl[0];if(a&&"object"==typeof a){this.tg.style.display="";this.tg.setAttributeNS(h.g.j.Ee,"xlink:href",a.src);this.tg.setAttribute("height",a.height);this.tg.setAttribute("width",a.width);var c=Number(a.height);a=Number(a.width);var d=!!this.Kb,e=Math.max(d?this.aa().kw:0,c+h.sb.SB);d=d?this.aa().Bl:0;var f=this.jl?Tc(this,a+d,e/2-this.aa().Cl/2):h.g.j.Dt(this.Xd,this.aa().Qg,this.aa().Rg,this.aa().Pg);this.cd.width=
a+f+2*d;this.cd.height=e;var g=0;this.J.M?this.tg.setAttribute("x",d+f):(g=a+f,this.zc.setAttribute("text-anchor","end"),this.tg.setAttribute("x",d));this.tg.setAttribute("y",e/2-c/2);Qb(this,g+d,a+f)}else this.uj.nodeValue=Pb(this),h.g.j.Db(this.zc,"blocklyDropdownText"),this.zc.setAttribute("text-anchor","start"),e=!!this.Kb,c=Math.max(e?this.aa().kw:0,this.aa().Eo),a=h.g.j.Dt(this.zc,this.aa().Qg,this.aa().Rg,this.aa().Pg),e=e?this.aa().Bl:0,d=0,this.jl&&(d=Tc(this,a+e,c/2-this.aa().Cl/2)),this.cd.width=
a+d+2*e,this.cd.height=c,Qb(this,e,a);Rb(this)};function Tc(a,c,d){if(!a.jl)return 0;var e=a.Kb?a.aa().Bl:0,f=a.aa().CB,g=a.aa().Cl;a.jl.setAttribute("transform","translate("+(a.J.M?e:c+f)+","+d+")");return g+f}b.Jt=function(){if(!this.cl)return null;var a=this.cl[0];return"object"==typeof a?a.alt:a};
h.sb.wA=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var c=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):e[0]&&"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+
e[0]+" in: ",e)):(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(c)throw TypeError("Found invalid FieldDropdown options.");};h.Le.register("field_dropdown",h.sb);h.h.Lg=function(a,c,d){h.h.Lg.A.constructor.call(this,a?a.B.id:void 0);this.ab=a?a.id:null;this.Tk=c;this.xs=d};h.g.object.U(h.h.Lg,h.h.Wd);h.h.Lg.prototype.type=h.h.ul;h.h.Lg.prototype.va=function(){var a=h.h.Lg.A.va.call(this);a.isOpen=this.Tk;a.bubbleType=this.xs;a.blockId=this.ab;return a};h.h.Lg.prototype.Z=function(a){h.h.Lg.A.Z.call(this,a);this.Tk=a.isOpen;this.xs=a.bubbleType;this.ab=a.blockId};h.C.register(h.C.T.Jb,h.h.ul,h.h.Lg);h.ef=function(a){this.X=a;this.Yc=null};b=h.ef.prototype;b.MD=!0;b.Uo=17;b.eg=null;b.Kp=null;
function sc(a){if(!a.Yc){a.Yc=h.g.j.O(h.g.G.Cc,{"class":"blocklyIconGroup"},null);a.X.tc&&h.g.j.Db(a.Yc,"blocklyIconGroupReadonly");var c=a.Yc;h.g.j.O(h.g.G.wd,{"class":"blocklyIconShape",rx:"4",ry:"4",height:"16",width:"16"},c);h.g.j.O(h.g.G.Ud,{"class":"blocklyIconSymbol",d:"m4.203,7.296 0,1.368 -0.92,0.677 -0.11,0.41 0.9,1.559 0.41,0.11 1.043,-0.457 1.187,0.683 0.127,1.134 0.3,0.3 1.8,0 0.3,-0.299 0.127,-1.138 1.185,-0.682 1.046,0.458 0.409,-0.11 0.9,-1.559 -0.11,-0.41 -0.92,-0.677 0,-1.366 0.92,-0.677 0.11,-0.41 -0.9,-1.559 -0.409,-0.109 -1.046,0.458 -1.185,-0.682 -0.127,-1.138 -0.3,-0.299 -1.8,0 -0.3,0.3 -0.126,1.135 -1.187,0.682 -1.043,-0.457 -0.41,0.11 -0.899,1.559 0.108,0.409z"},c);
h.g.j.O(h.g.G.$q,{"class":"blocklyIconShape",r:"2.7",cx:"8",cy:"8"},c);a.X.ta().appendChild(a.Yc);h.P.Aa(a.Yc,"mouseup",a,a.St);a.yj()}}b.L=function(){h.g.j.removeNode(this.Yc);this.Yc=null;this.Bb(!1);this.X=null};b.yj=function(){};b.isVisible=function(){return!!this.eg};b.St=function(a){this.X.B.rc()||this.X.tc||h.g.Vk(a)||this.Bb(!this.isVisible())};b.Sb=function(){this.isVisible()&&this.eg.Jd(this.X.style.hg)};function kb(a,c){a.Kp=c;a.isVisible()&&(a=a.eg,a.Qb=c,a.cv&&ob(a))}
function vc(a){var c=a.X.Wa(),d=h.g.ke(a.Yc);c=new h.g.K(c.x+d.x+a.Uo/2,c.y+d.y+a.Uo/2);h.g.K.tf(a.Kp,c)||kb(a,c)};h.Ce=function(a){h.Ce.A.constructor.call(this,null);this.Uz=a};h.g.object.U(h.Ce,h.ef);b=h.Ce.prototype;b.m=null;b.rl=0;b.$n=0;b.St=function(a){this.X.md()&&h.ef.prototype.St.call(this,a)};
function Uc(a){a.Nn=h.g.j.O(h.g.G.ah,{x:h.ya.rd,y:h.ya.rd},null);if(a.Uz.length)for(var c=h.g.xml.createElement("xml"),d=0,e;e=a.Uz[d];d++){var f=h.g.xml.createElement("block");f.setAttribute("type",e);c.appendChild(f)}else c=null;d=new h.gd({disable:!1,parentWorkspace:a.X.B,media:a.X.B.options.nn,rtl:a.X.M,renderer:a.X.B.options.zq,rendererOverrides:a.X.B.options.Aq});d.pd=a.X.M?h.g.Y.Za.nc:h.g.Y.Za.Gb;if(e=!!c)d.yg=h.g.Y.Ms(c);a.m=new h.fc(d);a.m.Tm=!0;D(a.m,h.h.Xx);c=e?Lc(a.m,h.g.G.Cc):null;d=
a.m.Va("blocklyMutatorBackground");c&&d.insertBefore(c,a.m.ob);a.Nn.appendChild(d);return a.Nn}b.yj=function(){h.Ce.A.yj.call(this);this.X.tc||(this.X.md()?this.Yc&&h.g.j.vc(this.Yc,"blocklyIconGroupReadonly"):(this.Bb(!1),this.Yc&&h.g.j.Db(this.Yc,"blocklyIconGroupReadonly")))};
function Vc(a){var c=2*h.ya.rd,d=a.m.ob.getBBox(),e=d.width+d.x,f=d.height+3*c,g=N(a.m);if(g){var k=g.m.ad.wh();f=Math.max(f,k.height+20);e+=g.yh()}a.X.M&&(e=-d.x);e+=3*c;if(Math.abs(a.rl-e)>c||Math.abs(a.$n-f)>c)a.rl=e,a.$n=f,pb(a.eg,e+c,f+c),a.Nn.setAttribute("width",a.rl),a.Nn.setAttribute("height",a.$n),Mc(a.m,a.rl,a.$n);a.X.M&&a.m.ob.setAttribute("transform","translate("+a.rl+",0)");a.m.resize()}b.LF=function(){this.m&&Kc(this.m)};
b.Bb=function(a){if(a!=this.isVisible())if(h.h.Ea(new (h.h.get(h.h.ul))(this.X,a,"mutator")),a){this.eg=new h.ya(this.X.B,Uc(this),this.X.Ab.Hb,this.Kp,null,null);rb(this.eg,this.X.id);tb(this.eg,this.LF.bind(this));var c=this.m.options.yg;a=N(this.m);c&&(a.Ca(this.m),a.show(c));this.Gf=this.X.qm(this.m);c=r(this.Gf,!1);for(var d=0,e;e=c[d];d++)e.Ma();this.Gf.Cq(!1);this.Gf.sm=!1;a?(c=2*a.qb,a=this.Gf.M?a.yh()+c:c):a=c=16;this.X.M&&(a=-a);this.Gf.moveBy(a,c);if(this.X.gv){var f=this,g=this.X;g.gv(this.Gf);
this.Iq=function(){g.gv(f.Gf)};D(this.X.B,this.Iq)}Vc(this);D(this.m,this.lH.bind(this));this.Sb()}else this.Nn=null,this.m.L(),this.Gf=this.m=null,this.eg.L(),this.eg=null,this.$n=this.rl=0,this.Iq&&(Ya(this.X.B,this.Iq),this.Iq=null)};
b.lH=function(a){if(!(a.$t||a.type==h.h.Hj&&"disabled"==a.element)){if(!this.m.rc()){a=this.m.Eb(!1);for(var c=0,d;d=a[c];c++){var e=d.Wa();20>e.y&&d.moveBy(0,20-e.y);if(d.M){var f=-20,g=N(this.m);g&&(f-=g.yh());e.x>f&&d.moveBy(f-e.x,0)}else 20>e.x&&d.moveBy(20-e.x,0)}}if(this.Gf.B==this.m){h.h.ma(!0);d=this.X;a=(a=d.uc())&&h.N.Vc(a);c=d.xa;d.xa=!1;d.im(this.Gf);d.xa=c;d.zf();d.xa&&d.Ma();c=(c=d.uc())&&h.N.Vc(c);if(a!=c){h.h.Ea(new (h.h.get(h.h.Nf))(d,"mutation",null,a,c));var k=h.h.Tb();setTimeout(function(){h.h.ma(k);
d.hc();h.h.ma(!1)},h.no)}this.m.rc()||Vc(this);h.h.ma(!1)}}};b.L=function(){this.X.od=null;h.ef.prototype.L.call(this)};h.Ce.Uu=function(a,c,d){if(a&&a.ba().B){d=y(c,d).connection;var e=a.sa();e&&e!=c||d.ua==a||(d.isConnected()&&d.disconnect(),d.connect(a))}};h.Ce.$K=function(a){var c=null;if(a&&a.options){var d=a.options.ic;a.Cf?d&&d.options&&(c=d.options.ic):d&&(c=d)}return c};h.Ib.sF={};h.rb={};h.rb.td={};h.rb.td.QB=210;
h.Qs([{type:"logic_boolean",message0:"%1",args0:[{type:"field_dropdown",name:"BOOL",options:[["%{BKY_LOGIC_BOOLEAN_TRUE}","TRUE"],["%{BKY_LOGIC_BOOLEAN_FALSE}","FALSE"]]}],output:"Boolean",style:"logic_blocks",tooltip:"%{BKY_LOGIC_BOOLEAN_TOOLTIP}",helpUrl:"%{BKY_LOGIC_BOOLEAN_HELPURL}"},{type:"controls_if",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],previousStatement:null,
nextStatement:null,style:"logic_blocks",helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",mutator:"controls_if_mutator",extensions:["controls_if_tooltip"]},{type:"controls_ifelse",message0:"%{BKY_CONTROLS_IF_MSG_IF} %1",args0:[{type:"input_value",name:"IF0",check:"Boolean"}],message1:"%{BKY_CONTROLS_IF_MSG_THEN} %1",args1:[{type:"input_statement",name:"DO0"}],message2:"%{BKY_CONTROLS_IF_MSG_ELSE} %1",args2:[{type:"input_statement",name:"ELSE"}],previousStatement:null,nextStatement:null,style:"logic_blocks",tooltip:"%{BKYCONTROLS_IF_TOOLTIP_2}",
helpUrl:"%{BKY_CONTROLS_IF_HELPURL}",extensions:["controls_if_tooltip"]},{type:"logic_compare",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A"},{type:"field_dropdown",name:"OP",options:[["=","EQ"],["\u2260","NEQ"],["\u200f<","LT"],["\u200f\u2264","LTE"],["\u200f>","GT"],["\u200f\u2265","GTE"]]},{type:"input_value",name:"B"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_COMPARE_HELPURL}",extensions:["logic_compare","logic_op_tooltip"]},{type:"logic_operation",
message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Boolean"},{type:"field_dropdown",name:"OP",options:[["%{BKY_LOGIC_OPERATION_AND}","AND"],["%{BKY_LOGIC_OPERATION_OR}","OR"]]},{type:"input_value",name:"B",check:"Boolean"}],inputsInline:!0,output:"Boolean",style:"logic_blocks",helpUrl:"%{BKY_LOGIC_OPERATION_HELPURL}",extensions:["logic_op_tooltip"]},{type:"logic_negate",message0:"%{BKY_LOGIC_NEGATE_TITLE}",args0:[{type:"input_value",name:"BOOL",check:"Boolean"}],output:"Boolean",style:"logic_blocks",
tooltip:"%{BKY_LOGIC_NEGATE_TOOLTIP}",helpUrl:"%{BKY_LOGIC_NEGATE_HELPURL}"},{type:"logic_ternary",message0:"%{BKY_LOGIC_TERNARY_CONDITION} %1",args0:[{type:"input_value",name:"IF",check:"Boolean"}],message1:"%{BKY_LOGIC_TERNARY_IF_TRUE} %1",args1:[{type:"input_value",name:"THEN"}],message2:"%{BKY_LOGIC_TERNARY_IF_FALSE} %1",args2:[{type:"input_value",name:"ELSE"}],output:null,style:"logic_blocks",tooltip:"%{BKY_LOGIC_TERNARY_TOOLTIP}",helpUrl:"%{BKY_LOGIC_TERNARY_HELPURL}",extensions:["logic_ternary"]}]);
h.Qs([{type:"controls_if_if",message0:"%{BKY_CONTROLS_IF_IF_TITLE_IF}",nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_IF_TOOLTIP}"},{type:"controls_if_elseif",message0:"%{BKY_CONTROLS_IF_ELSEIF_TITLE_ELSEIF}",previousStatement:null,nextStatement:null,enableContextMenu:!1,style:"logic_blocks",tooltip:"%{BKY_CONTROLS_IF_ELSEIF_TOOLTIP}"},{type:"controls_if_else",message0:"%{BKY_CONTROLS_IF_ELSE_TITLE_ELSE}",previousStatement:null,enableContextMenu:!1,style:"logic_blocks",
tooltip:"%{BKY_CONTROLS_IF_ELSE_TOOLTIP}"}]);h.rb.td.Xr={EQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_EQ}",NEQ:"%{BKY_LOGIC_COMPARE_TOOLTIP_NEQ}",LT:"%{BKY_LOGIC_COMPARE_TOOLTIP_LT}",LTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_LTE}",GT:"%{BKY_LOGIC_COMPARE_TOOLTIP_GT}",GTE:"%{BKY_LOGIC_COMPARE_TOOLTIP_GTE}",AND:"%{BKY_LOGIC_OPERATION_TOOLTIP_AND}",OR:"%{BKY_LOGIC_OPERATION_TOOLTIP_OR}"};h.qa.register("logic_op_tooltip",h.qa.zx(h.rb.td.Xr));
h.rb.td.ZA={Cd:0,Ke:0,Lq:!0,uc:function(){if(!this.Cd&&!this.Ke)return null;var a=h.g.xml.createElement("mutation");this.Cd&&a.setAttribute("elseif",this.Cd);this.Ke&&a.setAttribute("else",1);return a},ge:function(a){this.Cd=parseInt(a.getAttribute("elseif"),10)||0;this.Ke=parseInt(a.getAttribute("else"),10)||0;this.dG()},qm:function(a){var c=a.Zk("controls_if_if");c.zf();for(var d=c.$,e=1;e<=this.Cd;e++){var f=a.Zk("controls_if_elseif");f.zf();d.connect(f.la);d=f.$}this.Ke&&(a=a.Zk("controls_if_else"),
a.zf(),d.connect(a.la));return c},im:function(a){a=a.$.sa();this.Ke=this.Cd=0;for(var c=[null],d=[null],e=null;a&&!a.nd();){switch(a.type){case "controls_if_elseif":this.Cd++;c.push(a.gH);d.push(a.xv);break;case "controls_if_else":this.Ke++;e=a.xv;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.$&&a.$.sa()}this.Xn();this.Vz(c,d,e)},gv:function(a){a=a.$.sa();for(var c=1;a;){switch(a.type){case "controls_if_elseif":var d=y(this,"IF"+c),e=y(this,"DO"+c);a.gH=d&&d.connection.ua;a.xv=
e&&e.connection.ua;c++;break;case "controls_if_else":e=y(this,"ELSE");a.xv=e&&e.connection.ua;break;default:throw TypeError("Unknown block type: "+a.type);}a=a.$&&a.$.sa()}},dG:function(){var a=[null],c=[null],d=null;y(this,"ELSE")&&(d=y(this,"ELSE").connection.ua);for(var e=1;y(this,"IF"+e);){var f=y(this,"DO"+e);a.push(y(this,"IF"+e).connection.ua);c.push(f.connection.ua);e++}this.Xn();this.Vz(a,c,d)},Xn:function(){y(this,"ELSE")&&this.lj("ELSE");for(var a=1;y(this,"IF"+a);)this.lj("IF"+a),this.lj("DO"+
a),a++;for(a=1;a<=this.Cd;a++)K(Yb(this,"IF"+a).bd("Boolean"),h.o.CONTROLS_IF_MSG_ELSEIF),K(this.Fe(h.Ga.Dc,"DO"+a),h.o.CONTROLS_IF_MSG_THEN);this.Ke&&K(this.Fe(h.Ga.Dc,"ELSE"),h.o.CONTROLS_IF_MSG_ELSE)},Vz:function(a,c,d){for(var e=1;e<=this.Cd;e++)h.Ce.Uu(a[e],this,"IF"+e),h.Ce.Uu(c[e],this,"DO"+e);h.Ce.Uu(d,this,"ELSE")}};h.qa.Yu("controls_if_mutator",h.rb.td.ZA,null,["controls_if_elseif","controls_if_else"]);
h.rb.td.$A=function(){this.ue(function(){if(this.Cd||this.Ke){if(!this.Cd&&this.Ke)return h.o.CONTROLS_IF_TOOLTIP_2;if(this.Cd&&!this.Ke)return h.o.CONTROLS_IF_TOOLTIP_3;if(this.Cd&&this.Ke)return h.o.CONTROLS_IF_TOOLTIP_4}else return h.o.CONTROLS_IF_TOOLTIP_1;return""}.bind(this))};h.qa.register("controls_if_tooltip",h.rb.td.$A);
h.rb.td.fC={onchange:function(a){this.rn||(this.rn=[null,null]);var c=cc(this,"A"),d=cc(this,"B");c&&d&&!Oa(c.R,d.R)&&(h.h.ma(a.group),a=this.rn[0],a!==c&&(z(c),!a||a.fe||a.Ha||y(this,"A").connection.connect(a.R)),c=this.rn[1],c!==d&&(z(d),!c||c.fe||c.Ha||y(this,"B").connection.connect(c.R)),this.hc(),h.h.ma(!1));this.rn[0]=cc(this,"A");this.rn[1]=cc(this,"B")}};h.rb.td.eC=function(){this.Te(h.rb.td.fC)};h.qa.register("logic_compare",h.rb.td.eC);
h.rb.td.gC={Rz:null,onchange:function(a){var c=cc(this,"THEN"),d=cc(this,"ELSE"),e=this.R.ua;if((c||d)&&e)for(var f=0;2>f;f++){var g=1==f?c:d;g&&!Oa(g.R,e)&&(h.h.ma(a.group),e===this.Rz?(z(this),e.ba().hc()):(z(g),g.hc()),h.h.ma(!1))}this.Rz=e}};h.qa.uG();h.fd=function(a,c,d){this.fA=!0;h.fd.A.constructor.call(this,a,c,d);this.mq=this.lq=this.Fd=null;this.Ep=!1;this.m=null};h.g.object.U(h.fd,h.Od);h.fd.prototype.Al="";h.fd.Z=function(a){var c=h.g.Ve(a.text);return new h.fd(c,void 0,a)};h.fd.prototype.Yj=!0;h.fd.QA=4;b=h.fd.prototype;b.Ij="text";b.ce=function(a){h.fd.A.ce.call(this,a);"boolean"==typeof a.spellcheck&&(this.fA=a.spellcheck)};
b.Lk=function(){if(this.aa().nw){for(var a=0,c=0,d=0,e;e=this.J.V[d];d++){for(var f=0;e.bb[f];f++)a++;e.connection&&c++}this.Ep=1>=a&&this.J.R&&!c}else this.Ep=!1;this.Ep?this.Is=this.J.ta():Mb(this);Nb(this)};b.Gi=function(a){return null===a||void 0===a?null:String(a)};b.ay=function(){if(this.Ok){this.Zt=!1;var a=this.dd;this.dd=this.Fd.rA;this.J&&h.h.isEnabled()&&h.h.Ea(new (h.h.get(h.h.Nf))(this.J,"field",this.name||null,a,this.dd))}};b.sh=function(a){this.Zt=!0;this.dd=a;this.Ok||(this.vg=!0)};
b.Sb=function(){this.J&&this.aa().nw&&(this.Kb?this.Kb.setAttribute("stroke",this.J.style.lf):this.J.Ab.Hb.setAttribute("fill",this.aa().iw))};b.nj=function(){h.fd.A.nj.call(this);if(this.Ok){Wc(this);var a=this.Fd;this.Zt?(h.g.j.vc(a,"blocklyInvalidInput"),h.g.$a.Zh(a,h.g.$a.State.uw,!1)):(h.g.j.Db(a,"blocklyInvalidInput"),h.g.$a.Zh(a,h.g.$a.State.uw,!0))}};
b.rj=function(a,c){this.m=this.J.B;a=c||!1;!a&&(h.g.userAgent.Hw||h.g.userAgent.Ej||h.g.userAgent.pi)?Xc(this):(h.W.show(this,this.J.M,this.kH.bind(this)),this.Fd=this.Iv(),this.Ok=!0,a||(this.Fd.focus({preventScroll:!0}),this.Fd.select()))};function Xc(a){h.prompt(h.o.CHANGE_VALUE_TITLE,a.xh(),function(c){null!==c&&this.setValue(c)}.bind(a))}
b.Iv=function(){var a=h.W.Ta;h.g.j.Db(Lb(this),"editing");var c=document.createElement("input");c.className="blocklyHtmlInput";c.setAttribute("spellcheck",this.fA);var d=Oc(this.m),e=this.aa().Qg*d+"pt";a.style.fontSize=e;c.style.fontSize=e;e=h.fd.QA*d+"px";if(this.Ep){e=ia(this);e=(e.bottom-e.top)/2+"px";var f=this.J.getParent()?this.J.getParent().style.lf:this.J.style.lf;c.style.border=1*d+"px solid "+f;a.style.borderRadius=e;a.style.transition="box-shadow 0.25s ease 0s";this.aa().DB&&(a.style.boxShadow=
"rgba(255, 255, 255, 0.3) 0px 0px 0px "+4*d+"px")}c.style.borderRadius=e;a.appendChild(c);c.value=c.defaultValue=String(this.dd);c.rA=this.dd;c.Cz=null;Wc(this);this.lq=h.P.Aa(c,"keydown",this,this.Eu);this.mq=h.P.Aa(c,"input",this,this.OF);return c};
b.kH=function(){this.Ok=!1;this.Zt=!0;Sa(this);this.NF&&this.NF(this.dd);this.lq&&(h.P.gb(this.lq),this.lq=null);this.mq&&(h.P.gb(this.mq),this.mq=null);var a=h.W.Ta.style;a.width="auto";a.height="auto";a.fontSize="";a.transition="";a.boxShadow="";this.Fd=null;h.g.j.vc(Lb(this),"editing")};
b.Eu=function(a){if(a.keyCode==h.g.ea.ew)h.W.Ra(),h.F.Ni();else if(a.keyCode==h.g.ea.fw)this.setValue(this.Fd.rA),h.W.Ra(),h.F.Ni();else if(a.keyCode==h.g.ea.UC){h.W.Ra();h.F.Ni();var c=this.J,d=!a.shiftKey,e=new h.Xo;Kb(e,h.H.tk(this));var f=e.Bd;d?e.next():e.Bg();(d=e.Bd)&&d!==f&&(f=d.Fa,E(f)&&f.rj(void 0),c.B.Xk&&Kb(c.B.Dk(),d));a.preventDefault()}};b.OF=function(){var a=this.Fd.value;a!==this.Fd.Cz&&(this.Fd.Cz=a,h.h.ma(!0),this.setValue(a),Sa(this),Wc(this),h.h.ma(!1))};
function Wc(a){var c=h.W.Ta,d=ia(a);c.style.width=d.right-d.left+"px";c.style.height=d.bottom-d.top+"px";a=new h.g.K(a.J.M?d.right-c.offsetWidth:d.left,d.top);c.style.left=a.x+"px";c.style.top=a.y+"px"}b.ez=function(){return!0};b.Jt=function(){return this.Ok&&this.Fd?this.Fd.value:null};h.Le.register("field_input",h.fd);h.Qd=function(a,c,d,e,f,g){this.dn=-Infinity;this.an=Infinity;this.bl=0;this.Ps=null;h.Qd.A.constructor.call(this,a,f,g);g||(Yc(this,c),Zc(this,d),$c(this,e),this.setValue(this.getValue()))};h.g.object.U(h.Qd,h.fd);h.Qd.prototype.Al=0;h.Qd.Z=function(a){return new h.Qd(a.value,void 0,void 0,void 0,void 0,a)};h.Qd.prototype.Yj=!0;h.Qd.prototype.ce=function(a){h.Qd.A.ce.call(this,a);Yc(this,a.min);Zc(this,a.max);$c(this,a.precision)};
function Yc(a,c){null==c?a.dn=-Infinity:(c=Number(c),isNaN(c)||(a.dn=c))}function Zc(a,c){null==c?a.an=Infinity:(c=Number(c),isNaN(c)||(a.an=c))}function $c(a,c){a.bl=Number(c)||0;var d=String(a.bl);-1!=d.indexOf("e")&&(d=a.bl.toLocaleString("en-US",{maximumFractionDigits:20}));var e=d.indexOf(".");a.Ps=-1==e?c?0:null:d.length-e-1}
h.Qd.prototype.Gi=function(a){if(null===a)return null;a=String(a);a=a.replace(/O/ig,"0");a=a.replace(/,/g,"");a=a.replace(/infinity/i,"Infinity");a=Number(a||0);if(isNaN(a))return null;a=Math.min(Math.max(a,this.dn),this.an);this.bl&&isFinite(a)&&(a=Math.round(a/this.bl)*this.bl);null!=this.Ps&&(a=Number(a.toFixed(this.Ps)));return a};
h.Qd.prototype.Iv=function(){var a=h.Qd.A.Iv.call(this);-Infinity<this.dn&&h.g.$a.Zh(a,h.g.$a.State.aD,this.dn);Infinity>this.an&&h.g.$a.Zh(a,h.g.$a.State.$C,this.an);return a};h.Le.register("field_number",h.Qd);h.sd=function(a,c,d,e,f){this.Yk=h.sd.oE;this.dE="string"===typeof a?a:"";this.cd=new h.g.Pc(0,0);f&&this.ce(f);c&&(this.Zn=c);f||ad(this,d,e)};h.g.object.U(h.sd,h.sb);h.sd.Z=function(a){var c=h.g.Ve(a.variable);return new h.sd(c,void 0,void 0,void 0,a)};b=h.sd.prototype;b.Yj=!0;b.ce=function(a){h.sd.A.ce.call(this,a);ad(this,a.variableTypes,a.defaultType)};b.Si=function(){if(!this.qd){var a=h.na.zy(this.J.B,null,this.dE,this.cE);this.sh(a.lb())}};
b.rv=function(){return h.sd.A.rv.call(this)&&(!this.aa().jr||"variables_get"!=this.J.type)};b.Ck=function(a){var c=a.getAttribute("id"),d=a.textContent,e=a.getAttribute("variabletype")||a.getAttribute("variableType")||"";c=h.na.zy(this.J.B,c,d,e);if(null!=e&&e!==c.type)throw Error("Serialized variable type with id '"+c.lb()+"' had type "+c.type+", and does not match variable field that references it: "+h.N.Vc(a)+".");this.setValue(c.lb())};
b.mA=function(a){this.Si();a.id=this.qd.lb();a.textContent=this.qd.name;this.qd.type&&a.setAttribute("variabletype",this.qd.type);return a};b.ov=function(a){if(a.Ha)throw Error("Variable fields are not allowed to exist on shadow blocks.");h.sd.A.ov.call(this,a)};b.getValue=function(){return this.qd?this.qd.lb():null};b.xh=function(){return this.qd?this.qd.name:""};b.Qe=function(){return this.qd};b.Jy=function(){return this.qd?this.Zn:null};
b.Gi=function(a){if(null===a)return null;var c=h.na.Qe(this.J.B,a);if(!c)return console.warn("Variable id doesn't point to a real variable! ID was "+a),null;c=c.type;var d;a:if(d=bd(this)){for(var e=0;e<d.length;e++)if(c==d[e]){d=!0;break a}d=!1}else d=!0;return d?a:(console.warn("Variable type doesn't match this field!  Type was "+c),null)};b.sh=function(a){this.qd=h.na.Qe(this.J.B,a);h.sd.A.sh.call(this,a)};
function bd(a){var c=a.hH;if(null===c&&a.J&&a.J.B)return a.J.B.Kt();c=c||[""];if(0==c.length)throw a=a.xh(),Error("'variableTypes' of field variable "+a+" was an empty list");return c}
function ad(a,c,d){d=d||"";if(null==c||void 0==c)c=null;else if(Array.isArray(c)){for(var e=!1,f=0;f<c.length;f++)c[f]==d&&(e=!0);if(!e)throw Error("Invalid default type '"+d+"' in the definition of a FieldVariable");}else throw Error("'variableTypes' was not an array in the definition of a FieldVariable");a.cE=d;a.hH=c}
h.sd.oE=function(){if(!this.qd)throw Error("Tried to call dropdownCreate on a variable field with no variable selected.");var a=this.xh(),c=[];if(this.J&&this.J.B)for(var d=bd(this),e=0;e<d.length;e++)c=c.concat(this.J.B.Jm(d[e]));c.sort(h.Xl.Hx);d=[];for(e=0;e<c.length;e++)d[e]=[c[e].name,c[e].lb()];d.push([h.o.RENAME_VARIABLE,h.Sw]);h.o.DELETE_VARIABLE&&d.push([h.o.DELETE_VARIABLE.replace("%1",a),h.bw]);return d};
h.sd.prototype.Ez=function(a){a=a.getValue();if(this.J&&this.J.B){if(a==h.Sw){h.na.av(this.J.B,this.qd);return}if(a==h.bw){this.J.B.Fi(this.qd.lb());return}}this.setValue(a)};h.sd.prototype.xq=function(){return!0};h.Le.register("field_variable",h.sd);h.Ib.bc={};h.rb.Math={};h.rb.Math.QB=230;
h.Qs([{type:"math_number",message0:"%1",args0:[{type:"field_number",name:"NUM",value:0}],output:"Number",helpUrl:"%{BKY_MATH_NUMBER_HELPURL}",style:"math_blocks",tooltip:"%{BKY_MATH_NUMBER_TOOLTIP}",extensions:["parent_tooltip_when_inline"]},{type:"math_arithmetic",message0:"%1 %2 %3",args0:[{type:"input_value",name:"A",check:"Number"},{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ADDITION_SYMBOL}","ADD"],["%{BKY_MATH_SUBTRACTION_SYMBOL}","MINUS"],["%{BKY_MATH_MULTIPLICATION_SYMBOL}","MULTIPLY"],
["%{BKY_MATH_DIVISION_SYMBOL}","DIVIDE"],["%{BKY_MATH_POWER_SYMBOL}","POWER"]]},{type:"input_value",name:"B",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ARITHMETIC_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_single",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_SINGLE_OP_ROOT}","ROOT"],["%{BKY_MATH_SINGLE_OP_ABSOLUTE}","ABS"],["-","NEG"],["ln","LN"],["log10","LOG10"],["e^","EXP"],["10^","POW10"]]},{type:"input_value",
name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_SINGLE_HELPURL}",extensions:["math_op_tooltip"]},{type:"math_trig",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_TRIG_SIN}","SIN"],["%{BKY_MATH_TRIG_COS}","COS"],["%{BKY_MATH_TRIG_TAN}","TAN"],["%{BKY_MATH_TRIG_ASIN}","ASIN"],["%{BKY_MATH_TRIG_ACOS}","ACOS"],["%{BKY_MATH_TRIG_ATAN}","ATAN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_TRIG_HELPURL}",
extensions:["math_op_tooltip"]},{type:"math_constant",message0:"%1",args0:[{type:"field_dropdown",name:"CONSTANT",options:[["\u03c0","PI"],["e","E"],["\u03c6","GOLDEN_RATIO"],["sqrt(2)","SQRT2"],["sqrt(\u00bd)","SQRT1_2"],["\u221e","INFINITY"]]}],output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTANT_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTANT_HELPURL}"},{type:"math_number_property",message0:"%1 %2",args0:[{type:"input_value",name:"NUMBER_TO_CHECK",check:"Number"},{type:"field_dropdown",name:"PROPERTY",
options:[["%{BKY_MATH_IS_EVEN}","EVEN"],["%{BKY_MATH_IS_ODD}","ODD"],["%{BKY_MATH_IS_PRIME}","PRIME"],["%{BKY_MATH_IS_WHOLE}","WHOLE"],["%{BKY_MATH_IS_POSITIVE}","POSITIVE"],["%{BKY_MATH_IS_NEGATIVE}","NEGATIVE"],["%{BKY_MATH_IS_DIVISIBLE_BY}","DIVISIBLE_BY"]]}],inputsInline:!0,output:"Boolean",style:"math_blocks",tooltip:"%{BKY_MATH_IS_TOOLTIP}",mutator:"math_is_divisibleby_mutator"},{type:"math_change",message0:"%{BKY_MATH_CHANGE_TITLE}",args0:[{type:"field_variable",name:"VAR",variable:"%{BKY_MATH_CHANGE_TITLE_ITEM}"},
{type:"input_value",name:"DELTA",check:"Number"}],previousStatement:null,nextStatement:null,style:"variable_blocks",helpUrl:"%{BKY_MATH_CHANGE_HELPURL}",extensions:["math_change_tooltip"]},{type:"math_round",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ROUND_OPERATOR_ROUND}","ROUND"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDUP}","ROUNDUP"],["%{BKY_MATH_ROUND_OPERATOR_ROUNDDOWN}","ROUNDDOWN"]]},{type:"input_value",name:"NUM",check:"Number"}],output:"Number",style:"math_blocks",
helpUrl:"%{BKY_MATH_ROUND_HELPURL}",tooltip:"%{BKY_MATH_ROUND_TOOLTIP}"},{type:"math_on_list",message0:"%1 %2",args0:[{type:"field_dropdown",name:"OP",options:[["%{BKY_MATH_ONLIST_OPERATOR_SUM}","SUM"],["%{BKY_MATH_ONLIST_OPERATOR_MIN}","MIN"],["%{BKY_MATH_ONLIST_OPERATOR_MAX}","MAX"],["%{BKY_MATH_ONLIST_OPERATOR_AVERAGE}","AVERAGE"],["%{BKY_MATH_ONLIST_OPERATOR_MEDIAN}","MEDIAN"],["%{BKY_MATH_ONLIST_OPERATOR_MODE}","MODE"],["%{BKY_MATH_ONLIST_OPERATOR_STD_DEV}","STD_DEV"],["%{BKY_MATH_ONLIST_OPERATOR_RANDOM}",
"RANDOM"]]},{type:"input_value",name:"LIST",check:"Array"}],output:"Number",style:"math_blocks",helpUrl:"%{BKY_MATH_ONLIST_HELPURL}",mutator:"math_modes_of_list_mutator",extensions:["math_op_tooltip"]},{type:"math_modulo",message0:"%{BKY_MATH_MODULO_TITLE}",args0:[{type:"input_value",name:"DIVIDEND",check:"Number"},{type:"input_value",name:"DIVISOR",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_MODULO_TOOLTIP}",helpUrl:"%{BKY_MATH_MODULO_HELPURL}"},{type:"math_constrain",
message0:"%{BKY_MATH_CONSTRAIN_TITLE}",args0:[{type:"input_value",name:"VALUE",check:"Number"},{type:"input_value",name:"LOW",check:"Number"},{type:"input_value",name:"HIGH",check:"Number"}],inputsInline:!0,output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_CONSTRAIN_TOOLTIP}",helpUrl:"%{BKY_MATH_CONSTRAIN_HELPURL}"},{type:"math_random_int",message0:"%{BKY_MATH_RANDOM_INT_TITLE}",args0:[{type:"input_value",name:"FROM",check:"Number"},{type:"input_value",name:"TO",check:"Number"}],inputsInline:!0,
output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_INT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_INT_HELPURL}"},{type:"math_random_float",message0:"%{BKY_MATH_RANDOM_FLOAT_TITLE_RANDOM}",output:"Number",style:"math_blocks",tooltip:"%{BKY_MATH_RANDOM_FLOAT_TOOLTIP}",helpUrl:"%{BKY_MATH_RANDOM_FLOAT_HELPURL}"},{type:"math_atan2",message0:"%{BKY_MATH_ATAN2_TITLE}",args0:[{type:"input_value",name:"X",check:"Number"},{type:"input_value",name:"Y",check:"Number"}],inputsInline:!0,output:"Number",
style:"math_blocks",tooltip:"%{BKY_MATH_ATAN2_TOOLTIP}",helpUrl:"%{BKY_MATH_ATAN2_HELPURL}"}]);
h.rb.Math.Xr={ADD:"%{BKY_MATH_ARITHMETIC_TOOLTIP_ADD}",MINUS:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MINUS}",MULTIPLY:"%{BKY_MATH_ARITHMETIC_TOOLTIP_MULTIPLY}",DIVIDE:"%{BKY_MATH_ARITHMETIC_TOOLTIP_DIVIDE}",POWER:"%{BKY_MATH_ARITHMETIC_TOOLTIP_POWER}",ROOT:"%{BKY_MATH_SINGLE_TOOLTIP_ROOT}",ABS:"%{BKY_MATH_SINGLE_TOOLTIP_ABS}",NEG:"%{BKY_MATH_SINGLE_TOOLTIP_NEG}",LN:"%{BKY_MATH_SINGLE_TOOLTIP_LN}",LOG10:"%{BKY_MATH_SINGLE_TOOLTIP_LOG10}",EXP:"%{BKY_MATH_SINGLE_TOOLTIP_EXP}",POW10:"%{BKY_MATH_SINGLE_TOOLTIP_POW10}",
SIN:"%{BKY_MATH_TRIG_TOOLTIP_SIN}",COS:"%{BKY_MATH_TRIG_TOOLTIP_COS}",TAN:"%{BKY_MATH_TRIG_TOOLTIP_TAN}",ASIN:"%{BKY_MATH_TRIG_TOOLTIP_ASIN}",ACOS:"%{BKY_MATH_TRIG_TOOLTIP_ACOS}",ATAN:"%{BKY_MATH_TRIG_TOOLTIP_ATAN}",SUM:"%{BKY_MATH_ONLIST_TOOLTIP_SUM}",MIN:"%{BKY_MATH_ONLIST_TOOLTIP_MIN}",MAX:"%{BKY_MATH_ONLIST_TOOLTIP_MAX}",AVERAGE:"%{BKY_MATH_ONLIST_TOOLTIP_AVERAGE}",MEDIAN:"%{BKY_MATH_ONLIST_TOOLTIP_MEDIAN}",MODE:"%{BKY_MATH_ONLIST_TOOLTIP_MODE}",STD_DEV:"%{BKY_MATH_ONLIST_TOOLTIP_STD_DEV}",RANDOM:"%{BKY_MATH_ONLIST_TOOLTIP_RANDOM}"};
h.qa.register("math_op_tooltip",h.qa.zx(h.rb.Math.Xr));h.rb.Math.VB={uc:function(){var a=h.g.xml.createElement("mutation"),c="DIVISIBLE_BY"==C(this,"PROPERTY");a.setAttribute("divisor_input",c);return a},ge:function(a){a="true"==a.getAttribute("divisor_input");this.Xn(a)},Xn:function(a){var c=y(this,"DIVISOR");a?c||Yb(this,"DIVISOR").bd("Number"):c&&this.lj("DIVISOR")}};h.rb.Math.WB=function(){Ob(qa(this,"PROPERTY"),function(a){a="DIVISIBLE_BY"==a;this.ba().Xn(a)})};
h.qa.Yu("math_is_divisibleby_mutator",h.rb.Math.VB,h.rb.Math.WB);h.qa.register("math_change_tooltip",h.qa.xD());h.rb.Math.dC={vA:function(a){"MODE"==a?this.R.bd("Array"):this.R.bd("Number")},uc:function(){var a=h.g.xml.createElement("mutation");a.setAttribute("op",C(this,"OP"));return a},ge:function(a){this.vA(a.getAttribute("op"))}};h.rb.Math.cC=function(){Ob(qa(this,"OP"),function(a){this.vA(a)}.bind(this))};h.qa.Yu("math_modes_of_list_mutator",h.rb.Math.dC,h.rb.Math.cC);h.pa=function(a,c,d){this.gm=h.pa.UA;this.hj=h.pa.OFFSET;this.EA=h.pa.bD;this.xn=h.pa.LC;h.pa.A.constructor.call(this,a,c,d);this.hq=this.lp=this.mp=this.Yp=this.Dm=this.iy=null};h.g.object.U(h.pa,h.fd);h.pa.prototype.Al=0;h.pa.Z=function(a){return new h.pa(a.angle,void 0,a)};h.pa.prototype.Yj=!0;h.pa.LC=15;h.pa.Yb=50;h.pa.UA=!1;h.pa.OFFSET=0;h.pa.bD=360;h.pa.Vf=h.pa.Yb-1;b=h.pa.prototype;
b.ce=function(a){h.pa.A.ce.call(this,a);switch(a.mode){case "compass":this.gm=!0;this.hj=90;break;case "protractor":this.gm=!1,this.hj=0}var c=a.clockwise;"boolean"==typeof c&&(this.gm=c);c=a.offset;null!=c&&(c=Number(c),isNaN(c)||(this.hj=c));c=a.wrap;null!=c&&(c=Number(c),isNaN(c)||(this.EA=c));a=a.round;null!=a&&(a=Number(a),isNaN(a)||(this.xn=a))};b.Lk=function(){h.pa.A.Lk.call(this);this.iA=h.g.j.O(h.g.G.$r,{},null);this.iA.appendChild(document.createTextNode("\u00b0"));this.zc.appendChild(this.iA)};
b.nj=function(){h.pa.A.nj.call(this);cd(this)};b.rj=function(a){h.pa.A.rj.call(this,a,h.g.userAgent.Hw||h.g.userAgent.Ej||h.g.userAgent.pi);this.mt();h.F.uy().appendChild(this.iy);h.F.Jd(this.J.style.hg,this.J.style.lf);h.F.cA(this,this.nt.bind(this));cd(this)};
b.mt=function(){var a=h.g.j.O(h.g.G.ah,{xmlns:h.g.j.Sl,"xmlns:html":h.g.j.Fo,"xmlns:xlink":h.g.j.Ee,version:"1.1",height:2*h.pa.Yb+"px",width:2*h.pa.Yb+"px",style:"touch-action: none"},null),c=h.g.j.O(h.g.G.$q,{cx:h.pa.Yb,cy:h.pa.Yb,r:h.pa.Vf,"class":"blocklyAngleCircle"},a);this.Dm=h.g.j.O(h.g.G.Ud,{"class":"blocklyAngleGauge"},a);this.Yp=h.g.j.O(h.g.G.ri,{x1:h.pa.Yb,y1:h.pa.Yb,"class":"blocklyAngleLine"},a);for(var d=0;360>d;d+=15)h.g.j.O(h.g.G.ri,{x1:h.pa.Yb+h.pa.Vf,y1:h.pa.Yb,x2:h.pa.Yb+h.pa.Vf-
(0==d%45?10:5),y2:h.pa.Yb,"class":"blocklyAngleMarks",transform:"rotate("+d+","+h.pa.Yb+","+h.pa.Yb+")"},a);this.mp=h.P.Aa(a,"click",this,this.cF);this.lp=h.P.Aa(c,"click",this,this.jn,!0,!0);this.hq=h.P.Aa(c,"mousemove",this,this.jn,!0,!0);this.iy=a};b.nt=function(){this.mp&&(h.P.gb(this.mp),this.mp=null);this.lp&&(h.P.gb(this.lp),this.lp=null);this.hq&&(h.P.gb(this.hq),this.hq=null);this.Yp=this.Dm=null};b.cF=function(){h.F.Kk(this);h.W.Ra()};
b.jn=function(a){var c=this.Dm.ownerSVGElement.getBoundingClientRect(),d=a.clientX-c.left-h.pa.Yb;a=a.clientY-c.top-h.pa.Yb;c=Math.atan(-a/d);isNaN(c)||(c=h.g.bc.lA(c),0>d?c+=180:0<a&&(c+=360),c=this.gm?this.hj+360-c:360-(this.hj-c),dd(this,c))};function dd(a,c){a.xn&&(c=Math.round(c/a.xn)*a.xn);c=ed(a,c);c!=a.dd&&(a.vg=!0,a.Ok&&(a.Fd.value=String(c)),a.setValue(c))}
function cd(a){if(a.Dm){var c=Number(a.xh())+a.hj,d=h.g.bc.vj(c%360);c=["M ",h.pa.Yb,",",h.pa.Yb];var e=h.pa.Yb,f=h.pa.Yb;if(!isNaN(d)){var g=Number(a.gm),k=h.g.bc.vj(a.hj),l=Math.cos(k)*h.pa.Vf,m=Math.sin(k)*-h.pa.Vf;g&&(d=2*k-d);e+=Math.cos(d)*h.pa.Vf;f-=Math.sin(d)*h.pa.Vf;d=Math.abs(Math.floor((d-k)/Math.PI)%2);g&&(d=1-d);c.push(" l ",l,",",m," A ",h.pa.Vf,",",h.pa.Vf," 0 ",d," ",g," ",e,",",f," z")}a.Dm.setAttribute("d",c.join(""));a.Yp.setAttribute("x2",e);a.Yp.setAttribute("y2",f)}}
b.Eu=function(a){h.pa.A.Eu.call(this,a);var c;a.keyCode===h.g.ea.Gb?c=this.J.M?1:-1:a.keyCode===h.g.ea.nc?c=this.J.M?-1:1:a.keyCode===h.g.ea.xo?c=-1:a.keyCode===h.g.ea.Ul&&(c=1);if(c){var d=this.getValue();dd(this,d+c*this.xn);a.preventDefault();a.stopPropagation()}};b.Gi=function(a){a=Number(a);return isNaN(a)||!isFinite(a)?null:ed(this,a)};function ed(a,c){c%=360;0>c&&(c+=360);c>a.EA&&(c-=360);return c}h.Md.register(".blocklyAngleCircle {,stroke: #444;,stroke-width: 1;,fill: #ddd;,fill-opacity: .8;,},.blocklyAngleMarks {,stroke: #444;,stroke-width: 1;,},.blocklyAngleGauge {,fill: #f88;,fill-opacity: .8;,pointer-events: none;,},.blocklyAngleLine {,stroke: #f00;,stroke-width: 2;,stroke-linecap: round;,pointer-events: none;,}".split(","));
h.Le.register("field_angle",h.pa);h.Generator=function(a){this.gn=a;this.GB=new RegExp(this.Sg,"g")};b=h.Generator.prototype;b.ak=null;b.Xf=null;b.Ho="  ";b.WA=60;b.Po=[];b.Pp=null;function fd(a,c){return c+a.replace(/(?!\n$)\n/g,"\n"+c)}
function gd(a,c){!1===a.Pp&&console.warn("Generator init was not called before blockToCode was called.");if(!c)return"";if(!c.isEnabled())return gd(a,t(c));if(c.nd())return gd(a,ka(c,!1)[0]);var d=a[c.type];if("function"!=typeof d)throw Error('Language "'+a.gn+'" does not know how to generate code for block type "'+c.type+'".');d=d.call(c,c);if(Array.isArray(d)){if(!c.R)throw TypeError("Expecting string from statement block: "+c.type);return[a.hv(c,d[0]),d[1]]}if("string"==typeof d)return a.ak&&!c.Lq&&
(d=hd(a.ak,c)+d),a.Xf&&!c.Lq&&(d+=hd(a.Xf,c)),a.hv(c,d);if(null===d)return"";throw SyntaxError("Invalid code generated: "+d);}
function Q(a,c,d,e){if(isNaN(e))throw TypeError("Expecting valid order from block: "+c.type);var f=cc(c,d);if(!f)return"";d=gd(a,f);if(""===d)return"";if(!Array.isArray(d))throw TypeError("Expecting tuple from value block: "+f.type);c=d[0];d=d[1];if(isNaN(d))throw TypeError("Expecting valid order from value block: "+f.type);if(!c)return"";f=!1;var g=Math.floor(e),k=Math.floor(d);if(g<=k&&(g!=k||0!=g&&99!=g))for(f=!0,g=0;g<a.Po.length;g++)if(a.Po[g][0]==e&&a.Po[g][1]==d){f=!1;break}f&&(c="("+c+")");
return c}function id(a,c){var d=h.s;a=cc(a,c);c=gd(d,a);if("string"!=typeof c)throw TypeError("Expecting code from statement block: "+(a&&a.type));c&&(c=fd(c,d.Ho));return c}function hd(a,c){c=c.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+c+"'")}b.Nr="";function jd(a,c){a.Nr+=c+","}b.Sg="{leCUI8hutHZI4480Dc}";
Object.defineProperty(h.Generator.prototype,"variableDB_",{get:function(){h.g.xk.warn("variableDB_","May 2021","May 2026","nameDB_");return this.oe},set:function(a){h.g.xk.warn("variableDB_","May 2021","May 2026","nameDB_");this.oe=a}});function kd(a,c){var d=h.s;if(!d.rm[a]){var e=Rc(d.oe,a,h.Qo);d.vt[a]=e;c=c.join("\n").replace(d.GB,e);for(var f;f!=c;)f=c,c=c.replace(/^(( {2})*) {2}/gm,"$1\x00");c=c.replace(/\0/g,d.Ho);d.rm[a]=c}return d.vt[a]}
h.Generator.prototype.Ca=function(){this.rm=Object.create(null);this.vt=Object.create(null)};h.Generator.prototype.hv=function(a,c){return c};h.Generator.prototype.finish=function(a){delete this.rm;delete this.vt;return a};h.Generator.prototype.$z=function(a){return a};h.s=new h.Generator("JavaScript");jd(h.s,"break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(h.g.global).join(","));h.s.Er=0;h.s.TJ=1.1;h.s.Tf=1.2;h.s.ud=2;h.s.RJ=3;h.s.NJ=3;h.s.IJ=4.1;h.s.VJ=4.2;h.s.Pl=4.3;h.s.Fr=4.4;
h.s.UJ=4.5;h.s.WJ=4.6;h.s.OJ=4.7;h.s.GJ=4.8;h.s.PJ=5;h.s.Hr=5.1;h.s.Nl=5.2;h.s.Ol=5.3;h.s.Ir=6.1;h.s.Vj=6.2;h.s.KJ=7;h.s.Nw=8;h.s.QJ=8;h.s.SJ=8;h.s.Mw=9;h.s.HJ=10;h.s.LJ=11;h.s.JJ=12;h.s.Oo=13;h.s.Gr=14;h.s.No=15;h.s.FJ=16;h.s.XJ=17;h.s.MJ=18;h.s.Zb=99;h.s.Po=[[h.s.ud,h.s.Tf],[h.s.ud,h.s.ud],[h.s.Tf,h.s.Tf],[h.s.Tf,h.s.ud],[h.s.Fr,h.s.Fr],[h.s.Hr,h.s.Hr],[h.s.Vj,h.s.Vj],[h.s.Oo,h.s.Oo],[h.s.Gr,h.s.Gr]];h.s.Pp=!1;
h.s.Ca=function(a){Object.getPrototypeOf(this).Ca.call(this);this.oe?this.oe.reset():this.oe=new h.Td(this.Nr);this.oe.pv(a.Ja);for(var c=this.oe,d=h.na.ks(a),e=0;e<d.length;e++)Qc(c,d[e].lb(),h.ih);c=this.oe;d=h.Ua.vx(a);d=d[0].concat(d[1]);for(e=0;e<d.length;e++)Qc(c,d[e][0],h.Qo);c=[];e=h.na.iD(a);for(d=0;d<e.length;d++)c.push(Qc(this.oe,e[d],h.Td.gr));a=h.na.ks(a);for(d=0;d<a.length;d++)c.push(Qc(this.oe,a[d].lb(),h.ih));c.length&&(this.rm.variables="var "+c.join(", ")+";");this.Pp=!0};
h.s.finish=function(a){var c=h.g.object.values(this.rm);a=Object.getPrototypeOf(this).finish.call(this,a);this.Pp=!1;this.oe.reset();return c.join("\n\n")+"\n\n\n"+a};h.s.$z=function(a){return a+";\n"};h.s.cG=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};h.s.wL=function(a){return a.split(/\n/g).map(this.cG).join(" + '\\n' +\n")};
h.s.hv=function(a,c){var d="";if(!a.R||!a.R.ua){var e=a.Ie.text;e&&(e=h.g.eb.CA(e,this.WA-3),d+=fd(e+"\n","// "));for(var f=0;f<a.V.length;f++)if(a.V[f].type==h.Ga.jf){var g=a.V[f].connection.sa();if(g){e=[];g=r(g,!0);for(var k=0;k<g.length;k++){var l=g[k].Ie.text;l&&e.push(l)}e.length&&e.push("");(e=e.join("\n"))&&(d+=fd(e,"// "))}}}a=a.$&&a.$.sa();a=gd(this,a);return d+c+a};
h.s.dL=function(a,c,d,e,f){d=d||0;f=f||this.Zb;a.B.options.pq&&d--;var g=a.B.options.pq?"1":"0";a=0<d?Q(this,a,c,this.Vj)||g:0>d?Q(this,a,c,this.Ir)||g:e?Q(this,a,c,this.Pl)||g:Q(this,a,c,f)||g;if(h.mF(a))a=Number(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=this.Vj}else 0>d&&(a=a+" - "+-d,k=this.Ir);e&&(a=d?"-("+a+")":"-"+a,k=this.Pl);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};h.s.sF={};h.s.controls_if=function(a){var c=0,d="";h.s.ak&&(d+=hd(h.s.ak,a));do{var e=Q(h.s,a,"IF"+c,h.s.Zb)||"false";var f=id(a,"DO"+c);h.s.Xf&&(f=fd(hd(h.s.Xf,a),h.s.Ho)+f);d+=(0<c?" else ":"")+"if ("+e+") {\n"+f+"}";++c}while(y(a,"IF"+c));if(y(a,"ELSE")||h.s.Xf)f=id(a,"ELSE"),h.s.Xf&&(f=fd(hd(h.s.Xf,a),h.s.Ho)+f),d+=" else {\n"+f+"}";return d+"\n"};h.s.controls_ifelse=h.s.controls_if;
h.s.logic_compare=function(a){var c={EQ:"==",NEQ:"!=",LT:"<",LTE:"<=",GT:">",GTE:">="}[C(a,"OP")],d="=="==c||"!="==c?h.s.Mw:h.s.Nw,e=Q(h.s,a,"A",d)||"0";a=Q(h.s,a,"B",d)||"0";return[e+" "+c+" "+a,d]};h.s.logic_operation=function(a){var c="AND"==C(a,"OP")?"&&":"||",d="&&"==c?h.s.Oo:h.s.Gr,e=Q(h.s,a,"A",d);a=Q(h.s,a,"B",d);if(e||a){var f="&&"==c?"true":"false";e||(e=f);a||(a=f)}else a=e="false";return[e+" "+c+" "+a,d]};
h.s.logic_negate=function(a){var c=h.s.Fr;return["!"+(Q(h.s,a,"BOOL",c)||"true"),c]};h.s.logic_boolean=function(a){return["TRUE"==C(a,"BOOL")?"true":"false",h.s.Er]};h.s.logic_ternary=function(a){var c=Q(h.s,a,"IF",h.s.No)||"false",d=Q(h.s,a,"THEN",h.s.No)||"null";a=Q(h.s,a,"ELSE",h.s.No)||"null";return[c+" ? "+d+" : "+a,h.s.No]};h.s.bc={};h.s.math_number=function(a){a=Number(C(a,"NUM"));return[a,0<=a?h.s.Er:h.s.Pl]};h.s.math_arithmetic=function(a){var c={ADD:[" + ",h.s.Vj],MINUS:[" - ",h.s.Ir],MULTIPLY:[" * ",h.s.Hr],DIVIDE:[" / ",h.s.Nl],POWER:[null,h.s.Zb]}[C(a,"OP")],d=c[0];c=c[1];var e=Q(h.s,a,"A",c)||"0";a=Q(h.s,a,"B",c)||"0";return d?[e+d+a,c]:["Math.pow("+e+", "+a+")",h.s.ud]};
h.s.math_single=function(a){var c=C(a,"OP");if("NEG"==c)return a=Q(h.s,a,"NUM",h.s.Pl)||"0","-"==a[0]&&(a=" "+a),["-"+a,h.s.Pl];a="SIN"==c||"COS"==c||"TAN"==c?Q(h.s,a,"NUM",h.s.Nl)||"0":Q(h.s,a,"NUM",h.s.Zb)||"0";switch(c){case "ABS":var d="Math.abs("+a+")";break;case "ROOT":d="Math.sqrt("+a+")";break;case "LN":d="Math.log("+a+")";break;case "EXP":d="Math.exp("+a+")";break;case "POW10":d="Math.pow(10,"+a+")";break;case "ROUND":d="Math.round("+a+")";break;case "ROUNDUP":d="Math.ceil("+a+")";break;
case "ROUNDDOWN":d="Math.floor("+a+")";break;case "SIN":d="Math.sin("+a+" / 180 * Math.PI)";break;case "COS":d="Math.cos("+a+" / 180 * Math.PI)";break;case "TAN":d="Math.tan("+a+" / 180 * Math.PI)"}if(d)return[d,h.s.ud];switch(c){case "LOG10":d="Math.log("+a+") / Math.log(10)";break;case "ASIN":d="Math.asin("+a+") / Math.PI * 180";break;case "ACOS":d="Math.acos("+a+") / Math.PI * 180";break;case "ATAN":d="Math.atan("+a+") / Math.PI * 180";break;default:throw Error("Unknown math operator: "+c);}return[d,
h.s.Nl]};h.s.math_constant=function(a){return{PI:["Math.PI",h.s.Tf],E:["Math.E",h.s.Tf],GOLDEN_RATIO:["(1 + Math.sqrt(5)) / 2",h.s.Nl],SQRT2:["Math.SQRT2",h.s.Tf],SQRT1_2:["Math.SQRT1_2",h.s.Tf],INFINITY:["Infinity",h.s.Er]}[C(a,"CONSTANT")]};
h.s.math_number_property=function(a){var c=Q(h.s,a,"NUMBER_TO_CHECK",h.s.Ol)||"0",d=C(a,"PROPERTY");if("PRIME"==d){var e=kd("mathIsPrime",["function "+h.s.Sg+"(n) {","  // https://en.wikipedia.org/wiki/Primality_test#Naive_methods","  if (n == 2 || n == 3) {","    return true;","  }","  // False if n is NaN, negative, is 1, or not whole.","  // And false if n is divisible by 2 or 3.","  if (isNaN(n) || n <= 1 || n % 1 != 0 || n % 2 == 0 || n % 3 == 0) {","    return false;","  }","  // Check all the numbers of form 6k +/- 1, up to sqrt(n).",
"  for (var x = 6; x <= Math.sqrt(n) + 1; x += 6) {","    if (n % (x - 1) == 0 || n % (x + 1) == 0) {","      return false;","    }","  }","  return true;","}"])+"("+c+")";return[e,h.s.ud]}switch(d){case "EVEN":e=c+" % 2 == 0";break;case "ODD":e=c+" % 2 == 1";break;case "WHOLE":e=c+" % 1 == 0";break;case "POSITIVE":e=c+" > 0";break;case "NEGATIVE":e=c+" < 0";break;case "DIVISIBLE_BY":a=Q(h.s,a,"DIVISOR",h.s.Ol)||"0",e=c+" % "+a+" == 0"}return[e,h.s.Mw]};
h.s.math_change=function(a){var c=Q(h.s,a,"DELTA",h.s.Vj)||"0";a=Qc(h.s.oe,C(a,"VAR"),h.ih);return a+" = (typeof "+a+" == 'number' ? "+a+" : 0) + "+c+";\n"};h.s.math_round=h.s.math_single;h.s.math_trig=h.s.math_single;
h.s.math_on_list=function(a){var c=C(a,"OP");switch(c){case "SUM":a=Q(h.s,a,"LIST",h.s.Tf)||"[]";a+=".reduce(function(x, y) {return x + y;})";break;case "MIN":a=Q(h.s,a,"LIST",h.s.Zb)||"[]";a="Math.min.apply(null, "+a+")";break;case "MAX":a=Q(h.s,a,"LIST",h.s.Zb)||"[]";a="Math.max.apply(null, "+a+")";break;case "AVERAGE":c=kd("mathMean",["function "+h.s.Sg+"(myList) {","  return myList.reduce(function(x, y) {return x + y;}) / myList.length;","}"]);a=Q(h.s,a,"LIST",h.s.Zb)||"[]";a=c+"("+a+")";break;
case "MEDIAN":c=kd("mathMedian",["function "+h.s.Sg+"(myList) {","  var localList = myList.filter(function (x) {return typeof x == 'number';});","  if (!localList.length) return null;","  localList.sort(function(a, b) {return b - a;});","  if (localList.length % 2 == 0) {","    return (localList[localList.length / 2 - 1] + localList[localList.length / 2]) / 2;","  } else {","    return localList[(localList.length - 1) / 2];","  }","}"]);a=Q(h.s,a,"LIST",h.s.Zb)||"[]";a=c+"("+a+")";break;case "MODE":c=
kd("mathModes",["function "+h.s.Sg+"(values) {","  var modes = [];","  var counts = [];","  var maxCount = 0;","  for (var i = 0; i < values.length; i++) {","    var value = values[i];","    var found = false;","    var thisCount;","    for (var j = 0; j < counts.length; j++) {","      if (counts[j][0] === value) {","        thisCount = ++counts[j][1];","        found = true;","        break;","      }","    }","    if (!found) {","      counts.push([value, 1]);","      thisCount = 1;","    }","    maxCount = Math.max(thisCount, maxCount);",
"  }","  for (var j = 0; j < counts.length; j++) {","    if (counts[j][1] == maxCount) {","        modes.push(counts[j][0]);","    }","  }","  return modes;","}"]);a=Q(h.s,a,"LIST",h.s.Zb)||"[]";a=c+"("+a+")";break;case "STD_DEV":c=kd("mathStandardDeviation",["function "+h.s.Sg+"(numbers) {","  var n = numbers.length;","  if (!n) return null;","  var mean = numbers.reduce(function(x, y) {return x + y;}) / n;","  var variance = 0;","  for (var j = 0; j < n; j++) {","    variance += Math.pow(numbers[j] - mean, 2);",
"  }","  variance = variance / n;","  return Math.sqrt(variance);","}"]);a=Q(h.s,a,"LIST",h.s.Zb)||"[]";a=c+"("+a+")";break;case "RANDOM":c=kd("mathRandomList",["function "+h.s.Sg+"(list) {","  var x = Math.floor(Math.random() * list.length);","  return list[x];","}"]);a=Q(h.s,a,"LIST",h.s.Zb)||"[]";a=c+"("+a+")";break;default:throw Error("Unknown operator: "+c);}return[a,h.s.ud]};h.s.math_modulo=function(a){var c=Q(h.s,a,"DIVIDEND",h.s.Ol)||"0";a=Q(h.s,a,"DIVISOR",h.s.Ol)||"0";return[c+" % "+a,h.s.Ol]};
h.s.math_constrain=function(a){var c=Q(h.s,a,"VALUE",h.s.Zb)||"0",d=Q(h.s,a,"LOW",h.s.Zb)||"0";a=Q(h.s,a,"HIGH",h.s.Zb)||"Infinity";return["Math.min(Math.max("+c+", "+d+"), "+a+")",h.s.ud]};
h.s.math_random_int=function(a){var c=Q(h.s,a,"FROM",h.s.Zb)||"0";a=Q(h.s,a,"TO",h.s.Zb)||"0";return[kd("mathRandomInt",["function "+h.s.Sg+"(a, b) {","  if (a > b) {","    // Swap a and b to ensure a is smaller.","    var c = a;","    a = b;","    b = c;","  }","  return Math.floor(Math.random() * (b - a + 1) + a);","}"])+"("+c+", "+a+")",h.s.ud]};h.s.math_random_float=function(){return["Math.random()",h.s.ud]};
h.s.math_atan2=function(a){var c=Q(h.s,a,"X",h.s.Zb)||"0";return["Math.atan2("+(Q(h.s,a,"Y",h.s.Zb)||"0")+", "+c+") / Math.PI * 180",h.s.Nl]};var ld={am:"\u12a0\u121b\u122d\u129b",ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",ca:"Catal\u00e0",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",
fi:"Suomi",fo:"F\u00f8royskt",fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"\u0939\u093f\u0928\u094d\u0926\u0940",hr:"Hrvatski",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",kn:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",
nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438","sr-latn":"Srpski",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",
ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},md="ace ar fa he mzn ps ur".split(" "),R=window.BlocklyGamesLang,nd=window.BlocklyGamesLanguages,od=/\.html$/.test(window.location.pathname);
function pd(a){try{if(0!=a.lineno||0!=a.colno){var c=Date.now();if(!(pd.gz+1E4>c)){pd.gz=c;var d=new XMLHttpRequest,e="error="+encodeURIComponent(a.message+" "+a.filename+" "+a.lineno+":"+a.colno)+"&amp;url="+encodeURIComponent(window.location);d.open("POST","/errorReporter");d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");d.send(e);console.log("Error reported.")}}}catch(f){console.log(a.error)}}pd.gz=0;od||window.addEventListener("error",pd);
var S,qd=Math,rd=qd.floor,sd=Number,td,ud=window.location.search.match(RegExp("[?&]level=([^&]+)"));td=ud?decodeURIComponent(ud[1].replace(/\+/g,"%20")):"NaN";var vd=rd.call(qd,sd(td));S=isNaN(vd)?1:h.g.bc.fm(1,vd,10);
function wd(){document.title=document.getElementById("title").textContent;document.dir=-1!=md.indexOf(R)?"rtl":"ltr";document.head.parentElement.setAttribute("lang",R);var a=document.getElementById("languageMenu");if(a){for(var c=[],d=0;d<nd.length;d++){var e=nd[d];c.push([ld[e],e])}c.sort(function(g,k){return g[0]>k[0]?1:g[0]<k[0]?-1:0});for(d=a.options.length=0;d<c.length;d++){var f=c[d];e=f[1];f=new Option(f[0],e);e==R&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display="none")}for(d=
1;10>=d;d++)a=document.getElementById("level"+d),c=!!xd(d),a&&c&&(a.className+=" level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=725, initial-scale=.35, user-scalable=no");setTimeout(yd,1)}function xd(a){var c=zd;try{var d=window.localStorage[c+a]}catch(e){}return d}function T(a){var c;(c=document.getElementById(a))?(c=c.textContent,c=c.replace(/\\n/g,"\n")):c=null;return null===c?"[Unknown message: "+a+"]":c}
function Ad(a,c){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",function(d){d.preventDefault();c(d)},!0)}function Bd(a){a%=360;0>a&&(a+=360);return a}
function yd(){if(!od){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var c=document.createElement("script");c.async=1;c.src="//www.google-analytics.com/analytics.js";document.head.appendChild(c);a("create","UA-50448074-1","auto");a("send","pageview")}};var Cd,U,Dd,Ed,Fd,Gd;h.Ib.bird_noWorm={Ca:function(){Zb(this,{message0:T("Bird_noWorm"),output:"Boolean",colour:330,tooltip:T("Bird_noWormTooltip")})}};h.s.bird_noWorm=function(){return["noWorm()",h.s.ud]};h.Ib.bird_heading={Ca:function(){this.Jd(290);K(K(this.Fe(h.Ga.Nd,""),T("Bird_heading")),new h.pa("90"),"ANGLE");this.Cn(!0);this.ue(T("Bird_headingTooltip"))}};h.s.bird_heading=function(a){return"heading("+Number(C(a,"ANGLE"))+", 'block_id_"+a.id+"');\n"};
h.Ib.bird_position={Ca:function(){Zb(this,{message0:"%1",args0:[{type:"field_dropdown",name:"XY",options:[["x","X"],["y","Y"]]}],output:"Number",colour:330,tooltip:T("Bird_positionTooltip")})}};h.s.bird_position=function(a){return["get"+C(a,"XY").charAt(0)+"()",h.s.ud]};
h.Ib.bird_compare={Ca:function(){this.sg=h.o.LOGIC_COMPARE_HELPURL;this.Jd(h.o.LOGIC_HUE);this.Bn(!0,"Boolean");Yb(this,"A").bd("Number");K(Yb(this,"B").bd("Number"),new h.sb([["\u200f<","LT"],["\u200f>","GT"]]),"OP");this.Eg(!0);var a=this;this.ue(function(){var c=C(a,"OP");return{LT:h.o.LOGIC_COMPARE_TOOLTIP_LT,GT:h.o.LOGIC_COMPARE_TOOLTIP_GT}[c]})}};h.s.bird_compare=function(a){var c="LT"==C(a,"OP")?"<":">",d=h.s.Nw,e=Q(h.s,a,"A",d)||"0";a=Q(h.s,a,"B",d)||"0";return[e+" "+c+" "+a,d]};
h.Ib.bird_and={Ca:function(){this.sg=h.o.LOGIC_OPERATION_HELPURL;this.Jd(h.o.LOGIC_HUE);this.Bn(!0,"Boolean");Yb(this,"A").bd("Boolean");K(Yb(this,"B").bd("Boolean"),h.o.LOGIC_OPERATION_AND);this.Eg(!0);this.ue(h.o.LOGIC_OPERATION_TOOLTIP_AND)}};h.s.bird_and=function(a){var c=h.s.Oo,d=Q(h.s,a,"A",c);a=Q(h.s,a,"B",c);d||a?(d||(d="true"),a||(a="true")):a=d="false";return[d+" && "+a,c]};
h.Ib.bird_ifElse={Ca:function(){this.sg=h.o.CONTROLS_IF_HELPURL;this.Jd(h.o.LOGIC_HUE);K(Yb(this,"CONDITION"),h.o.CONTROLS_IF_MSG_IF).bd("Boolean");K(this.Fe(h.Ga.Dc,"DO"),h.o.CONTROLS_IF_MSG_THEN);K(this.Fe(h.Ga.Dc,"ELSE"),h.o.CONTROLS_IF_MSG_ELSE);this.sm=!1;this.ue(h.o.CONTROLS_IF_TOOLTIP_2)}};h.s.bird_ifElse=function(a){var c=Q(h.s,a,"CONDITION",h.s.Zb)||"false",d=id(a,"DO");a=id(a,"ELSE");return"if ("+c+") {\n"+d+"} else {\n"+a+"}\n"};h.Ib.controls_if.KF=h.Ib.controls_if.Ca;
h.Ib.controls_if.Ca=function(){this.KF();this.Cn(!1);this.Dq(!1);this.sm=!1};var Hd=Hd||{};function Id(a,c){function d(){}d.prototype=c.prototype;a.A=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.MK=function(e,f,g){return c.prototype[f].apply(e,Array.prototype.slice.call(arguments,2))}}if(!Jd){var Jd,Kd="";"undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(Kd=navigator.userAgent);var Ld=0==Kd.indexOf("Opera");Jd={vL:{vI:"ScriptEngine"in window},EJ:Ld,Be:!Ld&&-1!=Kd.indexOf("MSIE"),ix:!Ld&&-1!=Kd.indexOf("WebKit")}}if(!Md)var Md={};
if(!Nd)var Nd={};if(!Od)var Od={};if(!Pd)var Pd={};if(!Qd)var Qd={};if(!Rd)var Rd={};var Sd=Hd.KH?{GL:!0}:{};function Td(){throw Error("Do not instantiate directly");}Td.prototype.Nx=null;Td.prototype.toString=function(){return this.content};function Ud(a){if(null!=a)switch(a.Nx){case 1:return 1;case -1:return-1;case 0:return 0}return null}function Vd(){Td.call(this)}Id(Vd,Td);Vd.prototype.UD=Sd;function V(a){return null!=a&&a.UD===Sd?a:Wd(String(String(a)).replace(Xd,Yd),Ud(a))}
var Wd=function(a){function c(){}c.prototype=a.prototype;return function(d,e){var f=new c;f.content=String(d);void 0!==e&&(f.Nx=e);return f}}(Vd),Zd={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};function Yd(a){return Zd[a]}var Xd=/[\x00\x22\x26\x27\x3c\x3e]/g;function $d(){var a='<table width="100%"><tr><td><h1><span id="title">'+((od?'<a href="index.html?lang='+V(R)+'">':'<a href="./?lang='+V(R)+'">')+"Blockly Games</a> : "+V("Bird")+"</span>");if(S){var c=" &nbsp; ";for(var d=1;11>d;d++){var e="?lang="+V(R)+"&level="+V(d);c+=" "+(d==S?'<span class="level_number level_done" id="level'+V(d)+'">'+V(d)+"</span>":10==d?'<a class="level_number" id="level'+V(d)+'" href="'+V(e)+'">'+V(d)+"</a>":'<a class="level_dot" id="level'+V(d)+'" href="'+V(e)+'"></a>')}}else c=
"";return'<div style="display: none"><span id="Games_name">Blockly Games</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">Movie</span><span id="Games_music">Music</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of JavaScript:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Bird_noWorm">does not have worm</span><span id="Bird_heading">heading</span><span id="Bird_noWormTooltip">The condition when the bird has not gotten the worm.</span><span id="Bird_headingTooltip">Move in the direction of the given angle: 0 is to the right, 90 is straight up, etc.</span><span id="Bird_positionTooltip">x and y mark the bird\'s position. When x = 0 the bird is near the left edge, when x = 100 it\'s near the right edge. When y = 0 the bird is at the bottom, when y = 100 it\'s at the top.</span></div>'+
(a+c+'</h1></td><td id="header_cta" class="farSide"><select id="languageMenu"></select>&nbsp;<button id="linkButton" title="Save and link to blocks."><img src="common/1x1.gif" class="link icon21"></button></td></tr></table><div id="visualization"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgBird" width="400px" height="400px"></svg></div><table width="400"><tr><td style="width: 190px;"></td><td><button id="runButton" class="primary" title="Run the program you wrote."><img src="common/1x1.gif" class="run icon21"> Run Program</button><button id="resetButton" class="primary" style="display: none" title="Stop the program and reset the level."><img src="common/1x1.gif" class="stop icon21"> Reset</button></td></tr></table><xml id="toolbox" xmlns="https://developers.google.com/blockly/xml"><block type="bird_heading"></block>')+
((2<=S?(4==S||5==S?'<block type="bird_noWorm" disabled="true"></block>':'<block type="bird_noWorm"></block>')+(4<=S?'<block type="bird_compare"><field name="OP">LT</field><value name="A"><block type="bird_position" movable="false"><field name="XY">X</field></block></value><value name="B"><block type="math_number" movable="false"><field name="NUM">50</field></block></value></block>'+(5<=S?'<block type="bird_compare"><field name="OP">LT</field><value name="A"><block type="bird_position" movable="false"><field name="XY">Y</field></block></value><value name="B"><block type="math_number" movable="false"><field name="NUM">50</field></block></value></block>'+
(8<=S?'<block type="bird_and"></block>':""):""):""):"")+'</xml><div id="blockly"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">Congratulations!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneCancel" class="dialogCancel"></button><button id="doneOk" class="secondary dialogOk"></button></div></div><div id="dialogAbort" class="dialogHiddenContent">This level is extremely difficult. Would you like to skip it and go onto the next game? You can always come back later.<div class="farSide" style="padding: 1ex 3ex 0"><button id="abortCancel" class="dialogCancel"></button><button id="abortOk" class="secondary dialogOk"></button></div></div><div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div><div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary dialogOk" onclick="BlocklyDialogs.hideDialog(true)"></button></div></div><div id="dialogHelp" class="dialogHiddenContent">')+
(1==S?'<table><tr><td rowspan=2><img src="common/help.png"></td><td><div class="farSide"><img src="bird/help_heading.png" class="mirrorImg" height=27 width=141></div></td></tr><tr><td>Change the heading angle to make the bird get the worm and land in her nest.</td></tr></table>':2==S?'<table><tr><td><img src="common/help.png"></td><td>Use this block to go in one heading if you have the worm, or a different heading if you don\'t have the worm.</td><td><img src="bird/help_up.png"></td></tr></table>':
4==S?"<table><tr><td><img src=\"common/help.png\"></td><td>'x' is your current horizontal position. Use this block to go in one heading if 'x' is less than a number, or a different heading otherwise.</td><td><img src=\"bird/help_up.png\"></td></tr></table>":5==S?'<table><tr><td><img src="bird/help_up.png"></td><td>Click the icon to modify the \'if\' block.</td><td><img src="common/help.png"></td></tr></table>':6==S?"<table><tr><td><img src=\"bird/help_up.png\"></td><td>This level needs both an 'else if' and an 'else' block.</td><td><img src=\"common/help.png\"></td></tr></table>":
8==S?'<table><tr><td><img src="bird/help_up.png"></td><td>The \'and\' block is true only if both its inputs are true.</td><td><img src="common/help.png"></td></tr></table>':"")+"</div>"+(5==S?'<div id="dialogMutatorHelp" class="dialogHiddenContent"><table><tr><td><img src="bird/help_mutator.png" class="mirrorImg" height=58 width=107></td><td>Drag an \'else\' block into the \'if\' block.</td></tr></table></div>':"")};h.EI=function(){};h.KI=function(){};h.Ao=function(){};h.Ao.prototype.Bu=function(){};h.Ao.prototype.Au=function(){};h.Ao.prototype.Cu=function(){};h.JI=function(){};h.zo=function(){h.zo.A.constructor.call(this);this.Sq=!1};h.g.object.U(h.zo,h.Ao);function ib(a,c,d){c instanceof h.fb?(c=!c.getParent()&&c.Bf(),a.Sq=c&&!d):a.Sq=c.Bf();return a.Sq};h.h.gh=function(a,c){h.h.gh.A.constructor.call(this,c);this.Tk=a};h.g.object.U(h.h.gh,h.h.Wd);h.h.gh.prototype.type=h.h.Zr;h.h.gh.prototype.va=function(){var a=h.h.gh.A.va.call(this);a.isOpen=this.Tk;return a};h.h.gh.prototype.Z=function(a){h.h.gh.A.Z.call(this,a);this.Tk=a.isOpen};h.C.register(h.C.T.Jb,h.h.Zr,h.h.gh);h.AI=function(){};h.TI=function(){};h.cc={};h.cc.Qq={eh:0,Fj:1};h.cc.Rt={Gb:0,nc:1};h.cc.ys={Ul:0,xo:1};h.cc.PE=function(a,c,d,e,f,g){var k=g.Xa&&!!g.Xa.Ya;a.Nm===h.cc.Rt.Gb?(d=f.Zo.left+d,k&&g.M&&(d+=h.Oa.wc)):(d=f.Zo.left+f.zA.width-c.width-d,k&&!g.M&&(d-=h.Oa.wc));a.vertical===h.cc.Qq.eh?a=f.Zo.top+e:(a=f.Zo.top+f.zA.height-c.height-e,g.Xa&&g.Xa.mb&&(a-=h.Oa.wc));return new h.g.Rect(a,a+c.height,d,d+c.width)};
h.cc.HE=function(a){return{Nm:a.pA.position!==h.g.Y.Za.Gb?h.cc.Rt.Gb:h.cc.Rt.nc,vertical:a.pA.position===h.g.Y.Za.Fj?h.cc.Qq.eh:h.cc.Qq.Fj}};h.cc.zD=function(a,c,d,e){for(var f=a.left,g=a.right-a.left,k=a.bottom-a.top,l=0,m;m=e[l];l++)a.left>m.right||a.right<m.left||a.top>m.bottom||a.bottom<m.top||(a=d===h.cc.ys.Ul?m.top-k-c:m.bottom+c,a=new h.g.Rect(a,a+k,f,f+g),l=-1);return a};h.ac=function(a){h.ac.A.constructor.call(this);this.m=a;this.id="trashcan";this.ph=[];this.je=null;0>=this.m.options.bq||(a=new h.gd({scrollbars:!0,parentWorkspace:this.m,rtl:this.m.M,oneBasedIndex:this.m.options.pq,renderer:this.m.options.zq,rendererOverrides:this.m.options.Aq,move:{scrollbars:!0}}),a.pd=this.m.pd==h.g.Y.Za.nc?h.g.Y.Za.Gb:h.g.Y.Za.nc,this.je=new (h.C.Ji(h.C.T.mr,this.m.options,!0))(a),D(this.m,this.MF.bind(this)))};h.g.object.U(h.ac,h.zo);b=h.ac.prototype;b.ek=47;b.mo=44;b.Qj=16;
b.Cw=20;b.jC=20;b.Ko=10;b.Sr=0;b.Tr=32;b.KB=.1;h.ac.KA=80;h.ac.Mv=4;h.ac.Lw=.4;h.ac.sC=.8;h.ac.Dw=45;b=h.ac.prototype;b.Qp=!1;b.pu=0;b.S=null;b.Mq=null;b.fu=0;b.Ih=0;b.Wp=0;b.Oq=0;b.Xy=!1;
b.Va=function(){this.S=h.g.j.O(h.g.G.Cc,{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var c=h.g.j.O(h.g.G.Vv,{id:"blocklyTrashBodyClipPath"+a},this.S);h.g.j.O(h.g.G.wd,{width:this.ek,height:this.mo,y:this.Qj},c);var d=h.g.j.O(h.g.G.Go,{width:h.Zj.width,x:-this.Sr,height:h.Zj.height,y:-this.Tr,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.S);d.setAttributeNS(h.g.j.Ee,"xlink:href",this.m.options.nn+h.Zj.url);c=h.g.j.O(h.g.G.Vv,{id:"blocklyTrashLidClipPath"+a},this.S);
h.g.j.O(h.g.G.wd,{width:this.ek,height:this.Qj},c);this.Mq=h.g.j.O(h.g.G.Go,{width:h.Zj.width,x:-this.Sr,height:h.Zj.height,y:-this.Tr,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.S);this.Mq.setAttributeNS(h.g.j.Ee,"xlink:href",this.m.options.nn+h.Zj.url);h.P.bind(this.S,"mousedown",this,this.tD);h.P.bind(this.S,"mouseup",this,this.click);h.P.bind(d,"mouseover",this,this.BF);h.P.bind(d,"mouseout",this,this.zF);this.ls();return this.S};
b.Ca=function(){0<this.m.options.bq&&(h.g.j.Mk(this.je.Va(h.g.G.ah),u(this.m)),this.je.Ca(this.m));da(this.m.jg,{hm:this,weight:1,mh:[h.Ob.Xb.Qv,h.Ob.Xb.er,h.Ob.Xb.ir,h.Ob.Xb.Rw]});this.Xy=!0;this.fl(!1)};b.L=function(){ea(this.m.jg,"trashcan");this.S&&(h.g.j.removeNode(this.S),this.S=null);this.m=this.Mq=null;clearTimeout(this.fu)};
b.position=function(a,c){if(this.Xy){var d=h.cc.HE(a);a=h.cc.PE(d,new h.g.Pc(this.ek,this.mo+this.Qj),this.jC,this.Cw,a,this.m);c=h.cc.zD(a,this.Cw,d.vertical===h.cc.Qq.eh?h.cc.ys.xo:h.cc.ys.Ul,c);this.Oq=c.top;this.Wp=c.left;this.S.setAttribute("transform","translate("+this.Wp+","+this.Oq+")")}};b.Em=function(){return new h.g.Rect(this.Oq,this.Oq+this.mo+this.Qj,this.Wp,this.Wp+this.ek)};
b.sy=function(){if(!this.S)return null;var a=this.S.getBoundingClientRect(),c=a.top+this.Tr-this.Ko;a=a.left+this.Sr-this.Ko;return new h.g.Rect(c,c+this.Qj+this.mo+2*this.Ko,a,a+this.ek+2*this.Ko)};b.Bu=function(){this.fl(this.Sq)};b.Au=function(){this.fl(!1)};b.Cu=function(){setTimeout(this.fl.bind(this,!1),100)};b.fl=function(a){this.Qp!=a&&(clearTimeout(this.fu),this.Qp=a,this.ls())};
b.ls=function(){var a=1/(h.ac.Mv+1);this.Ih+=this.Qp?a:-a;this.Ih=Math.min(Math.max(this.Ih,this.pu),1);ae(this,this.Ih*h.ac.Dw);this.S.style.opacity=h.ac.Lw+this.Ih*(h.ac.sC-h.ac.Lw);this.Ih>this.pu&&1>this.Ih&&(this.fu=setTimeout(this.ls.bind(this),h.ac.KA/h.ac.Mv))};function ae(a,c){var d=a.m.pd==h.g.Y.Za.nc;a.Mq.setAttribute("transform","rotate("+(d?-c:c)+","+(d?4:a.ek-4)+","+(a.Qj-2)+")")}
b.click=function(){if(this.ph.length&&(!this.je||!this.je.isVisible())){var a=this.ph.map(h.N.Mf);this.je.show(a);Sc(this,!0)}};function Sc(a,c){a=new (h.h.get(h.h.Zr))(c,a.m.id);h.h.Ea(a)}b.tD=function(a){this.je&&this.je.isVisible()||!this.ph.length||a.stopPropagation()};b.BF=function(){this.ph.length&&this.fl(!0)};b.zF=function(){this.fl(!1)};
b.MF=function(a){if(!(0>=this.m.options.bq)&&a.type==h.h.Vq&&a.$k.tagName&&"shadow"!=a.$k.tagName.toLowerCase()){for(var c=a=a.$k.cloneNode(!0);c;){c.removeAttribute&&(c.removeAttribute("x"),c.removeAttribute("y"),c.removeAttribute("id"),c.removeAttribute("disabled"),"comment"==c.nodeName&&(c.removeAttribute("h"),c.removeAttribute("w"),c.removeAttribute("pinned")));var d=c.firstChild||c.nextSibling;if(!d)for(d=c.parentNode;d;){if(d.nextSibling){d=d.nextSibling;break}d=d.parentNode}c=d}a=h.N.Vc(a);
if(-1==this.ph.indexOf(a)){for(this.ph.unshift(a);this.ph.length>this.m.options.bq;)this.ph.pop();this.pu=a=this.KB;this.Qp||ae(this,a*h.ac.Dw)}}};h.MI=function(){};h.Nj=function(a){h.Nj.A.constructor.call(this);a.An=this.HG.bind(this);var c=this.m=new h.fc(a),d=new h.Fl(this.m,this);c.ad=d;c.Oe=c.ad.Oe.bind(c.ad);this.m.Cf=!0;this.m.Bb(this.xg);this.id=h.g.uf();this.M=!!a.M;this.ai=a.pd;this.qt=[];this.Ym=[];this.cm=[];this.Zc=[];this.Qu=[];this.kl=this.m.vb.aa().Wo;this.Ia=null};h.g.object.U(h.Nj,h.zo);b=h.Nj.prototype;b.Ai=!0;b.xg=!1;b.Di=!0;b.qb=8;b.Rj=h.Nj.prototype.qb;b.IB=3*h.Nj.prototype.Rj;b.MC=2.5;b.pb=0;b.Xc=0;b.nE=70;
b.Va=function(a){this.S=h.g.j.O(a,{"class":"blocklyFlyout",style:"display: none"},null);this.xc=h.g.j.O(h.g.G.Ud,{"class":"blocklyFlyoutBackground"},this.S);this.S.appendChild(this.m.Va());this.m.Ac.subscribe(this.xc,"flyoutBackgroundColour","fill");this.m.Ac.subscribe(this.xc,"flyoutOpacity","fill-opacity");return this.S};
b.Ca=function(a){this.Ia=a;this.m.Ia=a;this.m.Xa=new h.Ur(this.m,!1,!0,"blocklyFlyoutScrollbar",this.MC);this.Ra();Array.prototype.push.apply(this.qt,h.P.Aa(this.S,"wheel",this,this.jH));this.Ai||(this.Dp=this.rt.bind(this),D(this.Ia,this.Dp));Array.prototype.push.apply(this.qt,h.P.Aa(this.xc,"mousedown",this,this.Mh));this.m.uh=this.Ia.uh.bind(this.Ia);this.m.pv(this.Ia.Ja);var c=this.m;c.Sh=new h.gs(c);da(a.jg,{hm:this,weight:1,mh:[h.Ob.Xb.er,h.Ob.Xb.ir]})};
b.L=function(){this.Ra();ea(this.m.jg,this.id);h.P.gb(this.qt);this.Dp&&(Ya(this.Ia,this.Dp),this.Dp=null);this.m&&(this.m.Ac.unsubscribe(this.xc),this.m.Ia=null,this.m.L(),this.m=null);this.S&&(h.g.j.removeNode(this.S),this.S=null);this.Ia=this.xc=null};b.yh=function(){return this.pb};b.isVisible=function(){return this.xg};b.Bb=function(a){var c=a!=this.isVisible();this.xg=a;c&&(this.Ai||Kc(this.m),this.Vn())};b.qj=function(a){var c=a!=this.Di;this.Di=a;c&&this.Vn()};
b.Vn=function(){var a=this.Di?this.isVisible():!1;this.S.style.display=a?"block":"none";this.m.Xa.qj(a)};b.Ra=function(){if(this.isVisible()){this.Bb(!1);for(var a=0,c;c=this.Zc[a];a++)h.P.gb(c);this.Zc.length=0;this.Th&&(Ya(this.m,this.Th),this.Th=null)}};
b.show=function(a){this.m.jc(!1);this.Ra();be(this);"string"==typeof a&&(a=ce(this,a));this.Bb(!0);a=h.g.Y.Ox(a);a=de(this,a);ee(this,a.VD,a.xE);this.Zc.push(h.P.Aa(this.xc,"mouseover",this,function(){for(var c=this.m.Eb(!1),d=0,e;e=c[d];d++)e.vn()}));this.pb=0;this.m.jc(!0);this.Vu();this.rt();this.position();this.Th=this.Vu.bind(this);D(this.m,this.Th)};
function de(a,c){var d=[],e=[];a.Qu.length=0;for(var f=a.IB,g=0,k;k=c[g];g++){if(k.custom){var l=ce(a,k.custom);l=h.g.Y.Ox(l);c.splice.apply(c,[g,1].concat(l));k=c[g]}switch(k.kind.toUpperCase()){case "BLOCK":l=k;var m=l;k=null;var n=m.blockxml;n&&"string"!=typeof n?k=n:n&&"string"==typeof n?(k=h.N.Mf(n),m.blockxml=k):m.type&&(k=h.g.xml.createElement("xml"),k.setAttribute("type",m.type),k.setAttribute("disabled",m.disabled),m.blockxml=k);if(!k)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");
m=k;k=a;n=h.N.zk(m,k.m);n.isEnabled()||k.Qu.push(n);k=n;l=parseInt(l.gap||m.getAttribute("gap"),10);e.push(isNaN(l)?f:l);d.push({type:"block",block:k});break;case "SEP":l=e;m=f;k=parseInt(k.gap,10);!isNaN(k)&&0<l.length?l[l.length-1]=k:l.push(m);break;case "LABEL":l=fe(a,k,!0);d.push({type:"button",button:l});e.push(f);break;case "BUTTON":l=fe(a,k,!1),d.push({type:"button",button:l}),e.push(f)}}return{VD:d,xE:e}}
function ce(a,c){c=a.m.Ia.Av[c]||null;if("function"!=typeof c)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=c(a.m.Ia);if(!Array.isArray(a))throw new TypeError("Result of toolbox category callback must be an array.");return a}function fe(a,c,d){if(!h.HB)throw Error("Missing require for Blockly.FlyoutButton");return new h.HB(a.m,a.Ia,c,d)}
function be(a){for(var c=a.m.Eb(!1),d=0,e;e=c[d];d++)e.B==a.m&&e.L(!1,!1);for(d=0;d<a.Ym.length;d++)if(c=a.Ym[d])h.I.Ev(c),h.g.j.removeNode(c);for(d=a.Ym.length=0;c=a.cm[d];d++)c.L();a.cm.length=0;a.m.Sh.clear()}function ge(a,c){return function(d){var e=a.Ia.uh(d);e&&(Ib(e,c),Hb(e,d,a))}}b.Mh=function(a){var c=this.Ia.uh(a);c&&Hb(c,a,this)};
function Db(a,c){var d=null;h.h.disable();var e=a.Ia.Ii();a.Ia.jc(!1);try{var f=a.Ia;if(!c.ta())throw Error("oldBlock is not rendered.");var g=h.N.dg(c,!0);f.jc(!1);var k=h.N.zk(g,f);if(!k.ta())throw Error("block is not rendered.");var l=h.g.Hm(f.ob),m=h.g.Hm(a.m.ob),n=c.Wa();n.scale(a.m.scale);var p=h.g.K.sum(m,n),q=h.g.K.um(p,l);q.scale(1/f.scale);k.moveBy(q.x,q.y);d=k}finally{h.h.enable()}h.qc();c=h.na.qy(a.Ia,e);if(h.h.isEnabled()){h.h.ma(!0);for(e=0;e<c.length;e++)f=c[e],h.h.Ea(new (h.h.get(h.h.Vl))(f));
h.h.Ea(new (h.h.get(h.h.ei))(d))}a.Ai?a.Ra():a.rt();return d}b.rt=function(){for(var a=this.m.Eb(!1),c=0,d;d=a[c];c++)if(-1==this.Qu.indexOf(d))for(var e=Va(this.Ia,h.g.yt(d));d;)d.Hf(e),d=t(d)};
b.Vu=function(){this.Th&&Ya(this.m,this.Th);this.m.scale=this.Ia.scale;for(var a=0,c=this.m.Eb(!1),d=0,e;e=c[d];d++){var f=F(e).width;e.R&&(f-=this.kl);a=Math.max(a,f)}for(d=0;e=this.cm[d];d++)a=Math.max(a,e.width);a+=1.5*this.Rj+this.kl;a*=this.m.scale;a+=h.Oa.wc;if(this.pb!=a){for(d=0;e=c[d];d++){if(this.M){f=e.Wa().x;var g=a/this.m.scale-this.Rj;e.R||(g-=this.kl);e.moveBy(g-f,0)}e.ny&&(f=e.ny,g=e,e=F(g),f.setAttribute("width",e.width),f.setAttribute("height",e.height),g=g.Wa(),f.setAttribute("y",
g.y),f.setAttribute("x",this.M?g.x-e.width:g.x))}if(this.M)for(d=0;e=this.cm[d];d++)c=e.gL().y,e.moveTo(a/this.m.scale-e.width-this.Rj-this.kl,c);this.Ia.pd!=this.ai||this.ai!=h.g.Y.Za.Gb||this.Ia.wb||this.Ia.translate(this.Ia.scrollX+a,this.Ia.scrollY);this.pb=a;this.position();Kc(this.Ia)}this.Th&&D(this.m,this.Th)};function Bb(a){return a.m.Xa?a.m.Xa.isVisible():!1};h.Yl=function(a){h.Yl.A.constructor.call(this,a)};h.g.object.U(h.Yl,h.Nj);h.Yl.BL="verticalFlyout";b=h.Yl.prototype;b.HG=function(a){if(this.isVisible()){var c=this.m.ad,d=c.wh(),e=J(c);c=Cc(c);"number"==typeof a.y&&(this.m.scrollY=-(d.top+(d.height-e.height)*a.y));this.m.translate(this.m.scrollX+c.left,this.m.scrollY+c.top)}};
b.position=function(){if(this.isVisible()&&this.Ia.isVisible()){var a=J(this.Ia.ad);this.Xc=a.height;var c=this.pb-this.qb;a=a.height-2*this.qb;var d=this.ai==h.g.Y.Za.nc,e=c+this.qb;e=["M "+(d?e:0)+",0"];e.push("h",d?-c:c);e.push("a",this.qb,this.qb,0,0,d?0:1,d?-this.qb:this.qb,this.qb);e.push("v",Math.max(0,a));e.push("a",this.qb,this.qb,0,0,d?0:1,d?this.qb:-this.qb,this.qb);e.push("h",d?c:-c);e.push("z");this.xc.setAttribute("d",e.join(" "));this.isVisible()?(d=this.Ia.ad,c=Cc(d),a=J(d),d=Bc(d),
d=this.Ia.pd==this.ai?this.Ia.wb?this.ai==h.g.Y.Za.Gb?d.width:a.width-this.pb:this.ai==h.g.Y.Za.Gb?0:a.width:this.ai==h.g.Y.Za.Gb?0:a.width+c.left-this.pb):d=0;c=this.pb;a=this.Xc;this.S.setAttribute("width",c);this.S.setAttribute("height",a);Mc(this.m,c,a);"svg"==this.S.tagName?h.g.j.zn(this.S,"translate("+d+"px,0px)"):this.S.setAttribute("transform","translate("+d+",0)");if(c=this.m.Xa)c.Eq(d,0),c.resize(),c.mb&&c.mb.setPosition(c.mb.position.x,c.mb.position.y),c.Ya&&c.Ya.setPosition(c.Ya.position.x,
c.Ya.position.y)}};b.Zz=function(){var a=this.m.Xa;a.Ya&&a.Ya.set(0,!0)};b.jH=function(a){var c=h.g.Ey(a);if(c.y){var d=this.m.ad,e=d.wh();c=J(d).top-e.top+c.y;d=this.m.Xa;d.Ya&&d.Ya.set(c,!0);h.W.Ra();h.F.Ni()}a.preventDefault();a.stopPropagation()};
function ee(a,c,d){a.m.scale=a.Ia.scale;for(var e=a.Rj,f=a.M?e:e+a.kl,g=0,k;k=c[g];g++)if("block"==k.type){k=k.block;for(var l=r(k,!1),m=0,n;n=l[m];m++)n.tc=!0;k.Ma();n=k.ta();l=F(k);m=k.R?f-a.kl:f;k.moveBy(m,e);var p=a,q=k,v=g;m=h.g.j.O(h.g.G.wd,{"fill-opacity":0,x:a.M?m-l.width:m,y:e,height:l.height,width:l.width},null);m.we=q;h.I.jk(m);p.m.ob.insertBefore(m,q.ta());q.ny=m;p.Ym[v]=m;p=a;p.Zc.push(h.P.Aa(n,"mousedown",null,ge(p,k)));p.Zc.push(h.P.Aa(m,"mousedown",null,ge(p,k)));p.Zc.push(h.P.bind(n,
"mouseenter",k,k.$o));p.Zc.push(h.P.bind(n,"mouseleave",k,k.vn));p.Zc.push(h.P.bind(m,"mouseenter",k,k.$o));p.Zc.push(h.P.bind(m,"mouseleave",k,k.vn));e+=l.height+d[g]}else"button"==k.type&&(l=a,m=k.button,n=f,p=e,q=m.Va(),m.moveTo(n,p),m.show(),l.Zc.push(h.P.Aa(q,"mousedown",l,l.Mh)),l.cm.push(m),e+=k.button.height+d[g])}
b.sy=function(){if(!this.S||this.Ai||!this.isVisible())return null;var a=this.S.getBoundingClientRect(),c=a.left;return this.ai==h.g.Y.Za.Gb?new h.g.Rect(-1E9,1E9,-1E9,c+a.width):new h.g.Rect(-1E9,1E9,c,1E9)};h.C.register(h.C.T.mr,h.C.Mj,h.Yl);h.wa={};h.wa.$u=function(){h.Ka.C.register({Uc:function(){return h.o.UNDO},Nb:function(a){return 0<a.B.xj.length?"enabled":"disabled"},kb:function(a){Xa(a.B,!1)},Id:h.Ka.Oc.jd,id:"undoWorkspace",weight:1})};h.wa.Zu=function(){h.Ka.C.register({Uc:function(){return h.o.REDO},Nb:function(a){return 0<a.B.un.length?"enabled":"disabled"},kb:function(a){Xa(a.B,!0)},Id:h.Ka.Oc.jd,id:"redoWorkspace",weight:2})};
h.wa.fG=function(){h.Ka.C.register({Uc:function(){return h.o.CLEAN_UP},Nb:function(a){return a.B.Gc()?1<a.B.Eb(!1).length?"enabled":"disabled":"hidden"},kb:function(a){a=a.B;a.jc(!1);h.h.ma(!0);for(var c=a.Eb(!0),d=0,e=0,f;f=c[e];e++)if(f.Gc()){var g=f.Wa();f.moveBy(-g.x,d-g.y);tc(f);d=f.Wa().y+F(f).height+a.vb.aa().Il}h.h.ma(!1);a.jc(!0)},Id:h.Ka.Oc.jd,id:"cleanWorkspace",weight:3})};h.wa.oA=function(a,c){for(var d=0,e=0;e<c.length;e++)for(var f=c[e];f;)setTimeout(f.pj.bind(f,a),d),f=t(f),d+=10};
h.wa.gG=function(){h.Ka.C.register({Uc:function(){return h.o.COLLAPSE_ALL},Nb:function(a){if(a.B.options.collapse){a=a.B.Eb(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(!d.isCollapsed())return"enabled";d=t(d)}return"disabled"}return"hidden"},kb:function(a){h.wa.oA(!0,a.B.Eb(!0))},Id:h.Ka.Oc.jd,id:"collapseWorkspace",weight:4})};
h.wa.rG=function(){h.Ka.C.register({Uc:function(){return h.o.EXPAND_ALL},Nb:function(a){if(a.B.options.collapse){a=a.B.Eb(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(d.isCollapsed())return"enabled";d=t(d)}return"disabled"}return"hidden"},kb:function(a){h.wa.oA(!1,a.B.Eb(!0))},Id:h.Ka.Oc.jd,id:"expandWorkspace",weight:5})};h.wa.sx=function(a,c){if(a.Bf())Array.prototype.push.apply(c,r(a,!1));else{a=ka(a,!1);for(var d=0;d<a.length;d++)h.wa.sx(a[d],c)}};
h.wa.Ct=function(a){var c=[];a=a.Eb(!0);for(var d=0;d<a.length;d++)h.wa.sx(a[d],c);return c};h.wa.vp=function(a,c){h.h.ma(c);var d=a.shift();d&&(d.B?(d.L(!1,!0),setTimeout(h.wa.vp,10,a,c)):h.wa.vp(a,c));h.h.ma(!1)};
h.wa.nG=function(){h.Ka.C.register({Uc:function(a){if(a.B)return a=h.wa.Ct(a.B).length,1==a?h.o.DELETE_BLOCK:h.o.DELETE_X_BLOCKS.replace("%1",String(a))},Nb:function(a){if(a.B)return 0<h.wa.Ct(a.B).length?"enabled":"disabled"},kb:function(a){if(a.B){wc(a.B);var c=h.wa.Ct(a.B),d=h.g.uf();2>c.length?h.wa.vp(c,d):h.confirm(h.o.DELETE_ALL_BLOCKS.replace("%1",c.length),function(e){e&&h.wa.vp(c,d)})}},Id:h.Ka.Oc.jd,id:"workspaceDelete",weight:6})};
h.wa.wG=function(){h.wa.$u();h.wa.Zu();h.wa.fG();h.wa.gG();h.wa.rG();h.wa.nG()};h.wa.pG=function(){h.Ka.C.register({Uc:function(){return h.o.DUPLICATE_BLOCK},Nb:function(a){a=a.block;return!a.tc&&a.Bf()&&a.Gc()?(Wa(a.B)?Va(a.B,h.g.yt(a,!0)):1)?"enabled":"disabled":"hidden"},kb:function(a){a.block&&h.duplicate(a.block)},Id:h.Ka.Oc.Wb,id:"blockDuplicate",weight:1})};
h.wa.iG=function(){h.Ka.C.register({Uc:function(a){return a.block.ae?h.o.REMOVE_COMMENT:h.o.ADD_COMMENT},Nb:function(a){a=a.block;return h.g.userAgent.Be||a.tc||!a.B.options.ND||a.isCollapsed()||!a.md()?"hidden":"enabled"},kb:function(a){a=a.block;a.ae?a.dl(null):a.dl("")},Id:h.Ka.Oc.Wb,id:"blockComment",weight:2})};
h.wa.tG=function(){h.Ka.C.register({Uc:function(a){return bb(a.block)?h.o.EXTERNAL_INPUTS:h.o.INLINE_INPUTS},Nb:function(a){a=a.block;if(!a.tc&&a.Gc()&&!a.isCollapsed())for(var c=1;c<a.V.length;c++)if(a.V[c-1].type!=h.Ga.Dc&&a.V[c].type!=h.Ga.Dc)return"enabled";return"hidden"},kb:function(a){a.block.Eg(!bb(a.block))},Id:h.Ka.Oc.Wb,id:"blockInline",weight:3})};
h.wa.hG=function(){h.Ka.C.register({Uc:function(a){return a.block.isCollapsed()?h.o.EXPAND_BLOCK:h.o.COLLAPSE_BLOCK},Nb:function(a){a=a.block;return!a.tc&&a.Gc()&&a.B.options.collapse?"enabled":"hidden"},kb:function(a){a.block.pj(!a.block.isCollapsed())},Id:h.Ka.Oc.Wb,id:"blockCollapseExpand",weight:4})};
h.wa.oG=function(){h.Ka.C.register({Uc:function(a){return a.block.isEnabled()?h.o.DISABLE_BLOCK:h.o.ENABLE_BLOCK},Nb:function(a){a=a.block;return!a.tc&&a.B.options.disable&&a.md()?Xb(a)?"disabled":"enabled":"hidden"},kb:function(a){a=a.block;var c=h.h.Tb();c||h.h.ma(!0);a.Hf(!a.isEnabled());c||h.h.ma(!1)},Id:h.Ka.Oc.Wb,id:"blockDisable",weight:5})};
h.wa.Xu=function(){h.Ka.C.register({Uc:function(a){var c=a.block;a=r(c,!1).length;(c=t(c))&&(a-=r(c,!1).length);return 1==a?h.o.DELETE_BLOCK:h.o.DELETE_X_BLOCKS.replace("%1",String(a))},Nb:function(a){return!a.block.tc&&a.block.Bf()?"enabled":"hidden"},kb:function(a){h.h.ma(!0);a.block&&h.Rs(a.block);h.h.ma(!1)},Id:h.Ka.Oc.Wb,id:"blockDelete",weight:6})};
h.wa.sG=function(){h.Ka.C.register({Uc:function(){return h.o.HELP},Nb:function(a){a=a.block;return("function"==typeof a.sg?a.sg():a.sg)?"enabled":"hidden"},kb:function(a){a.block.showHelp()},Id:h.Ka.Oc.Wb,id:"blockHelp",weight:7})};h.wa.eG=function(){h.wa.pG();h.wa.iG();h.wa.tG();h.wa.hG();h.wa.oG();h.wa.Xu();h.wa.sG()};h.wa.lG=function(){h.wa.wG();h.wa.eG()};h.wa.lG();h.Cb={};h.Cb.names={uB:"escape",mi:"delete",aB:"copy",fB:"cut",yC:"paste",ZC:"undo",JC:"redo"};h.Cb.qG=function(){var a={name:h.Cb.names.uB,Nb:function(c){return!c.options.readOnly},kb:function(){h.qc();return!0}};h.$b.C.register(a);O(h.g.ea.fw,a.name)};
h.Cb.Xu=function(){var a={name:h.Cb.names.mi,Nb:function(c){return!c.options.readOnly&&h.selected&&h.selected.Bf()},kb:function(c,d){d.preventDefault();if(h.df.Ri())return!1;h.Rs(h.selected);return!0}};h.$b.C.register(a);O(h.g.ea.mi,a.name);O(h.g.ea.OA,a.name)};
h.Cb.jG=function(){var a={name:h.Cb.names.aB,Nb:function(d){return!d.options.readOnly&&!h.df.Ri()&&h.selected&&h.selected.Bf()&&h.selected.Gc()},kb:function(d,e){e.preventDefault();h.qc();h.Ns(h.selected);return!0}};h.$b.C.register(a);var c=P(h.g.ea.Yq,[h.g.ea.li]);O(c,a.name);c=P(h.g.ea.Yq,[h.g.ea.Dj]);O(c,a.name);c=P(h.g.ea.Yq,[h.g.ea.Sj]);O(c,a.name)};
h.Cb.kG=function(){var a={name:h.Cb.names.fB,Nb:function(d){return!d.options.readOnly&&!h.df.Ri()&&h.selected&&h.selected.Bf()&&h.selected.Gc()&&!h.selected.B.Cf},kb:function(){h.Ns(h.selected);h.Rs(h.selected);return!0}};h.$b.C.register(a);var c=P(h.g.ea.hs,[h.g.ea.li]);O(c,a.name);c=P(h.g.ea.hs,[h.g.ea.Dj]);O(c,a.name);c=P(h.g.ea.hs,[h.g.ea.Sj]);O(c,a.name)};
h.Cb.vG=function(){var a={name:h.Cb.names.yC,Nb:function(d){return!d.options.readOnly&&!h.df.Ri()},kb:function(){return h.tq()}};h.$b.C.register(a);var c=P(h.g.ea.ds,[h.g.ea.li]);O(c,a.name);c=P(h.g.ea.ds,[h.g.ea.Dj]);O(c,a.name);c=P(h.g.ea.ds,[h.g.ea.Sj]);O(c,a.name)};
h.Cb.$u=function(){var a={name:h.Cb.names.ZC,Nb:function(d){return!d.options.readOnly&&!h.df.Ri()},kb:function(d){h.qc();Xa(d,!1);return!0}};h.$b.C.register(a);var c=P(h.g.ea.gk,[h.g.ea.li]);O(c,a.name);c=P(h.g.ea.gk,[h.g.ea.Dj]);O(c,a.name);c=P(h.g.ea.gk,[h.g.ea.Sj]);O(c,a.name)};
h.Cb.Zu=function(){var a={name:h.Cb.names.JC,Nb:function(d){return!h.df.Ri()&&!d.options.readOnly},kb:function(d){h.qc();Xa(d,!0);return!0}};h.$b.C.register(a);var c=P(h.g.ea.gk,[h.g.ea.To,h.g.ea.li]);O(c,a.name);c=P(h.g.ea.gk,[h.g.ea.To,h.g.ea.Dj]);O(c,a.name);c=P(h.g.ea.gk,[h.g.ea.To,h.g.ea.Sj]);O(c,a.name);c=P(h.g.ea.eD,[h.g.ea.li]);O(c,a.name)};h.Cb.mG=function(){h.Cb.qG();h.Cb.Xu();h.Cb.jG();h.Cb.kG();h.Cb.vG();h.Cb.$u();h.Cb.Zu()};h.Cb.mG();h.g.D={};h.g.D.La=function(a,c){return" "+a+","+c+" "};h.g.D.curve=function(a,c){return" "+a+c.join("")};h.g.D.moveTo=function(a,c){return" M "+a+","+c+" "};h.g.D.moveBy=function(a,c){return" m "+a+","+c+" "};h.g.D.lineTo=function(a,c){return" l "+a+","+c+" "};h.g.D.line=function(a){return" l"+a.join("")};h.g.D.ga=function(a,c){return" "+a+" "+c+" "};h.g.D.arc=function(a,c,d,e){return a+" "+d+" "+d+" "+c+e};h.i.Rf=function(){this.ff=0;this.NC=3;this.Sd=5;this.Fw=8;this.Nc=10;this.$w=this.Sd;this.Tl=15;this.ck=5;this.Wo=8;this.rC=15;this.Cr=4;this.oC=12;this.pB=16;this.oB=this.cw=this.Tl;this.qb=8;this.TC=this.Ml=15;this.Xw=0;this.Zw=20;this.PA=4;this.XC=this.Sd;this.YC=this.Nc;this.SA=this.Sd;this.RA=this.Nc;this.io=!1;this.RC=15;this.SC=100;this.QC=15;this.Il=24;this.rB=14.5;this.qB=this.Tl+11;this.vB=2;this.sB=this.Il;this.Ww=h.g.D.moveBy(0,0);this.XB=12;this.YB=6;this.Qg=11;this.Rg="normal";this.Pg=
"sans-serif";this.lw=this.Eo=-1;this.Do=4;this.jw=16;this.Bl=5;this.iw="#fff";this.kr=!h.g.userAgent.Be&&!h.g.userAgent.ni;this.kw=this.jw;this.AB=this.zB=this.jr=!1;this.CB=this.Bl;this.Cl=12;this.BB="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.DB=!1;this.wq=String(Math.random()).substring(2);this.Bp="";this.ot=null;this.Yx="";this.om=this.Tx=this.Ws=null;this.uo="#cc0a0a";this.Lo="#4286f4";this.wo=100;this.kx=5;this.vo=10;this.cB=2;this.eB=4;this.nw=!1;this.qr="#000000";this.Io=.2;this.Vw={AC:1,Tj:2}};b=h.i.Rf.prototype;
b.Ca=function(){this.Pj=this.ju();this.Tj=this.ku();this.$j=this.mu();this.Lr=this.lu();var a=this.qb,c=h.g.D.arc("a","0 0,0",a,h.g.D.La(-a,a)),d=h.g.D.arc("a","0 0,0",a,h.g.D.La(a,a));this.Jo={width:a,height:a,Pu:c,uq:d};a=this.qb;c=h.g.D.moveBy(0,a)+h.g.D.arc("a","0 0,1",a,h.g.D.La(a,-a));d=h.g.D.arc("a","0 0,1",a,h.g.D.La(a,a));var e=h.g.D.arc("a","0 0,1",a,h.g.D.La(-a,-a)),f=h.g.D.arc("a","0 0,1",a,h.g.D.La(-a,a));this.Ql={Bv:c,$G:d,uD:f,vs:e,BG:a}};
b.En=function(a){this.kh=Object.create(null);var c=a.kh,d;for(d in c)this.kh[d]=he(c[d]);this.Pg=a.fontStyle&&void 0!=a.fontStyle.family?a.fontStyle.family:this.Pg;this.Rg=a.fontStyle&&void 0!=a.fontStyle.weight?a.fontStyle.weight:this.Rg;this.Qg=a.fontStyle&&void 0!=a.fontStyle.size?a.fontStyle.size:this.Qg;c=h.g.j.wF(this.Qg+"pt",this.Rg,this.Pg);this.Eo=c.height;this.lw=c.Ge;this.uo=va(a,"cursorColour")||this.uo;this.Lo=va(a,"markerColour")||this.Lo;this.qr=va(a,"insertionMarkerColour")||this.qr;
this.Io=Number(va(a,"insertionMarkerOpacity"))||this.Io;this.io=null!=a.wv?a.wv:this.io};function xc(a,c){var d="auto_"+c;a.kh[d]||(a.kh[d]=he({colourPrimary:c}));return{style:a.kh[d],name:d}}function rc(a,c){return a.kh[c||""]||(c&&0==c.indexOf("auto_")?xc(a,c.substring(5)).style:he({colourPrimary:"#000000"}))}
function he(a){var c={};a&&h.g.object.Te(c,a);a=h.g.rq(c.colourPrimary||"#000");c.hg=a.Mm;c.colourSecondary?a=h.g.rq(c.colourSecondary).Mm:(a=c.hg,a=h.g.zb.ss("#fff",a,.6)||a);c.op=a;c.colourTertiary?a=h.g.rq(c.colourTertiary).Mm:(a=c.hg,a=h.g.zb.ss("#fff",a,.3)||a);c.lf=a;c.xf=c.hat||"";return c}b.L=function(){this.ot&&h.g.j.removeNode(this.ot);this.Ws&&h.g.j.removeNode(this.Ws);this.Tx&&h.g.j.removeNode(this.Tx);this.om=null};
b.ju=function(){var a=this.XB,c=this.YB,d=h.g.D.line([h.g.D.La(c,a/4),h.g.D.La(2*-c,a/2),h.g.D.La(c,a/4)]);return{height:a,width:c,path:d}};b.mu=function(){var a=this.RC,c=this.SC,d=h.g.D.curve("c",[h.g.D.La(30,-a),h.g.D.La(70,-a),h.g.D.La(c,0)]);return{height:a,width:c,path:d}};
b.lu=function(){function a(g){g=g?-1:1;var k=-g,l=d/2,m=h.g.D.La(c,g*l);return h.g.D.curve("c",[h.g.D.La(0,g*(l+2.5)),h.g.D.La(-c,k*(l+.5)),h.g.D.La(-c,g*l)])+h.g.D.curve("s",[h.g.D.La(c,2.5*k),m])}var c=this.Wo,d=this.Tl,e=a(!0),f=a(!1);return{type:this.Vw.AC,width:c,height:d,re:f,on:e}};b.ku=function(){function a(k){return h.g.D.line([h.g.D.La(k*e,d),h.g.D.La(3*k,0),h.g.D.La(k*e,-d)])}var c=this.rC,d=this.Cr,e=(c-3)/2,f=a(1),g=a(-1);return{type:this.Vw.Tj,width:c,height:d,Rh:f,Iz:g}};
function hb(a,c){switch(c.type){case h.ka.lc:case h.ka.vd:return a.Lr;case h.ka.Vd:case h.ka.mc:return a.Tj;default:throw Error("Unknown connection type");}}
b.Va=function(a,c,d){d=this.zt(d);c="blockly-renderer-style-"+c;this.om=document.getElementById(c);var e=d.join("\n");this.om?this.om.firstChild.textContent=e:(d=document.createElement("style"),d.id=c,c=document.createTextNode(e),d.appendChild(c),document.head.insertBefore(d,document.head.firstChild),this.om=d);a=h.g.j.O(h.g.G.aw,{},a);c=h.g.j.O(h.g.G.EB,{id:"blocklyEmbossFilter"+this.wq},a);h.g.j.O(h.g.G.wB,{"in":"SourceAlpha",stdDeviation:1,result:"blur"},c);d=h.g.j.O(h.g.G.yB,{"in":"blur",surfaceScale:1,
specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},c);h.g.j.O(h.g.G.xB,{x:-5E3,y:-1E4,z:2E4},d);h.g.j.O(h.g.G.hw,{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},c);h.g.j.O(h.g.G.hw,{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},c);this.Bp=c.id;this.ot=c;a=h.g.j.O(h.g.G.Qw,{id:"blocklyDisabledPattern"+this.wq,patternUnits:"userSpaceOnUse",width:10,height:10},a);h.g.j.O(h.g.G.wd,{width:10,height:10,fill:"#aaa"},a);h.g.j.O(h.g.G.Ud,
{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},a);this.Yx=a.id;this.Ws=a};
b.zt=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.Rg+" "+this.Qg+"pt "+this.Pg+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.iw+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.Pg+";","font-weight: "+this.Rg+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.Io+
";","stroke: none;","}"]};h.i.u={NONE:0,Bc:1,ow:2,rw:4,Rr:8,Rv:16,vw:32,gw:64,Rd:128,sw:256,Yw:512,YA:1024,Kr:2048,Br:4096,uC:8192,dr:16384,wr:32768,vr:65536,Pr:131072,Or:262144,zw:524288,Qr:1048576,Yr:2097152,Wq:4194304,tw:8388608};h.i.u.$I=h.i.u.wr|h.i.u.vr;h.i.u.iK=h.i.u.Pr|h.i.u.Or;h.i.u.wu=16777216;h.i.u.getType=function(a){Object.prototype.hasOwnProperty.call(h.i.u,a)||(h.i.u[a]=h.i.u.wu,h.i.u.wu<<=1);return h.i.u[a]};h.i.u.wg=function(a){return a.type&h.i.u.Bc};h.i.u.Yi=function(a){return a.type&h.i.u.ow};
h.i.u.Pk=function(a){return a.type&h.i.u.rw};h.i.u.me=function(a){return a.type&h.i.u.Rr};h.i.u.qL=function(a){return a.type&h.i.u.vw};h.i.u.Eh=function(a){return a.type&h.i.u.Rd};h.i.u.Rm=function(a){return a.type&h.i.u.gw};h.i.u.Dh=function(a){return a.type&h.i.u.sw};h.i.u.Zi=function(a){return a.type&h.i.u.Yw};h.i.u.Uk=function(a){return a.type&h.i.u.Kr};h.i.u.Gh=function(a){return a.type&h.i.u.Br};h.i.u.nF=function(a){return a.type&(h.i.u.Kr|h.i.u.Br)};h.i.u.Fh=function(a){return a.type&h.i.u.vr};
h.i.u.cz=function(a){return a.type&h.i.u.Or};h.i.u.Sm=function(a){return a.type&h.i.u.wr};h.i.u.rL=function(a){return a.type&h.i.u.Pr};h.i.u.pL=function(a){return a.type&h.i.u.dr};h.i.u.az=function(a){return a.type&h.i.u.zw};h.i.u.tL=function(a){return a.type&h.i.u.Qr};h.i.u.lL=function(a){return a.type&h.i.u.Rv};h.i.u.Tp=function(a){return a.type&h.i.u.Yr};h.i.u.Mp=function(a){return a.type&h.i.u.Wq};h.i.u.oF=function(a){return a.type&(h.i.u.Yr|h.i.u.Wq)};h.i.u.iF=function(a){return a.type&h.i.u.tw};h.i.Wg=function(a){this.height=this.width=0;this.type=h.i.u.NONE;this.mk=this.Na=0;this.v=a;this.pe=this.v.Ml};h.i.Ba=function(a,c){h.i.Ba.A.constructor.call(this,a);this.Sc=c;this.shape=hb(this.v,c);this.Xi=!!this.shape.isDynamic;this.type|=h.i.u.YA};h.g.object.U(h.i.Ba,h.i.Wg);h.i.Jr=function(a,c){h.i.Jr.A.constructor.call(this,a,c);this.type|=h.i.u.uC;this.height=this.Xi?0:this.shape.height;this.ve=this.width=this.Xi?0:this.shape.width;this.Ad=this.v.ck;this.km=0};h.g.object.U(h.i.Jr,h.i.Ba);
h.i.Mr=function(a,c){h.i.Mr.A.constructor.call(this,a,c);this.type|=h.i.u.Kr;this.height=this.shape.height;this.width=this.shape.width};h.g.object.U(h.i.Mr,h.i.Ba);h.i.Dr=function(a,c){h.i.Dr.A.constructor.call(this,a,c);this.type|=h.i.u.Br;this.height=this.shape.height;this.width=this.shape.width};h.g.object.U(h.i.Dr,h.i.Ba);h.i.Hl=function(a,c){h.i.Hl.A.constructor.call(this,a,c.connection);this.type|=h.i.u.Rd;this.input=c;this.align=c.align;(this.oh=c.connection&&c.connection.sa()?c.connection.sa():null)?(a=F(this.oh),this.jm=a.width,this.rp=a.height):this.rp=this.jm=0;this.Ad=this.km=0};h.g.object.U(h.i.Hl,h.i.Ba);
h.i.Tg=function(a,c){h.i.Tg.A.constructor.call(this,a,c);this.type|=h.i.u.sw;this.oh?(this.width=this.jm,this.height=this.rp):(this.height=this.v.qB,this.width=this.v.rB);this.qk=this.Xi?this.shape.height(this.height):this.shape.height;this.pf=this.Xi?this.shape.width(this.height):this.shape.width;this.oh||(this.width+=this.pf*(this.Xi?2:1));this.Ad=this.Xi?this.shape.Ad(this.qk):this.v.ck;this.km=this.Xi?this.shape.km(this.pf):0};h.g.object.U(h.i.Tg,h.i.Hl);
h.i.dh=function(a,c){h.i.dh.A.constructor.call(this,a,c);this.type|=h.i.u.Yw;this.height=this.oh?this.rp+this.v.Xw:this.v.sB;this.width=this.v.TC+this.shape.width};h.g.object.U(h.i.dh,h.i.Hl);h.i.Co=function(a,c){h.i.Co.A.constructor.call(this,a,c);this.type|=h.i.u.gw;this.height=this.oh?this.rp-this.v.ck-this.v.Sd:this.shape.height;this.width=this.shape.width+this.v.vB;this.Ad=this.v.ck;this.qk=this.shape.height;this.pf=this.shape.width};h.g.object.U(h.i.Co,h.i.Hl);h.i.ef=function(a,c){h.i.ef.A.constructor.call(this,a);this.icon=c;this.isVisible=c.isVisible();this.type|=h.i.u.rw;a=new h.g.Pc(h.ef.prototype.Uo,h.ef.prototype.Uo-2);this.height=a.height;this.width=a.width};h.g.object.U(h.i.ef,h.i.Wg);h.i.rr=function(a){h.i.rr.A.constructor.call(this,a);this.type|=h.i.u.zw;this.height=this.v.Pj.height;this.width=this.v.Pj.width};h.g.object.U(h.i.rr,h.i.Wg);
h.i.Od=function(a,c){h.i.Od.A.constructor.call(this,a);this.zm=c;this.md=c.Bo;this.vE=!1;this.type|=h.i.u.Bc;a=this.zm.pg();this.height=a.height;this.width=a.width};h.g.object.U(h.i.Od,h.i.Wg);h.i.nr=function(a){h.i.nr.A.constructor.call(this,a);this.type|=h.i.u.ow;this.height=this.v.$j.height;this.width=this.v.$j.width;this.ik=this.height};h.g.object.U(h.i.nr,h.i.Wg);
h.i.bk=function(a,c){h.i.bk.A.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.u.Pr:h.i.u.wr)|h.i.u.dr;this.width=this.height=this.v.ff};h.g.object.U(h.i.bk,h.i.Wg);h.i.So=function(a,c){h.i.So.A.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.u.Or:h.i.u.vr)|h.i.u.dr;this.width=this.v.qb;this.height=this.v.qb/2};h.g.object.U(h.i.So,h.i.Wg);h.i.Sf=function(a,c){h.i.Sf.A.constructor.call(this,a);this.type=this.type|h.i.u.Rr|h.i.u.vw;this.width=c;this.height=this.v.QC};h.g.object.U(h.i.Sf,h.i.Wg);h.i.wi=function(a){this.type=h.i.u.Qr;this.elements=[];this.Na=this.ec=this.Ye=this.minWidth=this.minHeight=this.width=this.height=0;this.Ny=this.Jk=this.Ot=this.Ub=this.Ah=!1;this.v=a;this.pe=this.v.Ml;this.align=null};h.i.wi.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function W(a){for(var c=a.elements.length-1,d;d=a.elements[c];c--)if(h.i.u.Eh(d))return d;return null}h.i.wi.prototype.Kq=function(){return!0};h.i.wi.prototype.xm=function(){return!0};
h.i.zi=function(a){h.i.zi.A.constructor.call(this,a);this.type|=h.i.u.Yr;this.ik=this.fg=0;this.aF=!1;this.connection=null};h.g.object.U(h.i.zi,h.i.wi);h.i.zi.prototype.Pt=function(a){var c=(a.xf?"cap"===a.xf:this.v.io)&&!a.R&&!a.la,d=a.la&&a.la.sa();return!!a.R||c||(d?t(d)==a:!1)};
h.i.zi.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.u.me(f)||(h.i.u.Yi(f)?d=Math.max(d,f.ik):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.fg=this.ik=d;this.Ye=this.width};h.i.zi.prototype.Kq=function(){return!1};h.i.zi.prototype.xm=function(){return!1};h.i.ki=function(a){h.i.ki.A.constructor.call(this,a);this.type|=h.i.u.Wq;this.Oy=!1;this.connection=null;this.Ge=this.tm=0};
h.g.object.U(h.i.ki,h.i.wi);h.i.ki.prototype.Pt=function(a){return!!a.R||!!t(a)};h.i.ki.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.u.me(f)||(h.i.u.Gh(f)?d=Math.max(d,f.height):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.tm=d;this.Ye=this.width};h.i.ki.prototype.Kq=function(){return!1};h.i.ki.prototype.xm=function(){return!1};
h.i.Vo=function(a,c,d){h.i.Vo.A.constructor.call(this,a);this.type=this.type|h.i.u.Rr|h.i.u.Rv;this.width=d;this.height=c;this.oy=!1;this.Ye=0;this.elements=[new h.i.Sf(this.v,d)]};h.g.object.U(h.i.Vo,h.i.wi);h.i.Vo.prototype.measure=function(){};h.i.Oj=function(a){h.i.Oj.A.constructor.call(this,a);this.type|=h.i.u.tw;this.Kx=0};h.g.object.U(h.i.Oj,h.i.wi);
h.i.Oj.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,c=0,d;d=this.elements[c];c++)this.width+=d.width,h.i.u.Eh(d)&&(h.i.u.Zi(d)?a+=d.jm:h.i.u.Rm(d)&&0!=d.jm&&(a+=d.jm-d.pf)),h.i.u.me(d)||(this.height=Math.max(this.height,d.height));this.Kx=a;this.Ye=this.width+a};h.i.Oj.prototype.xm=function(){return!this.Ah&&!this.Ub};h.i.De=function(a,c){this.X=c;this.vb=a;this.v=this.vb.aa();this.R=c.R?new h.i.Jr(this.v,c.R):null;this.Qk=bb(c)&&!c.isCollapsed();this.isCollapsed=c.isCollapsed();this.nd=c.nd();this.M=c.M;this.$h=this.width=this.ql=this.height=0;this.rows=[];this.Zy=[];this.Sy=[];this.Vb=new h.i.zi(this.v);this.yb=new h.i.ki(this.v);this.Jq=this.ve=0};b=h.i.De.prototype;
b.measure=function(){var a=!!this.X.la,c=(this.X.xf?"cap"===this.X.xf:this.v.io)&&!this.R&&!a,d=this.Vb.Pt(this.X)?h.i.bk:h.i.So;this.Vb.elements.push(new d(this.v));c?(a=new h.i.nr(this.v),this.Vb.elements.push(a),this.Vb.fg=a.ik):a&&(this.Vb.aF=!0,this.Vb.connection=new h.i.Mr(this.v,this.X.la),this.Vb.elements.push(this.Vb.connection));this.X.V.length&&this.X.V[0].type==h.Ga.Dc&&!this.X.isCollapsed()?this.Vb.minHeight=this.v.YC:this.Vb.minHeight=this.v.XC;d=h.i.bk;this.Vb.elements.push(new d(this.v,
"right"));this.rows.push(this.Vb);a=new h.i.Oj(this.v);this.Zy.push(a);d=H(this.X);c=0;for(var e;e=d[c];c++){var f=new h.i.ef(this.v,e);this.isCollapsed&&e.MD?this.Sy.push(f):a.elements.push(f)}e=null;for(c=0;d=this.X.V[c];c++)if(d.isVisible()){!e||d.type!=h.Ga.Dc&&e.type!=h.Ga.Dc&&(d.type!=h.Ga.jf&&d.type!=h.Ga.Nd||this.Qk)||(this.rows.push(a),a=new h.i.Oj(this.v),this.Zy.push(a));for(e=0;f=d.bb[e];e++)a.elements.push(new h.i.Od(this.v,f,d));this.ux(d,a);e=d}this.isCollapsed&&(a.Ny=!0,a.elements.push(new h.i.rr(this.v)));
(a.elements.length||a.Jk)&&this.rows.push(a);this.Ru();this.rows.push(this.yb);this.tx();a=this.rows;this.rows=[];for(c=0;c<a.length;c++)if(this.rows.push(a[c]),c!=a.length-1){d=this.rows;e=d.push;f=a[c];var g=a[c+1],k=new h.i.Vo(this.v,this.Gy(f,g),this.width-this.ve);f.Ub&&(k.oy=!0);g.Ub&&(k.zL=!0);e.call(d,k)}for(e=d=c=a=0;f=this.rows[e];e++)f.measure(),c=Math.max(c,f.width),f.Ub&&(a=Math.max(a,f.width-W(f).width)),d=Math.max(d,f.Ye);this.$h=a;this.width=c;for(e=0;f=this.rows[e];e++)f.Ub&&(f.$h=
this.$h);this.ql=Math.max(c,d);this.R&&(this.ve=this.R.width,this.width+=this.R.width,this.ql+=this.R.width);this.js();this.jy()};
b.Ru=function(){this.yb.Oy=!!this.X.$;this.yb.minHeight=this.X.V.length&&this.X.V[this.X.V.length-1].type==h.Ga.Dc?this.v.RA:this.v.SA;this.yb.Pt(this.X)?this.yb.elements.push(new h.i.bk(this.v)):this.yb.elements.push(new h.i.So(this.v));this.yb.Oy&&(this.yb.connection=new h.i.Dr(this.v,this.X.$),this.yb.elements.push(this.yb.connection));this.yb.elements.push(new h.i.bk(this.v,"right"))};
b.ux=function(a,c){this.Qk&&a.type==h.Ga.jf?(c.elements.push(new h.i.Tg(this.v,a)),c.Ot=!0):a.type==h.Ga.Dc?(c.elements.push(new h.i.dh(this.v,a)),c.Ub=!0):a.type==h.Ga.jf?(c.elements.push(new h.i.Co(this.v,a)),c.Ah=!0):a.type==h.Ga.Nd&&(c.minHeight=Math.max(c.minHeight,a.ba()&&a.ba().Ha?this.v.oB:this.v.cw),c.Jk=!0);null==c.align&&(c.align=a.align)};
b.tx=function(){for(var a=0,c;c=this.rows[a];a++){var d=c.elements;c.elements=[];c.Kq()&&c.elements.push(new h.i.Sf(this.v,this.Ki(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++)c.elements.push(d[e]),c.elements.push(new h.i.Sf(this.v,this.Ki(d[e],d[e+1])));c.elements.push(d[d.length-1]);c.xm()&&c.elements.push(new h.i.Sf(this.v,this.Ki(d[d.length-1],null)))}}};
b.Ki=function(a,c){if(!a&&c&&h.i.u.Zi(c))return this.v.Zw;if(a&&h.i.u.Eh(a)&&!c){if(h.i.u.Rm(a))return this.v.ff;if(h.i.u.Dh(a))return this.v.Nc;if(h.i.u.Zi(a))return this.v.ff}return a&&h.i.u.Sm(a)&&c&&(h.i.u.Uk(c)||h.i.u.Gh(c))?c.pe:a&&h.i.u.Fh(a)&&c&&(h.i.u.Uk(c)||h.i.u.Gh(c))?c.pe-this.v.qb:this.v.Sd};b.js=function(){for(var a=0,c;c=this.rows[a];a++)if(c.Ub)ie(this,c);else{var d=this.Gm(c)-c.width;0<d&&je(c,d);h.i.u.oF(c)&&(c.Ye=c.width)}};b.Gm=function(){return this.width-this.ve};
function je(a,c){a:{var d=0;for(var e;e=a.elements[d];d++)if(h.i.u.me(e)){d=e;break a}d=null}a:{e=a.elements.length-1;for(var f;f=a.elements[e];e--)if(h.i.u.me(f)){e=f;break a}e=null}if(a.Ah||a.Ub)a.Ye+=c;a.align==h.tb.Ae.Gb?e.width+=c:a.align==h.tb.Ae.po?(d.width+=c/2,e.width+=c/2):a.align==h.tb.Ae.nc?d.width+=c:e.width+=c;a.width+=c}
function ie(a,c){var d=W(c),e=c.width-d.width,f=a.$h;e=f-e;0<e&&je(c,e);e=c.width;f=a.Gm(c);d.width+=f-e;d.height=Math.max(d.height,c.height);c.width+=f-e;c.Ye=Math.max(c.width,a.$h+c.Kx)}b.Gy=function(){return this.v.Sd};b.wy=function(a,c){return h.i.u.me(c)?a.ec+c.height/2:h.i.u.Mp(a)?(a=a.ec+a.height-a.tm,h.i.u.Gh(c)?a+c.height/2:a-c.height/2):h.i.u.Tp(a)?h.i.u.Yi(c)?a.fg-c.height/2:a.fg+c.height/2:a.ec+a.height/2};
function ke(a,c){for(var d=c.Na,e=0,f;f=c.elements[e];e++)h.i.u.me(f)&&(f.height=c.height),f.Na=d,f.mk=a.wy(c,f),d+=f.width}b.jy=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++)e.ec=c,e.Na=this.ve,c+=e.height,a=Math.max(a,e.Ye),ke(this,e);this.R&&this.X.$&&this.X.$.isConnected()&&(a=Math.max(a,F(this.X.$.sa()).width));this.ql=a+this.ve;this.height=c;this.Jq=this.Vb.fg;this.yb.Ge=c-this.yb.tm};h.i.Lc=function(a,c){this.X=a;this.za=c;a.Wa();this.Lp=this.Pa="";this.v=c.vb.aa()};b=h.i.Lc.prototype;b.draw=function(){le(this);me(this);ne(this);this.X.Ab.mv(this.Pa+"\n"+this.Lp);this.za.M&&this.X.Ab.ut();oe(this)};function oe(a){a.X.height=a.za.height;a.X.width=a.za.ql}function le(a){for(var c=0,d;d=a.za.Sy[c];c++)d.icon.Yc.setAttribute("display","none")}
function me(a){a.jt();for(var c=1;c<a.za.rows.length-1;c++){var d=a.za.rows[c];d.Ny?a.vm(d):d.Ub?a.ht(d):d.Ah?a.kt(d):a.ey(d)}a.et();a.gt()}
b.jt=function(){var a=this.za.Vb,c=a.elements,d=this.za.Vb;if(d.connection){var e=d.Na+d.pe;L(d.connection.Sc,this.za.M?-e:e,0)}this.Pa+=h.g.D.moveBy(a.Na,this.za.Jq);for(d=0;e=c[d];d++)h.i.u.Fh(e)?this.Pa+=this.v.Ql.Bv:h.i.u.cz(e)?this.Pa+=this.v.Ql.$G:h.i.u.Uk(e)?this.Pa+=e.shape.Rh:h.i.u.Yi(e)?this.Pa+=this.v.$j.path:h.i.u.me(e)&&(this.Pa+=h.g.D.ga("h",e.width));this.Pa+=h.g.D.ga("v",a.height)};b.vm=function(a){this.Pa+=this.v.Pj.path+h.g.D.ga("v",a.height-this.v.Pj.height)};
b.kt=function(a){var c=W(a);this.Mz(a);var d="function"==typeof c.shape.re?c.shape.re(c.height):c.shape.re;this.Pa+=h.g.D.ga("H",c.Na+c.width)+d+h.g.D.ga("v",a.height-c.qk)};b.ht=function(a){var c=W(a);this.Pa+=h.g.D.ga("H",c.Na+c.pe+c.shape.width)+(c.shape.Iz+h.g.D.ga("h",-(c.pe-this.v.Jo.width))+this.v.Jo.Pu)+h.g.D.ga("v",a.height-2*this.v.Jo.height)+this.v.Jo.uq+h.g.D.ga("H",a.Na+a.width);this.Pz(a)};b.ey=function(a){this.Pa+=h.g.D.ga("V",a.ec+a.height)};
b.et=function(){var a=this.za.yb,c=a.elements;this.Oz();for(var d=0,e="",f=c.length-1,g;g=c[f];f--)h.i.u.Gh(g)?e+=g.shape.Iz:h.i.u.Sm(g)?e+=h.g.D.ga("H",a.Na):h.i.u.Fh(g)?e+=this.v.Ql.vs:h.i.u.cz(g)?(e+=this.v.Ql.uD,d=this.v.Ql.BG):h.i.u.me(g)&&(e+=h.g.D.ga("h",-1*g.width));this.Pa+=h.g.D.ga("V",a.Ge-d);this.Pa+=e};
b.gt=function(){var a=this.za.R;if(this.za.R){var c=this.za.ve+this.za.R.km;L(this.X.R,this.za.M?-c:c,this.za.R.Ad)}a&&(c=a.Ad+a.height,a="function"==typeof a.shape.on?a.shape.on(a.height):a.shape.on,this.Pa+=h.g.D.ga("V",c)+a);this.Pa+="z"};
function ne(a){for(var c=0,d;d=a.za.rows[c];c++)for(var e=0,f;f=d.elements[e];e++)if(h.i.u.Dh(f))a.ft(f);else if(h.i.u.Pk(f)||h.i.u.wg(f)){var g=a;if(h.i.u.wg(f))var k=f.zm.ta();else h.i.u.Pk(f)&&(k=f.icon.Yc);var l=f.mk-f.height/2,m=f.Na,n="";g.za.M&&(m=-(m+f.width),f.vE&&(m+=f.width,n="scale(-1 1)"));h.i.u.Pk(f)?(k.setAttribute("display","block"),k.setAttribute("transform","translate("+m+","+l+")"),vc(f.icon)):k.setAttribute("transform","translate("+m+","+l+")"+n);g.za.nd&&k.setAttribute("display",
"none")}}b.ft=function(a){var c=a.width,d=a.height,e=a.Ad,f=a.qk+e;this.Lp+=h.g.D.moveTo(a.Na+a.pf,a.mk-d/2)+h.g.D.ga("v",e)+a.shape.re+h.g.D.ga("v",d-f)+h.g.D.ga("h",c-a.pf)+h.g.D.ga("v",-d)+"z";this.Nz(a)};b.Nz=function(a){var c=a.mk-a.height/2;if(a.Sc){var d=a.Na+a.pf+a.km;this.za.M&&(d*=-1);L(a.Sc,d,c+a.Ad)}};b.Pz=function(a){var c=W(a);if(c.Sc){var d=a.Na+a.$h+c.pe;this.za.M&&(d*=-1);L(c.Sc,d,a.ec)}};b.Mz=function(a){var c=W(a);if(c.Sc){var d=a.Na+a.width;this.za.M&&(d*=-1);L(c.Sc,d,a.ec)}};
b.Oz=function(){var a=this.za.yb;if(a.connection){var c=a.connection,d=c.Na;L(c.Sc,this.za.M?-d:d,a.Ge)}};h.h.Ug=function(a,c,d,e){var f=a?a.B.id:void 0;e&&e.getType()==h.H.types.jd&&(f=e.Fa.id);h.h.Ug.A.constructor.call(this,f);this.ab=a?a.id:null;this.zz=d;this.vz=e;this.Af=c};h.g.object.U(h.h.Ug,h.h.Wd);h.h.Ug.prototype.type=h.h.yr;h.h.Ug.prototype.va=function(){var a=h.h.Ug.A.va.call(this);a.isCursor=this.Af;a.blockId=this.ab;a.oldNode=this.zz;a.newNode=this.vz;return a};h.h.Ug.prototype.Z=function(a){h.h.Ug.A.Z.call(this,a);this.Af=a.isCursor;this.ab=a.blockId;this.zz=a.oldNode;this.vz=a.newNode};
h.C.register(h.C.T.Jb,h.h.yr,h.h.Ug);h.i.Vg=function(a,c,d){this.m=a;this.ou=d;this.mn=null;this.v=c;this.vk=null;a=this.Af()?this.v.uo:this.v.Lo;this.$d=d.zb||a};h.i.Vg.dB="blocklyCursor";h.i.Vg.kC="blocklyMarker";h.i.Vg.LB=.75;b=h.i.Vg.prototype;b.ta=function(){return this.S};b.Im=function(){return this.ou};b.Af=function(){return"cursor"==this.ou.type};
b.Va=function(){var a=this.Af()?h.i.Vg.dB:h.i.Vg.kC;this.S=h.g.j.O(h.g.G.Cc,{"class":a},null);this.Ag=h.g.j.O(h.g.G.Cc,{width:this.v.wo,height:this.v.kx},this.S);this.Kh=h.g.j.O(h.g.G.wd,{width:this.v.wo,height:this.v.kx,style:"display: none"},this.Ag);this.cj=h.g.j.O(h.g.G.wd,{"class":"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.Ag);this.bj=h.g.j.O(h.g.G.Ud,{transform:"",style:"display: none"},this.Ag);this.zg=h.g.j.O(h.g.G.Ud,{transform:"",style:"display: none",fill:"none","stroke-width":this.v.eB},
this.Ag);this.Af()&&(a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.$d+";transparent;transparent;",repeatCount:"indefinite"},h.g.j.O(h.g.G.Tq,a,this.Kh),h.g.j.O(h.g.G.Tq,a,this.bj),a.attributeName="stroke",h.g.j.O(h.g.G.Tq,a,this.zg));return this.S};function pe(a,c){a.Af()?(a.mn&&a.mn.Dg(null),c.Dg(a.ta())):(a.mn&&a.mn.Xh(null),c.Xh(a.ta()));a.mn=c}
b.draw=function(a,c){if(c){this.v=this.m.vb.aa();var d=this.Af()?this.v.uo:this.v.Lo;this.$d=this.ou.zb||d;this.Kh.setAttribute("fill",this.$d);this.cj.setAttribute("stroke",this.$d);this.bj.setAttribute("fill",this.$d);this.zg.setAttribute("stroke",this.$d);this.Af()&&(d=this.$d+";transparent;transparent;",this.Kh.firstChild.setAttribute("values",d),this.bj.firstChild.setAttribute("values",d),this.zg.firstChild.setAttribute("values",d));d=c.Fa.type;if(c.getType()==h.H.types.Wb)qe(this,c);else if(c.getType()==
h.H.types.ui)qe(this,c);else if(d==h.ka.lc){var e=c.Fa;d=e.ba();var f=e.gj.x,g=e.gj.y;e=h.g.D.moveTo(0,0)+hb(this.v,e).re;this.bj.setAttribute("d",e);this.bj.setAttribute("transform","translate("+f+","+g+")"+(this.m.M?" scale(-1 1)":""));this.vk=this.bj;pe(this,d);re(this)}else if(d==h.ka.mc)g=c.Fa,d=g.ba(),f=0,g=g.gj.y,e=F(d).width,this.m.M&&(f=-e),se(this,f,g,e),pe(this,d),re(this);else if(c.getType()==h.H.types.$g)qe(this,c);else if(c.getType()==h.H.types.Bc)d=c.Fa,f=d.pg().width,g=d.pg().height,
te(this,0,0,f,g),pe(this,d),re(this);else if(c.getType()==h.H.types.jd)f=c.GA,d=f.x,f=f.y,this.m.M&&(d-=this.v.wo),se(this,d,f,this.v.wo),pe(this,this.m),re(this);else if(c.getType()==h.H.types.xi){d=c.Fa;g=F(d);f=g.width+this.v.vo;g=g.height+this.v.vo;var k=e=-this.v.vo/2,l=-this.v.vo/2;this.m.M&&(k=-(f+e));te(this,k,l,f,g);pe(this,d);re(this)}d=c.ba();a=new (h.h.get(h.h.yr))(d,this.Af(),a,c);h.h.Ea(a);a=this.vk.childNodes[0];void 0!==a&&a.beginElement&&a.beginElement()}else this.Ra()};
function qe(a,c){c=c.ba();var d=c.width,e=c.height,f=e*h.i.Vg.LB,g=a.v.cB;if(c.la){var k=hb(a.v,c.la);e=k;d=h.g.D.moveBy(-g,f)+h.g.D.ga("V",-g)+h.g.D.ga("H",a.v.Ml)+e.Rh+h.g.D.ga("H",d+2*g)+h.g.D.ga("V",f);a.zg.setAttribute("d",d)}else c.R?(f=k=hb(a.v,c.R),d=h.g.D.moveBy(d,0)+h.g.D.ga("h",-(d-f.width))+h.g.D.ga("v",a.v.ck)+f.re+h.g.D.ga("V",e)+h.g.D.ga("H",d),a.zg.setAttribute("d",d)):(d=h.g.D.moveBy(-g,f)+h.g.D.ga("V",-g)+h.g.D.ga("H",d+2*g)+h.g.D.ga("V",f),a.zg.setAttribute("d",d));a.m.M&&a.zg.setAttribute("transform",
"scale(-1 1)");a.vk=a.zg;pe(a,c);re(a)}function re(a){a.Ra();a.vk.style.display=""}function se(a,c,d,e){a.Kh.setAttribute("x",c);a.Kh.setAttribute("y",d);a.Kh.setAttribute("width",e);a.vk=a.Kh}function te(a,c,d,e,f){a.cj.setAttribute("x",c);a.cj.setAttribute("y",d);a.cj.setAttribute("width",e);a.cj.setAttribute("height",f);a.vk=a.cj}b.Ra=function(){this.Kh.style.display="none";this.cj.style.display="none";this.bj.style.display="none";this.zg.style.display="none"};b.L=function(){this.S&&h.g.j.removeNode(this.S)};h.i.Uf=function(a,c,d){this.tb=d;this.Lf=a;this.Hb=h.g.j.O(h.g.G.Ud,{"class":"blocklyPath"},this.Lf);this.style=c;this.nu=this.pm=null};b=h.i.Uf.prototype;b.mv=function(a){this.Hb.setAttribute("d",a)};b.ut=function(){this.Hb.setAttribute("transform","scale(-1 1)")};b.Dg=function(a){a?(this.Lf.appendChild(a),this.pm=a):this.pm=null};b.Xh=function(a){a?(this.pm?this.Lf.insertBefore(a,this.pm):this.Lf.appendChild(a),this.nu=a):this.nu=null};
b.Sb=function(a){this.Hb.setAttribute("stroke",this.style.lf);this.Hb.setAttribute("fill",this.style.hg);this.uA(a.Ha);this.Fv(!a.isEnabled()||Xb(a))};b.Fg=function(a){this.style=a};function G(a,c,d){d?h.g.j.Db(a.Lf,c):h.g.j.vc(a.Lf,c)}b.sA=function(a){a?this.Hb.setAttribute("filter","url(#"+this.tb.Bp+")"):this.Hb.setAttribute("filter","none")};b.uA=function(a){a&&(this.Hb.setAttribute("stroke","none"),this.Hb.setAttribute("fill",this.style.op))};
b.Fv=function(a){G(this,"blocklyDisabled",a);a&&this.Hb.setAttribute("fill","url(#"+this.tb.Yx+")")};h.i.Wf=function(a){this.name=a;this.Mu=this.v=null};b=h.i.Wf.prototype;b.Me=function(){return this.name+"-renderer"};b.Ca=function(a,c){this.v=this.iu();c&&(this.Mu=c,h.g.object.Te(this.v,c));this.v.En(a);this.v.Ca()};b.Va=function(a,c){this.v.Va(a,this.name+"-"+c.name,"."+this.Me()+"."+c.Me())};b.Wu=function(a,c){var d=this.aa();d.L();this.v=this.iu();this.Mu&&h.g.object.Te(this.v,this.Mu);this.v.wq=d.wq;this.v.En(c);this.v.Ca();this.Va(a,c)};b.L=function(){this.v&&this.v.L()};b.iu=function(){return new h.i.Rf};
b.mz=function(a){return new h.i.De(this,a)};b.kz=function(a,c){return new h.i.Lc(a,c)};b.lz=function(a,c){return new h.i.Uf(a,c,this.v)};b.aa=function(){return this.v};b.Ma=function(a){var c=this.mz(a);c.measure();this.kz(a,c).draw()};h.oa={};h.oa.Rf=function(){h.oa.Rf.A.constructor.call(this);this.kr=!1;this.kc=1;this.lC=30;this.Xw=-this.Cr/2};h.g.object.U(h.oa.Rf,h.i.Rf);h.oa.Rf.prototype.zt=function(a){return h.oa.Rf.A.zt.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.Io+";","stroke: none;","}"])};h.oa.qw=function(a){this.za=a;this.Om=this.ra="";this.oc=this.za.M;a=a.vb;this.v=a.aa();this.Ed=a.Ed;this.ld=this.Ed.OFFSET;this.Lu=this.Ed.vC;this.Nk=this.Ed.UB;this.tn=this.Ed.Lr;this.JF=this.Ed.Tj;this.PG=this.Ed.$j;this.fz=this.Ed.Pj};h.oa.qw.prototype.vm=function(a){this.za.M&&(this.ra+=this.fz.Rh+h.g.D.ga("v",a.height-this.fz.height-this.ld))};
function ue(a,c){var d=c.Na+c.width-a.ld;c.oy&&(a.ra+=h.g.D.ga("H",d));a.oc&&(a.ra+=h.g.D.ga("H",d),c.height>a.ld&&(a.ra+=h.g.D.ga("V",c.ec+c.height-a.ld)))};h.oa.Tg=function(a,c){h.oa.Tg.A.constructor.call(this,a,c);this.oh&&(this.width+=this.v.kc,this.height+=this.v.kc)};h.g.object.U(h.oa.Tg,h.i.Tg);h.oa.dh=function(a,c){h.oa.dh.A.constructor.call(this,a,c);this.oh&&(this.height+=this.v.kc)};h.g.object.U(h.oa.dh,h.i.dh);h.oa.De=function(a,c){h.oa.De.A.constructor.call(this,a,c)};h.g.object.U(h.oa.De,h.i.De);b=h.oa.De.prototype;b.Ru=function(){h.oa.De.A.Ru.call(this);this.X.V.length&&this.X.V[this.X.V.length-1].type==h.Ga.Dc||(this.yb.minHeight=this.v.Sd-this.v.kc)};
b.ux=function(a,c){this.Qk&&a.type==h.Ga.jf?(c.elements.push(new h.oa.Tg(this.v,a)),c.Ot=!0):a.type==h.Ga.Dc?(c.elements.push(new h.oa.dh(this.v,a)),c.Ub=!0):a.type==h.Ga.jf?(c.elements.push(new h.i.Co(this.v,a)),c.Ah=!0):a.type==h.Ga.Nd&&(c.minHeight=Math.max(c.minHeight,this.v.cw),c.Jk=!0);this.Qk||null!=c.align||(c.align=a.align)};
b.tx=function(){for(var a=!1,c=0,d;d=this.rows[c];c++)d.Ah&&(a=!0);for(c=0;d=this.rows[c];c++){var e=d.elements;d.elements=[];d.Kq()&&d.elements.push(new h.i.Sf(this.v,this.Ki(null,e[0])));if(e.length){for(var f=0;f<e.length-1;f++){d.elements.push(e[f]);var g=this.Ki(e[f],e[f+1]);d.elements.push(new h.i.Sf(this.v,g))}d.elements.push(e[e.length-1]);d.xm()&&(g=this.Ki(e[e.length-1],null),a&&d.Jk&&(g+=this.v.Wo),d.elements.push(new h.i.Sf(this.v,g)))}}};
b.Ki=function(a,c){if(!a)return c&&h.i.u.wg(c)&&c.md?this.v.Sd:c&&h.i.u.Dh(c)?this.v.Fw:c&&h.i.u.Zi(c)?this.v.Zw:this.v.Nc;if(!h.i.u.Eh(a)&&(!c||h.i.u.Zi(c)))return h.i.u.wg(a)&&a.md?this.v.Sd:h.i.u.Pk(a)?2*this.v.Nc+1:h.i.u.Yi(a)?this.v.ff:h.i.u.nF(a)?this.v.Nc:h.i.u.Fh(a)?this.v.oC:h.i.u.az(a)?this.v.ff:this.v.Nc;if(h.i.u.Eh(a)&&!c){if(h.i.u.Rm(a))return this.v.ff;if(h.i.u.Dh(a))return this.v.Nc;if(h.i.u.Zi(a))return this.v.ff}if(!h.i.u.Eh(a)&&c&&h.i.u.Eh(c)){if(h.i.u.wg(a)&&a.md){if(h.i.u.Dh(c)||
h.i.u.Rm(c))return this.v.NC}else{if(h.i.u.Dh(c)||h.i.u.Rm(c))return this.v.Fw;if(h.i.u.Zi(c))return this.v.Nc}return this.v.Nc-1}if(h.i.u.Pk(a)&&c&&!h.i.u.Eh(c))return this.v.Nc;if(h.i.u.Dh(a)&&c&&h.i.u.wg(c))return c.md?this.v.Sd:this.v.Nc;if(h.i.u.Sm(a)&&c){if(h.i.u.Yi(c))return this.v.ff;if(h.i.u.Uk(c))return c.pe;if(h.i.u.Gh(c))return a=(this.M?1:-1)*this.v.kc/2,c.pe+a}if(h.i.u.Fh(a)&&c){if(h.i.u.Uk(c))return c.pe-this.v.qb;if(h.i.u.Gh(c))return a=(this.M?1:-1)*this.v.kc/2,c.pe-this.v.qb+a}return h.i.u.wg(a)&&
c&&h.i.u.wg(c)&&a.md==c.md||c&&h.i.u.az(c)?this.v.Nc:this.v.Sd};b.Gy=function(a,c){return h.i.u.Tp(a)&&h.i.u.Mp(c)?this.v.pB:h.i.u.Tp(a)||h.i.u.Mp(c)?this.v.ff:a.Ah&&c.Ah?this.v.Nc:!a.Ub&&c.Ub?this.v.PA:a.Ub&&c.Ub||!a.Ub&&c.Jk||a.Jk?this.v.Nc:this.v.Sd};
b.wy=function(a,c){if(h.i.u.me(c))return a.ec+c.height/2;if(h.i.u.Mp(a))return a=a.ec+a.height-a.tm,h.i.u.Gh(c)?a+c.height/2:a-c.height/2;if(h.i.u.Tp(a))return h.i.u.Yi(c)?a.fg-c.height/2:a.fg+c.height/2;var d=a.ec;h.i.u.wg(c)||h.i.u.Pk(c)?(d+=c.height/2,(a.Ot||a.Ub)&&c.height+this.v.$w<=a.height&&(d+=this.v.$w)):d=h.i.u.Dh(c)?d+c.height/2:d+a.height/2;return d};
b.js=function(){if(this.Qk){for(var a=0,c=null,d=this.rows.length-1,e;e=this.rows[d];d--)e.vu=a,h.i.u.iF(e)&&(e.Ub&&ie(this,e),c&&c.Ub&&e.width<c.width?e.vu=c.width:a=e.width,c=e);for(d=a=0;e=this.rows[d];d++)e.Ub?a=this.Gm(e):h.i.u.me(e)?e.width=Math.max(a,e.vu):(a=Math.max(a,e.vu)-e.width,0<a&&je(e,a),a=e.width)}else h.oa.De.A.js.call(this)};b.Gm=function(a){return this.Qk&&a.Ub?this.$h+this.v.lC+this.ve:h.oa.De.A.Gm.call(this,a)};
b.jy=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++){e.ec=c;e.Na=this.ve;c+=e.height;a=Math.max(a,e.Ye);var f=c-this.Vb.ik;e==this.yb&&f<this.v.Il&&(f=this.v.Il-f,this.yb.height+=f,c+=f);ke(this,e)}this.R&&this.X.$&&this.X.$.isConnected()&&(a=Math.max(a,F(this.X.$.sa()).width-this.v.kc));this.yb.Ge=c-this.yb.tm;this.ql=a+this.ve+this.v.kc;this.width+=this.v.kc;this.height=c+this.v.kc;this.Jq=this.Vb.fg};h.oa.Lc=function(a,c){h.oa.Lc.A.constructor.call(this,a,c);this.yf=new h.oa.qw(c)};h.g.object.U(h.oa.Lc,h.i.Lc);b=h.oa.Lc.prototype;b.draw=function(){le(this);me(this);ne(this);var a=this.X.Ab;a.mv(this.Pa+"\n"+this.Lp);var c=this.yf;a.tj.setAttribute("d",c.ra+"\n"+c.Om);this.za.M&&a.ut();oe(this)};
b.jt=function(){var a=this.yf,c=this.za.Vb;a.ra+=h.g.D.moveBy(c.Na,a.za.Jq);for(var d=0,e;e=c.elements[d];d++)h.i.u.Sm(e)?a.ra+=a.Ed.Ww:h.i.u.Fh(e)?a.ra+=a.Lu.Bv(a.oc):h.i.u.Uk(e)?a.ra+=a.JF.Rh:h.i.u.Yi(e)?a.ra+=a.PG.path(a.oc):h.i.u.me(e)&&0!=e.width&&(a.ra+=h.g.D.ga("H",e.Na+e.width-a.ld));a.ra+=h.g.D.ga("H",c.Na+c.width-a.ld);ue(this.yf,this.za.Vb);h.oa.Lc.A.jt.call(this)};b.vm=function(a){this.yf.vm(a);h.oa.Lc.A.vm.call(this,a)};
b.kt=function(a){var c=this.yf,d=W(a);if(c.oc){var e=a.height-d.qk;c.ra+=h.g.D.moveTo(d.Na+d.width-c.ld,a.ec)+c.tn.re(c.oc)+h.g.D.ga("v",e)}else c.ra+=h.g.D.moveTo(d.Na+d.width,a.ec)+c.tn.re(c.oc);h.oa.Lc.A.kt.call(this,a)};
b.ht=function(a){var c=this.yf,d=W(a);if(c.oc){var e=a.height-2*c.Nk.height;c.ra+=h.g.D.moveTo(d.Na,a.ec)+c.Nk.Pu(c.oc)+h.g.D.ga("v",e)+c.Nk.uq(c.oc)+h.g.D.lineTo(a.width-d.Na-c.Nk.width,0)}else c.ra+=h.g.D.moveTo(d.Na,a.ec+a.height)+c.Nk.uq(c.oc)+h.g.D.lineTo(a.width-d.Na-c.Nk.width,0);h.oa.Lc.A.ht.call(this,a)};b.ey=function(a){ue(this.yf,a);this.Pa+=h.g.D.ga("H",a.Na+a.width)+h.g.D.ga("V",a.ec+a.height)};
b.et=function(){var a=this.yf,c=this.za.yb;if(a.oc)a.ra+=h.g.D.ga("V",c.Ge-a.ld);else{var d=a.za.yb.elements[0];h.i.u.Sm(d)?a.ra+=h.g.D.moveTo(c.Na+a.ld,c.Ge-a.ld):h.i.u.Fh(d)&&(a.ra+=h.g.D.moveTo(c.Na,c.Ge),a.ra+=a.Lu.vs())}h.oa.Lc.A.et.call(this)};
b.gt=function(){var a=this.yf,c=a.za.R;c&&(c=c.Ad+c.height,a.oc?a.ra+=h.g.D.moveTo(a.za.ve,c):(a.ra+=h.g.D.moveTo(a.za.ve+a.ld,a.za.yb.Ge-a.ld),a.ra+=h.g.D.ga("V",c)),a.ra+=a.tn.on(a.oc));a.oc||(c=a.za.Vb,a.ra=h.i.u.Fh(c.elements[0])?a.ra+h.g.D.ga("V",a.Lu.height):a.ra+h.g.D.ga("V",c.fg+a.ld));h.oa.Lc.A.gt.call(this)};
b.ft=function(a){var c=this.yf,d=c.ld,e=a.Na+a.pf,f=a.mk-a.height/2,g=a.width-a.pf,k=f+d;if(c.oc){f=a.Ad-d;var l=a.height-(a.Ad+a.qk)+d;c.Om+=h.g.D.moveTo(e-d,k)+h.g.D.ga("v",f)+c.tn.re(c.oc)+h.g.D.ga("v",l)+h.g.D.ga("h",g)}else c.Om+=h.g.D.moveTo(a.Na+a.width+d,k)+h.g.D.ga("v",a.height)+h.g.D.ga("h",-g)+h.g.D.moveTo(e,f+a.Ad)+c.tn.re(c.oc);h.oa.Lc.A.ft.call(this,a)};b.Nz=function(a){var c=a.mk-a.height/2;if(a.Sc){var d=a.Na+a.pf+this.v.kc;this.za.M&&(d*=-1);L(a.Sc,d,c+a.Ad+this.v.kc)}};
b.Pz=function(a){var c=W(a);if(c.Sc){var d=a.Na+a.$h+c.pe;d=this.za.M?-1*d:d+this.v.kc;L(c.Sc,d,a.ec+this.v.kc)}};b.Mz=function(a){var c=W(a);if(c.Sc){var d=a.Na+a.width+this.v.kc;this.za.M&&(d*=-1);L(c.Sc,d,a.ec)}};b.Oz=function(){var a=this.za.yb;if(a.connection){var c=a.connection,d=c.Na;L(c.Sc,(this.za.M?-d:d)+this.v.kc/2,a.Ge+this.v.kc)}};h.oa.pw=function(a){this.rk=a;this.OFFSET=.5;this.Ww=h.g.D.moveBy(this.OFFSET,this.OFFSET)};b=h.oa.pw.prototype;b.Ca=function(){this.UB=ve(this);this.vC=we(this);this.Lr=this.lu();this.Tj=this.ku();this.Pj=this.ju();this.$j=this.mu()};
function ve(a){var c=a.rk.qb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c+a)-a,e=h.g.D.moveBy(d,d)+h.g.D.arc("a","0 0,0",c,h.g.D.La(-d-a,c-d)),f=h.g.D.arc("a","0 0,0",c+a,h.g.D.La(c+a,c+a)),g=h.g.D.moveBy(d,-d)+h.g.D.arc("a","0 0,0",c+a,h.g.D.La(c-d,d+a));return{width:c+a,height:c,Pu:function(k){return k?e:""},uq:function(k){return k?f:g}}}
function we(a){var c=a.rk.qb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c-a)+a,e=h.g.D.moveBy(d,d)+h.g.D.arc("a","0 0,1",c-a,h.g.D.La(c-d,-d+a)),f=h.g.D.moveBy(a,c)+h.g.D.arc("a","0 0,1",c-a,h.g.D.La(c,-c+a)),g=-d,k=h.g.D.moveBy(d,g)+h.g.D.arc("a","0 0,1",c-a,h.g.D.La(-d+a,-g-c));return{height:c,Bv:function(l){return l?e:f},vs:function(){return k}}}
b.lu=function(){var a=this.rk.Wo,c=this.rk.Tl,d=h.g.D.moveBy(-2,-c+3.4)+h.g.D.lineTo(-.45*a,-2.1),e=h.g.D.ga("v",2.5)+h.g.D.moveBy(.97*-a,2.5)+h.g.D.curve("q",[h.g.D.La(.05*-a,10),h.g.D.La(.3*a,9.5)])+h.g.D.moveBy(.67*a,-1.9)+h.g.D.ga("v",2.5),f=h.g.D.ga("v",-1.5)+h.g.D.moveBy(-.92*a,-.5)+h.g.D.curve("q",[h.g.D.La(-.19*a,-5.5),h.g.D.La(0,-11)])+h.g.D.moveBy(.92*a,1),g=h.g.D.moveBy(-5,c-.7)+h.g.D.lineTo(.46*a,-2.1);return{width:a,height:c,on:function(k){return k?d:f},re:function(k){return k?e:g}}};
b.ku=function(){return{Rh:h.g.D.ga("h",this.OFFSET)+this.rk.Tj.Rh}};b.ju=function(){return{Rh:h.g.D.lineTo(5.1,2.6)+h.g.D.moveBy(-10.2,6.8)+h.g.D.lineTo(5.1,2.6),height:12,width:10.2}};b.mu=function(){var a=this.rk.$j.height,c=h.g.D.moveBy(25,-8.7)+h.g.D.curve("c",[h.g.D.La(29.7,-6.2),h.g.D.La(57.2,-.5),h.g.D.La(75,8.7)]),d=h.g.D.curve("c",[h.g.D.La(17.8,-9.2),h.g.D.La(45.3,-14.9),h.g.D.La(75,-8.7)])+h.g.D.moveTo(100.5,a+.5);return{path:function(e){return e?c:d}}};h.oa.Uf=function(a,c,d){this.tb=d;this.Lf=a;this.On=h.g.j.O(h.g.G.Ud,{"class":"blocklyPathDark",transform:"translate(1,1)"},this.Lf);this.Hb=h.g.j.O(h.g.G.Ud,{"class":"blocklyPath"},this.Lf);this.tj=h.g.j.O(h.g.G.Ud,{"class":"blocklyPathLight"},this.Lf);this.Ks="#000000";this.style=c};h.g.object.U(h.oa.Uf,h.i.Uf);b=h.oa.Uf.prototype;b.mv=function(a){this.Hb.setAttribute("d",a);this.On.setAttribute("d",a)};
b.ut=function(){this.Hb.setAttribute("transform","scale(-1 1)");this.tj.setAttribute("transform","scale(-1 1)");this.On.setAttribute("transform","translate(1,1) scale(-1 1)")};b.Sb=function(a){this.tj.style.display="";this.On.style.display="";this.tj.setAttribute("stroke",this.style.lf);this.On.setAttribute("fill",this.Ks);h.oa.Uf.A.Sb.call(this,a);this.Hb.setAttribute("stroke","none")};b.Fg=function(a){this.style=a;this.Ks=h.g.zb.ss("#000",this.style.hg,.2)||this.Ks};
b.sA=function(a){a?(this.Hb.setAttribute("filter","url(#"+this.tb.Bp+")"),this.tj.style.display="none"):(this.Hb.setAttribute("filter","none"),this.tj.style.display="inline")};b.uA=function(a){a&&(this.tj.style.display="none",this.On.setAttribute("fill",this.style.op),this.Hb.setAttribute("stroke","none"),this.Hb.setAttribute("fill",this.style.op))};b.Fv=function(a){h.oa.Uf.A.Fv.call(this,a);a&&this.Hb.setAttribute("stroke","none")};h.oa.Wf=function(a){h.oa.Wf.A.constructor.call(this,a);this.Ed=null};h.g.object.U(h.oa.Wf,h.i.Wf);b=h.oa.Wf.prototype;b.Ca=function(a,c){h.oa.Wf.A.Ca.call(this,a,c);this.Ed=new h.oa.pw(this.aa());this.Ed.Ca()};b.Wu=function(a,c){h.oa.Wf.A.Wu.call(this,a,c);this.Ed.Ca()};b.iu=function(){return new h.oa.Rf};b.mz=function(a){return new h.oa.De(this,a)};b.kz=function(a,c){return new h.oa.Lc(a,c)};b.lz=function(a,c){return new h.oa.Uf(a,c,this.aa())};h.i.register("geras",h.oa.Wf);h.o.ADD_COMMENT="Add Comment";h.o.CANNOT_DELETE_VARIABLE_PROCEDURE="Can't delete the variable '%1' because it's part of the definition of the function '%2'";h.o.CHANGE_VALUE_TITLE="Change value:";h.o.CLEAN_UP="Clean up Blocks";h.o.COLLAPSE_ALL="Collapse Blocks";h.o.COLLAPSE_BLOCK="Collapse Block";h.o.CONTROLS_IF_ELSEIF_TOOLTIP="Add a condition to the if block.";h.o.CONTROLS_IF_ELSE_TOOLTIP="Add a final, catch-all condition to the if block.";h.o.CONTROLS_IF_HELPURL="https://github.com/google/blockly/wiki/IfElse";
h.o.CONTROLS_IF_IF_TOOLTIP="Add, remove, or reorder sections to reconfigure this if block.";h.o.CONTROLS_IF_MSG_ELSE="else";h.o.CONTROLS_IF_MSG_ELSEIF="else if";h.o.CONTROLS_IF_MSG_IF="if";h.o.CONTROLS_IF_TOOLTIP_1="If a value is true, then do some statements.";h.o.CONTROLS_IF_TOOLTIP_2="If a value is true, then do the first block of statements. Otherwise, do the second block of statements.";h.o.CONTROLS_IF_TOOLTIP_3="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements.";
h.o.CONTROLS_IF_TOOLTIP_4="If the first value is true, then do the first block of statements. Otherwise, if the second value is true, do the second block of statements. If none of the values are true, do the last block of statements.";h.o.CONTROLS_REPEAT_INPUT_DO="do";h.o.DELETE_ALL_BLOCKS="Delete all %1 blocks?";h.o.DELETE_BLOCK="Delete Block";h.o.DELETE_VARIABLE="Delete the '%1' variable";h.o.DELETE_VARIABLE_CONFIRMATION="Delete %1 uses of the '%2' variable?";h.o.DELETE_X_BLOCKS="Delete %1 Blocks";
h.o.DIALOG_CANCEL="Cancel";h.o.DIALOG_OK="OK";h.o.DISABLE_BLOCK="Disable Block";h.o.DUPLICATE_BLOCK="Duplicate";h.o.DUPLICATE_COMMENT="Duplicate Comment";h.o.ENABLE_BLOCK="Enable Block";h.o.EXPAND_ALL="Expand Blocks";h.o.EXPAND_BLOCK="Expand Block";h.o.EXTERNAL_INPUTS="External Inputs";h.o.HELP="Help";h.o.INLINE_INPUTS="Inline Inputs";h.o.LOGIC_BOOLEAN_FALSE="false";h.o.LOGIC_BOOLEAN_HELPURL="https://github.com/google/blockly/wiki/Logic#values";h.o.LOGIC_BOOLEAN_TOOLTIP="Returns either true or false.";
h.o.LOGIC_BOOLEAN_TRUE="true";h.o.LOGIC_COMPARE_HELPURL="https://en.wikipedia.org/wiki/Inequality_(mathematics)";h.o.LOGIC_COMPARE_TOOLTIP_EQ="Return true if both inputs equal each other.";h.o.LOGIC_COMPARE_TOOLTIP_GT="Return true if the first input is greater than the second input.";h.o.LOGIC_COMPARE_TOOLTIP_GTE="Return true if the first input is greater than or equal to the second input.";h.o.LOGIC_COMPARE_TOOLTIP_LT="Return true if the first input is smaller than the second input.";
h.o.LOGIC_COMPARE_TOOLTIP_LTE="Return true if the first input is smaller than or equal to the second input.";h.o.LOGIC_COMPARE_TOOLTIP_NEQ="Return true if both inputs are not equal to each other.";h.o.LOGIC_NEGATE_HELPURL="https://github.com/google/blockly/wiki/Logic#not";h.o.LOGIC_NEGATE_TITLE="not %1";h.o.LOGIC_NEGATE_TOOLTIP="Returns true if the input is false. Returns false if the input is true.";h.o.LOGIC_OPERATION_AND="and";h.o.LOGIC_OPERATION_HELPURL="https://github.com/google/blockly/wiki/Logic#logical-operations";
h.o.LOGIC_OPERATION_OR="or";h.o.LOGIC_OPERATION_TOOLTIP_AND="Return true if both inputs are true.";h.o.LOGIC_OPERATION_TOOLTIP_OR="Return true if at least one of the inputs is true.";h.o.LOGIC_TERNARY_CONDITION="test";h.o.LOGIC_TERNARY_HELPURL="https://en.wikipedia.org/wiki/%3F:";h.o.LOGIC_TERNARY_IF_FALSE="if false";h.o.LOGIC_TERNARY_IF_TRUE="if true";h.o.LOGIC_TERNARY_TOOLTIP="Check the condition in 'test'. If the condition is true, returns the 'if true' value; otherwise returns the 'if false' value.";
h.o.MATH_ADDITION_SYMBOL="+";h.o.MATH_ARITHMETIC_HELPURL="https://en.wikipedia.org/wiki/Arithmetic";h.o.MATH_ARITHMETIC_TOOLTIP_ADD="Return the sum of the two numbers.";h.o.MATH_ARITHMETIC_TOOLTIP_DIVIDE="Return the quotient of the two numbers.";h.o.MATH_ARITHMETIC_TOOLTIP_MINUS="Return the difference of the two numbers.";h.o.MATH_ARITHMETIC_TOOLTIP_MULTIPLY="Return the product of the two numbers.";h.o.MATH_ARITHMETIC_TOOLTIP_POWER="Return the first number raised to the power of the second number.";
h.o.MATH_ATAN2_HELPURL="https://en.wikipedia.org/wiki/Atan2";h.o.MATH_ATAN2_TITLE="atan2 of X:%1 Y:%2";h.o.MATH_ATAN2_TOOLTIP="Return the arctangent of point (X, Y) in degrees from -180 to 180.";h.o.MATH_CHANGE_HELPURL="https://en.wikipedia.org/wiki/Programming_idiom#Incrementing_a_counter";h.o.MATH_CHANGE_TITLE="change %1 by %2";h.o.MATH_CHANGE_TOOLTIP="Add a number to variable '%1'.";h.o.MATH_CONSTANT_HELPURL="https://en.wikipedia.org/wiki/Mathematical_constant";h.o.MATH_CONSTANT_TOOLTIP="Return one of the common constants: \u03c0 (3.141\u2026), e (2.718\u2026), \u03c6 (1.618\u2026), sqrt(2) (1.414\u2026), sqrt(\u00bd) (0.707\u2026), or \u221e (infinity).";
h.o.MATH_CONSTRAIN_HELPURL="https://en.wikipedia.org/wiki/Clamping_(graphics)";h.o.MATH_CONSTRAIN_TITLE="constrain %1 low %2 high %3";h.o.MATH_CONSTRAIN_TOOLTIP="Constrain a number to be between the specified limits (inclusive).";h.o.MATH_DIVISION_SYMBOL="\u00f7";h.o.MATH_IS_DIVISIBLE_BY="is divisible by";h.o.MATH_IS_EVEN="is even";h.o.MATH_IS_NEGATIVE="is negative";h.o.MATH_IS_ODD="is odd";h.o.MATH_IS_POSITIVE="is positive";h.o.MATH_IS_PRIME="is prime";h.o.MATH_IS_TOOLTIP="Check if a number is an even, odd, prime, whole, positive, negative, or if it is divisible by certain number. Returns true or false.";
h.o.MATH_IS_WHOLE="is whole";h.o.MATH_MODULO_HELPURL="https://en.wikipedia.org/wiki/Modulo_operation";h.o.MATH_MODULO_TITLE="remainder of %1 \u00f7 %2";h.o.MATH_MODULO_TOOLTIP="Return the remainder from dividing the two numbers.";h.o.MATH_MULTIPLICATION_SYMBOL="\u00d7";h.o.MATH_NUMBER_HELPURL="https://en.wikipedia.org/wiki/Number";h.o.MATH_NUMBER_TOOLTIP="A number.";h.o.MATH_ONLIST_HELPURL="";h.o.MATH_ONLIST_OPERATOR_AVERAGE="average of list";h.o.MATH_ONLIST_OPERATOR_MAX="max of list";
h.o.MATH_ONLIST_OPERATOR_MEDIAN="median of list";h.o.MATH_ONLIST_OPERATOR_MIN="min of list";h.o.MATH_ONLIST_OPERATOR_MODE="modes of list";h.o.MATH_ONLIST_OPERATOR_RANDOM="random item of list";h.o.MATH_ONLIST_OPERATOR_STD_DEV="standard deviation of list";h.o.MATH_ONLIST_OPERATOR_SUM="sum of list";h.o.MATH_ONLIST_TOOLTIP_AVERAGE="Return the average (arithmetic mean) of the numeric values in the list.";h.o.MATH_ONLIST_TOOLTIP_MAX="Return the largest number in the list.";
h.o.MATH_ONLIST_TOOLTIP_MEDIAN="Return the median number in the list.";h.o.MATH_ONLIST_TOOLTIP_MIN="Return the smallest number in the list.";h.o.MATH_ONLIST_TOOLTIP_MODE="Return a list of the most common item(s) in the list.";h.o.MATH_ONLIST_TOOLTIP_RANDOM="Return a random element from the list.";h.o.MATH_ONLIST_TOOLTIP_STD_DEV="Return the standard deviation of the list.";h.o.MATH_ONLIST_TOOLTIP_SUM="Return the sum of all the numbers in the list.";h.o.MATH_POWER_SYMBOL="^";
h.o.MATH_RANDOM_FLOAT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";h.o.MATH_RANDOM_FLOAT_TITLE_RANDOM="random fraction";h.o.MATH_RANDOM_FLOAT_TOOLTIP="Return a random fraction between 0.0 (inclusive) and 1.0 (exclusive).";h.o.MATH_RANDOM_INT_HELPURL="https://en.wikipedia.org/wiki/Random_number_generation";h.o.MATH_RANDOM_INT_TITLE="random integer from %1 to %2";h.o.MATH_RANDOM_INT_TOOLTIP="Return a random integer between the two specified limits, inclusive.";
h.o.MATH_ROUND_HELPURL="https://en.wikipedia.org/wiki/Rounding";h.o.MATH_ROUND_OPERATOR_ROUND="round";h.o.MATH_ROUND_OPERATOR_ROUNDDOWN="round down";h.o.MATH_ROUND_OPERATOR_ROUNDUP="round up";h.o.MATH_ROUND_TOOLTIP="Round a number up or down.";h.o.MATH_SINGLE_HELPURL="https://en.wikipedia.org/wiki/Square_root";h.o.MATH_SINGLE_OP_ABSOLUTE="absolute";h.o.MATH_SINGLE_OP_ROOT="square root";h.o.MATH_SINGLE_TOOLTIP_ABS="Return the absolute value of a number.";h.o.MATH_SINGLE_TOOLTIP_EXP="Return e to the power of a number.";
h.o.MATH_SINGLE_TOOLTIP_LN="Return the natural logarithm of a number.";h.o.MATH_SINGLE_TOOLTIP_LOG10="Return the base 10 logarithm of a number.";h.o.MATH_SINGLE_TOOLTIP_NEG="Return the negation of a number.";h.o.MATH_SINGLE_TOOLTIP_POW10="Return 10 to the power of a number.";h.o.MATH_SINGLE_TOOLTIP_ROOT="Return the square root of a number.";h.o.MATH_SUBTRACTION_SYMBOL="-";h.o.MATH_TRIG_ACOS="acos";h.o.MATH_TRIG_ASIN="asin";h.o.MATH_TRIG_ATAN="atan";h.o.MATH_TRIG_COS="cos";h.o.MATH_TRIG_HELPURL="https://en.wikipedia.org/wiki/Trigonometric_functions";
h.o.MATH_TRIG_SIN="sin";h.o.MATH_TRIG_TAN="tan";h.o.MATH_TRIG_TOOLTIP_ACOS="Return the arccosine of a number.";h.o.MATH_TRIG_TOOLTIP_ASIN="Return the arcsine of a number.";h.o.MATH_TRIG_TOOLTIP_ATAN="Return the arctangent of a number.";h.o.MATH_TRIG_TOOLTIP_COS="Return the cosine of a degree (not radian).";h.o.MATH_TRIG_TOOLTIP_SIN="Return the sine of a degree (not radian).";h.o.MATH_TRIG_TOOLTIP_TAN="Return the tangent of a degree (not radian).";h.o.NEW_VARIABLE="Create variable...";
h.o.NEW_VARIABLE_TITLE="New variable name:";h.o.PROCEDURES_DEFNORETURN_PROCEDURE="do something";h.o.REDO="Redo";h.o.REMOVE_COMMENT="Remove Comment";h.o.RENAME_VARIABLE="Rename variable...";h.o.RENAME_VARIABLE_TITLE="Rename all '%1' variables to:";h.o.UNDO="Undo";h.o.UNNAMED_KEY="unnamed";h.o.VARIABLES_DEFAULT_NAME="item";h.o.VARIABLE_ALREADY_EXISTS="A variable named '%1' already exists.";h.o.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="A variable named '%1' already exists for another type: '%2'.";
h.o.WORKSPACE_ARIA_LABEL="Blockly Workspace";h.o.WORKSPACE_COMMENT_DEFAULT_TEXT="Say something...";h.o.CONTROLS_IF_ELSEIF_TITLE_ELSEIF=h.o.CONTROLS_IF_MSG_ELSEIF;h.o.CONTROLS_IF_ELSE_TITLE_ELSE=h.o.CONTROLS_IF_MSG_ELSE;h.o.CONTROLS_IF_IF_TITLE_IF=h.o.CONTROLS_IF_MSG_IF;h.o.CONTROLS_IF_MSG_THEN=h.o.CONTROLS_REPEAT_INPUT_DO;h.o.MATH_CHANGE_TITLE_ITEM=h.o.VARIABLES_DEFAULT_NAME;h.o.PROCEDURES_DEFRETURN_PROCEDURE=h.o.PROCEDURES_DEFNORETURN_PROCEDURE;h.o.LOGIC_HUE="210";var BlocklyStorage={},xe=null,ye=null,ze=null;function Ae(){var a=xe();Be("xml="+encodeURIComponent(a),Ce)}var De={};
function Be(a,c){De["/storage"]&&De["/storage"].abort();De["/storage"]=new XMLHttpRequest;De["/storage"].onload=function(){200===this.status?c&&c.call(this):Ee(T("Games_httpRequestError")+"\nXHR status: "+this.status);De["/storage"]=null};De["/storage"].open("POST","/storage");De["/storage"].setRequestHeader("Content-Type","application/x-www-form-urlencoded");De["/storage"].send(a)}
function Ce(){window.location.hash=this.responseText.trim();Ee(T("Games_linkAlert").replace("%1",window.location.href));ze=xe()}function Fe(){var a=this.responseText.trim();a.length?ye(a):Ee(T("Games_hashError").replace("%1",window.location.hash));ze=xe()}function Ee(a){if("object"===typeof X){var c=document.getElementById("linkButton");X.UG(c,a)}else alert(a)};var x=null,Ge="",He="";function Ie(){wd();var a=document.getElementById("linkButton");a&&(od?a.style.display="none":(xe=Je,ye=Ke,Ad(a,Ae)));(a=document.getElementById("languageMenu"))&&a.addEventListener("change",Le,!0)}
function Me(){var a=1==S?'<xml><block type="bird_heading" x="70" y="70"></block></xml>':5>S?'<xml><block type="bird_ifElse" x="70" y="70"></block></xml>':'<xml><block type="controls_if" x="70" y="70"></block></xml>';if(!od&&1<window.location.hash.length)Be("key="+encodeURIComponent(window.location.hash.substring(1)),Fe);else{var c=null;try{c=window.sessionStorage.jz}catch(e){}c&&delete window.sessionStorage.jz;var d=xd(S);(a=c||d||a)&&Ke(a)}}
function Ke(a){a=h.N.Mf(a);x.clear();h.N.Ak(a,x);a=x;a.xj.length=0;a.un.length=0;h.h.KD()}function Je(){var a=h.N.BA(!0);if(1==x.Eb(!1).length&&a.querySelector){var c=a.querySelector("block");c&&(c.removeAttribute("x"),c.removeAttribute("y"))}return h.N.Vc(a)}function Ne(){"object"==typeof BlocklyStorage&&null!==ze&&ze!=Je()&&(window.location.hash="",ze=null)}
function Oe(a){var c=document.getElementById("toolbox");c&&(a.toolbox=c);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;x=h.Ti("blockly",a);D(x,Ne)}function Pe(){window.location=(od?"index.html":"./")+"?lang="+R}
function Le(){window.sessionStorage&&(window.sessionStorage.jz=Je());var a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var c=window.location.search;c=1>=c.length?"?lang="+a:/[?&]lang=[^&]*/.test(c)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c}
function Qe(){10>S?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+R+"&level="+(S+1):Pe()}function Re(a){if(a){var c=a.match(/^block_id_([^']+)$/);c&&(a=c[1])}Nc(a)}function Se(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")}function Te(a){if("click"==a.type&&"touchend"==Ue&&Ve+2E3>Date.now()||Ue==a.type&&Ve+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;Ue=a.type;Ve=Date.now();return!1}
var Ue=null,Ve=0;function We(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)}function Xe(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)};var X={Vi:!1,Ux:null,wp:null,Hq:function(a,c,d,e,f,g){function k(){if(X.Vi){l.style.visibility="visible";l.style.zIndex=10;m.style.visibility="hidden";var p=a.getElementsByClassName("primary");p.length||(p=a.getElementsByClassName("secondary"),p.length||(p=a.getElementsByTagName("button")));p.length&&p[0].focus()}}if(!a)throw TypeError("Content not found: "+a);X.Vi&&X.Bh(!1);h.vh()&&h.qc(!0);X.Vi=!0;X.Ux=c;X.wp=g;var l=document.getElementById("dialog");g=document.getElementById("dialogShadow");var m=
document.getElementById("dialogBorder"),n;for(n in f)l.style[n]=f[n];e&&(g.style.visibility="visible",g.style.opacity=.3,g.style.zIndex=9,e=document.createElement("div"),e.id="dialogHeader",l.appendChild(e),X.Ss=h.rs(e,"mousedown",null,X.gE));f=a.getElementsByClassName("dialogOk");for(e=0;e<f.length;e++)f[e].textContent=h.o.DIALOG_OK;f=a.getElementsByClassName("dialogCancel");for(e=0;e<f.length;e++)f[e].textContent=h.o.DIALOG_CANCEL;l.appendChild(a);a.className=a.className.replace("dialogHiddenContent",
"");try{c.blur()}catch(p){}d&&c?(X.$p(c,!1,.2),X.$p(l,!0,.8),setTimeout(k,175)):k()},Vx:0,Wx:0,gE:function(a){X.Vs();if(!h.g.Vk(a)){var c=document.getElementById("dialog");X.Vx=c.offsetLeft-a.clientX;X.Wx=c.offsetTop-a.clientY;X.Us=h.rs(document,"mouseup",null,X.Vs);X.Ts=h.rs(document,"mousemove",null,X.hE);a.stopPropagation()}},hE:function(a){var c=document.getElementById("dialog"),d=X.Vx+a.clientX;a=X.Wx+a.clientY;a=Math.max(a,0);a=Math.min(a,window.innerHeight-c.offsetHeight);d=Math.max(d,0);d=
Math.min(d,window.innerWidth-c.offsetWidth);c.style.left=d+"px";c.style.top=a+"px"},Vs:function(){X.Us&&(h.Dv(X.Us),X.Us=null);X.Ts&&(h.Dv(X.Ts),X.Ts=null)},Bh:function(a){function c(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(X.Vi){X.Vs();X.Ss&&(h.Dv(X.Ss),X.Ss=null);X.Vi=!1;X.wp&&X.wp();X.wp=null;var d=!1===a?null:X.Ux;a=document.getElementById("dialog");var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?
(X.$p(a,!1,.8),X.$p(d,!0,.2),setTimeout(c,175)):c();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},$p:function(a,c,d){function e(){f.style.width=g.width+"px";f.style.height=g.height+"px";f.style.left=g.x+"px";f.style.top=g.y+"px";f.style.opacity=d}if(a){var f=document.getElementById("dialogBorder"),g=X.zE(a);c?(f.className="dialogAnimate",
setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},zE:function(a){var c=h.g.style.vf(a);c={x:c.x,y:c.y};a.getBBox?(a=a.getBBox(),c.height=a.height,c.width=a.width):(c.height=a.offsetHeight,c.width=a.offsetWidth);return c},UG:function(a,c){var d=document.getElementById("containerStorage");d.textContent="";c=c.split("\n");for(var e=0;e<c.length;e++){var f=document.createElement("p");f.appendChild(document.createTextNode(c[e]));d.appendChild(f)}d=document.getElementById("dialogStorage");
X.Hq(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},X.TG);X.NG()},px:function(){if(!xd(S))if(X.Vi||x.rc())setTimeout(X.px,15E3);else{var a=document.getElementById("dialogAbort"),c=document.getElementById("abortCancel");c.addEventListener("click",X.Bh,!0);c.addEventListener("touchend",X.Bh,!0);c=document.getElementById("abortOk");c.addEventListener("click",Pe,!0);c.addEventListener("touchend",Pe,!0);X.Hq(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",
X.ox,!0)});document.body.addEventListener("keydown",X.ox,!0)}},RD:function(){var a=document.getElementById("dialogDone");if(x){var c=document.getElementById("dialogLinesText");c.textContent="";var d=He;d=Se(d);var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");f.textContent=d;"function"==typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),
f.innerHTML=d);d=1==e?T("Games_linesOfCode1"):T("Games_linesOfCode2").replace("%1",String(e));c.appendChild(document.createTextNode(d))}d=10>S?T("Games_nextLevel").replace("%1",String(S+1)):T("Games_finalLevel");c=document.getElementById("doneCancel");c.addEventListener("click",X.Bh,!0);c.addEventListener("touchend",X.Bh,!0);c=document.getElementById("doneOk");c.addEventListener("click",Qe,!0);c.addEventListener("touchend",Qe,!0);X.Hq(a,null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",
X.Jx,!0)});document.body.addEventListener("keydown",X.Jx,!0);document.getElementById("dialogDoneText").textContent=d},xp:function(a){!X.Vi||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(X.Bh(!0),a.stopPropagation(),a.preventDefault())},NG:function(){document.body.addEventListener("keydown",X.xp,!0)},TG:function(){document.body.removeEventListener("keydown",X.xp,!0)},Jx:function(a){X.xp(a);13!=a.keyCode&&32!=a.keyCode||Qe()},ox:function(a){X.xp(a);13!=a.keyCode&&32!=a.keyCode||Pe()}};
window.BlocklyDialogs=X;X.hideDialog=X.Bh;var zd="bird";function Y(a,c,d,e){this.bo=a;this.co=c;this.x1=d;this.y1=e}Y.prototype.ng=function(a){var c=this.x1-this.bo,d=this.y1-this.co,e=(a.x-this.bo)*c+(a.y-this.co)*d,f=c*c+d*d;e=f?e/f:-1;return h.g.K.ng(a,0>e?new h.g.K(this.bo,this.co):1<e?new h.g.K(this.x1,this.y1):new h.g.K(this.bo+e*c,this.co+e*d))};
var Z=[void 0,{start:new h.g.K(20,20),Jf:90,Kc:new h.g.K(50,50),Hd:new h.g.K(80,80),ze:[]},{start:new h.g.K(20,20),Jf:0,Kc:new h.g.K(80,20),Hd:new h.g.K(80,80),ze:[new Y(0,50,60,50)]},{start:new h.g.K(20,70),Jf:270,Kc:new h.g.K(50,20),Hd:new h.g.K(80,70),ze:[new Y(50,50,50,100)]},{start:new h.g.K(20,80),Jf:0,Kc:null,Hd:new h.g.K(80,20),ze:[new Y(0,0,65,65)]},{start:new h.g.K(80,80),Jf:270,Kc:null,Hd:new h.g.K(20,20),ze:[new Y(0,100,65,35)]},{start:new h.g.K(20,40),Jf:0,Kc:new h.g.K(80,20),Hd:new h.g.K(20,
80),ze:[new Y(0,59,50,59)]},{start:new h.g.K(80,80),Jf:180,Kc:new h.g.K(80,20),Hd:new h.g.K(20,20),ze:[new Y(0,70,40,70),new Y(70,50,100,50)]},{start:new h.g.K(20,25),Jf:90,Kc:new h.g.K(80,25),Hd:new h.g.K(80,75),ze:[new Y(50,0,50,25),new Y(75,50,100,50),new Y(50,100,50,75),new Y(0,50,25,50)]},{start:new h.g.K(80,70),Jf:180,Kc:new h.g.K(20,20),Hd:new h.g.K(80,20),ze:[new Y(0,69,31,100),new Y(40,50,71,0),new Y(80,50,100,50)]},{start:new h.g.K(20,20),Jf:90,Kc:new h.g.K(80,50),Hd:new h.g.K(20,20),ze:[new Y(40,
60,60,60),new Y(40,60,60,30),new Y(60,30,100,30)]}][S],Ye=[];
function Ze(){var a=document.getElementById("svgBird");Z.ze.push(new Y(-5,-5,-5,105),new Y(-5,105,105,105),new Y(105,105,105,-5),new Y(105,-5,-5,-5));for(var c=0,d;d=Z.ze[c];c++)h.g.j.O("line",{x1:d.bo/100*400,y1:400*(1-d.co/100),x2:d.x1/100*400,y2:400*(1-d.y1/100),stroke:"#CCB","stroke-width":10,"stroke-linecap":"round"},a);h.g.j.O("image",{id:"nest",height:100,width:100},a).setAttributeNS(h.g.j.Ee,"xlink:href","bird/nest.png");Z.Kc&&h.g.j.O("image",{id:"worm",height:100,width:100},a).setAttributeNS(h.g.j.Ee,
"xlink:href","bird/worm.png");c=h.g.j.O("clipPath",{id:"birdClipPath"},a);h.g.j.O("rect",{id:"clipRect",height:120,width:120},c);h.g.j.O("image",{id:"bird",height:480,width:1440,"clip-path":"url(#birdClipPath)"},a).setAttributeNS(h.g.j.Ee,"xlink:href","bird/birds-120.png");h.g.j.O("rect",{"class":"edges",height:400,width:400},a);d=3<S;var e=4<S,f=1;for(c=.1;.9>c;c+=.1){d&&h.g.j.O("line",{"class":"edges",x1:400*c,y1:400,x2:400*c,y2:400-9*f},a);e&&h.g.j.O("line",{"class":"edges",x1:0,y1:400*c,x2:9*
c*f,y2:400*c},a);if(2==f){if(d){var g=h.g.j.O("text",{"class":"edgeX",x:400*c+2,y:396},a);g.appendChild(document.createTextNode(Math.round(100*c)))}e&&(g=h.g.j.O("text",{"class":"edgeY",x:3,y:400*c-2},a),g.appendChild(document.createTextNode(Math.round(100-100*c))))}f=1==f?2:1}}
window.addEventListener("load",function(){function a(){d.style.top=Math.max(10,e.offsetTop-window.pageYOffset)+"px";d.style.left=c?"10px":"420px";d.style.width=window.innerWidth-440+"px"}document.body.innerHTML=$d();Ie();var c=-1!=md.indexOf(R),d=document.getElementById("blockly"),e=document.getElementById("visualization");window.addEventListener("scroll",function(){a(null);h.Pn(x)});window.addEventListener("resize",a);a(null);Oe({rtl:c,trashcan:!0});x.Yd.load(["bird/quack.ogg","bird/quack.mp3"],
"quack");x.Yd.load(["bird/whack.mp3","bird/whack.ogg"],"whack");x.Yd.load(["bird/worm.mp3","bird/worm.ogg"],"worm");1<S&&D(x,h.h.Xx);jd(h.s,"noWorm,heading,getX,getY");Ze();Me();$e(!0);Ad("runButton",af);Ad("resetButton",bf);setTimeout(function(){D(x,function(){cf()});cf()},5E3);8<S&&setTimeout(X.px,3E5);We();Xe()});var df=0;
function cf(){if(!x.rc()&&!xd(S)){var a=-1!=md.indexOf(R),c=h.N.Vc(h.N.BA()),d=x.Da.m.Eb(!0),e=document.getElementById("dialogHelp"),f=null,g=null;if(1==S)-1==c.indexOf(">90<")&&-1!=c.indexOf("bird_heading")||h.W.isVisible()||(g={width:"370px",top:"140px"},g[a?"right":"left"]="215px",f=x.Eb(!0),f=f.length?f[0].ta():d[0].ta());else if(2==S)-1==c.indexOf("bird_noWorm")&&(g={width:"350px",top:"170px"},g[a?"right":"left"]="180px",f=d[1].ta());else if(4==S)-1==c.indexOf("bird_compare")&&(g={width:"350px",
top:"230px"},g[a?"right":"left"]="180px",f=d[2].ta());else if(5==S){if(df||(df=setInterval(cf,100)),-1==c.indexOf("mutation else")){f=x.Eb(!1);for(g=0;(d=f[g])&&"controls_if"!=d.type;g++);d.od.isVisible()?(e=document.getElementById("dialogMutatorHelp"),f=d.od.m.Da.Ym[1],c=h.g.style.vf(f),g={width:"340px",top:c.y+60+"px"},g.left=c.x-(a?310:0)+"px"):(c=h.g.style.vf(d.ta()),g={width:"340px",top:c.y+100+"px"},g.left=c.x-(a?280:0)+"px",f=d.ta())}}else if(6==S){if(-1==c.indexOf("mutation")){f=x.Eb(!1);
for(g=0;(d=f[g])&&"controls_if"!=d.type;g++);c=h.g.style.vf(d.ta());g={width:"350px",top:c.y+220+"px"};g.left=c.x-(a?350:0)+"px";f=d.ta()}}else 8==S&&-1==c.indexOf("bird_and")&&(g={width:"350px",top:"360px"},g[a?"right":"left"]="450px",f=d[4].ta());g?e.parentNode!=document.getElementById("dialog")&&X.Hq(e,f,!0,!1,g,null):X.Bh(!1)}}
function $e(a){for(var c=0;c<Ye.length;c++)clearTimeout(Ye[c]);Ye=[];U=new h.g.K(Z.start.x,Z.start.y);Ed=Dd=Z.Jf;Fd=!Z.Kc;a?(ef(3),Ye.push(setTimeout(function(){ef(2);Ye.push(setTimeout(function(){ef(1)},400))},400))):ef(1);if(a=document.getElementById("worm"))a.setAttribute("x",Z.Kc.x/100*400-50),a.setAttribute("y",400*(1-Z.Kc.y/100)-50),a.style.visibility="visible";a=document.getElementById("nest");a.setAttribute("x",Z.Hd.x/100*400-50);a.setAttribute("y",400*(1-Z.Hd.y/100)-50)}
function af(a){if(!Te(a)){a=document.getElementById("runButton");var c=document.getElementById("resetButton");c.style.minWidth||(c.style.minWidth=a.offsetWidth+"px");a.style.display="none";c.style.display="inline";$e(!1);ff()}}function bf(a){Te(a)||(document.getElementById("runButton").style.display="inline",document.getElementById("resetButton").style.display="none",Nc(null),$e(!1))}
function gf(a,c){a.setProperty(c,"heading",a.createNativeFunction(function(d,e){var f=h.g.bc.vj(d);U.x+=Math.cos(f);U.y+=Math.sin(f);Dd=d;Gd.push(["move",U.x,U.y,Dd,e]);if(Fd&&15>h.g.K.ng(U,Z.Hd))throw Gd.push(["play","quack",null]),hf(Z.Hd),Gd.push(["finish",null]),!0;!Fd&&Z.Kc&&15>h.g.K.ng(U,Z.Kc)&&(hf(Z.Kc),Gd.push(["worm",null]),Gd.push(["play","worm",null]),Fd=!0);a:{for(d=0;e=Z.ze[d];d++)if(6>e.ng(U)){d=!0;break a}d=!1}if(d)throw Gd.push(["play","whack",null]),!1;}));a.setProperty(c,"noWorm",
a.createNativeFunction(function(){return!Fd}));a.setProperty(c,"getX",a.createNativeFunction(function(){return U.x}));a.setProperty(c,"getY",a.createNativeFunction(function(){return U.y}))}
function ff(){if("Interpreter"in window){Gd=[];h.selected&&zb(h.selected);var a=h.s;var c=x;c||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),c=h.vh());var d=[];a.Ca(c);c=c.Eb(!0);for(var e=0,f;f=c[e];e++){var g=gd(a,f);Array.isArray(g)&&(g=g[0]);g&&(f.R&&(g=a.$z(g),a.ak&&!f.Lq&&(g=hd(a.ak,f)+g),a.Xf&&!f.Lq&&(g+=hd(a.Xf,f))),d.push(g))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");He=a=d=d.replace(/[ \t]+\n/g,"\n");Ge=Je();d=a.indexOf("if (");
c=a.indexOf("}\n");-1!=d&&-1!=c&&(a=a.substring(d,c+2));d=0;a=new Interpreter("while(true) {\n"+a+"}",gf);try{for(c=1E5;a.step();)if(0>=c--)throw Infinity;d=-1}catch(k){Infinity===k?d=2:!0===k?d=1:!1===k?d=-2:(d=-2,window.alert(k))}Cd=1==d?10:15;$e(!1);Ye.push(setTimeout(jf,1))}else setTimeout(ff,250)}
function jf(){Ye=[];var a=Gd.shift();a?(Re(a.pop()),"move"==a[0]||"goto"==a[0]?(U.x=a[1],U.y=a[2],Dd=a[3],ef("move"==a[0]?2:1)):"worm"==a[0]?document.getElementById("worm").style.visibility="hidden":"finish"==a[0]?(ef(3),window.localStorage&&(window.localStorage[zd+S]=Ge),X.RD()):"play"==a[0]&&x.Yd.play(a[1],.5),Ye.push(setTimeout(jf,5*Cd))):Re(null)}
function ef(a){var c=Bd(Ed-Dd);180<c&&(c-=360);Ed=10>=Math.abs(c)?Dd:Bd(Ed+(0>c?10:-10));c=(14-Math.round(Ed/360*12))%12;var d=Ed%30;15<=d&&(d-=30);d*=-1;if(1==a)var e=0;else if(3==a)e=3;else if(2==a)e=Math.round(Date.now()/100)%3;else throw Error("Unknown pose.");a=U.x/100*400-60;var f=400*(1-U.y/100)-60,g=document.getElementById("bird");g.setAttribute("x",a-120*c);g.setAttribute("y",f-120*e);g.setAttribute("transform","rotate("+d+", "+(a+60)+", "+(f+60)+")");c=document.getElementById("clipRect");
c.setAttribute("x",a);c.setAttribute("y",f)}function hf(a){var c=Math.round(h.g.K.ng(U,a));a=Bd(h.g.bc.lA(Math.atan2(a.y-U.y,a.x-U.x)));for(var d=h.g.bc.vj(a),e=0;e<c;e++)U.x+=Math.cos(d),U.y+=Math.sin(d),Gd.push(["goto",U.x,U.y,a,null])};

