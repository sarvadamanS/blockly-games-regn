// Automatically generated file.  Do not edit!

var b,h={g:{}};h.g.F=function(a){this.UE=a};h.g.F.prototype.toString=function(){return this.UE};h.g.F.up=new h.g.F("animate");h.g.F.kz=new h.g.F("circle");h.g.F.pu=new h.g.F("clipPath");h.g.F.xu=new h.g.F("defs");h.g.F.Bu=new h.g.F("feComposite");h.g.F.bG=new h.g.F("feComponentTransfer");h.g.F.cG=new h.g.F("feFlood");h.g.F.dG=new h.g.F("feFuncA");h.g.F.Oz=new h.g.F("feGaussianBlur");h.g.F.Pz=new h.g.F("fePointLight");h.g.F.Qz=new h.g.F("feSpecularLighting");h.g.F.Wz=new h.g.F("filter");h.g.F.lG=new h.g.F("foreignObject");
h.g.F.Pc=new h.g.F("g");h.g.F.xk=new h.g.F("image");h.g.F.Bk=new h.g.F("line");h.g.F.Ge=new h.g.F("path");h.g.F.nv=new h.g.F("pattern");h.g.F.LA=new h.g.F("polygon");h.g.F.xd=new h.g.F("rect");h.g.F.bj=new h.g.F("svg");h.g.F.zv=new h.g.F("text");h.g.F.Bv=new h.g.F("tspan");
h.g.global=function(){return"object"===typeof self?self:"object"===typeof window?window:"object"===typeof global?global:this}();h.g.userAgent={};
(function(a){function c(e){return-1!=d.indexOf(e.toUpperCase())}h.g.userAgent.raw=a;var d=h.g.userAgent.raw.toUpperCase();h.g.userAgent.Yd=c("Trident")||c("MSIE");h.g.userAgent.uh=c("Edge");h.g.userAgent.nA=c("JavaFX");h.g.userAgent.yF=(c("Chrome")||c("CriOS"))&&!h.g.userAgent.uh;h.g.userAgent.Fv=c("WebKit")&&!h.g.userAgent.uh;h.g.userAgent.$z=c("Gecko")&&!h.g.userAgent.Fv&&!h.g.userAgent.Yd&&!h.g.userAgent.uh;h.g.userAgent.Km=c("Android");a=h.g.global.navigator&&h.g.global.navigator.maxTouchPoints;h.g.userAgent.yk=
c("iPad")||c("Macintosh")&&0<a;h.g.userAgent.Qu=c("iPod");h.g.userAgent.Pu=c("iPhone")&&!h.g.userAgent.yk&&!h.g.userAgent.Qu;h.g.userAgent.sA=c("Macintosh");h.g.userAgent.eB=h.g.userAgent.yk||h.g.userAgent.Km&&!c("Mobile")||c("Silk");h.g.userAgent.fH=!h.g.userAgent.eB&&(h.g.userAgent.Qu||h.g.userAgent.Pu||h.g.userAgent.Km||c("IEMobile"))})(h.g.global.navigator&&h.g.global.navigator.userAgent||"");h.g.j={};h.g.j.tn="http://www.w3.org/2000/svg";h.g.j.Mp="http://www.w3.org/1999/xhtml";h.g.j.fd="http://www.w3.org/1999/xlink";h.g.j.hg={ELEMENT_NODE:1,TEXT_NODE:3,COMMENT_NODE:8,DOCUMENT_POSITION_CONTAINED_BY:16};h.g.j.ce=null;h.g.j.Nq=0;h.g.j.Hn=null;h.g.j.L=function(a,c,d){a=document.createElementNS(h.g.j.tn,String(a));for(var e in c)a.setAttribute(e,c[e]);document.body.runtimeStyle&&(a.runtimeStyle=a.currentStyle=a.style);d&&d.appendChild(a);return a};
h.g.j.Lb=function(a,c){var d=a.getAttribute("class")||"";-1==(" "+d+" ").indexOf(" "+c+" ")&&(d&&(d+=" "),a.setAttribute("class",d+c))};h.g.j.VJ=function(a,c){c=c.split(" ");for(var d=0;d<c.length;d++)h.g.j.bd(a,c[d])};h.g.j.bd=function(a,c){var d=a.getAttribute("class");if(-1!=(" "+d+" ").indexOf(" "+c+" ")){d=d.split(/\s+/);for(var e=0;e<d.length;e++)d[e]&&d[e]!=c||(d.splice(e,1),e--);d.length?a.setAttribute("class",d.join(" ")):a.removeAttribute("class")}};
h.g.j.bs=function(a,c){return-1!=(" "+a.getAttribute("class")+" ").indexOf(" "+c+" ")};h.g.j.removeNode=function(a){return a&&a.parentNode?a.parentNode.removeChild(a):null};h.g.j.Ij=function(a,c){var d=c.nextSibling;c=c.parentNode;if(!c)throw Error("Reference node has no parent.");d?c.insertBefore(a,d):c.appendChild(a)};h.g.j.containsNode=function(a,c){return!!(a.compareDocumentPosition(c)&h.g.j.hg.DOCUMENT_POSITION_CONTAINED_BY)};
h.g.j.jm=function(a,c){a.style.transform=c;a.style["-webkit-transform"]=c};h.g.j.sm=function(){h.g.j.Nq++;h.g.j.ce||(h.g.j.ce=Object.create(null))};h.g.j.tm=function(){h.g.j.Nq--;h.g.j.Nq||(h.g.j.ce=null)};h.g.j.zJ=function(a){var c=a.textContent+"\n"+a.className.baseVal,d;if(h.g.j.ce&&(d=h.g.j.ce[c]))return d;try{d=h.g.userAgent.Yd||h.g.userAgent.uh?a.getBBox().width:a.getComputedTextLength()}catch(e){return 8*a.textContent.length}h.g.j.ce&&(h.g.j.ce[c]=d);return d};
h.g.j.Sr=function(a,c,d,e){return h.g.j.QC(a,c+"pt",d,e)};h.g.j.QC=function(a,c,d,e){var f=a.textContent;a=f+"\n"+a.className.baseVal;var g;if(h.g.j.ce&&(g=h.g.j.ce[a]))return g;h.g.j.Hn||(g=document.createElement("canvas"),g.className="blocklyComputeCanvas",document.body.appendChild(g),h.g.j.Hn=g.getContext("2d"));h.g.j.Hn.font=d+" "+c+" "+e;g=h.g.j.Hn.measureText(f).width;h.g.j.ce&&(h.g.j.ce[a]=g);return g};
h.g.j.DD=function(a,c,d){var e=document.createElement("span");e.style.font=c+" "+a+" "+d;e.textContent="Hg";a=document.createElement("div");a.style.width="1px";a.style.height="0px";c=document.createElement("div");c.setAttribute("style","position: fixed; top: 0; left: 0; display: flex;");c.appendChild(e);c.appendChild(a);document.body.appendChild(c);try{d={},c.style.alignItems="baseline",d.ae=a.offsetTop-e.offsetTop,c.style.alignItems="flex-end",d.height=a.offsetTop-e.offsetTop}finally{document.body.removeChild(c)}return d};h.g.Jd={};h.g.Jd.St=function(a){return a*Math.PI/180};h.g.Jd.XE=function(a){return 180*a/Math.PI};h.g.Jd.Tk=function(a,c,d){if(d<a){var e=d;d=a;a=e}return Math.max(a,Math.min(c,d))};h.g.Rect=function(a,c,d,e){this.top=a;this.bottom=c;this.left=d;this.right=e};h.g.Rect.prototype.contains=function(a,c){return a>=this.left&&a<=this.right&&c>=this.top&&c<=this.bottom};h.g.S=function(a,c){this.x=a;this.y=c};h.g.S.Gf=function(a,c){return a==c?!0:a&&c?a.x==c.x&&a.y==c.y:!1};h.g.S.vr=function(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)};h.g.S.BD=function(a){return Math.sqrt(a.x*a.x+a.y*a.y)};h.g.S.fl=function(a,c){return new h.g.S(a.x-c.x,a.y-c.y)};h.g.S.sum=function(a,c){return new h.g.S(a.x+c.x,a.y+c.y)};h.g.S.prototype.clone=function(){return new h.g.S(this.x,this.y)};h.g.S.prototype.scale=function(a){this.x*=a;this.y*=a;return this};
h.g.S.prototype.translate=function(a,c){this.x+=a;this.y+=c;return this};h.g.Qc=function(a,c){this.width=a;this.height=c};h.g.Qc.Gf=function(a,c){return a==c?!0:a&&c?a.width==c.width&&a.height==c.height:!1};h.g.style={};h.g.style.Hf=function(a){if("none"!=h.g.style.Yw(a,"display"))return h.g.style.Ww(a);var c=a.style,d=c.display,e=c.visibility,f=c.position;c.visibility="hidden";c.position="absolute";c.display="inline";var g=a.offsetWidth;a=a.offsetHeight;c.display=d;c.position=f;c.visibility=e;return new h.g.Qc(g,a)};h.g.style.Ww=function(a){return new h.g.Qc(a.offsetWidth,a.offsetHeight)};h.g.style.Yw=function(a,c){return h.g.style.getComputedStyle(a,c)||h.g.style.IC(a,c)||a.style&&a.style[c]};
h.g.style.getComputedStyle=function(a,c){return document.defaultView&&document.defaultView.getComputedStyle&&(a=document.defaultView.getComputedStyle(a,null))?a[c]||a.getPropertyValue(c)||"":""};h.g.style.IC=function(a,c){return a.currentStyle?a.currentStyle[c]:null};h.g.style.Qh=function(a){var c=new h.g.S(0,0);a=a.getBoundingClientRect();var d=document.documentElement;d=new h.g.S(window.pageXOffset||d.scrollLeft,window.pageYOffset||d.scrollTop);c.x=a.left+d.x;c.y=a.top+d.y;return c};
h.g.style.YC=function(){var a=document.body,c=document.documentElement;return new h.g.S(a.scrollLeft||c.scrollLeft,a.scrollTop||c.scrollTop)};h.g.style.dK=function(a,c){a.style.display=c?"":"none"};h.g.style.JJ=function(a){return"rtl"==h.g.style.Yw(a,"direction")};
h.g.style.FC=function(a){var c=h.g.style.getComputedStyle(a,"borderLeftWidth"),d=h.g.style.getComputedStyle(a,"borderRightWidth"),e=h.g.style.getComputedStyle(a,"borderTopWidth");a=h.g.style.getComputedStyle(a,"borderBottomWidth");return{top:parseFloat(e),right:parseFloat(d),bottom:parseFloat(a),left:parseFloat(c)}};h.g.style.EE=function(a,c){a=h.g.style.LC(a,c);c.scrollLeft=a.x;c.scrollTop=a.y};
h.g.style.LC=function(a,c){var d=h.g.style.Qh(a),e=h.g.style.Qh(c),f=h.g.style.FC(c),g=d.x-e.x-f.left;d=d.y-e.y-f.top;a=h.g.style.Ww(a);e=c.clientHeight-a.height;f=c.scrollLeft;var k=c.scrollTop;f+=Math.min(g,Math.max(g-(c.clientWidth-a.width),0));k+=Math.min(d,Math.max(d-e,0));return new h.g.S(f,k)};
h.C=function(){};h.C.Kq=null;h.C.Nd=null;h.C.ky=null;h.C.Mm=16;h.C.mu=1;h.C.iu=12;h.C.kv=16;h.C.vp=.25;h.C.Cq=null;h.C.pi=null;h.C.qe="";h.C.ve="";
h.C.Va=function(){if(!h.C.Be){var a=document.createElement("div");a.className="blocklyDropDownDiv";(h.Wo||document.body).appendChild(a);h.C.Be=a;var c=document.createElement("div");c.className="blocklyDropDownContent";a.appendChild(c);h.C.Cf=c;c=document.createElement("div");c.className="blocklyDropDownArrow";a.appendChild(c);h.C.yd=c;h.C.Be.style.opacity=0;h.C.Be.style.transition="transform "+h.C.vp+"s, opacity "+h.C.vp+"s";a.addEventListener("focusin",function(){h.g.j.Lb(a,"blocklyFocused")});a.addEventListener("focusout",
function(){h.g.j.bd(a,"blocklyFocused")})}};h.C.FE=function(a){h.C.Kq=a};h.C.MC=function(){return h.C.Cf};h.C.RB=function(){h.C.Cf.textContent="";h.C.Cf.style.width=""};h.C.re=function(a,c){h.C.Be.style.backgroundColor=a;h.C.Be.style.borderColor=c};h.C.gK=function(a,c,d,e){return h.C.yy(h.C.Tw(c),a,d,e)};h.C.LE=function(a,c){h.C.ky=!0;h.C.yy(h.C.Uw(a),a,c)};h.C.Tw=function(a){var c=a.qa(),d=c.getBBox(),e=a.B.scale;a=d.height*e;d=d.width*e;c=h.g.style.Qh(c);return new h.g.Rect(c.y,c.y+a,c.x,c.x+d)};
h.C.Uw=function(a){if(a.Nb)c=a.Nb.getBoundingClientRect(),a=h.g.style.Qh(a.Nb),e=c.width,c=c.height;else{var c=r(a.K);var d=a.K.B.scale;a=h.g.style.Qh(aa(a));var e=c.width*d;c=c.height*d;h.g.userAgent.$z?(a.x+=1.5*d,a.y+=1.5*d):h.g.userAgent.uh||h.g.userAgent.Yd||(a.x-=.5*d,a.y-=.5*d);e+=1*d;c+=1*d}d=new h.g.Rect(a.y,a.y+c,a.x,a.x+e);return new h.g.Rect(d.top,d.bottom,d.left,d.right)};
h.C.yy=function(a,c,d,e){var f=a.left+(a.right-a.left)/2,g=a.bottom;a=a.top;e&&(a+=e);e=c.$();for(var k=e.B;k.options.ad;)k=k.options.ad;h.C.FE(v(k).parentNode);return h.C.show(c,e.J,f,g,f,a,d)};h.C.show=function(a,c,d,e,f,g,k){h.C.Nd=a;h.C.pi=k||null;a=h.C.Be;a.style.direction=c?"rtl":"ltr";c=h.Bg();h.C.qe=c.ob.ie();h.C.ve=c.If().ie();h.g.j.Lb(a,h.C.qe);h.g.j.Lb(a,h.C.ve);return h.C.cm(d,e,f,g)};
h.C.GC=function(){var a=h.g.style.Qh(h.C.Kq),c=h.g.style.Hf(h.C.Kq);return{left:a.x,right:a.x+c.width,top:a.y,bottom:a.y+c.height,width:c.width,height:c.height}};h.C.RC=function(a,c,d,e){var f=h.C.GC(),g=h.g.style.Hf(h.C.Be);return c+g.height<f.bottom?h.C.Sw(a,c,f,g):e-g.height>f.top?h.C.Rw(d,e,f,g):c+g.height<document.documentElement.clientHeight?h.C.Sw(a,c,f,g):e-g.height>document.documentElement.clientTop?h.C.Rw(d,e,f,g):h.C.SC(a,f,g)};
h.C.Sw=function(a,c,d,e){a=h.C.Wr(a,d.left,d.right,e.width);return{js:a.xj,ks:c,Ir:a.xj,Jr:c+h.C.kv,ij:a.ij,Eq:-(h.C.Mm/2+h.C.mu),En:!0,Dq:!0}};h.C.Rw=function(a,c,d,e){a=h.C.Wr(a,d.left,d.right,e.width);return{js:a.xj,ks:c-e.height,Ir:a.xj,Jr:c-e.height-h.C.kv,ij:a.ij,Eq:e.height-2*h.C.mu-h.C.Mm/2,En:!1,Dq:!0}};h.C.SC=function(a,c,d){a=h.C.Wr(a,c.left,c.right,d.width);return{js:a.xj,ks:0,Ir:a.xj,Jr:0,En:null,ij:null,Eq:null,Dq:!1}};
h.C.Wr=function(a,c,d,e){var f=a;a=h.g.Jd.Tk(c,a-e/2,d-e);f-=h.C.Mm/2;c=h.g.Jd.Tk(h.C.iu,f-a,e-h.C.iu-h.C.Mm);return{ij:c,xj:a}};h.C.isVisible=function(){return!!h.C.Nd};h.C.Fl=function(a,c){h.C.Nd===a&&(c?h.C.no():h.C.$a())};h.C.$a=function(){var a=h.C.Be;a.style.transform="translate(0, 0)";a.style.opacity=0;h.C.Cq=setTimeout(function(){h.C.no()},1E3*h.C.vp);h.C.pi&&(h.C.pi(),h.C.pi=null)};
h.C.no=function(){if(h.C.isVisible()){h.C.Cq&&clearTimeout(h.C.Cq);var a=h.C.Be;a.style.transform="";a.style.left="";a.style.top="";a.style.opacity=0;a.style.display="none";a.style.backgroundColor="";a.style.borderColor="";h.C.pi&&(h.C.pi(),h.C.pi=null);h.C.RB();h.C.Nd=null;h.C.qe&&(h.g.j.bd(a,h.C.qe),h.C.qe="");h.C.ve&&(h.g.j.bd(a,h.C.ve),h.C.ve="");ba(h.Bg())}};
h.C.cm=function(a,c,d,e){a=h.C.RC(a,c,d,e);a.Dq?(h.C.yd.style.display="",h.C.yd.style.transform="translate("+a.ij+"px,"+a.Eq+"px) rotate(45deg)",h.C.yd.setAttribute("class",a.En?"blocklyDropDownArrow blocklyArrowTop":"blocklyDropDownArrow blocklyArrowBottom")):h.C.yd.style.display="none";c=Math.floor(a.js);d=Math.floor(a.ks);e=Math.floor(a.Ir);var f=Math.floor(a.Jr),g=h.C.Be;g.style.left=c+"px";g.style.top=d+"px";g.style.display="block";g.style.opacity=1;g.style.transform="translate("+(e-c)+"px,"+
(f-d)+"px)";return!!a.En};h.C.XJ=function(){if(h.C.Nd){var a=h.C.Nd,c=a.$();a=h.C.ky?h.C.Uw(a):h.C.Tw(c);c=a.left+(a.right-a.left)/2;h.C.cm(c,a.bottom,c,a.top)}else h.C.$a()};
h.Z={$b:1,dd:2,ac:3,wd:4};
h.lb={};h.Tu=40;h.mv=125;h.Cz=5;h.Xz=10;h.nc=28;h.tu=h.nc;h.pz=8;h.yp=250;h.zp=10;h.lz=30;h.rA=750;h.ZA=100;h.Dz=!0;h.eA=.45;h.fA=.65;h.$i={width:96,height:124,url:"sprites.png"};h.lb.Vd={Gb:-1,Qm:0,Cc:1};h.JF=0;h.KF=1;h.HF=1;h.IF=2;h.Xi=[];h.Xi[h.Z.$b]=h.Z.dd;h.Xi[h.Z.dd]=h.Z.$b;h.Xi[h.Z.ac]=h.Z.wd;h.Xi[h.Z.wd]=h.Z.ac;h.Dh="VARIABLE";h.cq="PROCEDURE";h.mI="RENAME_VARIABLE_ID";h.GF="DELETE_VARIABLE_ID";h.lb.Sm="_TEMP_COLLAPSED_INPUT";h.lb.Rm="_TEMP_COLLAPSED_FIELD";
h.M={};h.g.global.Blockly||(h.g.global.Blockly={});h.g.global.Blockly.Msg||(h.g.global.Blockly.Msg=h.M);h.g.tb={};h.g.tb.parse=function(a){a=String(a).toLowerCase().trim();var c=h.g.tb.names[a];if(c)return c;c="0x"==a.substring(0,2)?"#"+a.substring(2):a;c="#"==c[0]?c:"#"+c;if(/^#[0-9a-f]{6}$/.test(c))return c;if(/^#[0-9a-f]{3}$/.test(c))return["#",c[1],c[1],c[2],c[2],c[3],c[3]].join("");var d=a.match(/^(?:rgb)?\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/);return d&&(a=Number(d[1]),c=Number(d[2]),d=Number(d[3]),0<=a&&256>a&&0<=c&&256>c&&0<=d&&256>d)?h.g.tb.At(a,c,d):null};
h.g.tb.At=function(a,c,d){c=a<<16|c<<8|d;return 16>a?"#"+(16777216|c).toString(16).substr(1):"#"+c.toString(16)};h.g.tb.jx=function(a){a=h.g.tb.parse(a);if(!a)return[0,0,0];a=parseInt(a.substr(1),16);return[a>>16,a>>8&255,a&255]};
h.g.tb.ox=function(a){var c=h.eA,d=255*h.fA,e=0,f=0,g=0;if(0==c)g=f=e=d;else{var k=Math.floor(a/60),l=a/60-k;a=d*(1-c);var m=d*(1-c*l);c=d*(1-c*(1-l));switch(k){case 1:e=m;f=d;g=a;break;case 2:e=a;f=d;g=c;break;case 3:e=a;f=m;g=d;break;case 4:e=c;f=a;g=d;break;case 5:e=d;f=a;g=m;break;case 6:case 0:e=d,f=c,g=a}}return h.g.tb.At(Math.floor(e),Math.floor(f),Math.floor(g))};
h.g.tb.Gq=function(a,c,d){a=h.g.tb.parse(a);if(!a)return null;c=h.g.tb.parse(c);if(!c)return null;a=h.g.tb.jx(a);c=h.g.tb.jx(c);return h.g.tb.At(Math.round(c[0]+d*(a[0]-c[0])),Math.round(c[1]+d*(a[1]-c[1])),Math.round(c[2]+d*(a[2]-c[2])))};h.g.tb.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00"};h.g.Qa={};h.g.Qa.startsWith=function(a,c){return 0==a.lastIndexOf(c,0)};h.g.Qa.Kt=function(a){return a.length?a.reduce(function(c,d){return c.length<d.length?c:d}).length:0};h.g.Qa.cw=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.Qa.Kt(a);for(var e=0;e<c;e++){for(var f=a[0][e],g=1;g<a.length;g++)if(f!=a[g][e])return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g][e])&&" "!=f)return d;return c};
h.g.Qa.dw=function(a,c){if(!a.length)return 0;if(1==a.length)return a[0].length;var d=0;c=c||h.g.Qa.Kt(a);for(var e=0;e<c;e++){for(var f=a[0].substr(-e-1,1),g=1;g<a.length;g++)if(f!=a[g].substr(-e-1,1))return d;" "==f&&(d=e+1)}for(g=1;g<a.length;g++)if((f=a[g].charAt(a[g].length-e-1))&&" "!=f)return d;return c};h.g.Qa.Vy=function(a,c){a=a.split("\n");for(var d=0;d<a.length;d++)a[d]=h.g.Qa.iF(a[d],c);return a.join("\n")};
h.g.Qa.iF=function(a,c){if(a.length<=c)return a;for(var d=a.trim().split(/\s+/),e=0;e<d.length;e++)d[e].length>c&&(c=d[e].length);e=-Infinity;var f=1;do{var g=e;var k=a;a=[];var l=d.length/f,m=1;for(e=0;e<d.length-1;e++)m<(e+1.5)/l?(m++,a[e]=!0):a[e]=!1;a=h.g.Qa.Wy(d,a,c);e=h.g.Qa.bu(d,a,c);a=h.g.Qa.jF(d,a);f++}while(e>g);return k};
h.g.Qa.bu=function(a,c,d){for(var e=[0],f=[],g=0;g<a.length;g++)e[e.length-1]+=a[g].length,!0===c[g]?(e.push(0),f.push(a[g].charAt(a[g].length-1))):!1===c[g]&&e[e.length-1]++;a=Math.max.apply(Math,e);for(g=c=0;g<e.length;g++)c-=2*Math.pow(Math.abs(d-e[g]),1.5),c-=Math.pow(a-e[g],1.5),-1!=".?!".indexOf(f[g])?c+=d/3:-1!=",;)]}".indexOf(f[g])&&(c+=d/4);1<e.length&&e[e.length-1]<=e[e.length-2]&&(c+=.5);return c};
h.g.Qa.Wy=function(a,c,d){for(var e=h.g.Qa.bu(a,c,d),f,g=0;g<c.length-1;g++)if(c[g]!=c[g+1]){var k=[].concat(c);k[g]=!k[g];k[g+1]=!k[g+1];var l=h.g.Qa.bu(a,k,d);l>e&&(e=l,f=k)}return f?h.g.Qa.Wy(a,f,d):c};h.g.Qa.jF=function(a,c){for(var d=[],e=0;e<a.length;e++)d.push(a[e]),void 0!==c[e]&&d.push(c[e]?"\n":" ");return d.join("")};
h.g.PD=function(a){a.preventDefault();a.stopPropagation()};h.g.Ao=function(a){return"textarea"==a.target.type||"text"==a.target.type||"number"==a.target.type||"email"==a.target.type||"password"==a.target.type||"search"==a.target.type||"tel"==a.target.type||"url"==a.target.type||a.target.isContentEditable||a.target.dataset&&"true"==a.target.dataset.LJ};
h.g.le=function(a){var c=new h.g.S(0,0),d=a.getAttribute("x");d&&(c.x=parseInt(d,10));if(d=a.getAttribute("y"))c.y=parseInt(d,10);if(d=(d=a.getAttribute("transform"))&&d.match(h.g.le.jB))c.x+=Number(d[1]),d[3]&&(c.y+=Number(d[3]));(a=a.getAttribute("style"))&&-1<a.indexOf("translate")&&(a=a.match(h.g.le.kB))&&(c.x+=Number(a[1]),a[3]&&(c.y+=Number(a[3])));return c};
h.g.zl=function(a){for(var c=0,d=0;a;){var e=h.g.le(a);c+=e.x;d+=e.y;if(-1!=(" "+(a.getAttribute("class")||"")+" ").indexOf(" injectionDiv "))break;a=a.parentNode}return new h.g.S(c,d)};h.g.le.jB=/translate\(\s*([-+\d.e]+)([ ,]\s*([-+\d.e]+)\s*)?/;h.g.le.kB=/transform:\s*translate(?:3d)?\(\s*([-+\d.e]+)\s*px([ ,]\s*([-+\d.e]+)\s*px)?/;h.g.Ml=function(a){return a.ctrlKey&&h.g.userAgent.sA?!0:2==a.button};
h.g.Vl=function(a,c,d){var e=c.createSVGPoint();e.x=a.clientX;e.y=a.clientY;d||(d=c.getScreenCTM().inverse());return e.matrixTransform(d)};h.g.Vw=function(a){switch(a.deltaMode){default:return{x:a.deltaX,y:a.deltaY};case 1:return{x:a.deltaX*h.Tu,y:a.deltaY*h.Tu};case 2:return{x:a.deltaX*h.mv,y:a.deltaY*h.mv}}};h.g.YE=function(a){return h.g.Tt(a,!0)};h.g.cd=function(a){if("string"!=typeof a)return a;a=h.g.Tt(a,!1);return a.length?String(a[0]):""};
h.g.Yv=function(a){for(var c=h.M,d=a.match(/%{BKY_[A-Z]\w*}/ig),e=0;e<d.length;e++)void 0==c[d[e].toUpperCase().slice(6,-1)]&&console.warn("No message string for "+d[e]+" in "+a)};
h.g.Tt=function(a,c){var d=[],e=a.split("");e.push("");var f=0;a=[];for(var g=null,k=0;k<e.length;k++){var l=e[k];0==f?"%"==l?((l=a.join(""))&&d.push(l),a.length=0,f=1):a.push(l):1==f?"%"==l?(a.push(l),f=0):c&&"0"<=l&&"9">=l?(f=2,g=l,(l=a.join(""))&&d.push(l),a.length=0):"{"==l?f=3:(a.push("%",l),f=0):2==f?"0"<=l&&"9">=l?g+=l:(d.push(parseInt(g,10)),k--,f=0):3==f&&(""==l?(a.splice(0,0,"%{"),k--,f=0):"}"!=l?a.push(l):(f=a.join(""),/[A-Z]\w*/i.test(f)?(l=f.toUpperCase(),(l=h.g.Qa.startsWith(l,"BKY_")?
l.substring(4):null)&&l in h.M?(f=h.M[l],"string"==typeof f?Array.prototype.push.apply(d,h.g.Tt(f,c)):c?d.push(String(f)):d.push(f)):d.push("%{"+f+"}")):d.push("%{"+f+"}"),f=a.length=0))}(l=a.join(""))&&d.push(l);c=[];for(k=a.length=0;k<d.length;++k)"string"==typeof d[k]?a.push(d[k]):((l=a.join(""))&&c.push(l),a.length=0,c.push(d[k]));(l=a.join(""))&&c.push(l);a.length=0;return c};h.g.Se=function(){for(var a=h.g.Se.zy.length,c=[],d=0;20>d;d++)c[d]=h.g.Se.zy.charAt(Math.random()*a);return c.join("")};
h.g.Se.zy="!#$%()*+,-./:;=?@[]^_`{|}~ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";
h.g.Yh=function(){if(void 0!==h.g.Yh.Qq)return h.g.Yh.Qq;if(!h.g.global.getComputedStyle)return!1;var a=document.createElement("p"),c="none",d={webkitTransform:"-webkit-transform",OTransform:"-o-transform",msTransform:"-ms-transform",MozTransform:"-moz-transform",transform:"transform"};document.body.insertBefore(a,null);for(var e in d)if(void 0!==a.style[e]){a.style[e]="translate3d(1px,1px,1px)";c=h.g.global.getComputedStyle(a);if(!c)return document.body.removeChild(a),!1;c=c.getPropertyValue(d[e])}document.body.removeChild(a);
h.g.Yh.Qq="none"!==c;return h.g.Yh.Qq};h.g.ty=function(a){if("object"!=typeof document)throw Error("Blockly.utils.runAfterPageLoad() requires browser document.");if("complete"==document.readyState)a();else var c=setInterval(function(){"complete"==document.readyState&&(clearInterval(c),a())},10)};h.g.XC=function(){var a=h.g.style.YC();return new h.g.Rect(a.y,document.documentElement.clientHeight+a.y,a.x,document.documentElement.clientWidth+a.x)};
h.g.Dn=function(a,c){c=a.indexOf(c);if(-1==c)return!1;a.splice(c,1);return!0};h.g.PC=function(){var a=document.documentElement,c=window;return h.g.userAgent.Yd&&c.pageYOffset!=a.scrollTop?new h.g.S(a.scrollLeft,a.scrollTop):new h.g.S(c.pageXOffset||a.scrollLeft,c.pageYOffset||a.scrollTop)};h.g.Nr=function(a,c){var d=Object.create(null),e=x(a,!0);c&&(a=y(a))&&(a=e.indexOf(a),e.splice(a,e.length-a));for(a=0;c=e[a];a++)d[c.type]?d[c.type]++:d[c.type]=1;return d};
h.g.aK=function(a,c){var d=c.x;c=c.y;var e=ca(a).getBoundingClientRect();d=new h.g.S(d-e.left,c-e.top);c=h.g.zl(a.wb);return h.g.S.fl(d,c).scale(1/a.scale)};h.g.Xo=function(a){var c="string"==typeof a?h.g.cd(a):a,d=Number(c);if(!isNaN(d)&&0<=d&&360>=d)return{iD:d,El:h.g.tb.ox(d)};if(d=h.g.tb.parse(c))return{iD:null,El:d};d='Invalid colour: "'+c+'"';a!=c&&(d+=' (from "'+a+'")');throw Error(d);};h.Touch={};h.Touch.Av="ontouchstart"in h.g.global||!!(h.g.global.document&&document.documentElement&&"ontouchstart"in document.documentElement)||!(!h.g.global.navigator||!h.g.global.navigator.maxTouchPoints&&!h.g.global.navigator.msMaxTouchPoints);h.Touch.Bm=null;h.Touch.He={};
h.g.global.PointerEvent?h.Touch.He={mousedown:["pointerdown"],mouseenter:["pointerenter"],mouseleave:["pointerleave"],mousemove:["pointermove"],mouseout:["pointerout"],mouseover:["pointerover"],mouseup:["pointerup","pointercancel"],touchend:["pointerup"],touchcancel:["pointercancel"]}:h.Touch.Av&&(h.Touch.He={mousedown:["touchstart"],mousemove:["touchmove"],mouseup:["touchend","touchcancel"]});h.Go=0;
h.AD=function(a,c){h.Pg();a.changedTouches&&1!=a.changedTouches.length||(h.Go=setTimeout(function(){a.changedTouches&&(a.button=2,a.clientX=a.changedTouches[0].clientX,a.clientY=a.changedTouches[0].clientY);c&&da(c,a)},h.rA))};h.Pg=function(){h.Go&&(clearTimeout(h.Go),h.Go=0)};h.Touch.Kn=function(){h.Touch.Bm=null};h.Touch.Mt=function(a){return!h.Touch.sD(a)||h.Touch.QB(a)};
h.Touch.jo=function(a){return void 0!=a.pointerId?a.pointerId:a.changedTouches&&a.changedTouches[0]&&void 0!==a.changedTouches[0].identifier&&null!==a.changedTouches[0].identifier?a.changedTouches[0].identifier:"mouse"};h.Touch.QB=function(a){var c=h.Touch.jo(a);return void 0!==h.Touch.Bm&&null!==h.Touch.Bm?h.Touch.Bm==c:"mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type?(h.Touch.Bm=c,!0):!1};
h.Touch.GE=function(a){if(h.g.Qa.startsWith(a.type,"touch")){var c=a.changedTouches[0];a.clientX=c.clientX;a.clientY=c.clientY}};h.Touch.sD=function(a){return h.g.Qa.startsWith(a.type,"touch")||h.g.Qa.startsWith(a.type,"mouse")||h.g.Qa.startsWith(a.type,"pointer")};h.Touch.Co=function(a){return h.g.Qa.startsWith(a.type,"touch")||h.g.Qa.startsWith(a.type,"pointer")};
h.Touch.OE=function(a){var c=[];if(a.changedTouches)for(var d=0;d<a.changedTouches.length;d++)c[d]={type:a.type,changedTouches:[a.changedTouches[d]],target:a.target,stopPropagation:function(){a.stopPropagation()},preventDefault:function(){a.preventDefault()}};else c.push(a);return c};h.N={};h.N.Aa=function(a,c,d,e,f,g){function k(B){var t=!f;B=h.Touch.OE(B);for(var u=0,w;w=B[u];u++)if(!t||h.Touch.Mt(w))h.Touch.GE(w),d?e.call(d,w):e(w),l=!0}var l=!1,m=[];if(h.g.global.PointerEvent&&c in h.Touch.He)for(var n=0,p;p=h.Touch.He[c][n];n++)a.addEventListener(p,k,!1),m.push([a,p,k]);else if(a.addEventListener(c,k,!1),m.push([a,c,k]),c in h.Touch.He){var q=function(B){k(B);var t=!g;l&&t&&B.preventDefault()};for(n=0;p=h.Touch.He[c][n];n++)a.addEventListener(p,q,!1),m.push([a,p,q])}return m};
h.N.bind=function(a,c,d,e){function f(n){d?e.call(d,n):e(n)}var g=[];if(h.g.global.PointerEvent&&c in h.Touch.He)for(var k=0,l;l=h.Touch.He[c][k];k++)a.addEventListener(l,f,!1),g.push([a,l,f]);else if(a.addEventListener(c,f,!1),g.push([a,c,f]),c in h.Touch.He){var m=function(n){if(n.changedTouches&&1==n.changedTouches.length){var p=n.changedTouches[0];n.clientX=p.clientX;n.clientY=p.clientY}f(n);n.preventDefault()};for(k=0;l=h.Touch.He[c][k];k++)a.addEventListener(l,m,!1),g.push([a,l,m])}return g};
h.N.xb=function(a){for(;a.length;){var c=a.pop(),d=c[2];c[0].removeEventListener(c[1],d,!1)}return d};h.u={};h.u.dk=Object.create(null);h.u.Pi="default";h.u.R=function(a){this.Wl=a};h.u.R.prototype.toString=function(){return this.Wl};h.u.R.uu=new h.u.R("connectionChecker");h.u.R.nk=new h.u.R("cursor");h.u.R.Fb=new h.u.R("event");h.u.R.zc=new h.u.R("field");h.u.R.RENDERER=new h.u.R("renderer");h.u.R.fB=new h.u.R("toolbox");h.u.R.oq=new h.u.R("theme");h.u.R.FI=new h.u.R("toolboxItem");h.u.R.Lp=new h.u.R("flyoutsVerticalToolbox");h.u.R.kG=new h.u.R("flyoutsHorizontalToolbox");h.u.R.Zu=new h.u.R("metricsManager");
h.u.R.lu=new h.u.R("blockDragger");
h.u.register=function(a,c,d,e){if(!(a instanceof h.u.R)&&"string"!=typeof a||""==String(a).trim())throw Error('Invalid type "'+a+'". The type must be a non-empty string or a Blockly.registry.Type.');a=String(a).toLowerCase();if("string"!=typeof c||""==c.trim())throw Error('Invalid name "'+c+'". The name must be a non-empty string.');c=c.toLowerCase();if(!d)throw Error("Can not register a null value");var f=h.u.dk[a];f||(f=h.u.dk[a]=Object.create(null));h.u.fF(a,d);if(!e&&f[c])throw Error('Name "'+
c+'" with type "'+a+'" already registered.');f[c]=d};h.u.fF=function(a,c){switch(a){case String(h.u.R.zc):if("function"!=typeof c.aa)throw Error('Type "'+a+'" must have a fromJson function');}};h.u.unregister=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();var d=h.u.dk[a];d&&d[c]?delete h.u.dk[a][c]:console.warn("Unable to unregister ["+c+"]["+a+"] from the registry.")};
h.u.Pw=function(a,c,d){a=String(a).toLowerCase();c=c.toLowerCase();var e=h.u.dk[a];if(!e||!e[c]){c="Unable to find ["+c+"]["+a+"] in the registry.";if(d)throw Error(c+" You must require or register a "+a+" plugin.");console.warn(c);return null}return e[c]};h.u.AJ=function(a,c){a=String(a).toLowerCase();c=c.toLowerCase();return(a=h.u.dk[a])?!!a[c]:!1};h.u.Pr=function(a,c,d){return h.u.Pw(a,c,d)};h.u.Vr=function(a,c){return h.u.Pw(a,c)};
h.u.Oh=function(a,c,d){c=c.plugins[a.toString()]||h.u.Pi;return"function"==typeof c?c:h.u.Pr(a,c,d)};h.h={};h.h.bx="";h.h.Ma=!0;h.h.nr=0;h.h.mk="create";h.h.mh=h.h.mk;h.h.sh="delete";h.h.wp=h.h.sh;h.h.jk="change";h.h.lh=h.h.jk;h.h.Dk="move";h.h.nh=h.h.Dk;h.h.Kk="var_create";h.h.xn="var_delete";h.h.wq="var_rename";h.h.uq="ui";h.h.Nm="drag";h.h.Zi="selected";h.h.kk="click";h.h.Vp="marker_move";h.h.nu="bubble_open";h.h.rq="trashcan_open";h.h.GI="toolbox_item_select";h.h.pq="theme_change";h.h.Lk="viewport_change";h.h.Tm="comment_create";h.h.su="comment_delete";h.h.qu="comment_change";h.h.lk="comment_move";
h.h.Kp="finished_loading";h.h.jz=[h.h.mh,h.h.nh,h.h.Tm,h.h.lk];h.h.tk=[];h.h.Fa=function(a){h.h.isEnabled()&&(h.h.tk.length||setTimeout(h.h.zC,0),h.h.tk.push(a))};h.h.zC=function(){for(var a=h.h.filter(h.h.tk,!0),c=h.h.tk.length=0,d;d=a[c];c++)if(d.Wb){var e=h.rb.wl(d.Wb);if(e){var f=d;if(f.Ma)for(e.Ei.push(f),e.fm.length=0;e.Ei.length>e.Xu&&0<=e.Xu;)e.Ei.shift();for(var g=0;d=e.Mc[g];g++)d(f)}}};
h.h.filter=function(a,c){a=a.slice();c||a.reverse();for(var d=[],e=Object.create(null),f=0,g;g=a[f];f++)if(!g.Nj()){var k=[g.rs?h.h.uq:g.type,g.hb,g.Wb].join(" "),l=e[k],m=l?l.event:null;if(!l)e[k]={event:g,index:f},d.push(g);else if(g.type==h.h.Dk&&l.index==f-1)m.mi=g.mi,m.li=g.li,m.Sg=g.Sg,l.index=f;else if(g.type==h.h.jk&&g.element==m.element&&g.name==m.name)m.newValue=g.newValue;else if(g.type==h.h.Lk)m.Ud=g.Ud,m.Td=g.Td,m.scale=g.scale,m.Xl=g.Xl;else if(g.type!=h.h.kk||m.type!=h.h.nu)e[k]={event:g,
index:f},d.push(g)}a=d.filter(function(n){return!n.Nj()});c||a.reverse();for(f=1;g=a[f];f++)g.type==h.h.jk&&"mutation"==g.element&&a.unshift(a.splice(f,1)[0]);return a};h.h.SB=function(){for(var a=0,c;c=h.h.tk[a];a++)c.Ma=!1};h.h.disable=function(){h.h.nr++};h.h.enable=function(){h.h.nr--};h.h.isEnabled=function(){return 0==h.h.nr};h.h.Ub=function(){return h.h.bx};h.h.ta=function(a){h.h.bx="boolean"==typeof a?a?h.g.Se():"":a};
h.h.Mw=function(a){var c=[];a=x(a,!1);for(var d=0,e;e=a[d];d++)c[d]=e.id;return c};h.h.aa=function(a){var c=h.h.get(a.type);if(!c)throw Error("Unknown event type.");c=new c;c.aa(a);c.Wb=(void 0).id;return c};h.h.get=function(a){return h.u.Pr(h.u.R.Fb,a)};
h.h.mJ=function(a){if((a.type==h.h.Dk||a.type==h.h.mk)&&a.Wb){var c=h.rb.wl(a.Wb),d=c.Jc(a.hb);if(d){a=h.h.Ma;try{h.h.Ma=!1;var e=d.getParent();if(e&&e.isEnabled()){var f=x(d,!1);c=0;for(var g;g=f[c];c++)g.cf(!0)}else if((d.T||d.ga)&&!c.Yc()){do d.cf(!1),d=y(d);while(d)}}finally{h.h.Ma=a}}}};
h.h.Abstract=function(){this.ld=null;this.Wb=void 0;this.group=h.h.Ub();this.Ma=h.h.Ma};b=h.h.Abstract.prototype;b.rs=!1;b.pa=function(){var a={type:this.type};this.group&&(a.group=this.group);return a};b.aa=function(a){this.ld=!1;this.group=a.group};b.Nj=function(){return!1};b.run=function(){};function z(a){if(a.Wb)var c=h.rb.wl(a.Wb);if(!c)throw Error("Workspace is null. Event must have been generated from real Blockly events.");return c};h.g.object={};h.g.object.U=function(a,c){a.v=c.prototype;a.prototype=Object.create(c.prototype);a.prototype.constructor=a};h.g.object.Rg=function(a,c){for(var d in c)a[d]=c[d]};h.g.object.uj=function(a,c){for(var d in c)a[d]=null!=c[d]&&"object"===typeof c[d]?h.g.object.uj(a[d]||Object.create(null),c[d]):c[d];return a};h.g.object.values=function(a){return Object.values?Object.values(a):Object.keys(a).map(function(c){return a[c]})};h.g.xml={};h.g.xml.AA="https://developers.google.com/blockly/xml";h.g.xml.document=function(){return document};h.g.xml.createElement=function(a){return h.g.xml.document().createElementNS(h.g.xml.AA,a)};h.g.xml.createTextNode=function(a){return h.g.xml.document().createTextNode(a)};h.g.xml.VE=function(a){return(new DOMParser).parseFromString(a,"text/xml")};h.g.xml.Dd=function(a){return(new XMLSerializer).serializeToString(a)};h.Ga={Je:h.Z.$b,oc:h.Z.ac,Ce:5};h.I={};h.I.Uy=function(a){var c=A,d=h.g.xml.createElement("xml"),e=h.I.gF(h.na.Aq(c));e.hasChildNodes()&&d.appendChild(e);var f=[].concat(c.np);1<f.length&&(c.df.offset=Math.sin(h.g.Jd.St(h.rb.qv)),c.J&&(c.df.offset*=-1),f.sort(c.df));e=0;for(var g;g=f[e];e++)d.appendChild(g.Gy(a));c=c.vb(!0);for(e=0;f=c[e];e++)d.appendChild(h.I.Iq(f,a));return d};
h.I.gF=function(a){for(var c=h.g.xml.createElement("variables"),d=0,e;e=a[d];d++){var f=h.g.xml.createElement("variable");f.appendChild(h.g.xml.createTextNode(e.name));e.type&&f.setAttribute("type",e.type);f.id=e.fc();c.appendChild(f)}return c};h.I.Iq=function(a,c){if(a.md()&&(a=ea(a,!1)[0],!a))return new DocumentFragment;var d;a.B.J&&(d=a.B.Bl());c=h.I.wf(a,c);var e=a.Za();c.setAttribute("x",Math.round(a.B.J?d-e.x:e.x));c.setAttribute("y",Math.round(e.y));return c};
h.I.xC=function(a){var c=!1;a.name&&(a.rv?c=!0:a.pk&&(console.warn("Detected an editable field that was not serializable. Please define SERIALIZABLE property as true on all editable custom fields. Proceeding with serialization."),c=!0));return c?(c=h.g.xml.createElement("field"),c.setAttribute("name",a.name||""),c.textContent=a.getValue(),c):null};h.I.sB=function(a,c){for(var d=0,e;e=a.V[d];d++)for(var f=0,g;g=e.fb[f];f++)(g=h.I.xC(g))&&c.appendChild(g)};
h.I.wf=function(a,c){if(a.md())return(a=ea(a,!1)[0])?h.I.wf(a):new DocumentFragment;var d=h.g.xml.createElement(a.Ka?"shadow":"block");d.setAttribute("type",a.type);c||d.setAttribute("id",a.id);if(a.Ld){var e=a.Ld();e&&(e.hasChildNodes()||e.hasAttributes())&&d.appendChild(e)}h.I.sB(a,d);if(e=a.ee.text){var f=a.ee.size,g=a.ee.ay,k=h.g.xml.createElement("comment");k.appendChild(h.g.xml.createTextNode(e));k.setAttribute("pinned",g);k.setAttribute("h",f.height);k.setAttribute("w",f.width);d.appendChild(k)}a.data&&
(e=h.g.xml.createElement("data"),e.appendChild(h.g.xml.createTextNode(a.data)),d.appendChild(e));for(e=0;f=a.V[e];e++){var l;g=!0;if(f.type!=h.Ga.Ce){var m=f.connection.ra();f.type==h.Ga.Je?l=h.g.xml.createElement("value"):f.type==h.Ga.oc&&(l=h.g.xml.createElement("statement"));k=f.connection.Cj();!k||m&&m.Ka||l.appendChild(h.I.bw(k,c));m&&(k=h.I.wf(m,c),k.nodeType==h.g.j.hg.ELEMENT_NODE&&(l.appendChild(k),g=!1));l.setAttribute("name",f.name);g||d.appendChild(l)}}void 0!=a.Jf&&a.Jf!=a.pD&&d.setAttribute("inline",
a.Jf);a.isCollapsed()&&d.setAttribute("collapsed",!0);a.isEnabled()||d.setAttribute("disabled",!0);a.Ye()||a.Ka||d.setAttribute("deletable",!1);a.rc()||a.Ka||d.setAttribute("movable",!1);a.Hd()||d.setAttribute("editable",!1);if(e=y(a))k=h.I.wf(e,c),k.nodeType==h.g.j.hg.ELEMENT_NODE&&(l=h.g.xml.createElement("next"),l.appendChild(k),d.appendChild(l));k=a.ka&&a.ka.Cj();!k||e&&e.Ka||l.appendChild(h.I.bw(k,c));return d};
h.I.bw=function(a,c){for(var d=a=a.cloneNode(!0),e;d;)if(c&&"shadow"==d.nodeName&&d.removeAttribute("id"),d.firstChild)d=d.firstChild;else{for(;d&&!d.nextSibling;)e=d,d=d.parentNode,e.nodeType==h.g.j.hg.TEXT_NODE&&""==e.data.trim()&&d.firstChild!=e&&h.g.j.removeNode(e);d&&(e=d,d=d.nextSibling,e.nodeType==h.g.j.hg.TEXT_NODE&&""==e.data.trim()&&h.g.j.removeNode(e))}return a};h.I.Dd=function(a){return h.g.xml.Dd(a).replace(/<(\w+)([^<]*)\/>/g,"<$1$2></$1>")};
h.I.nJ=function(a){a=h.I.Dd(a).split("<");for(var c="",d=1;d<a.length;d++){var e=a[d];"/"==e[0]&&(c=c.substring(2));a[d]=c+"<"+e;"/"!=e[0]&&"/>"!=e.slice(-2)&&(c+="  ")}a=a.join("\n");a=a.replace(/(<(\w+)\b[^>]*>[^\n]*)\n *<\/\2>/g,"$1</$2>");return a.replace(/^\n/,"")};h.I.ue=function(a){var c=h.g.xml.VE(a);if(!c||!c.documentElement||c.getElementsByTagName("parsererror").length)throw Error("textToDom was unable to parse: "+a);return c.documentElement};
h.I.bJ=function(a,c){c.Yb(!1);c.clear();a=h.I.Lh(a,c);c.Yb(!0);return a};
h.I.Lh=function(a,c){if(a instanceof h.rb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToWorkspace, swap the arguments.")}var e;c.J&&(e=c.Bl());d=[];h.g.j.sm();var f=h.h.Ub();f||h.h.ta(!0);c.Yb&&c.Yb(!1);var g=!0;try{for(var k=0,l;l=a.childNodes[k];k++){var m=l.nodeName.toLowerCase(),n=l;if("block"==m||"shadow"==m&&!h.h.Ma){var p=h.I.yj(n,c);d.push(p.id);var q=n.hasAttribute("x")?parseInt(n.getAttribute("x"),10):10,B=n.hasAttribute("y")?parseInt(n.getAttribute("y"),10):10;isNaN(q)||
isNaN(B)||p.moveBy(c.J?e-q:q,B);g=!1}else{if("shadow"==m)throw TypeError("Shadow block cannot be a top-level block.");if("comment"==m)c.ua?h.gj?h.gj.ul(n):console.warn("Missing require for Blockly.WorkspaceCommentSvg, ignoring workspace comment."):h.Jv?h.Jv.ul(n):console.warn("Missing require for Blockly.WorkspaceComment, ignoring workspace comment.");else if("variables"==m){if(g)h.I.rC(n,c);else throw Error("'variables' tag must exist once before block and shadow tag elements in the workspace XML, but it was found in another location.");
g=!1}}}}finally{f||h.h.ta(!1),h.g.j.tm()}c.Yb&&c.Yb(!0);h.h.Fa(new (h.h.get(h.h.Kp))(c));return d};h.I.UI=function(a,c){var d;Object.prototype.hasOwnProperty.call(c,"scale")&&(d=fa(c));a=h.I.Lh(a,c);if(d&&d.top!=d.bottom){var e=d.bottom;var f=c.J?d.right:d.left;var g=Infinity,k=-Infinity,l=Infinity;for(d=0;d<a.length;d++){var m=c.Jc(a[d]).Za();m.y<l&&(l=m.y);m.x<g&&(g=m.x);m.x>k&&(k=m.x)}e=e-l+10;f=c.J?f-k:f-g;for(d=0;d<a.length;d++)c.Jc(a[d]).moveBy(f,e)}return a};
h.I.yj=function(a,c){if(a instanceof h.rb){var d=a;a=c;c=d;console.warn("Deprecated call to Blockly.Xml.domToBlock, swap the arguments.")}h.h.disable();d=c.Nh();try{var e=h.I.xr(a,c),f=x(e,!1);if(c.ua){ha(e,!1);for(var g=f.length-1;0<=g;g--)f[g].Hj();for(g=f.length-1;0<=g;g--)f[g].Na(!1);setTimeout(function(){e.Pe||ha(e,!0)},1);ia(e);ja(c)}else for(g=f.length-1;0<=g;g--);}finally{h.h.enable()}if(h.h.isEnabled()){a=h.na.Iw(c,d);for(g=0;g<a.length;g++)c=a[g],h.h.Fa(new (h.h.get(h.h.Kk))(c));h.h.Fa(new (h.h.get(h.h.mk))(e))}return e};
h.I.rC=function(a,c){for(var d=0,e;e=a.childNodes[d];d++)if(e.nodeType==h.g.j.hg.ELEMENT_NODE){var f=e.getAttribute("type"),g=e.getAttribute("id");c.fe(e.textContent,f,g)}};
h.I.CD=function(a){for(var c={Kx:[],Ih:[],data:[],ml:[],input:[],next:[]},d=0,e;e=a.childNodes[d];d++)if(e.nodeType!=h.g.j.hg.TEXT_NODE)switch(e.nodeName.toLowerCase()){case "mutation":c.Kx.push(e);break;case "comment":if(!h.Comment){console.warn("Missing require for Blockly.Comment, ignoring block comment.");break}c.Ih.push(e);break;case "data":c.data.push(e);break;case "title":case "field":c.ml.push(e);break;case "value":case "statement":c.input.push(e);break;case "next":c.next.push(e);break;default:console.warn("Ignoring unknown tag: "+
e.nodeName)}return c};h.I.xB=function(a,c){for(var d=!1,e=0,f;f=a[e];e++)c.Ef&&(c.Ef(f),c.Hj&&(d=!0));return d};h.I.tB=function(a,c){for(var d=0,e;e=a[d];d++){var f=e.textContent,g="true"==e.getAttribute("pinned"),k=parseInt(e.getAttribute("w"),10);e=parseInt(e.getAttribute("h"),10);c.Vj(f);c.ee.ay=g;isNaN(k)||isNaN(e)||(c.ee.size=new h.g.Qc(k,e));g&&c.JC&&!c.Zc&&setTimeout(function(){c.Bd.Ib(!0)},1)}};h.I.uB=function(a,c){for(var d=0,e;e=a[d];d++)c.data=e.textContent};
h.I.vB=function(a,c){for(var d=0,e;e=a[d];d++){var f=e.getAttribute("name");h.I.qC(c,f,e)}};h.I.Dw=function(a){for(var c={Rk:null,Sk:null},d=0,e;e=a.childNodes[d];d++)e.nodeType==h.g.j.hg.ELEMENT_NODE&&("block"==e.nodeName.toLowerCase()?c.Rk=e:"shadow"==e.nodeName.toLowerCase()&&(c.Sk=e));return c};
h.I.wB=function(a,c,d,e){for(var f=0,g;g=a[f];f++){var k=g.getAttribute("name"),l=ka(d,k);if(!l){console.warn("Ignoring non-existent input "+k+" in block "+e);break}g=h.I.Dw(g);if(g.Rk){if(!l.connection)throw TypeError("Input connection does not exist.");h.I.xr(g.Rk,c,l.connection,!1)}g.Sk&&l.connection.lm(g.Sk)}};
h.I.yB=function(a,c,d){for(var e=0,f;f=a[e];e++){f=h.I.Dw(f);if(f.Rk){if(!d.ka)throw TypeError("Next statement does not exist.");if(d.ka.isConnected())throw TypeError("Next statement is already connected.");h.I.xr(f.Rk,c,d.ka,!0)}f.Sk&&d.ka&&d.ka.lm(f.Sk)}};
h.I.xr=function(a,c,d,e){var f=a.getAttribute("type");if(!f)throw TypeError("Block type unspecified: "+a.outerHTML);var g=a.getAttribute("id");g=c.Ls(f,g);var k=h.I.CD(a),l=h.I.xB(k.Kx,g);h.I.tB(k.Ih,g);h.I.uB(k.data,g);if(d)if(e)if(g.ga)d.connect(g.ga);else throw TypeError("Next block does not have previous statement.");else if(g.T)d.connect(g.T);else if(g.ga)d.connect(g.ga);else throw TypeError("Child block does not have output or previous statement.");h.I.vB(k.ml,g);h.I.wB(k.input,c,g,f);h.I.yB(k.next,
c,g);l&&g.Hj();(c=a.getAttribute("inline"))&&g.yi("true"==c);(c=a.getAttribute("disabled"))&&g.cf("true"!=c&&"disabled"!=c);if(c=a.getAttribute("deletable"))g.sw="true"==c;(c=a.getAttribute("movable"))&&g.Ft("true"==c);(c=a.getAttribute("editable"))&&g.Et("true"==c);(c=a.getAttribute("collapsed"))&&g.wi("true"==c);if("shadow"==a.nodeName.toLowerCase()){a=ea(g,!1);for(c=0;d=a[c];c++)if(!d.Ka)throw TypeError("Shadow block not allowed non-shadow child.");if(la(g).length)throw TypeError("Shadow blocks cannot have variable references.");
g.It(!0)}return g};h.I.qC=function(a,c,d){var e=ma(a,c);e?e.ul(d):console.warn("Ignoring non-existent field "+c+" in block "+a.type)};h.I.kC=function(a){for(var c=0,d;d=a.childNodes[c];c++)if("next"==d.nodeName.toLowerCase()){a.removeChild(d);break}};h.h.ze=function(a){h.h.ze.v.constructor.call(this);this.hb=(this.ld="undefined"==typeof a)?"":a.id;this.Wb=this.ld?"":a.B.id};h.g.object.U(h.h.ze,h.h.Abstract);h.h.ze.prototype.pa=function(){var a=h.h.ze.v.pa.call(this);a.blockId=this.hb;return a};h.h.ze.prototype.aa=function(a){h.h.ze.v.aa.call(this,a);this.hb=a.blockId};
h.h.ph=function(a,c,d,e,f){h.h.vz.v.constructor.call(this,a);a&&(this.element="undefined"==typeof c?"":c,this.name="undefined"==typeof d?"":d,this.oldValue="undefined"==typeof e?"":e,this.newValue="undefined"==typeof f?"":f)};h.g.object.U(h.h.ph,h.h.ze);h.h.vz=h.h.ph;b=h.h.ph.prototype;b.type=h.h.jk;b.pa=function(){var a=h.h.ph.v.pa.call(this);a.element=this.element;this.name&&(a.name=this.name);a.oldValue=this.oldValue;a.newValue=this.newValue;return a};
b.aa=function(a){h.h.ph.v.aa.call(this,a);this.element=a.element;this.name=a.name;this.oldValue=a.oldValue;this.newValue=a.newValue};b.Nj=function(){return this.oldValue==this.newValue};
b.run=function(a){var c=z(this).Jc(this.hb);if(c)switch(c.pe&&c.pe.Ib(!1),a=a?this.newValue:this.oldValue,this.element){case "field":(c=ma(c,this.name))?c.setValue(a):console.warn("Can't set non-existent field: "+this.name);break;case "comment":c.Vj(a||null);break;case "collapsed":c.wi(!!a);break;case "disabled":c.cf(!a);break;case "inline":c.yi(!!a);break;case "mutation":var d="";c.Ld&&(d=(d=c.Ld())&&h.I.Dd(d));if(c.Ef){var e=h.I.ue(a||"<mutation/>");c.Ef(e)}h.h.Fa(new h.h.ph(c,"mutation",null,d,
a));break;default:console.warn("Unknown change type: "+this.element)}else console.warn("Can't change non-existent block: "+this.hb)};h.h.Ae=function(a){h.h.Ae.v.constructor.call(this,a);a&&(a.Ka&&(this.Ma=!1),this.xml=a.B.ua?h.I.Iq(a):h.I.wf(a),this.Wh=h.h.Mw(a))};h.g.object.U(h.h.Ae,h.h.ze);h.h.sF=h.h.Ae;h.h.Ae.prototype.type=h.h.mk;h.h.Ae.prototype.pa=function(){var a=h.h.Ae.v.pa.call(this);a.xml=h.I.Dd(this.xml);a.ids=this.Wh;this.Ma||(a.recordUndo=this.Ma);return a};
h.h.Ae.prototype.aa=function(a){h.h.Ae.v.aa.call(this,a);this.xml=h.I.ue(a.xml);this.Wh=a.ids;void 0!==a.recordUndo&&(this.Ma=a.recordUndo)};h.h.Ae.prototype.run=function(a){var c=z(this);if(a)a=h.g.xml.createElement("xml"),a.appendChild(this.xml),h.I.Lh(a,c);else{a=0;for(var d;d=this.Wh[a];a++){var e=c.Jc(d);e?e.H(!1):d==this.hb&&console.warn("Can't uncreate non-existent block: "+d)}}};
h.h.De=function(a){h.h.De.v.constructor.call(this,a);if(a){if(a.getParent())throw Error("Connected blocks cannot be deleted.");a.Ka&&(this.Ma=!1);this.Qj=a.B.ua?h.I.Iq(a):h.I.wf(a);this.Wh=h.h.Mw(a)}};h.g.object.U(h.h.De,h.h.ze);h.h.tF=h.h.De;h.h.De.prototype.type=h.h.sh;h.h.De.prototype.pa=function(){var a=h.h.De.v.pa.call(this);a.oldXml=h.I.Dd(this.Qj);a.ids=this.Wh;this.Ma||(a.recordUndo=this.Ma);return a};
h.h.De.prototype.aa=function(a){h.h.De.v.aa.call(this,a);this.Qj=h.I.ue(a.oldXml);this.Wh=a.ids;void 0!==a.recordUndo&&(this.Ma=a.recordUndo)};h.h.De.prototype.run=function(a){var c=z(this);if(a){a=0;for(var d;d=this.Wh[a];a++){var e=c.Jc(d);e?e.H(!1):d==this.hb&&console.warn("Can't delete non-existent block: "+d)}}else a=h.g.xml.createElement("xml"),a.appendChild(this.Qj),h.I.Lh(a,c)};
h.h.xh=function(a){h.h.xh.v.constructor.call(this,a);a&&(a.Ka&&(this.Ma=!1),a=na(this),this.Sx=a.Yx,this.Px=a.qx,this.Ps=a.nw)};h.g.object.U(h.h.xh,h.h.ze);h.h.uF=h.h.xh;b=h.h.xh.prototype;b.type=h.h.Dk;b.pa=function(){var a=h.h.xh.v.pa.call(this);this.mi&&(a.newParentId=this.mi);this.li&&(a.newInputName=this.li);this.Sg&&(a.newCoordinate=Math.round(this.Sg.x)+","+Math.round(this.Sg.y));this.Ma||(a.recordUndo=this.Ma);return a};
b.aa=function(a){h.h.xh.v.aa.call(this,a);this.mi=a.newParentId;this.li=a.newInputName;if(a.newCoordinate){var c=a.newCoordinate.split(",");this.Sg=new h.g.S(Number(c[0]),Number(c[1]))}void 0!==a.recordUndo&&(this.Ma=a.recordUndo)};b.ri=function(){var a=na(this);this.mi=a.Yx;this.li=a.qx;this.Sg=a.nw};function na(a){var c=z(a).Jc(a.hb);a={};var d=c.getParent();if(d){if(a.Yx=d.id,c=oa(d,c))a.qx=c.name}else a.nw=c.Za();return a}
b.Nj=function(){return this.Sx==this.mi&&this.Px==this.li&&h.g.S.Gf(this.Ps,this.Sg)};
b.run=function(a){var c=z(this),d=c.Jc(this.hb);if(d){var e=a?this.mi:this.Sx,f=a?this.li:this.Px,g=a?this.Sg:this.Ps;a=null;if(e&&(a=c.Jc(e),!a)){console.warn("Can't connect to non-existent block: "+e);return}d.getParent()&&C(d);if(g)f=d.Za(),d.moveBy(g.x-f.x,g.y-f.y);else{d=d.T||d.ga;c=d.type;if(f){if(a=ka(a,f))var k=a.connection}else c==h.Z.wd&&(k=a.ka);k?d.connect(k):console.warn("Can't connect to non-existent input: "+f)}}else console.warn("Can't move non-existent block: "+this.hb)};
h.u.register(h.u.R.Fb,h.h.mk,h.h.Ae);h.u.register(h.u.R.Fb,h.h.sh,h.h.De);h.u.register(h.u.R.Fb,h.h.jk,h.h.ph);h.u.register(h.u.R.Fb,h.h.Dk,h.h.xh);h.cb={};h.cb.qr=0;h.cb.Xn=null;h.cb.oC=function(a){var c=a.B,d=a.qa();c.Uc.play("delete");a=pa(c,d);d=d.cloneNode(!0);d.aF=a.x;d.bF=a.y;d.setAttribute("transform","translate("+a.x+","+a.y+")");v(c).appendChild(d);d.Sv=d.getBBox();h.cb.yw(d,c.J,new Date,c.scale)};h.cb.yw=function(a,c,d,e){var f=(new Date-d)/150;1<f?h.g.j.removeNode(a):(a.setAttribute("transform","translate("+(a.aF+(c?-1:1)*a.Sv.width*e/2*f)+","+(a.bF+a.Sv.height*e*f)+") scale("+(1-f)*e+")"),setTimeout(h.cb.yw,10,a,c,d,e))};
h.cb.$B=function(a){var c=a.B,d=c.scale;c.Uc.play("click");if(!(1>d)){var e=pa(c,a.qa());a.T?(e.x+=(a.J?3:-3)*d,e.y+=13*d):a.ga&&(e.x+=(a.J?-23:23)*d,e.y+=3*d);a=h.g.j.L(h.g.F.kz,{cx:e.x,cy:e.y,r:0,fill:"none",stroke:"#888","stroke-width":10},v(c));h.cb.iw(a,new Date,d)}};h.cb.iw=function(a,c,d){var e=(new Date-c)/150;1<e?h.g.j.removeNode(a):(a.setAttribute("r",25*e*d),a.style.opacity=1-e,h.cb.qr=setTimeout(h.cb.iw,10,a,c,d))};
h.cb.nC=function(a){a.B.Uc.play("disconnect");if(!(1>a.B.scale)){var c=r(a).height;c=Math.atan(10/c)/Math.PI*180;a.J||(c*=-1);h.cb.xw(a.qa(),c,new Date)}};h.cb.xw=function(a,c,d){var e=(new Date-d)/200;1<e?a.qm="":(a.qm="skewX("+Math.round(Math.sin(e*Math.PI*3)*(1-e)*c)+")",h.cb.Xn=a,h.cb.qr=setTimeout(h.cb.xw,10,a,c,d));a.setAttribute("transform",a.Cm+a.qm)};h.cb.rr=function(){if(h.cb.Xn){clearTimeout(h.cb.qr);var a=h.cb.Xn;a.qm="";a.setAttribute("transform",a.Cm);h.cb.Xn=null}};h.h.$d=function(a){h.h.$d.v.constructor.call(this);this.ld="undefined"==typeof a;this.Wb=a?a:"";this.Ma=!1};h.g.object.U(h.h.$d,h.h.Abstract);h.h.$d.prototype.rs=!0;h.h.pg=function(a,c,d,e){h.h.pg.v.constructor.call(this,a?a.B.id:void 0);this.hb=a?a.id:null;this.element="undefined"==typeof c?"":c;this.oldValue="undefined"==typeof d?"":d;this.newValue="undefined"==typeof e?"":e};h.g.object.U(h.h.pg,h.h.$d);h.h.pg.prototype.type=h.h.uq;
h.h.pg.prototype.pa=function(){var a=h.h.pg.v.pa.call(this);a.element=this.element;void 0!==this.newValue&&(a.newValue=this.newValue);this.hb&&(a.blockId=this.hb);return a};h.h.pg.prototype.aa=function(a){h.h.pg.v.aa.call(this,a);this.element=a.element;this.newValue=a.newValue;this.hb=a.blockId};h.u.register(h.u.R.Fb,h.h.uq,h.h.pg);h.h.Vf=function(a,c,d){h.h.Vf.v.constructor.call(this,a?a.B.id:void 0);this.hb=a?a.id:null;this.xx=c;this.Tv=d};h.g.object.U(h.h.Vf,h.h.$d);h.h.Vf.prototype.type=h.h.Nm;h.h.Vf.prototype.pa=function(){var a=h.h.Vf.v.pa.call(this);a.isStart=this.xx;a.blockId=this.hb;a.blocks=this.Tv;return a};h.h.Vf.prototype.aa=function(a){h.h.Vf.v.aa.call(this,a);this.xx=a.isStart;this.hb=a.blockId;this.Tv=a.blocks};h.u.register(h.u.R.Fb,h.h.Nm,h.h.Vf);h.xG=function(){};h.Eb=function(){this.ug=Object.create(null);this.mj=Object.create(null)};function qa(a,c){var d=c.Uk.id;if(a.ug[d])throw Error('Plugin "'+d+'" with capabilities "'+a.ug[d].tg+'" already added.');a.ug[d]=c;for(var e=[],f=0;f<c.tg.length;f++){var g=String(c.tg[f]).toLowerCase();e.push(g);void 0===a.mj[g]?a.mj[g]=[d]:a.mj[g].push(d)}a.ug[d].tg=e}
function ra(a,c){var d=a.ug[c];if(d){for(var e=0;e<d.tg.length;e++){var f=String(d.tg[e]).toLowerCase();a.mj[f].splice(a.mj[f].indexOf(c),1)}delete a.ug[c]}}function sa(a,c){var d=h.Eb.Rb.Fp;d=String(d).toLowerCase();return-1!==a.ug[c].tg.indexOf(d)}function ta(a,c){c=String(c).toLowerCase();c=a.mj[c];if(!c)return[];var d=[],e=[],f=a.ug;c.forEach(function(g){e.push(f[g])});e.sort(function(g,k){return g.weight-k.weight});e.forEach(function(g){d.push(g.Uk)});return d}h.Eb.Rb=function(a){this.Wl=a};
h.Eb.Rb.prototype.toString=function(){return this.Wl};h.Eb.Rb.ov=new h.Eb.Rb("positionable");h.Eb.Rb.Ip=new h.Eb.Rb("drag_target");h.Eb.Rb.Fp=new h.Eb.Rb("delete_area");h.Eb.Rb.ju=new h.Eb.Rb("autohideable");
h.Ac=function(a){this.ih=h.selected=a;this.m=a.B;this.Ng=this.ss=null;this.ql=ua(this,this.ih);this.tc=this.Bb=null;this.xe=!1;this.ll=this.gs=this.gi=null;this.Fn=va(this)};h.Ac.Yi={Op:0,jA:1,pv:2};h.Ac.zu="The insertion marker manager tried to create a marker but the result is missing %1. If you are using a mutator, make sure your domToMutation method is properly defined.";h.Ac.prototype.H=function(){this.Fn.length=0;h.h.disable();try{this.ql&&this.ql.H(),this.Ng&&this.Ng.H()}finally{h.h.enable()}};
h.Ac.prototype.update=function(a,c){var d=this.Bb&&this.tc?h.tu:h.nc;for(var e=null,f=null,g=0;g<this.Fn.length;g++){var k=this.Fn[g],l=k.closest(d,a);l.connection&&(e=l.connection,f=k,d=l.ap)}d={closest:e,local:f,ap:d};if((this.xe=this.Lt(d,c))||wa(this,d,a)){h.h.disable();d.closest?(a=this.Bb!=d.closest,c=this.tc!=d.local,this.Bb&&this.tc&&(a||c||this.xe)&&xa(this)):xa(this);this.tc=this.Bb=this.gi=null;if(!this.xe&&(a=d.closest,c=d.local,a))if(a==this.Bb||a.$().md())console.log("Trying to connect to an insertion marker");
else{this.Bb=a;this.tc=c;a=this.Bb;c=this.tc;d=this.ih;c.type==h.Z.dd||c.type==h.Z.wd?((e=!a.isConnected())||(e=a.ra(),e=!!h.va.Lw(d,c.type===h.Z.dd?e.T:e.ga)),c=e?h.Ac.Yi.Op:h.Ac.Yi.pv):c=h.Ac.Yi.Op;switch(c){case h.Ac.Yi.jA:this.gs=this.Bb.$();break;case h.Ac.Yi.Op:e=this.tc;c=this.Bb;d=this.ss&&e==this.ss?this.Ng:this.ql;e=d.Tr(e.$(),e);if(e==this.gi)throw Error("Made it to showInsertionMarker_ even though the marker isn't changing");d.Na();d.ua=!0;d.qa().setAttribute("visibility","visible");e&&
c&&(e.type!=h.Z.ac&&e.type!=h.Z.$b||d.moveBy(c.x-e.x,c.y-e.y));c&&e.connect(c);this.gi=e;break;case h.Ac.Yi.pv:this.ll=this.Bb.ra(),ya(this.ll.zb,"blocklyReplaceable",!0)}a&&(d=a.K.B.ob.ea(),c=za(d,a),a.type==h.Z.$b||a.type==h.Z.dd?(d=d.dj,c=h.g.A.moveBy(0,-d)+h.g.A.X("v",d)+c.Od+h.g.A.X("v",d)):(d=d.Gk-d.qb,c=h.g.A.moveBy(-d,0)+h.g.A.X("h",d)+c.Yg+h.g.A.X("h",d)),d=a.K.Za(),h.va.mx=h.g.j.L(h.g.F.Ge,{"class":"blocklyHighlightedConnectionPath",d:c,transform:"translate("+(a.x-d.x)+","+(a.y-d.y)+")"+
(a.K.J?" scale(-1 1)":"")},a.K.qa()))}h.h.enable()}};
function ua(a,c){var d=c.type;h.h.disable();try{var e=a.m.Ls(d);e.wy(!0);if(c.Ld){var f=c.Ld();f&&e.Ef(f)}for(a=0;a<c.V.length;a++){var g=c.V[a];if(g.name!=h.lb.Sm){var k=e.V[a];if(!k)throw Error(h.Ac.zu.replace("%1","an input"));for(d=0;d<g.fb.length;d++){var l=g.fb[d],m=k.fb[d];if(!m)throw Error(h.Ac.zu.replace("%1","a field"));m.setValue(l.getValue())}}}e.wi(c.isCollapsed());e.yi(Aa(c));e.Hj();e.qa().setAttribute("visibility","hidden")}finally{h.h.enable()}return e}
function va(a){var c=a.ih.je(!1),d=a.ih.Do(!0);if(d&&d!=a.ih.ka){c.push(d);a.ss=d;if(a.Ng){h.h.disable();try{a.Ng.H()}finally{h.h.enable()}}a.Ng=ua(a,d.$())}return c}
function wa(a,c,d){var e=c.local,f=c.closest;c=c.ap;if(e&&f){if(a.tc&&a.Bb){if(a.Bb==f&&a.tc==e)return!1;e=a.tc.x+d.x-a.Bb.x;a=a.tc.y+d.y-a.Bb.y;a=Math.sqrt(e*e+a*a);return!(f&&c>a-h.pz)}if(a.tc||a.Bb)console.error("Only one of localConnection_ and closestConnection_ was set.");else return!0}else return!(!a.tc||!a.Bb);console.error("Returning true from shouldUpdatePreviews, but it's not clear why.");return!0}
h.Ac.prototype.Lt=function(a,c){return c&&sa(this.m.Af,c.id)?Ba(c,this.ih,a&&!!a.closest):!1};
function xa(a){a.Bb&&a.Bb.ra()&&(h.g.j.removeNode(h.va.mx),delete h.va.mx);if(a.ll)ya(a.ll.zb,"blocklyReplaceable",!1),a.ll=null;else if(a.gs)a.gs=null;else if(a.gi)if(a.gi){var c=a.gi,d=c.$(),e=d.ka,f=d.ga,g=d.T;g=c.type==h.Z.$b&&!(g&&g.xa);!(c!=e||f&&f.xa)||g?C(c.ra(),!1):c.type==h.Z.ac&&c!=e?(e=c.xa,C(e.$(),!1),f=f?f.xa:null,C(d,!0),f&&f.connect(e)):C(d,!0);if(c.xa)throw Error("markerConnection_ still connected at the end of disconnectInsertionMarker");a.gi=null;(a=d.qa())&&a.setAttribute("visibility",
"hidden")}else console.log("No insertion marker connection to disconnect")}h.Ac.prototype.Aj=function(){var a=[];this.ql&&a.push(this.ql);this.Ng&&a.push(this.Ng);return a};h.hk=function(a,c){this.mb=a;this.m=c;this.Re=new h.Ac(this.mb);this.ec=null;this.xe=!1;this.ef=this.mb.Za();this.$n=h.hk.mD(a)};h.hk.prototype.H=function(){this.$n.length=0;this.Re&&this.Re.H()};h.hk.mD=function(a){var c=[];a=x(a,!1);for(var d=0,e;e=a[d];d++){e=Ca(e);for(var f=0;f<e.length;f++){var g={location:e[f].vJ(),icon:e[f]};c.push(g)}}return c};b=h.hk.prototype;
b.rm=function(a,c){h.h.Ub()||h.h.ta(!0);var d=new (h.h.get(h.h.Nm))(this.mb,!0,x(this.mb,!1));h.h.Fa(d);this.m.zo&&Da(this.mb);h.g.j.sm();this.m.Yb(!1);h.cb.rr();if(this.mb.getParent()||c&&this.mb.ka&&this.mb.ka.ra())C(this.mb,c),a=this.Rj(a),a=h.g.S.sum(this.ef,a),this.mb.translate(a.x,a.y),h.cb.nC(this.mb),a=this.Re,a.Fn=va(a);this.mb.dh(!0);a=this.mb;a.Gm&&(c=a.Za(),a.qa().removeAttribute("transform"),a.B.gd.Di(c.x,c.y),(c=a.qa())&&Ea(a.B.gd,c))};
b.Ff=function(a,c){c=this.Rj(c);var d=h.g.S.sum(this.ef,c);this.mb.Ks(d);for(d=0;d<this.$n.length;d++){var e=this.$n[d];e.icon.eK(h.g.S.sum(e.location,c))}d=this.ec;this.ec=Fa(this.m,a);this.Re.update(c,this.ec);a=this.xe;this.xe=this.Re.xe;a!=this.xe&&this.mb.Dt(this.xe);this.ec!==d&&d&&d.Ss();this.ec&&this.ec.Ts()};
b.jl=function(a,c){this.Ff(a,c);this.$n=[];a=new (h.h.get(h.h.Nm))(this.mb,!1,x(this.mb,!1));h.h.Fa(a);h.g.j.tm();h.cb.rr();c=this.Rj(c);a=h.g.S.sum(this.ef,c);var d=this.mb;d.Gm&&(d.translate(a.x,a.y),d.B.gd.Jn(d.B.wb));this.ec&&this.ec.Us();this.xe?(this.ol(),this.mb.H(!1,!0),h.zj=[],a=!0):a=!1;a||(this.mb.dh(!1),c?(Ga(this.mb,c.x,c.y),this.ol(),this.Re.Bb?(c=this.Re,c.Bb&&(h.h.disable(),xa(c),h.h.enable(),c.tc.connect(c.Bb),c.ih.ua&&(h.cb.$B((Ha(c.tc)?c.Bb:c.tc).$()),Da(c.ih.me())))):this.mb.Na(),
Ia(this.mb)):h.Mq(this.mb.B,this.m.$c.Rh(!0),this.mb));this.m.Yb(!0);h.h.ta(!1)};b.ol=function(){var a=new (h.h.get(h.h.nh))(this.mb);a.Ps=this.ef;a.ri();h.h.Fa(a)};b.Rj=function(a){a=new h.g.S(a.x/this.m.scale,a.y/this.m.scale);this.m.zo&&a.scale(1/this.m.options.ad.scale);return a};b.Aj=function(){return this.Re&&this.Re.Aj?this.Re.Aj():[]};h.u.register(h.u.R.lu,h.u.Pi,h.hk);h.CG=function(){};h.EG=function(){};h.HG=function(){};h.zG=function(){};h.g.gH=function(){};
h.nq=function(a,c,d,e,f){this.m=a;c=void 0===c?!0:c;d=void 0===d?!0:d;var g=c&&d;c&&(this.jb=new h.Ja(a,!0,g,e,f));d&&(this.Ua=new h.Ja(a,!1,g,e,f));g&&(this.Zk=h.g.j.L(h.g.F.xd,{height:h.Ja.ic,width:h.Ja.ic,"class":"blocklyScrollbarBackground"},null),h.g.j.Ij(this.Zk,a.Rf));this.Wa=null};b=h.nq.prototype;b.H=function(){h.g.j.removeNode(this.Zk);this.Wa=this.m=this.Zk=null;this.jb&&(this.jb.H(),this.jb=null);this.Ua&&(this.Ua.H(),this.Ua=null)};
b.resize=function(){var a=this.m.ke();if(a){var c=!1,d=!1;this.Wa&&this.Wa.xc==a.xc&&this.Wa.Oc==a.Oc&&this.Wa.Tc==a.Tc&&this.Wa.Ec==a.Ec?(this.Wa&&this.Wa.scrollWidth==a.scrollWidth&&this.Wa.Td==a.Td&&this.Wa.scrollLeft==a.scrollLeft||(c=!0),this.Wa&&this.Wa.scrollHeight==a.scrollHeight&&this.Wa.Ud==a.Ud&&this.Wa.scrollTop==a.scrollTop||(d=!0)):d=c=!0;if(c||d){try{h.h.disable(),this.jb&&c&&this.jb.resize(a),this.Ua&&d&&this.Ua.resize(a)}finally{h.h.enable()}Ja(this.m)}this.jb&&this.Ua&&(this.Wa&&
this.Wa.xc==a.xc&&this.Wa.Ec==a.Ec||this.Zk.setAttribute("x",this.Ua.position.x),this.Wa&&this.Wa.Oc==a.Oc&&this.Wa.Tc==a.Tc||this.Zk.setAttribute("y",this.jb.position.y));this.Wa=a}};b.fp=function(a,c){this.jb&&this.jb.fp(a,c);this.Ua&&this.Ua.fp(a,c)};b.set=function(a,c,d){this.jb&&this.jb.set(a,!1);this.Ua&&this.Ua.set(c,!1);if(d||void 0===d)a={},this.jb&&(a.x=Ka(this.jb)),this.Ua&&(a.y=Ka(this.Ua)),this.m.km(a)};b.xi=function(a){this.jb&&this.jb.xi(a);this.Ua&&this.Ua.xi(a)};
b.isVisible=function(){var a=!1;this.jb&&(a=this.jb.isVisible());this.Ua&&(a=a||this.Ua.isVisible());return a};
h.Ja=function(a,c,d,e,f){this.m=a;this.Xg=d||!1;this.Vh=c;this.ei=void 0!==f?f:h.Ja.zz;this.ratio=this.Wa=null;this.$k(e);this.position=new h.g.S(0,0);a=h.Ja.ic;c?(this.jc.setAttribute("height",a),this.$e.setAttribute("height",a),this.pd.setAttribute("height",a-5),this.pd.setAttribute("y",2.5),this.Fo="width",this.by="x"):(this.jc.setAttribute("width",a),this.$e.setAttribute("width",a),this.pd.setAttribute("width",a-5),this.pd.setAttribute("x",2.5),this.Fo="height",this.by="y");this.Vx=h.N.Aa(this.jc,
"mousedown",this,this.SD);this.Wx=h.N.Aa(this.pd,"mousedown",this,this.TD)};b=h.Ja.prototype;b.bt=new h.g.S(0,0);b.Cy=0;b.Qd=0;b.Eg=0;b.Cl=0;b.Mf=!0;b.Jh=!0;h.Ja.ic=15;h.Touch.Av&&(h.Ja.ic=25);h.Ja.zz=.5;h.Ja.ED=function(a,c){return a.xc==c.xc&&a.Oc==c.Oc&&a.Td==c.Td&&a.Ud==c.Ud&&a.Tc==c.Tc&&a.Ec==c.Ec&&a.scrollWidth==c.scrollWidth&&a.scrollHeight==c.scrollHeight&&a.scrollLeft==c.scrollLeft&&a.scrollTop==c.scrollTop};b=h.Ja.prototype;
b.H=function(){La();h.N.xb(this.Vx);this.Vx=null;h.N.xb(this.Wx);this.Wx=null;h.g.j.removeNode(this.$e);this.jc=this.O=this.$e=null;this.pd&&(this.m.lc.unsubscribe(this.pd),this.pd=null);this.m=null};function Ma(a,c){return c=0>=c||isNaN(c)?0:Math.min(c,a.Qd)}function Na(a,c){a.Eg=c;a.pd.setAttribute(a.Fo,a.Eg)}function Oa(a,c){return c=0>=c||isNaN(c)?0:Math.min(c,a.Qd-a.Eg)}function Pa(a,c){a.Cl=c;a.pd.setAttribute(a.by,a.Cl)}
function Qa(a,c){a.Qd=c;a.$e.setAttribute(a.Fo,a.Qd);a.jc.setAttribute(a.Fo,a.Qd)}b.setPosition=function(a,c){this.position.x=a;this.position.y=c;h.g.j.jm(this.$e,"translate("+(this.position.x+this.bt.x)+"px,"+(this.position.y+this.bt.y)+"px)")};b.resize=function(a){if(!a&&(a=this.m.ke(),!a))return;if(!this.Wa||!h.Ja.ED(a,this.Wa)){if(this.Vh){var c=a;Ra(this,c)?Sa(this,c):Ta(this,c)}else c=a,Ra(this,c)?Ua(this,c):Va(this,c);this.Wa=a;Wa(this)}};
function Ra(a,c){return a.Wa?a.Wa.xc!==c.xc||a.Wa.Oc!==c.Oc||a.Wa.Ec!==c.Ec||a.Wa.Tc!==c.Tc:!0}function Sa(a,c){var d=c.xc-2*a.ei;a.Xg&&(d-=h.Ja.ic);Qa(a,Math.max(0,d));d=c.Ec+a.ei;a.Xg&&a.m.J&&(d+=h.Ja.ic);a.setPosition(d,c.Tc+c.Oc-h.Ja.ic-a.ei);Ta(a,c)}function Ta(a,c){if(c.xc>=c.scrollWidth)Na(a,a.Qd),Pa(a,0),a.Xg||a.Ib(!1);else{a.Xg||a.Ib(!0);var d=a.Qd*c.xc/c.scrollWidth;d=Ma(a,d);Na(a,d);d=c.scrollWidth-c.xc;var e=a.Qd-a.Eg;c=(c.Td-c.scrollLeft)/d*e;c=Oa(a,c);Pa(a,c);a.ratio=e/d}}
function Ua(a,c){var d=c.Oc-2*a.ei;a.Xg&&(d-=h.Ja.ic);Qa(a,Math.max(0,d));a.setPosition(a.m.J?c.Ec+a.ei:c.Ec+c.xc-h.Ja.ic-a.ei,c.Tc+a.ei);Va(a,c)}function Va(a,c){if(c.Oc>=c.scrollHeight)Na(a,a.Qd),Pa(a,0),a.Xg||a.Ib(!1);else{a.Xg||a.Ib(!0);var d=a.Qd*c.Oc/c.scrollHeight;d=Ma(a,d);Na(a,d);d=c.scrollHeight-c.Oc;var e=a.Qd-a.Eg;c=(c.Ud-c.scrollTop)/d*e;c=Oa(a,c);Pa(a,c);a.ratio=e/d}}
b.$k=function(a){var c="blocklyScrollbar"+(this.Vh?"Horizontal":"Vertical");a&&(c+=" "+a);this.$e=h.g.j.L(h.g.F.bj,{"class":c},null);this.O=h.g.j.L(h.g.F.Pc,{},this.$e);this.jc=h.g.j.L(h.g.F.xd,{"class":"blocklyScrollbarBackground"},this.O);a=Math.floor((h.Ja.ic-5)/2);this.pd=h.g.j.L(h.g.F.xd,{"class":"blocklyScrollbarHandle",rx:a,ry:a},this.O);this.m.lc.subscribe(this.pd,"scrollbarColour","fill");this.m.lc.subscribe(this.pd,"scrollbarOpacity","fill-opacity");h.g.j.Ij(this.$e,v(this.m))};
b.isVisible=function(){return this.Mf};b.xi=function(a){var c=a!=this.Jh;this.Jh=a;c&&this.Em()};b.Ib=function(a){var c=a!=this.isVisible();if(this.Xg)throw Error("Unable to toggle visibility of paired scrollbars.");this.Mf=a;c&&this.Em()};b.Em=function(){this.Jh&&this.isVisible()?this.$e.setAttribute("display","block"):this.$e.setAttribute("display","none")};
b.SD=function(a){ba(this.m);h.Touch.Kn();La();if(h.g.Ml(a))a.stopPropagation();else{var c=h.g.Vl(a,v(this.m),Xa(this.m));c=this.Vh?c.x:c.y;var d=h.g.zl(this.pd);d=this.Vh?d.x:d.y;var e=this.Cl,f=.95*this.Eg;c<=d?e-=f:c>=d+this.Eg&&(e+=f);Pa(this,Oa(this,e));Wa(this);a.stopPropagation();a.preventDefault()}};
b.TD=function(a){ba(this.m);La();h.g.Ml(a)?a.stopPropagation():(this.PE=this.Cl,Ya(this.m),this.Cy=this.Vh?a.clientX:a.clientY,h.Ja.Vg=h.N.Aa(document,"mouseup",this,this.XD),h.Ja.Ug=h.N.Aa(document,"mousemove",this,this.UD),a.stopPropagation(),a.preventDefault())};b.UD=function(a){Pa(this,Oa(this,this.PE+((this.Vh?a.clientX:a.clientY)-this.Cy)));Wa(this)};b.XD=function(){Za(this.m);h.Touch.Kn();La()};
function La(){h.hc(!0);h.Ja.Vg&&(h.N.xb(h.Ja.Vg),h.Ja.Vg=null);h.Ja.Ug&&(h.N.xb(h.Ja.Ug),h.Ja.Ug=null)}function Ka(a){a=a.Cl/(a.Qd-a.Eg);isNaN(a)&&(a=0);return a}function Wa(a){var c=Ka(a),d={};a.Vh?d.x=c:d.y=c;a.m.km(d)}b.set=function(a,c){Pa(this,Oa(this,a*this.ratio));(c||void 0===c)&&Wa(this)};b.fp=function(a,c){this.bt=new h.g.S(a,c)};h.tG=function(){};h.uG=function(){};h.vG=function(){};h.JG=function(){};h.g.wj={};h.g.wj.warn=function(a,c,d,e){a=a+" was deprecated on "+c+" and will be deleted on "+d+".";e&&(a+="\nUse "+e+" instead.");console.warn(a)};h.va=function(a,c){this.K=a;this.type=c};h.va.Pm=0;h.va.RA=1;h.va.UA=2;h.va.TA=3;h.va.OA=4;h.va.PA=5;h.va.SA=6;h.va.QA=7;b=h.va.prototype;b.xa=null;b.Pe=!1;b.oj=null;b.ip=null;b.x=0;b.y=0;
b.On=function(a){var c=this.$(),d=a.$();a.isConnected()&&a.disconnect();if(this.isConnected()){var e=this.Cj(!0);this.ip=null;var f=this.ra();if(f.Ka)f.H(!1);else{this.disconnect();var g=f}this.ip=e}var k;h.h.isEnabled()&&(k=new (h.h.get(h.h.nh))(d));h.va.ZB(this,a);d.gp(c);k&&(k.ri(),h.h.Fa(k));g&&(a=this.type===h.Z.$b?g.T:g.ga,(d=h.va.Lw(d,a))?a.connect(d):a.Vs(this))};b.H=function(){if(this.isConnected()){this.lm(null);var a=this.ra();a&&C(a)}this.Pe=!0};b.$=function(){return this.K};
function Ha(a){return a.type==h.Z.$b||a.type==h.Z.ac}b.isConnected=function(){return!!this.xa};b.Rq=function(a){h.g.wj.warn("Connection.prototype.canConnectWithReason","July 2020","July 2021","the workspace's connection checker");return this.K.B.Bf.Rq(this,a,!1)};b.Vs=function(){};b.connect=function(a){if(this.xa!=a&&$a(this.K.B.Bf,this,a,!1)){var c=h.h.Ub();c||h.h.ta(!0);Ha(this)?this.On(a):a.On(this);c||h.h.ta(!1)}};
h.va.ZB=function(a,c){if(!a||!c)throw Error("Cannot connect null connections.");a.xa=c;c.xa=a};h.va.UC=function(a,c){var d=null;c=c.T;for(var e=c.K.B.Bf,f=0,g;g=a.V[f];f++)if((g=g.connection)&&$a(e,c,g,!1)){if(d)return null;d=g}return d};h.va.KC=function(a,c){for(var d;d=h.va.UC(a,c);)if(a=d.ra(),!a||a.Ka)return d;return null};h.va.Lw=function(a,c){if(c.type===h.Z.dd)return h.va.KC(a,c.$());a=a.Do(!0);var d=c.K.B.Bf;return a&&$a(d,c,a,!1)?a:null};b=h.va.prototype;
b.disconnect=function(){var a=this.xa;if(!a)throw Error("Source connection not connected.");if(a.xa!=this)throw Error("Target connection not connected to source connection.");if(Ha(this)){var c=this.K;var d=a.$();a=this}else c=a.$(),d=this.K;var e=h.h.Ub();e||h.h.ta(!0);this.pr(c,d);d.Ka||a.hm();e||h.h.ta(!1)};b.pr=function(a,c){var d;h.h.isEnabled()&&(d=new (h.h.get(h.h.nh))(c));this.xa=this.xa.xa=null;c.gp(null);d&&(d.ri(),h.h.Fa(d))};
b.hm=function(){var a=this.$(),c=this.Cj();if(a.B&&c)if(a=h.I.yj(c,a.B),a.T)this.connect(a.T);else if(a.ga)this.connect(a.ga);else throw Error("Child block does not have output or previous statement.");};b.ra=function(){return this.isConnected()?this.xa.$():null};b.Ux=function(){!this.isConnected()||this.xa&&$a(this.K.B.Bf,this,this.xa,!1)||C(Ha(this)?this.ra():this.K)};b.Uj=function(a){a?(Array.isArray(a)||(a=[a]),this.oj=a,this.Ux()):this.oj=null};
b.lm=function(a){this.ip=a;a=this.ra();a?a.Ka&&(a.H(!1),this.hm()):this.hm()};b.Cj=function(a){return a&&this.ra().Ka?h.I.wf(this.ra()):this.ip};b.Lx=function(){return[]};b.Te=function(){for(var a=null,c=this.K.V,d=0;d<c.length;d++)if(c[d].connection===this){a=c[d];break}return a};h.BG=function(){};h.wu=function(){};function $a(a,c,d,e,f){return a.Rq(c,d,e,f)==h.va.Pm}h.wu.prototype.Rq=function(a,c,d,e){if(a&&c){if(Ha(a)){var f=a.$();var g=c.$()}else g=a.$(),f=c.$();f=f==g?h.va.RA:c.type!=h.Xi[a.type]?h.va.UA:f.B!==g.B?h.va.PA:f.Ka&&!g.Ka?h.va.SA:h.va.Pm}else f=h.va.TA;if(f!=h.va.Pm)a=f;else{a:if(f=a.oj,g=c.oj,f&&g){for(var k=0;k<f.length;k++)if(-1!=g.indexOf(f[k])){f=!0;break a}f=!1}else f=!0;a=f?d&&!db(a,c,e||0)?h.va.QA:h.va.Pm:h.va.OA}return a};
function db(a,c,d){if(eb(a,c)>d||c.$().md())return!1;switch(c.type){case h.Z.wd:return a.xa||-1!=h.zj.indexOf(c)?a=!1:c.xa?(a=c.ra(),a=a.md()?!(a.ga&&a.ga.ra()):!1):a=!0,a;case h.Z.dd:if(c.isConnected()&&!c.ra().md()||a.isConnected())return!1;break;case h.Z.$b:if(c.isConnected()&&!c.ra().rc()&&!c.ra().Ka)return!1;break;case h.Z.ac:if(c.isConnected()&&!a.$().ka&&!c.ra().Ka&&c.ra().ka)return!1;break;default:return!1}return-1!=h.zj.indexOf(c)?!1:!0}h.u.register(h.u.R.uu,h.u.Pi,h.wu);h.Bh=function(a,c,d,e){this.name=a;this.rg=c||Object.create(null);this.Sq=d||Object.create(null);this.ew=e||Object.create(null);this.fontStyle=Object.create(null);this.Ot=null;h.u.register(h.u.R.oq,a,this)};h.Bh.prototype.ie=function(){return this.name+"-theme"};function fb(a,c){return(c=a.ew[c])&&"string"==typeof c&&fb(a,c)?fb(a,c):c?String(c):null}
h.Bh.jC=function(a,c){var d=new h.Bh(a),e=c.base;e&&("string"==typeof e&&(e=h.u.Vr(h.u.R.oq,e)),e instanceof h.Bh&&(h.g.object.uj(d,e),d.name=a));h.g.object.uj(d.rg,c.blockStyles);h.g.object.uj(d.Sq,c.categoryStyles);h.g.object.uj(d.ew,c.componentStyles);h.g.object.uj(d.fontStyle,c.fontStyle);null!=c.startHats&&(d.Ot=c.startHats);return d};h.qf={};h.qf.Wf={};h.qf.Wf.iC={colour_blocks:{colourPrimary:"20"},list_blocks:{colourPrimary:"260"},logic_blocks:{colourPrimary:"210"},loop_blocks:{colourPrimary:"120"},math_blocks:{colourPrimary:"230"},procedure_blocks:{colourPrimary:"290"},text_blocks:{colourPrimary:"160"},variable_blocks:{colourPrimary:"330"},hat_blocks:{colourPrimary:"330",hat:"cap"}};
h.qf.Wf.Sq={colour_category:{colour:"20"},list_category:{colour:"260"},logic_category:{colour:"210"},loop_category:{colour:"120"},math_category:{colour:"230"},procedure_category:{colour:"290"},text_category:{colour:"160"},variable_category:{colour:"330"}};h.qf.Wf=new h.Bh("classic",h.qf.Wf.iC,h.qf.Wf.Sq);h.g.zk={};h.g.zk.OD=0;h.g.zk.Qw=function(){return"blockly-"+(h.g.zk.OD++).toString(36)};h.g.W={};h.g.W.Bp="categoryToolbox";h.g.W.Gu="flyoutToolbox";h.g.W.bb={mg:0,Ki:1,Gb:2,Cc:3};h.g.W.mw=function(a){if(!a)return null;if(a instanceof Element||"string"==typeof a)a=h.g.W.ft(a),a=h.g.W.bC(a);h.g.W.eF(a);return a};h.g.W.eF=function(a){var c=a.kind;a=a.contents;if(c&&c!=h.g.W.Gu&&c!=h.g.W.Bp)throw Error("Invalid toolbox kind "+c+". Please supply either "+h.g.W.Gu+" or "+h.g.W.Bp);if(!a)throw Error("Toolbox must have a contents attribute.");};
h.g.W.lw=function(a){return a?a.contents?a.contents:Array.isArray(a)&&0<a.length&&!a[0].nodeType?a:h.g.W.cu(a):[]};h.g.W.Dl=function(a){if(!a)return!1;var c=a.kind;return c?c==h.g.W.Bp:!!a.contents.filter(function(d){return"CATEGORY"==d.kind.toUpperCase()}).length};h.g.W.DJ=function(a){return a&&a.contents?!!a.contents.filter(function(c){return"CATEGORY"==c.kind.toUpperCase()}).length:!1};h.g.W.bC=function(a){var c={contents:h.g.W.cu(a)};a instanceof Node&&h.g.W.Nv(a,c);return c};
h.g.W.cu=function(a){var c=[],d=a.childNodes;d||(d=a);a=0;for(var e;e=d[a];a++)if(e.tagName){var f={},g=e.tagName.toUpperCase();f.kind=g;"BLOCK"==g?f.blockxml=e:e.childNodes&&0<e.childNodes.length&&(f.contents=h.g.W.cu(e));h.g.W.Nv(e,f);c.push(f)}return c};h.g.W.Nv=function(a,c){for(var d=0;d<a.attributes.length;d++){var e=a.attributes[d];-1<e.nodeName.indexOf("css-")?(c.cssconfig=c.cssconfig||{},c.cssconfig[e.nodeName.replace("css-","")]=e.value):c[e.nodeName]=e.value}};
h.g.W.ft=function(a){if(a){if("string"!=typeof a&&(h.g.userAgent.Yd&&a.outerHTML?a=a.outerHTML:a instanceof Element||(a=null)),"string"==typeof a&&(a=h.I.ue(a),"xml"!=a.nodeName.toLowerCase()))throw TypeError("Toolbox should be an <xml> document.");}else a=null;return a};h.ed=function(a){var c=!!a.readOnly;if(c)var d=null,e=!1,f=!1,g=!1,k=!1,l=!1,m=!1;else{d=h.g.W.mw(a.toolbox);e=h.g.W.Dl(d);f=a.trashcan;void 0===f&&(f=e);var n=a.maxTrashcanContents;f?void 0===n&&(n=32):n=0;g=a.collapse;void 0===g&&(g=e);k=a.comments;void 0===k&&(k=e);l=a.disable;void 0===l&&(l=e);m=a.sounds;void 0===m&&(m=!0)}var p=!!a.rtl;var q="end"!==a.toolboxPosition==p?h.g.W.bb.Cc:h.g.W.bb.Gb;var B=a.css;void 0===B&&(B=!0);var t="https://blockly-demo.appspot.com/static/media/";a.media?t=a.media:
a.path&&(t=a.path+"media/");var u=void 0===a.oneBasedIndex?!0:!!a.oneBasedIndex,w=a.renderer||"geras",I=a.plugins||{};this.J=p;this.Vo=u;this.collapse=g;this.UB=k;this.disable=l;this.readOnly=c;this.Hs=a.maxBlocks||Infinity;this.Ko=a.maxInstances;this.$o=t;this.Dl=e;this.uc=h.ed.$D(a,e);this.hx=f;this.Lo=n;this.hD=m;this.fD=B;this.di=d;this.ax=h.ed.ZD(a);this.yb=h.ed.bE(a);this.qd=q;this.WE=h.ed.aE(a);this.xt=w;this.yt=a.rendererOverrides;this.$r=null;this.ad=a.parentWorkspace;this.plugins=I};
h.vF=function(){};
h.ed.$D=function(a,c){var d=a.move||{},e={};void 0===d.scrollbars&&void 0===a.scrollbars?e.scrollbars=c:"object"==typeof d.scrollbars?(e.scrollbars={},e.scrollbars.Gl=!!d.scrollbars.horizontal,e.scrollbars.vertical=!!d.scrollbars.vertical,e.scrollbars.Gl&&e.scrollbars.vertical?e.scrollbars=!0:e.scrollbars.Gl||e.scrollbars.vertical||(e.scrollbars=!1)):e.scrollbars=!!d.scrollbars||!!a.scrollbars;e.ek=e.scrollbars&&void 0!==d.wheel?!!d.wheel:"object"==typeof e.scrollbars;e.Ff=e.scrollbars?void 0===d.drag?
!0:!!d.drag:!1;return e};h.ed.bE=function(a){a=a.zoom||{};var c={};c.controls=void 0===a.controls?!1:!!a.controls;c.ek=void 0===a.wheel?!1:!!a.wheel;c.RE=void 0===a.startScale?1:Number(a.startScale);c.Sl=void 0===a.maxScale?3:Number(a.maxScale);c.Ul=void 0===a.minScale?.3:Number(a.minScale);c.DE=void 0===a.scaleSpeed?1.2:Number(a.scaleSpeed);c.$x=void 0===a.pinch?c.ek||c.controls:!!a.pinch;return c};
h.ed.ZD=function(a){a=a.grid||{};var c={};c.spacing=Number(a.spacing)||0;c.tb=a.colour||"#888";c.length=void 0===a.length?1:Number(a.length);c.hK=0<c.spacing&&!!a.snap;return c};h.ed.aE=function(a){a=a.theme||h.qf.Wf;return"string"==typeof a?h.u.Vr(h.u.R.oq,a):a instanceof h.Bh?a:h.Bh.jC(a.name||"builtin"+h.g.zk.Qw(),a)};h.ed.ft=function(a){h.g.wj.warn("Blockly.Options.parseToolboxTree","September 2020","September 2021","Blockly.utils.toolbox.parseToolboxTree");return h.g.W.ft(a)};h.h.rf=function(a){h.h.rf.v.constructor.call(this);this.jh=(this.ld="undefined"==typeof a)?"":a.fc();this.Wb=this.ld?"":a.B.id};h.g.object.U(h.h.rf,h.h.Abstract);h.h.rf.prototype.pa=function(){var a=h.h.rf.v.pa.call(this);a.varId=this.jh;return a};h.h.rf.prototype.aa=function(a){h.h.rf.v.pa.call(this);this.jh=a.varId};h.h.sf=function(a){h.h.sf.v.constructor.call(this,a);a&&(this.Gi=a.type,this.Fi=a.name)};h.g.object.U(h.h.sf,h.h.rf);h.h.sf.prototype.type=h.h.Kk;
h.h.sf.prototype.pa=function(){var a=h.h.sf.v.pa.call(this);a.varType=this.Gi;a.varName=this.Fi;return a};h.h.sf.prototype.aa=function(a){h.h.sf.v.aa.call(this,a);this.Gi=a.varType;this.Fi=a.varName};h.h.sf.prototype.run=function(a){var c=z(this);a?c.fe(this.Fi,this.Gi,this.jh):c.vj(this.jh)};h.h.tf=function(a){h.h.tf.v.constructor.call(this,a);a&&(this.Gi=a.type,this.Fi=a.name)};h.g.object.U(h.h.tf,h.h.rf);h.h.tf.prototype.type=h.h.xn;
h.h.tf.prototype.pa=function(){var a=h.h.tf.v.pa.call(this);a.varType=this.Gi;a.varName=this.Fi;return a};h.h.tf.prototype.aa=function(a){h.h.tf.v.aa.call(this,a);this.Gi=a.varType;this.Fi=a.varName};h.h.tf.prototype.run=function(a){var c=z(this);a?c.vj(this.jh):c.fe(this.Fi,this.Gi,this.jh)};h.h.uf=function(a,c){h.h.uf.v.constructor.call(this,a);a&&(this.Qs=a.name,this.Ms="undefined"==typeof c?"":c)};h.g.object.U(h.h.uf,h.h.rf);h.h.uf.prototype.type=h.h.wq;
h.h.uf.prototype.pa=function(){var a=h.h.uf.v.pa.call(this);a.oldName=this.Qs;a.newName=this.Ms;return a};h.h.uf.prototype.aa=function(a){h.h.uf.v.aa.call(this,a);this.Qs=a.oldName;this.Ms=a.newName};h.h.uf.prototype.run=function(a){var c=z(this);a?c.si(this.jh,this.Ms):c.si(this.jh,this.Qs)};h.u.register(h.u.R.Fb,h.h.Kk,h.h.sf);h.u.register(h.u.R.Fb,h.h.xn,h.h.tf);h.u.register(h.u.R.Fb,h.h.wq,h.h.uf);h.xq=function(a){this.Oa=Object.create(null);this.B=a};b=h.xq.prototype;b.clear=function(){this.Oa=Object.create(null)};b.oy=function(a,c){var d=this.Cg(c,a.type),e=D(this.B,!1);h.h.ta(!0);try{if(d&&d.fc()!=a.fc()){var f=a.type;c!=d.name&&gb(d,c,e);for(c=0;c<e.length;c++){d=void 0;for(var g=0;d=e[c].V[g];g++)for(var k=0;d.fb[k];k++);}h.h.Fa(new (h.h.get(h.h.xn))(a));this.Oa[f].splice(this.lo(f).indexOf(a),1)}else gb(a,c,e)}finally{h.h.ta(!1)}};
b.si=function(a,c){var d=this.Dg(a);if(!d)throw Error("Tried to rename a variable that didn't exist. ID: "+a);this.oy(d,c)};function gb(a,c,d){h.h.Fa(new (h.h.get(h.h.wq))(a,c));a.name=c;for(a=0;a<d.length;a++)for(var e=d[a],f=0;c=e.V[f];f++)for(var g=0;c.fb[g];g++);}
b.fe=function(a,c,d){var e=this.Cg(a,c);if(e){if(d&&e.fc()!=d)throw Error('Variable "'+a+'" is already in use and its id is "'+e.fc()+'" which conflicts with the passed in id, "'+d+'".');return e}if(d&&this.Dg(d))throw Error('Variable id, "'+d+'", is already in use.');e=d||h.g.Se();c=c||"";e=new h.yn(this.B,a,c,e);a=this.Oa[c]||[];a.push(e);delete this.Oa[c];this.Oa[c]=a;return e};
b.vj=function(a){var c=this.Dg(a);if(c){var d=c.name,e=this.Zr(a);a=0;for(var f;f=e[a];a++)if("procedures_defnoreturn"==f.type||"procedures_defreturn"==f.type){a=hb(f,"NAME");d=h.M.CANNOT_DELETE_VARIABLE_PROCEDURE.replace("%1",d).replace("%2",a);h.alert(d);return}var g=this;1<e.length?(d=h.M.DELETE_VARIABLE_CONFIRMATION.replace("%1",String(e.length)).replace("%2",d),h.confirm(d,function(k){k&&c&&ib(g,c,e)})):ib(g,c,e)}else console.warn("Can't delete non-existent variable: "+a)};
function ib(a,c,d){var e=h.h.Ub();e||h.h.ta(!0);try{for(var f=0;f<d.length;f++)d[f].H(!0);var g=a.Oa[c.type];a=0;for(var k;k=g[a];a++)if(k.fc()==c.fc()){g.splice(a,1);h.h.Fa(new (h.h.get(h.h.xn))(c));break}}finally{e||h.h.ta(!1)}}b.Cg=function(a,c){if(c=this.Oa[c||""])for(var d=0,e;e=c[d];d++)if(h.vd.Gf(e.name,a))return e;return null};b.Dg=function(a){for(var c=Object.keys(this.Oa),d=0;d<c.length;d++)for(var e=c[d],f=0,g;g=this.Oa[e][f];f++)if(g.fc()==a)return g;return null};
b.lo=function(a){return(a=this.Oa[a||""])?a.slice():[]};b.Nh=function(){var a=[],c;for(c in this.Oa)a=a.concat(this.Oa[c]);return a};b.Mr=function(){var a=[],c;for(c in this.Oa)for(var d=this.Oa[c],e=0,f;f=d[e];e++)a.push(f.name);return a};b.Zr=function(a){for(var c=[],d=D(this.B,!1),e=0;e<d.length;e++){var f=la(d[e]);if(f)for(var g=0;g<f.length;g++)f[g].fc()==a&&c.push(d[e])}return c};h.rb=function(a){this.id=h.g.Se();h.rb.Nk[this.id]=this;this.options=a||new h.ed({});this.J=!!this.options.J;this.qd=this.options.qd;this.Bf=new (h.u.Oh(h.u.R.uu,this.options,!0))(this);this.zm=[];this.np=[];this.Nn=Object.create(null);this.Mc=[];this.Ei=[];this.fm=[];this.Hq=Object.create(null);this.Uf=Object.create(null);this.Oa=new h.xq(this);this.Sj=null};b=h.rb.prototype;b.ua=!1;b.ps=!1;b.Xu=1024;b.Qn=null;b.H=function(){this.Mc.length=0;this.clear();delete h.rb.Nk[this.id]};h.rb.qv=3;b=h.rb.prototype;
b.df=function(a,c){a=a.Za();c=c.Za();return a.y+h.rb.prototype.df.offset*a.x-(c.y+h.rb.prototype.df.offset*c.x)};b.Bn=function(a){this.zm.push(a)};b.cp=function(a){if(!h.g.Dn(this.zm,a))throw Error("Block not present in workspace's list of top-most blocks.");};b.vb=function(a){var c=[].concat(this.zm);a&&1<c.length&&(this.df.offset=Math.sin(h.g.Jd.St(h.rb.qv)),this.J&&(this.df.offset*=-1),c.sort(this.df));return c};function jb(a,c){return a.Uf[c]?a.Uf[c].slice(0):[]}
function D(a,c){if(c){a=a.vb(!0);c=[];for(var d=0;d<a.length;d++)c.push.apply(c,x(a[d],!0))}else for(c=a.vb(!1),d=0;d<c.length;d++)c.push.apply(c,ea(c[d],!1));return c.filter(function(e){return!e.md()})}b.clear=function(){this.ps=!0;try{var a=h.h.Ub();for(a||h.h.ta(!0);this.zm.length;)this.zm[0].H(!1);for(;this.np.length;)this.np[this.np.length-1].H(!1);a||h.h.ta(!1);this.Oa.clear();this.Sj&&this.Sj.clear()}finally{this.ps=!1}};b.si=function(a,c){this.Oa.si(a,c)};
b.fe=function(a,c,d){return this.Oa.fe(a,c,d)};b.Zr=function(a){return this.Oa.Zr(a)};b.vj=function(a){this.Oa.vj(a)};b.Cg=function(a,c){return this.Oa.Cg(a,c)};b.Dg=function(a){return this.Oa.Dg(a)};b.lo=function(a){return this.Oa.lo(a)};b.Nh=function(){return this.Oa.Nh()};b.Mr=function(){return this.Oa.Mr()};b.Bl=function(){return 0};b.Ls=function(a,c){return new h.Li(this,a,c)};function kb(a){return isNaN(a.options.Hs)?Infinity:a.options.Hs-D(a,!1).length}
function lb(a,c){if(!mb(a))return!0;var d=0,e;for(e in c){if(c[e]>(a.options.Ko?(void 0!==a.options.Ko[e]?a.options.Ko[e]:Infinity)-jb(a,e).length:Infinity))return!1;d+=c[e]}return d>kb(a)?!1:!0}function mb(a){return Infinity!=a.options.Hs||!!a.options.Ko}
function nb(a,c){var d=c?a.fm:a.Ei;a=c?a.Ei:a.fm;var e=d.pop();if(e){for(var f=[e];d.length&&e.group&&e.group==d[d.length-1].group;)f.push(d.pop());for(d=0;e=f[d];d++)a.push(e);f=h.h.filter(f,c);h.h.Ma=!1;try{for(d=0;e=f[d];d++)e.run(c)}finally{h.h.Ma=!0}}}function E(a,c){a.Mc.push(c)}function ob(a,c){h.g.Dn(a.Mc,c)}b.Jc=function(a){return this.Hq[a]||null};b.Jt=function(a){this.Oa=a};h.rb.Nk=Object.create(null);h.rb.wl=function(a){return h.rb.Nk[a]||null};
h.rb.getAll=function(){var a=[],c;for(c in h.rb.Nk)a.push(h.rb.Nk[c]);return a};h.wa=function(a,c,d,e,f,g){this.m=a;this.Cf=c;this.KE=d;this.Ys=this.Xs=this.Jx=this.sy=null;this.Pe=!1;d=h.wa.dz;this.m.J&&(d=-d);this.AB=h.g.Jd.St(d);a.Rf.appendChild(this.$k(c,!(!f||!g)));this.Mb=e;this.py&&pb(this);f&&g||(a=this.Cf.getBBox(),f=a.width+2*h.wa.ye,g=a.height+2*h.wa.ye);qb(this,f,g);pb(this);rb(this);this.py=!0};h.wa.ye=6;h.wa.ez=5;h.wa.dz=20;h.wa.gu=4;h.wa.az=8;h.wa.Vg=null;h.wa.Ug=null;
h.wa.Wt=function(){h.wa.Vg&&(h.N.xb(h.wa.Vg),h.wa.Vg=null);h.wa.Ug&&(h.N.xb(h.wa.Ug),h.wa.Ug=null)};h.wa.FB=function(){h.Touch.Kn();h.wa.Wt()};b=h.wa.prototype;b.py=!1;b.Mb=null;b.bf=0;b.ah=0;b.kb=0;b.Kc=0;b.Fq=!0;
b.$k=function(a,c){this.zd=h.g.j.L(h.g.F.Pc,{},null);var d={filter:"url(#"+this.m.ob.ea().ao+")"};h.g.userAgent.nA&&(d={});d=h.g.j.L(h.g.F.Pc,d,this.zd);this.Uv=h.g.j.L(h.g.F.Ge,{},d);this.Gn=h.g.j.L(h.g.F.xd,{"class":"blocklyDraggable",x:0,y:0,rx:h.wa.ye,ry:h.wa.ye},d);c?(this.Pf=h.g.j.L(h.g.F.Pc,{"class":this.m.J?"blocklyResizeSW":"blocklyResizeSE"},this.zd),c=2*h.wa.ye,h.g.j.L(h.g.F.LA,{points:"0,x x,x x,0".replace(/x/g,c.toString())},this.Pf),h.g.j.L(h.g.F.Bk,{"class":"blocklyResizeLine",x1:c/
3,y1:c-1,x2:c-1,y2:c/3},this.Pf),h.g.j.L(h.g.F.Bk,{"class":"blocklyResizeLine",x1:2*c/3,y1:c-1,x2:c-1,y2:2*c/3},this.Pf)):this.Pf=null;this.m.options.readOnly||(this.Xs=h.N.Aa(this.Gn,"mousedown",this,this.EB),this.Pf&&(this.Ys=h.N.Aa(this.Pf,"mousedown",this,this.AE)));this.zd.appendChild(a);return this.zd};b.qa=function(){return this.zd};
b.EB=function(a){var c=this.m.Ag(a);if(c){if(c.Th)throw Error("Tried to call gesture.handleBubbleStart, but the gesture had already been started.");c.od||(c.od=this);c.Kd=a}};b.nm=function(){};b.Ye=function(){return!1};b.Dt=function(){};
b.AE=function(a){var c=this.zd.parentNode;c.lastChild!==this.zd&&c.appendChild(this.zd);h.wa.Wt();h.g.Ml(a)||(this.m.rm(a,new h.g.S(this.m.J?-this.kb:this.kb,this.Kc)),h.wa.Vg=h.N.Aa(document,"mouseup",this,h.wa.FB),h.wa.Ug=h.N.Aa(document,"mousemove",this,this.BE),h.hc());a.stopPropagation()};b.BE=function(a){this.Fq=!1;var c=this.m;a=h.g.Vl(a,v(c),Xa(c));a.x/=c.scale;a.y/=c.scale;c=h.g.S.sum(c.zw,a);qb(this,this.m.J?-c.x:c.x,c.y);this.m.J&&pb(this)};
function sb(a,c,d){var e=a.m.J?a.Mb.x-c.x-a.kb:c.x+a.Mb.x;c=c.y+a.Mb.y;return Math.max(0,Math.min(1,(Math.min(e+a.kb,d.left+d.width)-Math.max(e,d.left))*(Math.min(c+a.Kc,d.top+d.height)-Math.max(c,d.top))/(a.kb*a.Kc)))}function pb(a){var c=a.Mb.x;c=a.m.J?c-(a.bf+a.kb):c+a.bf;a.moveTo(c,a.ah+a.Mb.y)}b.moveTo=function(a,c){this.zd.setAttribute("transform","translate("+a+","+c+")")};b.dh=function(a){!a&&this.Jx&&this.Jx()};
function qb(a,c,d){var e=2*h.wa.ye;c=Math.max(c,e+45);d=Math.max(d,e+20);a.kb=c;a.Kc=d;a.Gn.setAttribute("width",c);a.Gn.setAttribute("height",d);a.Pf&&(a.m.J?a.Pf.setAttribute("transform","translate("+2*h.wa.ye+","+(d-e)+") scale(-1 1)"):a.Pf.setAttribute("transform","translate("+(c-e)+","+(d-e)+")"));if(a.Fq){c=tb(a.m.$c,!0);d=-a.kb/4;if(!(a.kb>c.width)){if(a.m.J){e=a.Mb.x-d;var f=e-a.kb;var g=c.left+c.width,k=c.left+h.Ja.ic/a.m.scale}else f=d+a.Mb.x,e=f+a.kb,k=c.left,g=c.left+c.width-h.Ja.ic/a.m.scale;
a.m.J?f<k?d=-(k-a.Mb.x+a.kb):e>g&&(d=-(g-a.Mb.x)):f<k?d=k-a.Mb.x:e>g&&(d=g-a.Mb.x-a.kb)}f=d;d=-a.Kc/4;if(!(a.Kc>c.height)){e=a.Mb.y+d;g=e+a.Kc;k=c.top;var l=c.top+c.height-h.Ja.ic/a.m.scale,m=a.Mb.y;e<k?d=k-m:g>l&&(d=l-m-a.Kc)}k=d;g=a.KE.getBBox();d={x:f,y:-a.Kc-a.m.ob.ea().Ck};e={x:-a.kb-30,y:k};k={x:g.width,y:k};l={x:f,y:g.height};f=g.width<g.height?k:l;g=g.width<g.height?l:k;k=sb(a,d,c);l=sb(a,e,c);m=sb(a,f,c);c=Math.max(k,l,m,sb(a,g,c));k==c?(a.bf=d.x,a.ah=d.y):l==c?(a.bf=e.x,a.ah=e.y):m==c?(a.bf=
f.x,a.ah=f.y):(a.bf=g.x,a.ah=g.y)}pb(a);rb(a);a.sy&&a.sy()}
function rb(a){var c=[],d=a.kb/2,e=a.Kc/2,f=-a.bf,g=-a.ah;if(d==f&&e==g)c.push("M "+d+","+e);else{g-=e;f-=d;a.m.J&&(f*=-1);var k=Math.sqrt(g*g+f*f),l=Math.acos(f/k);0>g&&(l=2*Math.PI-l);var m=l+Math.PI/2;m>2*Math.PI&&(m-=2*Math.PI);var n=Math.sin(m),p=Math.cos(m),q=new h.g.Qc(a.kb,a.Kc);m=(q.width+q.height)/h.wa.ez;m=Math.min(m,q.width,q.height)/4;q=1-h.wa.az/k;f=d+q*f;g=e+q*g;q=d+m*p;var B=e+m*n;d-=m*p;e-=m*n;n=l+a.AB;n>2*Math.PI&&(n-=2*Math.PI);l=Math.sin(n)*k/h.wa.gu;k=Math.cos(n)*k/h.wa.gu;c.push("M"+
q+","+B);c.push("C"+(q+k)+","+(B+l)+" "+f+","+g+" "+f+","+g);c.push("C"+f+","+g+" "+(d+k)+","+(e+l)+" "+d+","+e)}c.push("z");a.Uv.setAttribute("d",c.join(" "))}b.re=function(a){this.Gn.setAttribute("fill",a);this.Uv.setAttribute("fill",a)};b.H=function(){this.Xs&&h.N.xb(this.Xs);this.Ys&&h.N.xb(this.Ys);h.wa.Wt();h.g.j.removeNode(this.zd);this.Pe=!0};b.Ks=function(a,c){a?a.Di(c.x,c.y):this.moveTo(c.x,c.y);this.bf=this.m.J?this.Mb.x-c.x-this.kb:c.x-this.Mb.x;this.ah=c.y-this.Mb.y;rb(this)};
b.Za=function(){return new h.g.S(this.m.J?-this.bf+this.Mb.x-this.kb:this.Mb.x+this.bf,this.Mb.y+this.ah)};h.wa.ue=function(a){var c=h.g.j.L(h.g.F.zv,{"class":"blocklyText blocklyBubbleText blocklyNoPointerEvents",y:h.wa.ye},null);a=a.split("\n");for(var d=0;d<a.length;d++){var e=h.g.j.L(h.g.F.Bv,{dy:"1em",x:h.wa.ye},c),f=document.createTextNode(a[d]);e.appendChild(f)}return c};
h.wa.jJ=function(a,c,d){d=new h.wa(c.B,a,c.zb.Kb,d,null,null);d.zd.dataset&&(d.zd.dataset.blockId=c.id);if(c.J){c=a.getBBox().width;for(var e=0,f;f=a.childNodes[e];e++)f.setAttribute("text-anchor","end"),f.setAttribute("x",c+h.wa.ye)}return d};h.h.hf=function(a){this.Le=(this.ld="undefined"==typeof a)?"":a.id;this.Wb=this.ld?"":a.B.id;this.group=h.h.Ub();this.Ma=h.h.Ma};h.g.object.U(h.h.hf,h.h.Abstract);h.h.hf.prototype.pa=function(){var a=h.h.hf.v.pa.call(this);this.Le&&(a.commentId=this.Le);return a};h.h.hf.prototype.aa=function(a){h.h.hf.v.aa.call(this,a);this.Le=a.commentId};h.h.Mi=function(a,c,d){h.h.Mi.v.constructor.call(this,a);a&&(this.Ro="undefined"==typeof c?"":c,this.Qo="undefined"==typeof d?"":d)};h.g.object.U(h.h.Mi,h.h.hf);
b=h.h.Mi.prototype;b.type=h.h.qu;b.pa=function(){var a=h.h.Mi.v.pa.call(this);a.oldContents=this.Ro;a.newContents=this.Qo;return a};b.aa=function(a){h.h.Mi.v.aa.call(this,a);this.Ro=a.oldContents;this.Qo=a.newContents};b.Nj=function(){return this.Ro==this.Qo};b.run=function(a){var c;(c=z(this).Nn[this.Le]||null)?c.cK(a?this.Qo:this.Ro):console.warn("Can't change non-existent comment: "+this.Le)};h.h.jf=function(a){h.h.jf.v.constructor.call(this,a);a&&(this.xml=a.Gy())};h.g.object.U(h.h.jf,h.h.hf);
h.h.jf.prototype.type=h.h.Tm;h.h.jf.prototype.pa=function(){var a=h.h.jf.v.pa.call(this);a.xml=h.I.Dd(this.xml);return a};h.h.jf.prototype.aa=function(a){h.h.jf.v.aa.call(this,a);this.xml=h.I.ue(a.xml)};h.h.jf.prototype.run=function(a){h.h.vu(this,a)};h.h.vu=function(a,c){var d=z(a);c?(c=h.g.xml.createElement("xml"),c.appendChild(a.xml),h.I.Lh(c,d)):(d=d.Nn[a.Le]||null)?d.H(!1,!1):console.warn("Can't uncreate non-existent comment: "+a.Le)};
h.h.kf=function(a){h.h.kf.v.constructor.call(this,a);a&&(this.xml=a.Gy())};h.g.object.U(h.h.kf,h.h.hf);h.h.kf.prototype.type=h.h.su;h.h.kf.prototype.pa=function(){return h.h.kf.v.pa.call(this)};h.h.kf.prototype.aa=function(a){h.h.kf.v.aa.call(this,a)};h.h.kf.prototype.run=function(a){h.h.vu(this,!a)};h.h.Ni=function(a){h.h.Ni.v.constructor.call(this,a);a&&(this.Xq=a,this.oi=a.$w(),this.ki=null)};h.g.object.U(h.h.Ni,h.h.hf);b=h.h.Ni.prototype;
b.ri=function(){if(!this.Xq)throw Error("Tried to record the new position of a comment on the same event twice.");this.ki=this.Xq.$w();this.Xq=null};b.type=h.h.lk;b.pa=function(){var a=h.h.Ni.v.pa.call(this);this.oi&&(a.oldCoordinate=Math.round(this.oi.x)+","+Math.round(this.oi.y));this.ki&&(a.newCoordinate=Math.round(this.ki.x)+","+Math.round(this.ki.y));return a};
b.aa=function(a){h.h.Ni.v.aa.call(this,a);if(a.oldCoordinate){var c=a.oldCoordinate.split(",");this.oi=new h.g.S(Number(c[0]),Number(c[1]))}a.newCoordinate&&(c=a.newCoordinate.split(","),this.ki=new h.g.S(Number(c[0]),Number(c[1])))};b.Nj=function(){return h.g.S.Gf(this.oi,this.ki)};b.run=function(a){var c;if(c=z(this).Nn[this.Le]||null){a=a?this.ki:this.oi;var d=c.$w();c.moveBy(a.x-d.x,a.y-d.y)}else console.warn("Can't move non-existent comment: "+this.Le)};h.u.register(h.u.R.Fb,h.h.Tm,h.h.jf);
h.u.register(h.u.R.Fb,h.h.qu,h.h.Mi);h.u.register(h.u.R.Fb,h.h.lk,h.h.Ni);h.u.register(h.u.R.Fb,h.h.su,h.h.kf);h.ik=function(a,c){this.qc=a;this.m=c;this.ec=null;this.Hm=!1;this.ef=this.qc.Za();this.Mh=h.g.Yh()&&c.gd?c.gd:null};h.ik.prototype.H=function(){this.Mh=this.m=this.qc=null};function ub(a,c,d){d=a.Rj(d);d=h.g.S.sum(a.ef,d);a.qc.Ks(a.Mh,d);d=a.ec;a.ec=Fa(a.m,c);c=a.Hm;a.Hm=a.Lt(a.ec);c!=a.Hm&&a.qc.Dt(a.Hm);a.ec!==d&&d&&d.Ss();a.ec&&a.ec.Ts()}h.ik.prototype.Lt=function(a){return a&&sa(this.m.Af,a.id)?Ba(a,this.qc,!1):!1};
function vb(a,c,d){ub(a,c,d);c=a.Rj(d);c=h.g.S.sum(a.ef,c);a.qc.moveTo(c.x,c.y);a.ec&&a.ec.Us();a.Hm?(a.ol(),a.qc.H(!1,!0)):(a.Mh&&a.Mh.Jn(a.m.Rf),a.qc.dh&&a.qc.dh(!1),a.ol());a.m.Yb(!0);h.h.ta(!1)}h.ik.prototype.ol=function(){if(this.qc.EJ){var a=new (h.h.get(h.h.lk))(this.qc);a.oi=this.ef;a.ri();h.h.Fa(a)}};h.ik.prototype.Rj=function(a){a=new h.g.S(a.x/this.m.scale,a.y/this.m.scale);this.m.zo&&a.scale(1/this.m.options.ad.scale);return a};h.h.Xf=function(a,c,d){h.h.Xf.v.constructor.call(this,a?a.B.id:c);this.hb=a?a.id:null;this.Ey=d};h.g.object.U(h.h.Xf,h.h.$d);h.h.Xf.prototype.type=h.h.kk;h.h.Xf.prototype.pa=function(){var a=h.h.Xf.v.pa.call(this);a.targetType=this.Ey;this.hb&&(a.blockId=this.hb);return a};h.h.Xf.prototype.aa=function(a){h.h.Xf.v.aa.call(this,a);this.Ey=a.targetType;this.hb=a.blockId};h.u.register(h.u.R.Fb,h.h.kk,h.h.Xf);h.G={};h.G.visible=!1;h.G.lj=!1;h.G.pA=50;h.G.Hx=0;h.G.pm=0;h.G.us=0;h.G.vs=0;h.G.eb=null;h.G.bm=null;h.G.av=0;h.G.bv=10;h.G.NA=10;h.G.dA=750;h.G.Up=5;h.G.ab=null;h.G.WC=function(){var a=h.G.Zw(h.G.eb);if(a){for(a=a.Sd;"function"==typeof a;)a=a();if("string"!=typeof a)throw Error("Tooltip function must return a string.");return a}return""};h.G.Zw=function(a){for(;a&&a.Sd;){if("string"==typeof a.Sd||"function"==typeof a.Sd)return a;a=a.Sd}return null};
h.G.Va=function(){h.G.ab||(h.G.ab=document.createElement("div"),h.G.ab.className="blocklyTooltipDiv",(h.Wo||document.body).appendChild(h.G.ab))};h.G.kj=function(a){a.HD=h.N.bind(a,"mouseover",null,h.G.WD);a.FD=h.N.bind(a,"mouseout",null,h.G.VD);a.addEventListener("mousemove",h.G.Xx,!1)};h.G.Xt=function(a){a&&(h.N.xb(a.HD),h.N.xb(a.FD),a.removeEventListener("mousemove",h.G.Xx))};h.G.WD=function(a){h.G.lj||(a=h.G.Zw(a.currentTarget),h.G.eb!=a&&(h.G.$a(),h.G.bm=null,h.G.eb=a),clearTimeout(h.G.Hx))};
h.G.VD=function(){h.G.lj||(h.G.Hx=setTimeout(function(){h.G.eb=null;h.G.bm=null;h.G.$a()},1),clearTimeout(h.G.pm))};h.G.Xx=function(a){if(h.G.eb&&h.G.eb.Sd&&!h.G.lj)if(h.G.visible){var c=h.G.us-a.pageX;a=h.G.vs-a.pageY;Math.sqrt(c*c+a*a)>h.G.NA&&h.G.$a()}else h.G.bm!=h.G.eb&&(clearTimeout(h.G.pm),h.G.us=a.pageX,h.G.vs=a.pageY,h.G.pm=setTimeout(h.G.ME,h.G.dA))};h.G.H=function(){h.G.eb=null;h.G.bm=null;h.G.$a()};
h.G.$a=function(){h.G.visible&&(h.G.visible=!1,h.G.ab&&(h.G.ab.style.display="none"));h.G.pm&&clearTimeout(h.G.pm)};h.G.block=function(){h.G.$a();h.G.lj=!0};h.G.dF=function(){h.G.lj=!1};
h.G.ME=function(){if(!h.G.lj&&(h.G.bm=h.G.eb,h.G.ab)){h.G.ab.textContent="";var a=h.G.WC();a=h.g.Qa.Vy(a,h.G.pA);a=a.split("\n");for(var c=0;c<a.length;c++){var d=document.createElement("div");d.appendChild(document.createTextNode(a[c]));h.G.ab.appendChild(d)}a=h.G.eb.J;c=document.documentElement.clientWidth;d=document.documentElement.clientHeight;h.G.ab.style.direction=a?"rtl":"ltr";h.G.ab.style.display="block";h.G.visible=!0;var e=h.G.us;e=a?e-(h.G.av+h.G.ab.offsetWidth):e+h.G.av;var f=h.G.vs+h.G.bv;
f+h.G.ab.offsetHeight>d+window.scrollY&&(f-=h.G.ab.offsetHeight+2*h.G.bv);a?e=Math.max(h.G.Up-window.scrollX,e):e+h.G.ab.offsetWidth>c+window.scrollX-2*h.G.Up&&(e=c-h.G.ab.offsetWidth-2*h.G.Up);h.G.ab.style.top=f+"px";h.G.ab.style.left=e+"px"}};h.Ok=function(a){this.m=a;this.nx=wb(this.m);this.Ry=xb(this.m);this.SE=new h.g.S(a.scrollX,a.scrollY)};h.Ok.prototype.H=function(){this.m=null};h.Ok.prototype.rm=function(){h.selected&&yb(h.selected);Ya(this.m)};h.Ok.prototype.jl=function(a){this.Ff(a);Za(this.m)};
h.Ok.prototype.Ff=function(a){a=h.g.S.sum(this.SE,a);if(this.nx&&this.Ry)this.m.scroll(a.x,a.y);else if(this.nx)this.m.scroll(a.x,this.m.scrollY);else if(this.Ry)this.m.scroll(this.m.scrollX,a.y);else throw new TypeError("Invalid state.");};h.Ee=function(a,c){this.Gx=null;this.Hc=new h.g.S(0,0);this.Jb=this.kc=this.Zj=this.$j=this.od=null;this.cr=c;this.Il=this.$h=this.Jl=this.Sh=!1;this.Kd=a;this.ya=this.Ii=this.Ke=this.sg=this.Uo=this.To=null;this.uo=this.Th=this.Wv=!1;this.ix=!h.Dz};b=h.Ee.prototype;b.H=function(){h.Touch.Kn();h.G.dF();this.cr.pc=null;this.To&&h.N.xb(this.To);this.Uo&&h.N.xb(this.Uo);this.Ke&&this.Ke.H();this.Ii&&this.Ii.H();this.sg&&this.sg.H()};
function zb(a,c){a.Hc=h.g.S.fl(new h.g.S(c.clientX,c.clientY),a.Gx);if(a.Sh)var d=!1;else a.Sh=h.g.S.BD(a.Hc)>(a.ya?h.Xz:h.Cz),d=a.Sh;if(d){if(a.Wv)throw Error("updateIsDragging_ should only be called once per gesture.");a.Wv=!0;a.od?(a.Il=!0,a.sg=new h.ik(a.od,a.Jb),d=a.sg,h.h.Ub()||h.h.ta(!0),d.m.Yb(!1),d.qc.Fq=!1,d.Mh&&(d.qc.moveTo(0,0),d.Mh.Di(d.ef.x,d.ef.y),Ea(d.Mh,d.qc.qa())),d.qc.dh&&d.qc.dh(!0),ub(a.sg,a.Kd,a.Hc),d=!0):d=!1;if(!d){if(a.kc){if(a.ya){if(a.kc&&a.kc.isEnabled()){if(!(d=!Ab(a.ya))){d=
a.Hc;d=Math.atan2(d.y,d.x)/Math.PI*180;var e=a.ya.sC;d=d<e&&d>-e||d<-180+e||d>180-e?!0:!1}d?(a.Jb=a.ya.Da,Bb(a.Jb),h.h.Ub()||h.h.ta(!0),a.Zj=null,a.kc=Cb(a.ya,a.kc),a.kc.select(),d=!0):d=!1}else d=!1;a.$h=d}else a.kc.rc()&&(a.$h=!0);a.$h?(a.Ke=new (h.u.Oh(h.u.R.lu,a.cr.options,!0))(a.kc,a.Jb),a.Ke.rm(a.Hc,a.ix),a.Ke.Ff(a.Kd,a.Hc),d=!0):d=!1}else d=!1;if(d=!d)if(a.ya)d=Ab(a.ya);else if(d=a.Jb)d=a.Jb,d=d.options.uc&&d.options.uc.Ff;d&&(a.Ii=new h.Ok(a.Jb),a.Jl=!0,a.Ii.rm())}h.Pg()}a.Kd=c}
b.wr=function(a){h.g.Ao(a)?this.cancel():(this.Th=!0,h.cb.rr(),Bb(this.Jb),this.Jb.zo&&this.Jb.resize(),h.hc(!!this.ya),ba(this.Jb),this.Kd=a,h.G.block(),this.kc&&this.kc.select(),h.g.Ml(a)?da(this,a):("touchstart"!=a.type.toLowerCase()&&"pointerdown"!=a.type.toLowerCase()||"mouse"==a.pointerType||h.AD(a,this),this.Gx=new h.g.S(a.clientX,a.clientY),this.ix=a.altKey||a.ctrlKey||a.metaKey,this.kj(a)))};
b.kj=function(a){this.To=h.N.Aa(document,"mousemove",null,this.Ej.bind(this));this.Uo=h.N.Aa(document,"mouseup",null,this.mo.bind(this));a.preventDefault();a.stopPropagation()};b.Ej=function(a){zb(this,a);this.Jl?this.Ii.Ff(this.Hc):this.$h?this.Ke.Ff(this.Kd,this.Hc):this.Il&&ub(this.sg,this.Kd,this.Hc);a.preventDefault();a.stopPropagation()};
b.mo=function(a){zb(this,a);h.Pg();if(this.uo)console.log("Trying to end a gesture recursively.");else{this.uo=!0;if(this.Il)vb(this.sg,a,this.Hc);else if(this.$h)this.Ke.jl(a,this.Hc);else if(this.Jl)this.Ii.jl(this.Hc);else if(this.od&&!this.Sh)this.od.HE&&this.od.HE(),this.od.select&&this.od.select();else if(Db(this)){var c=this.$j,d=this.Kd;Eb(c)&&c.jp(d);Fb(this)}else!this.Zj||this.Sh||Db(this)?this.Zj||this.od||this.$j||this.Sh||(c=this.cr,h.selected&&yb(h.selected),c=this.Jb||c,h.h.Fa(new (h.h.get(h.h.kk))(null,
c.id,"workspace"))):(this.ya&&this.ya.Eh?this.kc.isEnabled()&&(h.h.Ub()||h.h.ta(!0),Ia(Cb(this.ya,this.kc))):(c=new (h.h.get(h.h.kk))(this.Zj,this.Jb.id,"block"),h.h.Fa(c)),Fb(this),h.h.ta(!1));a.preventDefault();a.stopPropagation();this.H()}};b.cancel=function(){this.uo||(h.Pg(),this.Il?vb(this.sg,this.Kd,this.Hc):this.$h?this.Ke.jl(this.Kd,this.Hc):this.Jl&&this.Ii.jl(this.Hc),this.H())};
function da(a,c){a.kc?(Fb(a),h.hc(!!a.ya),a.kc.nm(c)):a.od?a.od.nm(c):a.Jb&&!a.ya&&(h.hc(),a.Jb.nm(c));c.preventDefault();c.stopPropagation();a.H()}function Gb(a,c,d){if(a.Th)throw Error("Tried to call gesture.handleWsStart, but the gesture had already been started.");a.Jb||(a.Jb=d);a.Kd=c;a.wr(c)}function Hb(a,c,d){if(a.Th)throw Error("Tried to call gesture.handleFlyoutStart, but the gesture had already been started.");a.ya||(a.ya=d);Gb(a,c,d.m)}function Fb(a){a.kc&&!a.ya&&Da(a.kc)}
function Ib(a,c){a.Zj||a.od||(a.Zj=c,c.Zc&&c!=c.me()?Jb(a,c.me()):Jb(a,c))}function Jb(a,c){c.Ka?Jb(a,c.getParent()):a.kc=c}function Db(a){return(a.$j?Eb(a.$j):!1)&&!a.Sh&&(!a.ya||!a.ya.Eh)}b.Yc=function(){return this.Jl||this.$h||this.Il};b.Aj=function(){return this.Ke?this.Ke.Aj():[]};h.Ee.Xh=function(){for(var a=h.rb.getAll(),c=0,d;d=a[c];c++)if(d.pc)return!0;return!1};h.QG=function(){};h.D=function(a,c,d){if(!c)throw Error("Cannot create a node without a location.");this.Dm=a;this.Ca=c;this.Yy=null;(a=d||null)&&a.Xy&&(this.Yy=a.Xy)};h.D.types={zc:"field",Qb:"block",td:"input",yh:"output",gg:"next",jg:"previous",Ah:"stack",Sc:"workspace"};h.D.fg=!1;h.D.yz=-20;h.D.FJ=function(a){switch(a){case h.D.types.jg:case h.D.types.gg:case h.D.types.td:case h.D.types.yh:return!0}return!1};h.D.al=function(a){return a?new h.D(h.D.types.zc,a):null};
h.D.yg=function(a){if(!a)return null;var c=a.type;return c==h.Z.$b||c==h.Z.ac&&a.Te()?h.D.Kh(a.Te()):c==h.Z.ac?new h.D(h.D.types.gg,a):c==h.Z.dd?new h.D(h.D.types.yh,a):c==h.Z.wd?new h.D(h.D.types.jg,a):null};h.D.Kh=function(a){return a&&a.connection?new h.D(h.D.types.td,a.connection):null};h.D.xg=function(a){return a?new h.D(h.D.types.Qb,a):null};h.D.Sn=function(a){return a?new h.D(h.D.types.Ah,a):null};h.D.gC=function(a,c){return c&&a?new h.D(h.D.types.Sc,a,{Xy:c}):null};
h.D.kJ=function(a){var c=a.ga||a.T;return c?h.D.yg(c):h.D.xg(a)};b=h.D.prototype;b.getType=function(){return this.Dm};function Kb(a,c){a=a.Ca;a instanceof h.Li||(a=a.$());if(!a||!a.B)return null;var d=a.me();a=d.B.vb(!0);for(var e=0,f;f=a[e];e++)if(d.id==f.id)return c=e+(c?1:-1),-1==c||c==a.length?null:h.D.Sn(a[c]);throw Error("Couldn't find "+(c?"next":"previous")+" stack?!");}
function Lb(a){if(!a)return null;do var c=a.ga&&a.ga.ra();while(c&&y(c)==a&&(a=c));return(c=a.ga||a.T)&&c.xa&&c.xa.Te()?h.D.Kh(c.xa.Te()):h.D.Sn(a)}b.$=function(){return this.getType()===h.D.types.Qb?this.Ca:this.getType()===h.D.types.Ah?this.Ca:this.getType()===h.D.types.Sc?null:this.Ca.$()};
b.next=function(){switch(this.Dm){case h.D.types.Ah:return Kb(this,!0);case h.D.types.yh:var a=this.Ca;return h.D.xg(a.$());case h.D.types.zc:a:{var c=this.Ca,d=c.Te();a=c.$();c=d.fb.indexOf(c)+1;d=a.V.indexOf(d);for(var e;e=a.V[d];d++){for(var f=e.fb;c<f.length;){if(Eb(f[c])||h.D.fg){a=h.D.al(f[c]);break a}c++}c=0;if(e.connection){a=h.D.Kh(e);break a}}a=null}return a;case h.D.types.td:a:{c=this.Ca.Te();a=c.$();for(c=a.V.indexOf(c)+1;d=a.V[c];c++){e=d.fb;f=0;for(var g;g=e[f];f++)if(Eb(g)||h.D.fg){a=
h.D.al(g);break a}if(d.connection){a=h.D.Kh(d);break a}}a=null}return a;case h.D.types.Qb:return h.D.yg(this.Ca.ka);case h.D.types.jg:return a=this.Ca,h.D.xg(a.$());case h.D.types.gg:return a=this.Ca,h.D.yg(a.xa)}return null};
b.Gg=function(){switch(this.Dm){case h.D.types.Sc:var a=this.Ca.vb(!0);if(0<a.length)return h.D.Sn(a[0]);break;case h.D.types.Ah:a=this.Ca;var c=a.ga||a.T;return c?h.D.yg(c):h.D.xg(a);case h.D.types.Qb:a=this.Ca;a:{a=a.V;c=0;for(var d;d=a[c];c++){for(var e=d.fb,f=0,g;g=e[f];f++)if(Eb(g)||h.D.fg){a=h.D.al(g);break a}if(d.connection){a=h.D.Kh(d);break a}}a=null}return a;case h.D.types.td:return h.D.yg(this.Ca.xa)}return null};
b.Zg=function(){switch(this.Dm){case h.D.types.Ah:return Kb(this,!1);case h.D.types.zc:a:{var a=this.Ca;var c=a.Te();var d=a.$();a=c.fb.indexOf(a)-1;for(var e=d.V.indexOf(c),f;f=d.V[e];e--){if(f.connection&&f!==c){c=h.D.Kh(f);break a}for(f=f.fb;-1<a;){if(Eb(f[a])||h.D.fg){c=h.D.al(f[a]);break a}a--}0<=e-1&&(a=d.V[e-1].fb.length-1)}c=null}return c;case h.D.types.td:a:{c=this.Ca.Te();d=c.$();for(a=d.V.indexOf(c);e=d.V[a];a--){if(e.connection&&e!==c){c=h.D.Kh(e);break a}e=e.fb;f=e.length-1;for(var g;g=
e[f];f--)if(Eb(g)||h.D.fg){c=h.D.al(g);break a}}c=null}return c;case h.D.types.Qb:return c=this.Ca,h.D.yg(c.ga||c.T);case h.D.types.jg:c=this.Ca;if((c=c.xa)&&!c.Te())return h.D.yg(c);break;case h.D.types.gg:return c=this.Ca,h.D.xg(c.$())}return null};
b.Wg=function(){switch(this.Dm){case h.D.types.Ah:var a=this.Ca,c=a.Za();return h.D.gC(a.B,new h.g.S(c.x,c.y+h.D.yz));case h.D.types.yh:return a=this.Ca,(c=a.xa)?h.D.yg(c):h.D.Sn(a.$());case h.D.types.zc:return h.D.xg(this.Ca.$());case h.D.types.td:return a=this.Ca,h.D.xg(a.$());case h.D.types.Qb:return a=this.Ca,Lb(a);case h.D.types.jg:return a=this.Ca,Lb(a.$());case h.D.types.gg:return a=this.Ca,Lb(a.$())}return null};h.hn=function(){this.Ed=this.ge=this.tb=null;this.type="marker"};function Mb(a,c){var d=a.ge;a.ge=c;a.Ed&&a.Ed.draw(d,a.ge)}h.hn.prototype.draw=function(){this.Ed&&this.Ed.draw(this.ge,this.ge)};h.hn.prototype.$a=function(){this.Ed&&this.Ed.$a()};h.hn.prototype.H=function(){this.Ed&&this.Ed.H()};h.Yf=function(){h.Yf.v.constructor.call(this);this.type="cursor"};h.g.object.U(h.Yf,h.hn);h.Yf.prototype.next=function(){var a=this.ge;if(!a)return null;for(a=a.next();a&&a.next()&&(a.getType()==h.D.types.gg||a.getType()==h.D.types.Qb);)a=a.next();a&&Mb(this,a);return a};h.Yf.prototype.Gg=function(){var a=this.ge;if(!a)return null;if(a.getType()==h.D.types.jg||a.getType()==h.D.types.yh)a=a.next();(a=a.Gg())&&Mb(this,a);return a};
h.Yf.prototype.Zg=function(){var a=this.ge;if(!a)return null;for(a=a.Zg();a&&a.Zg()&&(a.getType()==h.D.types.gg||a.getType()==h.D.types.Qb);)a=a.Zg();a&&Mb(this,a);return a};h.Yf.prototype.Wg=function(){var a=this.ge;if(!a)return null;(a=a.Wg())&&a.getType()==h.D.types.Qb&&(a=a.Zg()||a);a&&Mb(this,a);return a};h.u.register(h.u.R.nk,h.u.Pi,h.Yf);h.Ek=function(a){this.Df=this.Cd=null;this.Rl=Object.create(null);this.m=a};h.Ek.Uu="local_marker_1";b=h.Ek.prototype;b.xl=function(){return this.Cd};b.Al=function(a){return this.Rl[a]||null};b.Qf=function(a){a?(this.m.wb.appendChild(a),this.Df=a):this.Df=null};b.eh=function(a){a?this.m.wb&&(this.Df?this.m.wb.insertBefore(a,this.Df):this.m.wb.appendChild(a)):this.Of=null};
b.H=function(){for(var a=Object.keys(this.Rl),c=0,d;d=a[c];c++){var e=this.Rl[d];if(e)e.H(),delete this.Rl[d];else throw Error("Marker with ID "+d+" does not exist. Can only unregister markers that exist.");}this.Rl=null;this.Cd&&(this.Cd.H(),this.Cd=null)};h.Y={};h.Y.Nd=null;h.Y.Yn=null;h.Y.qe="";h.Y.ve="";h.Y.Va=function(){h.Y.ab||(h.Y.ab=document.createElement("div"),h.Y.ab.className="blocklyWidgetDiv",(h.Wo||document.body).appendChild(h.Y.ab))};h.Y.show=function(a,c,d){h.Y.$a();h.Y.Nd=a;h.Y.Yn=d;a=h.Y.ab;a.style.direction=c?"rtl":"ltr";a.style.display="block";c=h.Bg();h.Y.qe=c.ob.ie();h.Y.ve=c.If().ie();h.g.j.Lb(a,h.Y.qe);h.g.j.Lb(a,h.Y.ve)};
h.Y.$a=function(){if(h.Y.isVisible()){h.Y.Nd=null;var a=h.Y.ab;a.style.display="none";a.style.left="";a.style.top="";h.Y.Yn&&h.Y.Yn();h.Y.Yn=null;a.textContent="";h.Y.qe&&(h.g.j.bd(a,h.Y.qe),h.Y.qe="");h.Y.ve&&(h.g.j.bd(a,h.Y.ve),h.Y.ve="");ba(h.Bg())}};h.Y.isVisible=function(){return!!h.Y.Nd};h.Y.Fl=function(a){h.Y.Nd==a&&h.Y.$a()};h.Y.cm=function(a,c,d){h.Y.ab.style.left=a+"px";h.Y.ab.style.top=c+"px";h.Y.ab.style.height=d+"px"};
h.Y.dE=function(a,c,d,e){var f=h.Y.LB(a,c,d);a=h.Y.KB(a,c,d,e);0>f?h.Y.cm(a,0,d.height+f):h.Y.cm(a,f,d.height)};h.Y.KB=function(a,c,d,e){if(e)return c=Math.max(c.right-d.width,a.left),Math.min(c,a.right-d.width);c=Math.min(c.left,a.right-d.width);return Math.max(c,a.left)};h.Y.LB=function(a,c,d){return c.bottom+d.height>=a.bottom?c.top-d.height:c.bottom};h.rd=function(a,c,d){this.gf=this.Ep;this.Jy=this.Py=null;this.vc=new h.g.Qc(0,0);this.s=this.Js=this.Ci=this.wc=this.Nb=this.Wc=this.Of=this.Df=null;d&&this.Vk(d);this.setValue(a);c&&(this.Py=c)};b=h.rd.prototype;b.Ep=null;b.name=void 0;b.Pe=!1;b.Fx=50;b.K=null;b.Ig=!0;b.kh=!0;b.aw=null;h.rd.$u="\u00a0";b=h.rd.prototype;b.pk=!0;b.rv=!1;b.Vk=function(a){var c=a.tooltip;"string"==typeof c&&(c=h.g.cd(a.tooltip));c&&this.te(c)};
b.ea=function(){!this.s&&this.K&&this.K.B&&this.K.B.ua&&(this.s=this.K.B.ob.ea());return this.s};b.$=function(){return this.K};b.Ba=function(){this.Wc||(this.Wc=h.g.j.L(h.g.F.Pc,{},null),this.isVisible()||(this.Wc.style.display="none"),this.K.qa().appendChild(this.Wc),this.po(),Nb(this),this.te(this.Jy),h.G.kj(aa(this)),this.Js=h.N.Aa(aa(this),"mousedown",this,this.Tg))};b.po=function(){Ob(this);Pb(this)};
function Ob(a){a.Nb=h.g.j.L(h.g.F.xd,{rx:a.ea().$m,ry:a.ea().$m,x:0,y:0,height:a.vc.height,width:a.vc.width,"class":"blocklyFieldRect"},a.Wc)}function Pb(a){a.wc=h.g.j.L(h.g.F.zv,{"class":"blocklyText"},a.Wc);a.ea().Jp&&a.wc.setAttribute("dominant-baseline","central");a.Ci=document.createTextNode("");a.wc.appendChild(a.Ci)}b.ul=function(a){this.setValue(a.textContent)};b.H=function(){h.C.Fl(this);h.Y.Fl(this);h.G.Xt(aa(this));this.Js&&h.N.xb(this.Js);h.g.j.removeNode(this.Wc);this.Pe=!0};
function Nb(a){var c=a.Wc;a.pk&&c&&(a.K.Hd()?(h.g.j.Lb(c,"blocklyEditableText"),h.g.j.bd(c,"blocklyNonEditableText"),c.style.cursor=a.nk):(h.g.j.Lb(c,"blocklyNonEditableText"),h.g.j.bd(c,"blocklyEditableText"),c.style.cursor=""))}function Eb(a){return!!a.K&&a.K.Hd()&&!!a.jp&&"function"===typeof a.jp}b.isVisible=function(){return this.kh};b.Ib=function(a){if(this.kh!=a){this.kh=a;var c=this.qa();c&&(c.style.display=a?"block":"none")}};b.qa=function(){return this.Wc};b.dc=function(){};
b.wt=function(){this.Ci&&(this.Ci.nodeValue=Qb(this));this.Ny()};b.Ny=function(){var a=this.ea(),c=this.Nb?this.ea().qk:0,d=2*c,e=a.an,f=0;this.wc&&(f=h.g.j.Sr(this.wc,a.vh,a.$f,a.Zf),d+=f);this.Nb&&(e=Math.max(e,a.Cu));this.vc.height=e;this.vc.width=d;Rb(this,c,f);Sb(this)};function Rb(a,c,d){if(a.wc){var e=a.ea(),f=a.vc.height/2;a.wc.setAttribute("x",a.K.J?a.vc.width-d-c:c);a.wc.setAttribute("y",e.Jp?f:f-e.an/2+e.Fu)}}
function Sb(a){a.Nb&&(a.Nb.setAttribute("width",a.vc.width),a.Nb.setAttribute("height",a.vc.height),a.Nb.setAttribute("rx",a.ea().$m),a.Nb.setAttribute("ry",a.ea().$m))}b.Hf=function(){if(!this.isVisible())return new h.g.Qc(0,0);this.Ig?(this.wt(),this.Ig=!1):this.kh&&0==this.vc.width&&(console.warn("Deprecated use of setting size_.width to 0 to rerender a field. Set field.isDirty_ to true instead."),this.wt());return this.vc};
function Qb(a){var c=Tb(a);if(!c)return h.rd.$u;c.length>a.Fx&&(c=c.substring(0,a.Fx-2)+"\u2026");c=c.replace(/\s/g,h.rd.$u);a.K&&a.K.J&&(c+="\u200f");return c}function Tb(a){if(a.Yr){var c=a.Yr.call(a);if(null!==c)return String(c)}return String(a.getValue())}b.Ql=function(){this.Ig=!0;this.s=null};function Ub(a){a.Ig=!0;a.K&&a.K.ua&&(a.K.Na(),a.K.Vc(),a.Zt())}
b.setValue=function(a){if(null!==a){var c=this.Zn(a);a=Vb(this,a,c);if(!(a instanceof Error)){if(c=this.Py)if(c=c.call(this,a),a=Vb(this,a,c),a instanceof Error)return;c=this.K;if(!c||!c.Pe){var d=this.getValue();d===a?this.hl(a):(c&&h.h.isEnabled()&&h.h.Fa(new (h.h.get(h.h.lh))(c,"field",this.name||null,d,a)),this.hl(a),this.Ig&&Ub(this))}}}};function Vb(a,c,d){if(null===d)return a.Ig&&Ub(a),Error();void 0!==d&&(c=d);return c}b.getValue=function(){return this.gf};
b.Zn=function(a){return null===a||void 0===a?null:a};b.hl=function(a){this.gf=a;this.Ig=!0};b.Tg=function(a){if(this.K&&this.K.B&&(a=this.K.B.Ag(a))){if(a.Th)throw Error("Tried to call gesture.setStartField, but the gesture had already been started.");a.$j||(a.$j=this)}};b.te=function(a){a||""===a||(a=this.K);var c=aa(this);c?c.Sd=a:this.Jy=a};function aa(a){return a.aw||a.qa()}
b.Te=function(){for(var a=null,c=this.K,d=c.V,e=0;e<c.V.length;e++)for(var f=d[e],g=f.fb,k=0;k<g.length;k++)if(g[k]===this){a=f;break}return a};b.Ow=function(){return!1};b.Qf=function(a){a?(this.Wc.appendChild(a),this.Df=a):this.Df=null};b.eh=function(a){a?(this.Wc.appendChild(a),this.Of=a):this.Of=null};b.Zt=function(){var a=this.K.B;a.Nl&&this.Df&&a.xl().draw();a.Nl&&this.Of&&a.Al(h.Ek.Uu).draw()};h.zg={};h.zg.register=function(a,c){h.u.register(h.u.R.zc,a,c)};h.zg.unregister=function(a){h.u.unregister(h.u.R.zc,a)};h.zg.aa=function(a){var c=h.u.Vr(h.u.R.zc,a.type);return c?c.aa(a):(console.warn("Blockly could not create a field of type "+a.type+". The field is probably not being registered. This could be because the file is not loaded, the field does not register itself (Issue #1584), or the registration is not being reached."),null)};h.g.Ab={};h.g.Ab.cz="aria-";h.g.Ab.WA="role";h.g.Ab.on={nG:"grid",oG:"gridcell",pG:"group",qA:"listbox",wA:"menu",xA:"menuitem",eH:"menuitemcheckbox",EA:"option",iI:"presentation",jq:"row",HI:"tree",II:"treeitem"};h.g.Ab.State={$y:"activedescendant",AF:"colcount",Bz:"disabled",OF:"expanded",NG:"invalid",oA:"label",VG:"labelledby",YG:"level",bI:"orientation",hI:"posinset",oI:"rowcount",Zi:"selected",sI:"setsize",LI:"valuemax",MI:"valuemin"};h.g.Ab.fh=function(a,c){a.setAttribute(h.g.Ab.WA,c)};
h.g.Ab.hp=function(a,c,d){Array.isArray(d)&&(d=d.join(" "));a.setAttribute(h.g.Ab.cz+c,d)};h.g.la={SI:0,$G:3,fz:8,yI:9,kH:12,Kz:13,qn:16,rh:17,Ji:18,dI:19,wF:20,Lz:27,$A:32,JA:33,IA:34,Jz:35,cA:36,Gb:37,wn:38,Cc:39,Hp:40,gI:43,jI:44,MG:45,sh:46,ZERO:48,ONE:49,JI:50,zI:51,mG:52,jG:53,vI:54,tI:55,MF:56,iH:57,hG:59,fG:61,eG:173,gG:163,kI:63,pF:64,kF:65,qF:66,Ap:67,EF:68,E:69,PF:70,Pc:71,qG:72,sG:73,SG:74,TG:75,UG:76,ZG:77,hH:78,AH:79,cI:80,Q:81,lI:82,pI:83,xI:84,KI:85,vq:86,OI:87,yq:88,lB:89,hj:90,Vi:91,TI:92,DF:93,zH:96,sH:97,yH:98,xH:99,oH:100,nH:101,wH:102,vH:103,mH:104,rH:105,qH:106,uH:107,
pH:109,tH:110,lH:111,QF:112,UF:113,VF:114,WF:115,XF:116,YF:117,ZF:118,$F:119,aG:120,RF:121,SF:122,TF:123,jH:144,qI:145,iG:166,WG:183,rI:186,FF:189,NF:187,CF:188,eI:190,wI:191,oF:192,AI:192,uI:222,BH:219,rF:220,zF:221,RI:224,aH:224,bH:91,cH:93,QI:229,NI:252,fI:255};h.Wp=function(){this.oe=[];this.ui=this.eb=this.So=this.Oo=this.No=this.zf=this.Po=this.Uh=this.$s=null};b=h.Wp.prototype;
b.Na=function(a){var c=document.createElement("div");c.className="blocklyMenu goog-menu blocklyNonSelectable";c.tabIndex=0;this.ui&&h.g.Ab.fh(c,this.ui);this.eb=c;for(var d=0,e;e=this.oe[d];d++)c.appendChild(e.Va());this.Po=h.N.Aa(c,"mouseover",this,this.dD,!0);this.zf=h.N.Aa(c,"click",this,this.ZC,!0);this.No=h.N.Aa(c,"mouseenter",this,this.bD,!0);this.Oo=h.N.Aa(c,"mouseleave",this,this.cD,!0);this.So=h.N.Aa(c,"keydown",this,this.$C);a.appendChild(c)};
b.focus=function(){var a=this.eb;a&&(a.focus({preventScroll:!0}),h.g.j.Lb(a,"blocklyFocused"))};b.fh=function(a){this.ui=a};b.H=function(){this.Po&&(h.N.xb(this.Po),this.Po=null);this.zf&&(h.N.xb(this.zf),this.zf=null);this.No&&(h.N.xb(this.No),this.No=null);this.Oo&&(h.N.xb(this.Oo),this.Oo=null);this.So&&(h.N.xb(this.So),this.So=null);for(var a=0,c;c=this.oe[a];a++)c.H();this.eb=null};
function Wb(a,c){for(var d=a.eb;c&&c!=d;){if(h.g.j.bs(c,"blocklyMenuItem"))for(var e=0,f;f=a.oe[e];e++)if(f.eb==c)return f;c=c.parentElement}return null}b.se=function(a){var c=this.Uh;c&&(c.se(!1),this.Uh=null);a&&(a.se(!0),this.Uh=a,c=this.eb,h.g.style.EE(a.eb,c),h.g.Ab.hp(c,h.g.Ab.State.$y,a.fc()))};function Xb(a,c,d){c+=d;for(var e;e=a.oe[c];){if(e.isEnabled()){a.se(e);break}c+=d}}b.dD=function(a){(a=Wb(this,a.target))&&(a.isEnabled()?this.Uh!=a&&this.se(a):this.se(null))};
b.ZC=function(a){var c=this.$s;this.$s=null;c&&"number"==typeof a.clientX&&1>h.g.S.vr(c,new h.g.S(a.clientX,a.clientY))||(a=Wb(this,a.target))&&a.isEnabled()&&a.Pk&&a.Pk(a)};b.bD=function(){this.focus()};b.cD=function(){if(this.eb){var a=this.eb;a&&(a.blur(),h.g.j.bd(a,"blocklyFocused"));this.se(null)}};
b.$C=function(a){if(this.oe.length&&!(a.shiftKey||a.ctrlKey||a.metaKey||a.altKey)){var c=this.Uh;switch(a.keyCode){case h.g.la.Kz:case h.g.la.$A:c&&c.isEnabled()&&c.Pk&&c.Pk(c);break;case h.g.la.wn:c=this.oe.indexOf(this.Uh);Xb(this,0>c?this.oe.length:c,-1);break;case h.g.la.Hp:Xb(this,this.oe.indexOf(this.Uh),1);break;case h.g.la.JA:case h.g.la.cA:Xb(this,-1,1);break;case h.g.la.IA:case h.g.la.Jz:Xb(this,this.oe.length,-1);break;default:return}a.preventDefault();a.stopPropagation()}};
b.Hf=function(){var a=this.eb,c=h.g.style.Hf(a);c.height=a.scrollHeight;return c};h.Xp=function(a,c){this.Cf=a;this.gf=c;this.bo=!0;this.eb=null;this.Bt=!1;this.ui=null;this.lx=this.Uq=this.Tq=!1;this.Pk=null};b=h.Xp.prototype;
b.Va=function(){var a=document.createElement("div");a.id=h.g.zk.Qw();this.eb=a;a.className="blocklyMenuItem goog-menuitem "+(this.bo?"":"blocklyMenuItemDisabled goog-menuitem-disabled ")+(this.Uq?"blocklyMenuItemSelected goog-option-selected ":"")+(this.lx?"blocklyMenuItemHighlight goog-menuitem-highlight ":"")+(this.Bt?"blocklyMenuItemRtl goog-menuitem-rtl ":"");var c=document.createElement("div");c.className="blocklyMenuItemContent goog-menuitem-content";if(this.Tq){var d=document.createElement("div");
d.className="blocklyMenuItemCheckbox goog-menuitem-checkbox";c.appendChild(d)}d=this.Cf;"string"==typeof this.Cf&&(d=document.createTextNode(this.Cf));c.appendChild(d);a.appendChild(c);this.ui&&h.g.Ab.fh(a,this.ui);h.g.Ab.hp(a,h.g.Ab.State.Zi,this.Tq&&this.Uq||!1);h.g.Ab.hp(a,h.g.Ab.State.Bz,!this.bo);return a};b.H=function(){this.eb=null};b.fc=function(){return this.eb.id};b.getValue=function(){return this.gf};b.fh=function(a){this.ui=a};
b.se=function(a){this.lx=a;var c=this.eb;c&&this.isEnabled()&&(a?(h.g.j.Lb(c,"blocklyMenuItemHighlight"),h.g.j.Lb(c,"goog-menuitem-highlight")):(h.g.j.bd(c,"blocklyMenuItemHighlight"),h.g.j.bd(c,"goog-menuitem-highlight")))};b.isEnabled=function(){return this.bo};b.cf=function(a){this.bo=a};function Yb(a,c,d){a.Pk=c.bind(d)};h.Ya=function(a,c,d){"function"!=typeof a&&h.Ya.Oy(a);this.Tl=a;this.Pt=this.mt=this.ho=null;a=this.Tl;if(Array.isArray(a)){for(var e=!1,f=0;f<a.length;f++){var g=a[f][0];"string"==typeof g?a[f][0]=h.g.cd(g):(null!=g.alt&&(a[f][0].alt=h.g.cd(g.alt)),e=!0)}if(!(e||2>a.length)){e=[];for(f=0;f<a.length;f++)e.push(a[f][0]);f=h.g.Qa.Kt(e);g=h.g.Qa.cw(e,f);var k=h.g.Qa.dw(e,f);!g&&!k||f<=g+k||(g&&(this.mt=e[0].substring(0,g-1)),k&&(this.Pt=e[0].substr(1-k)),this.Tl=h.Ya.zB(a,g,k))}}this.Tj=this.getOptions(!1)[0];
h.Ya.v.constructor.call(this,this.Tj[1],c,d);this.ak=this.yd=this.Lc=this.Nc=this.im=null};h.g.object.U(h.Ya,h.rd);h.Ya.aa=function(a){return new h.Ya(a.options,void 0,a)};h.Ya.prototype.ul=function(a){Zb(this)&&this.getOptions(!1);this.setValue(a.textContent)};h.Ya.prototype.rv=!0;h.Ya.xF=25;h.Ya.dH=.45;h.Ya.gA=5;h.Ya.hA=2*h.Ya.gA;h.Ya.Lm=h.g.userAgent.Km?"\u25bc":"\u25be";b=h.Ya.prototype;b.nk="default";
b.po=function(){!this.ea().Eu||this.ea().Eu&&!this.K.Ka?Ob(this):this.aw=this.K.qa();Pb(this);this.Lc=h.g.j.L(h.g.F.xk,{},this.Wc);this.ea().Tz?(this.ak=h.g.j.L(h.g.F.xk,{height:this.ea().rk+"px",width:this.ea().rk+"px"},this.Wc),this.ak.setAttributeNS(h.g.j.fd,"xlink:href",this.ea().Uz)):(this.yd=h.g.j.L(h.g.F.Bv,{},this.wc),this.yd.appendChild(document.createTextNode(this.K.J?h.Ya.Lm+" ":" "+h.Ya.Lm)),this.K.J?this.wc.insertBefore(this.yd,this.Ci):this.wc.appendChild(this.yd));this.Nb&&h.g.j.Lb(this.Nb,
"blocklyDropdownRect")};
b.jp=function(a){var c=new h.Wp;c.fh(h.g.Ab.on.qA);this.Nc=c;var d=this.getOptions(!1);this.im=null;for(var e=0;e<d.length;e++){var f=d[e][0],g=d[e][1];if("object"==typeof f){var k=new Image(f.width,f.height);k.src=f.src;k.alt=f.alt||"";f=k}f=new h.Xp(f,g);f.fh(h.g.Ab.on.EA);f.Bt=this.K.J;f.Tq=!0;c.oe.push(f);f.Uq=g==this.gf;g==this.gf&&(this.im=f);Yb(f,this.aD,this)}this.Nc.$s=a&&"number"===typeof a.clientX?new h.g.S(a.clientX,a.clientY):null;this.Nc.Na(h.C.MC());h.g.j.Lb(this.Nc.eb,"blocklyDropdownMenu");
this.ea().Sz&&(a=this.K.Ka?this.K.getParent().Qr():this.K.Qr(),c=this.K.Ka?this.K.getParent().style.qj:this.K.style.qj,h.C.re(a,c));h.C.LE(this,this.tC.bind(this));this.Nc.focus();this.im&&this.Nc.se(this.im);this.dc()};b.tC=function(){this.Nc&&this.Nc.H();this.im=this.Nc=null;this.dc()};b.aD=function(a){h.C.Fl(this,!0);this.setValue(a.getValue())};h.Ya.zB=function(a,c,d){for(var e=[],f=0;f<a.length;f++){var g=a[f][0],k=a[f][1];g=g.substring(c,g.length-d);e[f]=[g,k]}return e};
function Zb(a){return"function"==typeof a.Tl}b=h.Ya.prototype;b.getOptions=function(a){return Zb(this)?(this.ho&&a||(this.ho=this.Tl.call(this),h.Ya.Oy(this.ho)),this.ho):this.Tl};b.Zn=function(a){for(var c=!1,d=this.getOptions(!0),e=0,f;f=d[e];e++)if(f[1]==a){c=!0;break}return c?a:(this.K&&console.warn("Cannot set the dropdown's value to an unavailable option. Block type: "+this.K.type+", Field name: "+this.name+", Value: "+a),null)};
b.hl=function(a){h.Ya.v.hl.call(this,a);a=this.getOptions(!0);for(var c=0,d;d=a[c];c++)d[1]==this.gf&&(this.Tj=d)};b.dc=function(){this.Nb&&(this.Nb.setAttribute("stroke",this.K.style.qj),this.Nc?this.Nb.setAttribute("fill",this.K.style.qj):this.Nb.setAttribute("fill","transparent"));this.K&&this.yd&&(this.yd.style.fill=this.K.Ka?this.K.style.Mn:this.K.style.Hh)};
b.wt=function(){this.Ci.nodeValue="";this.Lc.style.display="none";var a=this.Tj&&this.Tj[0];if(a&&"object"==typeof a){this.Lc.style.display="";this.Lc.setAttributeNS(h.g.j.fd,"xlink:href",a.src);this.Lc.setAttribute("height",a.height);this.Lc.setAttribute("width",a.width);var c=Number(a.height);a=Number(a.width);var d=!!this.Nb,e=Math.max(d?this.ea().Du:0,c+h.Ya.hA);d=d?this.ea().qk:0;var f=this.ak?$b(this,a+d,e/2-this.ea().rk/2):h.g.j.Sr(this.yd,this.ea().vh,this.ea().$f,this.ea().Zf);this.vc.width=
a+f+2*d;this.vc.height=e;var g=0;this.K.J?this.Lc.setAttribute("x",d+f):(g=a+f,this.wc.setAttribute("text-anchor","end"),this.Lc.setAttribute("x",d));this.Lc.setAttribute("y",e/2-c/2);Rb(this,g+d,a+f)}else this.Ci.nodeValue=Qb(this),h.g.j.Lb(this.wc,"blocklyDropdownText"),this.wc.setAttribute("text-anchor","start"),e=!!this.Nb,c=Math.max(e?this.ea().Du:0,this.ea().an),a=h.g.j.Sr(this.wc,this.ea().vh,this.ea().$f,this.ea().Zf),e=e?this.ea().qk:0,d=0,this.ak&&(d=$b(this,a+e,c/2-this.ea().rk/2)),this.vc.width=
a+d+2*e,this.vc.height=c,Rb(this,e,a);Sb(this)};function $b(a,c,d){if(!a.ak)return 0;var e=a.Nb?a.ea().qk:0,f=a.ea().Vz,g=a.ea().rk;a.ak.setAttribute("transform","translate("+(a.K.J?e:c+f)+","+d+")");return g+f}b.Yr=function(){if(!this.Tj)return null;var a=this.Tj[0];return"object"==typeof a?a.alt:a};
h.Ya.Oy=function(a){if(!Array.isArray(a))throw TypeError("FieldDropdown options must be an array.");if(!a.length)throw TypeError("FieldDropdown options must not be an empty array.");for(var c=!1,d=0;d<a.length;++d){var e=a[d];Array.isArray(e)?"string"!=typeof e[1]?(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option id must be a string. Found "+e[1]+" in: ",e)):e[0]&&"string"!=typeof e[0]&&"string"!=typeof e[0].src&&(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must have a string label or image description. Found"+
e[0]+" in: ",e)):(c=!0,console.error("Invalid option["+d+"]: Each FieldDropdown option must be an array. Found: ",e))}if(c)throw TypeError("Found invalid FieldDropdown options.");};h.zg.register("field_dropdown",h.Ya);h.mc=Object.create(null);h.za={};h.za.gk=Object.create(null);h.za.register=function(a,c){if("string"!=typeof a||""==a.trim())throw Error('Error: Invalid extension name "'+a+'"');if(h.za.gk[a])throw Error('Error: Extension "'+a+'" is already registered.');if("function"!=typeof c)throw Error('Error: Extension "'+a+'" must be a function');h.za.gk[a]=c};h.za.SJ=function(a,c){if(!c||"object"!=typeof c)throw Error('Error: Mixin "'+a+'" must be a object');h.za.register(a,function(){this.Rg(c)})};
h.za.TJ=function(a,c,d,e){var f='Error when registering mutator "'+a+'": ';h.za.Xv(f,c.Ef,"domToMutation");h.za.Xv(f,c.Ld,"mutationToDom");var g=h.za.Zv(c,f);if(d&&"function"!=typeof d)throw Error('Extension "'+a+'" is not a function');h.za.register(a,function(){if(g){if(!h.zA)throw Error(f+"Missing require for Blockly.Mutator");this.xy(new h.zA(e||[]))}this.Rg(c);d&&d.apply(this)})};h.za.unregister=function(a){h.za.gk[a]?delete h.za.gk[a]:console.warn('No extension mapping for name "'+a+'" found to unregister')};
h.za.apply=function(a,c,d){var e=h.za.gk[a];if("function"!=typeof e)throw Error('Error: Extension "'+a+'" not found.');if(d)h.za.PB(a,c);else var f=h.za.Ur(c);e.apply(c);if(d)h.za.NB('Error after applying mutator "'+a+'": ',c);else if(!h.za.LD(f,c))throw Error('Error when applying extension "'+a+'": mutation properties changed when applying a non-mutator extension.');};
h.za.Xv=function(a,c,d){if(!c)throw Error(a+'missing required property "'+d+'"');if("function"!=typeof c)throw Error(a+'" required property "'+d+'" must be a function');};h.za.PB=function(a,c){if(h.za.Ur(c).length)throw Error('Error: tried to apply mutation "'+a+'" to a block that already has mutator functions.  Block id: '+c.id);};
h.za.Zv=function(a,c){var d=void 0!==a.Yq,e=void 0!==a.dr;if(d&&e){if("function"!=typeof a.Yq)throw Error(c+"compose must be a function.");if("function"!=typeof a.dr)throw Error(c+"decompose must be a function.");return!0}if(!d&&!e)return!1;throw Error(c+'Must have both or neither of "compose" and "decompose"');};
h.za.NB=function(a,c){if("function"!=typeof c.Ef)throw Error(a+'Applying a mutator didn\'t add "domToMutation"');if("function"!=typeof c.Ld)throw Error(a+'Applying a mutator didn\'t add "mutationToDom"');h.za.Zv(c,a)};h.za.Ur=function(a){var c=[];void 0!==a.Ef&&c.push(a.Ef);void 0!==a.Ld&&c.push(a.Ld);void 0!==a.Yq&&c.push(a.Yq);void 0!==a.dr&&c.push(a.dr);return c};h.za.LD=function(a,c){c=h.za.Ur(c);if(c.length!=a.length)return!1;for(var d=0;d<c.length;d++)if(a[d]!=c[d])return!1;return!0};
h.za.YI=function(a,c){var d=[];"object"==typeof document&&h.g.ty(function(){for(var e in c)h.g.Yv(c[e])});return function(){this.type&&-1==d.indexOf(this.type)&&(h.za.OB(this,a,c),d.push(this.type));this.te(function(){var e=String(hb(this,a)),f=c[e];null==f?-1==d.indexOf(this.type)&&(e="No tooltip mapping for value "+e+" of field "+a,null!=this.type&&(e+=" of block type "+this.type),console.warn(e+".")):f=h.g.cd(f);return f}.bind(this))}};
h.za.OB=function(a,c,d){var e=ma(a,c);if(!Zb(e)){e=e.getOptions();for(var f=0;f<e.length;++f){var g=e[f][1];null==d[g]&&console.warn("No tooltip mapping for value "+g+" of field "+c+" of block type "+a.type)}}};h.za.ZI=function(a,c){"object"==typeof document&&h.g.ty(function(){h.g.Yv(a)});return function(){this.te(function(){var d=ma(this,c);return h.g.cd(a).replace("%1",d?Tb(d):"")}.bind(this))}};
h.za.vC=function(){this.ZE=this.Sd;this.te(function(){var a=this.getParent();return a&&Aa(a)&&a.Sd||this.ZE}.bind(this))};h.za.register("parent_tooltip_when_inline",h.za.vC);h.sd=function(a,c,d){this.In=null;h.sd.v.constructor.call(this,a,null,d);d||(this.In=c||null)};h.g.object.U(h.sd,h.rd);h.sd.prototype.Ep="";h.sd.aa=function(a){var c=h.g.cd(a.text);return new h.sd(c,void 0,a)};h.sd.prototype.pk=!1;h.sd.prototype.Vk=function(a){h.sd.v.Vk.call(this,a);this.In=a["class"]};h.sd.prototype.po=function(){Pb(this);this.In&&h.g.j.Lb(this.wc,this.In)};h.sd.prototype.Zn=function(a){return null===a||void 0===a?null:String(a)};h.zg.register("field_label",h.sd);h.Ru=function(a,c,d,e){if(a!=h.Ga.Ce&&!c)throw Error("Value inputs and statement inputs must have non-empty name.");this.type=a;this.name=c;this.K=d;this.connection=e;this.fb=[]};b=h.Ru.prototype;b.align=h.lb.Vd.Gb;b.kh=!0;b.$=function(){return this.K};function F(a,c,d){ac(a,a.fb.length,c,d);return a}
function ac(a,c,d,e){if(0>c||c>a.fb.length)throw Error("index "+c+" out of bounds.");if(!(d||""==d&&e))return c;"string"==typeof d&&(d=h.zg.aa({type:"field_label",text:d}));if(d.K)throw Error("Field already bound to a block.");d.K=a.K;a.K.ua&&(d.Ba(),d.dc());d.name=e;d.Ib(a.isVisible());d.mt&&(c=ac(a,c,d.mt));a.fb.splice(c,0,d);++c;d.Pt&&(c=ac(a,c,d.Pt));a.K.ua&&(a.K=a.K,a.K.Na(),a.K.Vc());return c}b.isVisible=function(){return this.kh};
b.Ib=function(a){if(this.kh!=a){this.kh=a;for(var c=0,d;d=this.fb[c];c++)d.Ib(a);if(this.connection){this.connection=this.connection;if(a)bc(this.connection);else if(c=this.connection,cc(c,!1),c.xa)for(c=x(c.ra(),!1),d=0;d<c.length;d++){for(var e=c[d],f=e.je(!0),g=0;g<f.length;g++)cc(f[g],!1);e=Ca(e);for(g=0;g<e.length;g++)e[g].Ib(!1)}if(c=this.connection.ra())c.qa().style.display=a?"block":"none"}}};b.Ql=function(){for(var a=0,c;c=this.fb[a];a++)c.Ql()};
b.Uj=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.Uj(a)};b.lm=function(a){if(!this.connection)throw Error("This input does not have a connection.");this.connection.lm(a)};b.Cj=function(){if(!this.connection)throw Error("This input does not have a connection.");return this.connection.Cj()};b.Ba=function(){if(this.K.B.ua)for(var a=0;a<this.fb.length;a++)this.fb[a].Ba()};
b.H=function(){for(var a=0,c;c=this.fb[a];a++)c.H();this.connection&&this.connection.H();this.K=null};h.Li=function(a,c,d){if(h.Generator&&"undefined"!=typeof h.Generator.prototype[c])throw Error('Block prototypeName "'+c+'" conflicts with Blockly.Generator members.');this.id=d&&!a.Jc(d)?d:h.g.Se();a.Hq[this.id]=this;this.ga=this.ka=this.T=null;this.V=[];this.Jf=void 0;this.disabled=!1;this.Sd="";this.contextMenu=!0;this.af=null;this.yf=[];this.Bw=this.Ix=this.sw=!0;this.Gh=this.Ka=!1;this.Ih=null;this.ee={text:null,ay:!1,size:new h.g.Qc(160,80)};this.Zy=new h.g.S(0,0);this.B=a;this.Zc=a.Lf;this.J=
a.J;this.Mj=!1;this.Ue=void 0;this.ua=null;if(c){this.type=c;d=h.mc[c];if(!d||"object"!=typeof d)throw TypeError("Unknown block type: "+c);h.g.object.Rg(this,d)}a.Bn(this);a.Uf[this.type]||(a.Uf[this.type]=[]);a.Uf[this.type].push(this);(a=h.h.Ub())||h.h.ta(!0);c=h.h.Ma;try{"function"==typeof this.Ba&&(h.h.Ma=!1,this.Ba(),h.h.Ma=c),h.h.isEnabled()&&h.h.Fa(new (h.h.get(h.h.mh))(this))}finally{a||h.h.ta(!1),h.h.Ma=c}this.pD=this.Jf;if("function"==typeof this.onchange){if((a=this.onchange)&&"function"!=
typeof a)throw Error("onchange must be a function.");this.Yl&&ob(this.B,this.Yl);if(this.onchange=a)this.Yl=a.bind(this),E(this.B,this.Yl)}};h.Li.Sm=h.lb.Sm;h.Li.Rm=h.lb.Rm;b=h.Li.prototype;b.data=null;b.Pe=!1;b.Ad="#000000";b.um="";
b.H=function(a){if(this.B){this.Yl&&ob(this.B,this.Yl);C(this,a);h.h.isEnabled()&&h.h.Fa(new (h.h.get(h.h.wp))(this));h.h.disable();try{if(this.B){this.B.cp(this);var c=this.B;c.Uf[this.type].splice(c.Uf[this.type].indexOf(this),1);c.Uf[this.type].length||delete c.Uf[this.type];delete this.B.Hq[this.id];this.B=null}h.selected==this&&(h.selected=null);for(var d=this.yf.length-1;0<=d;d--)this.yf[d].H(!1);d=0;for(var e;e=this.V[d];d++)e.H();this.V.length=0;var f=this.je(!0);d=0;for(var g;g=f[d];d++)g.H()}finally{h.h.enable(),
this.Pe=!0}}};function C(a,c){if(a.T){var d=null;a.T.isConnected()&&(d=a.T.xa,a.T.disconnect());if(d&&c){a:{c=null;for(var e=0;e<a.V.length;e++){var f=a.V[e].connection;if(f&&f.type==h.Z.$b&&f.xa){if(c){c=null;break a}c=f}}}c&&c.isConnected()&&!c.ra().Ka&&(c=c.xa,c.disconnect(),$a(a.B.Bf,c,d,!1)?d.connect(c):c.Vs(d))}}else a.ga&&(d=null,a.ga.isConnected()&&(d=a.ga.xa,a.ga.disconnect()),e=y(a),c&&e&&!e.Ka&&(c=a.ka.xa,c.disconnect(),d&&$a(a.B.Bf,d,c,!1)&&d.connect(c)))}
b.je=function(){var a=[];this.T&&a.push(this.T);this.ga&&a.push(this.ga);this.ka&&a.push(this.ka);for(var c=0,d;d=this.V[c];c++)d.connection&&a.push(d.connection);return a};b.Do=function(a){for(var c=this.ka;c;){var d=c.ra();if(!d||a&&d.Ka)return c;c=d.ka}return null};b.Vc=function(){};b.getParent=function(){return this.af};function oa(a,c){for(var d=0,e;e=a.V[d];d++)if(e.connection&&e.connection.ra()==c)return e;return null}
function dc(a){do{var c=a;a=a.getParent();if(!a)return null}while(y(a)==c);return a}function y(a){return a.ka&&a.ka.ra()}b.me=function(){var a=this;do{var c=a;a=c.af}while(a);return c};function ea(a,c){if(!c)return a.yf;c=[];for(var d=0,e;e=a.V[d];d++)e.connection&&(e=e.connection.ra())&&c.push(e);(a=y(a))&&c.push(a);return c}
b.gp=function(a){if(a!=this.af){if(this.af){h.g.Dn(this.af.yf,this);if(this.ga&&this.ga.isConnected())throw Error("Still connected to previous block.");if(this.T&&this.T.isConnected())throw Error("Still connected to parent block.");this.af=null}else this.B.cp(this);(this.af=a)?a.yf.push(this):this.B.Bn(this)}};function x(a,c){var d=[a];a=ea(a,c);for(var e,f=0;e=a[f];f++)d.push.apply(d,x(e,c));return d}b.Ye=function(){return this.sw&&!this.Ka&&!(this.B&&this.B.options.readOnly)};
b.rc=function(){return this.Ix&&!this.Ka&&!(this.B&&this.B.options.readOnly)};b.Ft=function(a){this.Ix=a};b.It=function(a){this.Ka=a};b.md=function(){return this.Mj};b.wy=function(a){this.Mj=a};b.Hd=function(){return this.Bw&&!(this.B&&this.B.options.readOnly)};b.Et=function(a){this.Bw=a;a=0;for(var c;c=this.V[a];a++)for(var d=0,e;e=c.fb[d];d++)Nb(e)};
b.Tr=function(a,c){var d=this.je(!0);a=a.je(!0);if(d.length!=a.length)throw Error("Connection lists did not match in length.");for(var e=0;e<a.length;e++)if(a[e]==c)return d[e];return null};b.te=function(a){this.Sd=a};b.Qr=function(){return this.Ad};b.re=function(a){this.Ad=h.g.Xo(a).El};b.Ai=function(a){this.um=a};
function ma(a,c){if("string"!==typeof c)throw TypeError("Blockly.Block.prototype.getField expects a string with the field name but received "+(void 0===c?"nothing":c+" of type "+typeof c)+" instead");for(var d=0,e;e=a.V[d];d++)for(var f=0,g;g=e.fb[f];f++)if(g.name===c)return g;return null}function la(a){for(var c=0,d;d=a.V[c];c++)for(var e=0;d.fb[e];e++);return[]}function hb(a,c){return(a=ma(a,c))?a.getValue():null}
b.zi=function(a,c){if(a){void 0===c&&(c=null);if(!this.ga){if(this.T)throw Error("Remove output connection prior to adding previous connection.");this.ga=this.Pl(h.Z.wd)}this.ga.Uj(c)}else if(this.ga){if(this.ga.isConnected())throw Error("Must disconnect previous statement before removing connection.");this.ga.H();this.ga=null}};
b.Xj=function(a,c){if(a)void 0===c&&(c=null),this.ka||(this.ka=this.Pl(h.Z.ac)),this.ka.Uj(c);else if(this.ka){if(this.ka.isConnected())throw Error("Must disconnect next statement before removing connection.");this.ka.H();this.ka=null}};
b.Gt=function(a,c){if(a){void 0===c&&(c=null);if(!this.T){if(this.ga)throw Error("Remove previous connection prior to adding output connection.");this.T=this.Pl(h.Z.dd)}this.T.Uj(c)}else if(this.T){if(this.T.isConnected())throw Error("Must disconnect output value before removing connection.");this.T.H();this.T=null}};b.yi=function(a){this.Jf!=a&&(h.h.Fa(new (h.h.get(h.h.lh))(this,"inline",null,this.Jf,a)),this.Jf=a)};
function Aa(a){if(void 0!=a.Jf)return a.Jf;for(var c=1;c<a.V.length;c++)if(a.V[c-1].type==h.Ga.Ce&&a.V[c].type==h.Ga.Ce)return!1;for(c=1;c<a.V.length;c++)if(a.V[c-1].type==h.Ga.Je&&a.V[c].type==h.Ga.Ce)return!0;return!1}b.isEnabled=function(){return!this.disabled};b.cf=function(a){this.isEnabled()!=a&&(h.h.Fa(new (h.h.get(h.h.lh))(this,"disabled",null,this.disabled,!a)),this.disabled=!a)};function ec(a){for(a=dc(a);a;){if(a.disabled)return!0;a=dc(a)}return!1}b.isCollapsed=function(){return this.Gh};
b.wi=function(a){this.Gh!=a&&(h.h.Fa(new (h.h.get(h.h.lh))(this,"collapsed",null,this.Gh,a)),this.Gh=a)};
b.toString=function(a,c){function d(n){var p=n.oj;!p&&n.xa&&(p=n.xa.oj);return!!p&&(-1!=p.indexOf("Boolean")||-1!=p.indexOf("Number"))}function e(){k&&k.getType()==l.getType()&&k.Ca==l.Ca&&(k=null)}var f=[];c=c||"?";var g=h.D.fg;h.D.fg=!0;for(var k=h.D.xg(this),l=k;k;){switch(k.getType()){case h.D.types.td:var m=k.Ca;k.Gg()?d(m)&&f.push("("):f.push(c);break;case h.D.types.zc:m=k.Ca,m.name!=h.lb.Rm&&f.push(Tb(m))}m=k;k=m.Gg()||m.next();if(!k){k=m.Wg();for(e();k&&!k.next();)k=k.Wg(),e(),k&&k.getType()==
h.D.types.td&&d(k.Ca)&&f.push(")");k&&(k=k.next())}}h.D.fg=g;for(c=2;c<f.length;c++)"("==f[c-2]&&")"==f[c]&&(f[c-2]=f[c-1],f.splice(c-1,2));f=f.reduce(function(n,p){return n+("("==n.substr(-1)||")"==p?"":" ")+p},"");f=f.trim()||"???";a&&f.length>a&&(f=f.substring(0,a-3)+"...");return f};function fc(a,c){return a.vf(h.Ga.Ce,c||"")}
function gc(a,c){var d=c.type?'Block "'+c.type+'": ':"";if(c.output&&c.previousStatement)throw Error(d+"Must not have both an output and a previousStatement.");c.style&&c.style.Ue&&(a.Ue=c.style.Ue,c.style=null);if(c.style&&c.colour)throw Error(d+"Must not have both a colour and a style.");if(c.style){var e=c.style;try{a.Ai(e)}catch(I){console.warn(d+"Style does not exist: ",e)}}else if("colour"in c)if(void 0===c.colour)console.warn(d+"Undefined colour value.");else{e=c.colour;try{a.re(e)}catch(I){console.warn(d+
"Illegal colour value: ",e)}}for(e=0;void 0!==c["message"+e];){var f=a,g=c["args"+e]||[],k=c["lastDummyAlign"+e],l=d,m=h.g.YE(c["message"+e]);var n=f;for(var p=m,q=g.length,B=[],t=0,u=0;u<p.length;u++){var w=p[u];if("number"==typeof w){if(1>w||w>q)throw Error('Block "'+n.type+'": Message index %'+w+" out of range.");if(B[w])throw Error('Block "'+n.type+'": Message index %'+w+" duplicated.");B[w]=!0;t++}}if(t!=q)throw Error('Block "'+n.type+'": Message does not reference all '+q+" arg(s).");n=g;g=
[];for(p=0;p<m.length;p++){q=m[p];"number"==typeof q&&(q=n[q-1]);if("string"==typeof q&&(q=hc(q),!q))continue;g.push(q)}(m=g.length)&&!ic(g[m-1].type)&&(m={type:"input_dummy"},k&&(m.align=k),g.push(m));k=g;g=[];for(m=0;n=k[m];m++)if(ic(n.type)){p=f;q=n;B=l;t={LEFT:h.lb.Vd.Gb,RIGHT:h.lb.Vd.Cc,CENTRE:h.lb.Vd.Qm,CENTER:h.lb.Vd.Qm};n=null;switch(q.type){case "input_value":n=p.vf(h.Ga.Je,q.name);break;case "input_statement":n=p.vf(h.Ga.oc,q.name);break;case "input_dummy":n=fc(p,q.name)}n?(q.check&&n.Uj(q.check),
q.align&&(p=t[q.align.toUpperCase()],void 0===p?console.warn(B+"Illegal align value: ",q.align):(q=n,q.align=p,q.K.ua&&(q.K=q.K,q.K.Na())))):n=null;if(n){for(p=0;q=g[p];p++)F(n,q[0],q[1]);g.length=0}}else(p=jc(f,n))&&g.push([p,n.name]);e++}void 0!==c.inputsInline&&a.yi(c.inputsInline);void 0!==c.output&&a.Gt(!0,c.output);void 0!==c.previousStatement&&a.zi(!0,c.previousStatement);void 0!==c.nextStatement&&a.Xj(!0,c.nextStatement);void 0!==c.tooltip&&(e=c.tooltip,e=h.g.cd(e),a.te(e));void 0!==c.enableContextMenu&&
(e=c.enableContextMenu,a.contextMenu=!!e);void 0!==c.helpUrl&&(e=c.helpUrl,e=h.g.cd(e),a.Gj=e);"string"==typeof c.extensions&&(console.warn(d+"JSON attribute 'extensions' should be an array of strings. Found raw string in JSON for '"+c.type+"' block."),c.extensions=[c.extensions]);void 0!==c.mutator&&h.za.apply(c.mutator,a,!0);c=c.extensions;if(Array.isArray(c))for(d=0;d<c.length;++d)h.za.apply(c[d],a,!1)}
b.Rg=function(a,c){if(void 0!==c&&"boolean"!=typeof c)throw Error("opt_disableCheck must be a boolean if provided");if(!c){c=[];for(var d in a)void 0!==this[d]&&c.push(d);if(c.length)throw Error("Mixin will overwrite block members: "+JSON.stringify(c));}h.g.object.Rg(this,a)};function jc(a,c){var d=h.zg.aa(c);return!d&&c.alt?"string"==typeof c.alt?(c=hc(c.alt))?jc(a,c):null:jc(a,c.alt):d}function ic(a){return"input_value"==a||"input_statement"==a||"input_dummy"==a}
function hc(a){return(a=a.trim())?{type:"field_label",text:a}:null}b.vf=function(a,c){var d=null;if(a==h.Ga.Je||a==h.Ga.oc)d=this.Pl(a);a=new h.Ru(a,c,this,d);this.V.push(a);return a};b.ut=function(a,c){for(var d=0,e;e=this.V[d];d++)if(e.name==a)return e.H(),this.V.splice(d,1),!0;if(c)return!1;throw Error("Input not found: "+a);};function ka(a,c){for(var d=0,e;e=a.V[d];d++)if(e.name==c)return e;return null}function kc(a,c){return(a=ka(a,c))&&a.connection&&a.connection.ra()}
b.Vj=function(a){this.ee.text!=a&&(h.h.Fa(new (h.h.get(h.h.lh))(this,"comment",null,this.ee.text,a)),this.Ih=this.ee.text=a)};b.xy=function(){};b.Za=function(){return this.Zy};b.moveBy=function(a,c){if(this.af)throw Error("Block has parent.");var d=new (h.h.get(h.h.nh))(this);this.Zy.translate(a,c);d.ri();h.h.Fa(d)};b.Pl=function(a){return new h.va(this,a)};h.i={};h.i.OG=function(){};h.Ra={};h.Ra.Tn=null;h.Ra.Nc=null;h.Ra.show=function(a,c,d){h.Y.show(h.Ra,d,h.Ra.H);if(c.length){var e=h.Ra.cE(c,d);h.Ra.Nc=e;h.Ra.eE(e,a,d);setTimeout(function(){e.focus()},1);h.Ra.Tn=null}else h.Ra.$a()};h.Ra.cE=function(a,c){var d=new h.Wp;d.fh(h.g.Ab.on.wA);for(var e=0,f;f=a[e];e++){var g=new h.Xp(f.text);g.Bt=c;g.fh(h.g.Ab.on.xA);d.oe.push(g);g.cf(f.enabled);f.enabled&&Yb(g,function(){h.Ra.$a();this.ib(this.scope)},f)}return d};
h.Ra.eE=function(a,c,d){var e=h.g.XC();c=new h.g.Rect(c.clientY+e.top,c.clientY+e.top,c.clientX+e.left,c.clientX+e.left);h.Ra.fC(a);var f=a.Hf();d&&(c.left+=f.width,c.right+=f.width,e.left+=f.width,e.right+=f.width);h.Y.dE(e,c,f,d);a.focus()};h.Ra.fC=function(a){a.Na(h.Y.ab);var c=a.eb;h.g.j.Lb(c,"blocklyContextMenu");h.N.Aa(c,"contextmenu",null,h.g.PD);a.focus()};h.Ra.$a=function(){h.Y.Fl(h.Ra);h.Ra.Tn=null};h.Ra.H=function(){h.Ra.Nc&&(h.Ra.Nc.H(),h.Ra.Nc=null)};
h.Ra.aJ=function(a,c){return function(){h.h.disable();try{var d=h.I.yj(c,a.B),e=a.Za();e.x=a.J?e.x-h.nc:e.x+h.nc;e.y+=2*h.nc;d.moveBy(e.x,e.y)}finally{h.h.enable()}h.h.isEnabled()&&!d.Ka&&h.h.Fa(new (h.h.get(h.h.mh))(d));d.select()}};h.Ra.dJ=function(a){return{text:h.M.REMOVE_COMMENT,enabled:!0,ib:function(){h.h.ta(!0);a.H(!0,!0);h.h.ta(!1)}}};h.Ra.eJ=function(a){return{text:h.M.DUPLICATE_COMMENT,enabled:!0,ib:function(){h.duplicate(a)}}};
h.Ra.pK=function(a,c){if(!h.gj)throw Error("Missing require for Blockly.WorkspaceCommentSvg");var d={enabled:!h.g.userAgent.Yd};d.text=h.M.ADD_COMMENT;d.ib=function(){var e=new h.gj(a,h.M.WORKSPACE_COMMENT_DEFAULT_TEXT,h.gj.Az,h.gj.Az),f=ca(a).getBoundingClientRect();f=new h.g.S(c.clientX-f.left,c.clientY-f.top);var g=h.g.zl(a.wb);f=h.g.S.fl(f,g);f.scale(1/a.scale);e.moveBy(f.x,f.y);a.ua&&(e.Hj(),e.Na(),e.select())};return d};h.Ea=function(){h.Ea.u=this;this.Pd=Object.create(null)};h.Ea.Dc={Qb:"block",Sc:"workspace"};h.Ea.u=null;h.Ea.prototype.register=function(a){if(this.Pd[a.id])throw Error('Menu item with ID "'+a.id+'" is already registered.');this.Pd[a.id]=a};h.Ea.prototype.unregister=function(a){if(!this.Pd[a])throw Error('Menu item with ID "'+a+'" not found.');delete this.Pd[a]};h.Ea.prototype.getItem=function(a){return this.Pd[a]||null};
function lc(a,c){var d=[],e=h.Ea.u.Pd;Object.keys(e).forEach(function(f){f=e[f];if(a==f.nd){var g=f.Db(c);"hidden"!=g&&(f={text:"function"==typeof f.Ic?f.Ic(c):f.Ic,enabled:"enabled"==g,ib:f.ib,scope:c,weight:f.weight},d.push(f))}});d.sort(function(f,g){return f.weight-g.weight});return d}new h.Ea;h.h.kg=function(a,c,d){h.h.kg.v.constructor.call(this,d);this.Ox=a;this.Mx=c};h.g.object.U(h.h.kg,h.h.$d);h.h.kg.prototype.type=h.h.Zi;h.h.kg.prototype.pa=function(){var a=h.h.kg.v.pa.call(this);a.oldElementId=this.Ox;a.newElementId=this.Mx;return a};h.h.kg.prototype.aa=function(a){h.h.kg.v.aa.call(this,a);this.Ox=a.oldElementId;this.Mx=a.newElementId};h.u.register(h.u.R.Fb,h.h.Zi,h.h.kg);h.yG=function(){};h.DG=function(){};h.Hb=function(a,c){h.Hb.v.constructor.call(this,a,c);this.Oe=a.B.Qn[c];this.pw=a.B.Qn[h.Xi[c]];this.ni=new h.g.S(0,0);this.Tf=h.Hb.Ie.Gv;this.xa=null};h.g.object.U(h.Hb,h.va);h.Hb.Ie={Gv:-1,Dv:0,ej:1};b=h.Hb.prototype;b.H=function(){h.Hb.v.H.call(this);this.Tf==h.Hb.Ie.ej&&mc(this.Oe,this,this.y)};b.$=function(){return h.Hb.v.$.call(this)};b.ra=function(){return h.Hb.v.ra.call(this)};function eb(a,c){var d=a.x-c.x;a=a.y-c.y;return Math.sqrt(d*d+a*a)}
function nc(a,c){if(!a.K.B.Yc()){var d=a.K.me();if(!d.Zc){var e=!1;if(!d.rc()){d=c.$().me();if(!d.rc())return;c=a;e=!0}var f=h.selected==d;f||d.An();var g=c.x+h.nc+Math.floor(Math.random()*h.zp)-a.x,k=c.y+h.nc+Math.floor(Math.random()*h.zp)-a.y;e&&(k=-k);d.J&&(g=c.x-h.nc-Math.floor(Math.random()*h.zp)-a.x);d.moveBy(g,k);f||d.gm()}}}
b.moveTo=function(a,c){if(this.Tf==h.Hb.Ie.Gv){var d=this.Oe;d.Cb.splice(oc(d,c),0,this);this.Tf=h.Hb.Ie.ej}else this.Tf==h.Hb.Ie.ej&&(mc(this.Oe,this,this.y),d=this.Oe,d.Cb.splice(oc(d,c),0,this));this.x=a;this.y=c};b.moveBy=function(a,c){this.moveTo(this.x+a,this.y+c)};function pc(a,c){a.moveTo(c.x+a.ni.x,c.y+a.ni.y)}function G(a,c,d){a.ni.x=c;a.ni.y=d}
function qc(a){var c=a.xa.x-a.x,d=a.xa.y-a.y;if(0!=c||0!=d){a=a.ra();var e=a.qa();if(!e)throw Error("block is not rendered.");e=h.g.le(e);a.qa().setAttribute("transform","translate("+(e.x-c)+","+(e.y-d)+")");Ga(a,-c,-d)}}
b.closest=function(a,c){var d=this.pw;if(d.Cb.length){var e=this.y,f=this.x;this.x=f+c.x;this.y=e+c.y;var g=oc(d,this.y);c=null;for(var k=a,l,m=g-1;0<=m&&Math.abs(d.Cb[m].y-this.y)<=a;)l=d.Cb[m],$a(d.hw,this,l,!0,k)&&(c=l,k=eb(l,this)),m--;for(;g<d.Cb.length&&Math.abs(d.Cb[g].y-this.y)<=a;)l=d.Cb[g],$a(d.hw,this,l,!0,k)&&(c=l,k=eb(l,this)),g++;this.x=f;this.y=e;a={connection:c,ap:k}}else a={connection:null,ap:a};return a};
function cc(a,c){c&&a.Tf==h.Hb.Ie.ej||!c&&a.Tf==h.Hb.Ie.Dv||a.K.Zc||(c?(c=a.Oe,c.Cb.splice(oc(c,a.y),0,a),a.Tf=h.Hb.Ie.ej):(a.Tf==h.Hb.Ie.ej&&mc(a.Oe,a,a.y),a.Tf=h.Hb.Ie.Dv))}function bc(a){cc(a,!0);var c=[];if(a.type!=h.Z.$b&&a.type!=h.Z.ac)return c;if(a=a.ra()){if(a.isCollapsed()){var d=[];a.T&&d.push(a.T);a.ka&&d.push(a.ka);a.ga&&d.push(a.ga)}else d=a.je(!0);for(var e=0;e<d.length;e++)c.push.apply(c,bc(d[e]));c.length||(c[0]=a)}return c}
b.Vs=function(a){var c=this.$();if(h.h.Ma){var d=h.h.Ub();setTimeout(function(){c.Pe||c.getParent()||(h.h.ta(d),nc(this,a),h.h.ta(!1))}.bind(this),h.yp)}};b.pr=function(a,c){h.Hb.v.pr.call(this,a,c);a.ua&&a.Na();c.ua&&(ia(c),c.Na(),c.qa().style.display="block")};b.hm=function(){h.Hb.v.hm.call(this);var a=this.ra();a&&(a.Hj(),a.Na(!1),a=this.$(),a.ua&&a.Na())};b.Lx=function(a){return rc(this.pw,this,a)};
b.On=function(a){h.Hb.v.On.call(this,a);var c=this.$();a=a.$();var d=c.ua,e=a.ua;d&&ia(c);e&&ia(a);d&&e&&(this.type==h.Z.ac||this.type==h.Z.wd?a.Na():c.Na());if(c=oa(c,a))c=c.isVisible(),a.qa().style.display=c?"block":"none"};b.Ux=function(){!this.isConnected()||this.xa&&$a(this.K.B.Bf,this,this.xa,!1)||(C(Ha(this)?this.ra():this.K),this.K.Vc())};h.oh=function(){h.oh.v.constructor.call(this)};h.g.object.U(h.oh,h.Yf);h.oh.yE="basicCursor";b=h.oh.prototype;b.next=function(){var a=this.ge;if(!a)return null;(a=sc(this,a,this.$t))&&Mb(this,a);return a};b.Gg=function(){return this.next()};b.Zg=function(){var a=this.ge;if(!a)return null;(a=tc(this,a,this.$t))&&Mb(this,a);return a};b.Wg=function(){return this.Zg()};
function sc(a,c,d){if(!c)return null;var e=c.Gg()||c.next();if(d(e))return e;if(e)return sc(a,e,d);c=uc(a,c.Wg());return d(c)?c:c?sc(a,c,d):null}function tc(a,c,d){if(!c)return null;var e=c.Zg();e=e?xc(a,e):c.Wg();return d(e)?e:e?tc(a,e,d):null}b.$t=function(a){var c=!1;a=a&&a.getType();if(a==h.D.types.yh||a==h.D.types.td||a==h.D.types.zc||a==h.D.types.gg||a==h.D.types.jg||a==h.D.types.Sc)c=!0;return c};function uc(a,c){if(!c)return null;var d=c.next();return d?d:uc(a,c.Wg())}
function xc(a,c){if(!c.Gg())return c;for(c=c.Gg();c.next();)c=c.next();return xc(a,c)}h.u.register(h.u.R.nk,h.oh.yE,h.oh);h.tq=function(){h.tq.v.constructor.call(this)};h.g.object.U(h.tq,h.oh);h.tq.prototype.$t=function(a){a&&a.getType();return!1};h.Xa=function(a,c,d){this.O=h.g.j.L(h.g.F.Pc,{},null);this.O.Cm="";this.style=yc(a.ob.ea(),null);this.zb=a.ob.Dx(this.O,this.style);this.vt=this.ua=!1;this.B=a;this.ga=this.ka=this.T=null;this.Gm=h.g.Yh()&&!!a.gd;var e=this.zb.Kb;e.Sd=this;h.G.kj(e);h.Xa.v.constructor.call(this,a,c,d);this.O.dataset?this.O.dataset.id=this.id:h.g.userAgent.Yd&&this.O.setAttribute("data-id",this.id)};h.g.object.U(h.Xa,h.Li);h.Xa.prototype.height=0;h.Xa.prototype.width=0;h.Xa.prototype.sp=null;h.Xa.LG=-1;h.Xa.BF="TEMP_COLLAPSED_WARNING_";
b=h.Xa.prototype;b.Hj=function(){if(!this.B.ua)throw TypeError("Workspace is headless.");for(var a=0,c;c=this.V[a];a++)c.Ba();c=Ca(this);for(a=0;a<c.length;a++)c[a].cC();this.dc();ya(this.zb,"blocklyDraggable",this.rc());a=this.qa();this.B.options.readOnly||this.uC||!a||h.N.Aa(a,"mousedown",this,this.Tg);this.uC=!0;a.parentNode||this.B.wb.appendChild(a)};
b.select=function(){if(this.Ka&&this.getParent())this.getParent().select();else if(h.selected!=this){var a=null;if(h.selected){a=h.selected.id;h.h.disable();try{yb(h.selected)}finally{h.h.enable()}}a=new (h.h.get(h.h.Zi))(a,this.id,this.B.id);h.h.Fa(a);h.selected=this;this.An()}};function yb(a){if(h.selected==a){var c=new (h.h.get(h.h.Zi))(a.id,null,a.B.id);c.Wb=a.B.id;h.h.Fa(c);h.selected=null;a.gm()}}b.pe=null;b.Ih=null;b.Bd=null;b.Ty=null;
function Ca(a){var c=[];a.pe&&c.push(a.pe);a.Bd&&c.push(a.Bd);a.Ty&&c.push(a.Ty);return c}b.gp=function(a){var c=this.af;if(a!=c){h.g.j.sm();h.Xa.v.gp.call(this,a);h.g.j.tm();var d=this.qa();if(!this.B.ps&&d){var e=this.Za();a?(a.qa().appendChild(d),a=this.Za(),Ga(this,a.x-e.x,a.y-e.y)):c&&(this.B.wb.appendChild(d),this.translate(e.x,e.y));this.dc()}}};
b.Za=function(){var a=0,c=0,d=this.Gm?this.B.gd.Ub():null,e=this.qa();if(e){do{var f=h.g.le(e);a+=f.x;c+=f.y;this.Gm&&this.B.gd.Qe.firstChild==e&&(f=this.B.gd.Xr(),a+=f.x,c+=f.y);e=e.parentNode}while(e&&e!=this.B.wb&&e!=d)}return new h.g.S(a,c)};b.moveBy=function(a,c){if(this.af)throw Error("Block has parent.");var d=h.h.isEnabled();if(d)var e=new (h.h.get(h.h.nh))(this);var f=this.Za();this.translate(f.x+a,f.y+c);Ga(this,a,c);d&&(e.ri(),h.h.Fa(e));ja(this.B)};
b.translate=function(a,c){this.qa().setAttribute("transform","translate("+a+","+c+")")};b.moveTo=function(a){var c=this.Za();this.moveBy(a.x-c.x,a.y-c.y)};b.Ks=function(a){this.Gm?this.B.gd.Di(a.x,a.y):(this.O.Cm="translate("+a.x+","+a.y+")",this.O.setAttribute("transform",this.O.Cm+this.O.qm))};
function zc(a){if(a.B&&!a.B.Yc()&&!a.getParent()&&!a.Zc){var c=a.B.Gd;if(c&&c.NE){var d=c.Nt,e=d/2,f=a.Za();c=Math.round((f.x-e)/d)*d+e-f.x;d=Math.round((f.y-e)/d)*d+e-f.y;c=Math.round(c);d=Math.round(d);0==c&&0==d||a.moveBy(c,d)}}}b.vl=function(){var a=this.Za(),c=r(this);if(this.J){var d=a.x-c.width;var e=a.x}else d=a.x,e=a.x+c.width;return new h.g.Rect(a.y,a.y+c.height,d,e)};b.Ql=function(){this.zb.lb=this.B.ob.ea();for(var a=0,c;c=this.V[a];a++)c.Ql()};
b.wi=function(a){this.Gh!=a&&(h.Xa.v.wi.call(this,a),a?this.ua&&this.Na():Ac(this))};function Ac(a){for(var c=a.isCollapsed(),d=h.lb.Sm,e=h.lb.Rm,f=0,g;g=a.V[f];f++)g.name!=d&&g.Ib(!c);if(c){g=Ca(a);for(f=0;c=g[f];f++)c.Ib(!1);f=a.toString(h.lz);(g=ma(a,e))?g.setValue(f):(g=ka(a,d)||fc(a,d),F(g,new h.sd(f),e))}else ia(a),a.ut(d)}
b.Tg=function(a){var c=this.B&&this.B.Ag(a);if(c){if(c.Th)throw Error("Tried to call gesture.handleBlockStart, but the gesture had already been started.");Ib(c,this);c.Kd=a}};b.showHelp=function(){var a="function"==typeof this.Gj?this.Gj():this.Gj;a&&window.open(a)};b.nm=function(a){if(this.B.options.readOnly||!this.contextMenu)var c=null;else c=lc(h.Ea.Dc.Qb,{block:this}),this.hC&&this.hC(c);c&&c.length&&(h.Ra.show(a,c,this.J),h.Ra.Tn=this)};
function Ga(a,c,d){if(a.ua){for(var e=a.je(!1),f=0;f<e.length;f++)e[f].moveBy(c,d);e=Ca(a);for(f=0;f<e.length;f++)e[f].WB();for(f=0;f<a.yf.length;f++)Ga(a.yf[f],c,d)}}b.dh=function(a){if(a){var c=this.qa();c.Cm="";c.qm="";h.zj=h.zj.concat(this.je(!0));h.g.j.Lb(this.O,"blocklyDragging")}else h.zj=[],h.g.j.bd(this.O,"blocklyDragging");for(c=0;c<this.yf.length;c++)this.yf[c].dh(a)};b.Ft=function(a){h.Xa.v.Ft.call(this,a);ya(this.zb,"blocklyDraggable",a)};
b.Et=function(a){h.Xa.v.Et.call(this,a);a=Ca(this);for(var c=0;c<a.length;c++)Nb(a[c])};b.It=function(a){h.Xa.v.It.call(this,a);this.dc()};b.wy=function(a){this.Mj!=a&&(this.Mj=a)&&(this.re(this.B.ob.ea().Pp),ya(this.zb,"blocklyInsertionMarker",!0))};b.qa=function(){return this.O};
b.H=function(a,c){if(this.B){h.G.H();h.G.Xt(this.zb.Kb);h.g.j.sm();var d=this.B;h.selected==this&&(yb(this),Bc(this.B));h.Ra.Tn==this&&h.Ra.$a();c&&this.ua&&(C(this,a),h.cb.oC(this));this.ua=!1;if(this.sp){for(var e in this.sp)clearTimeout(this.sp[e]);this.sp=null}c=Ca(this);for(e=0;e<c.length;e++)c[e].H();h.Xa.v.H.call(this,!!a);h.g.j.removeNode(this.O);ja(d);this.O=null;h.g.j.tm()}};
b.dc=function(){this.zb.dc(this);for(var a=Ca(this),c=0;c<a.length;c++)a[c].dc();for(a=0;c=this.V[a];a++)for(var d=0,e;e=c.fb[d];d++)e.dc()};function ia(a){var c=ea(a,!1);a.dc();if(!a.isCollapsed()){a=0;for(var d;d=c[a];a++)d.ua&&ia(d)}}b.JC=function(){return this.Bd};
b.Vj=function(a){if(!h.Comment)throw Error("Missing require for Blockly.Comment");this.ee.text!=a&&(h.Xa.v.Vj.call(this,a),a=null!=a,!!this.Bd==a?this.Bd.oK():(a?this.Ih=this.Bd=new h.Comment(this):(this.Bd.H(),this.Ih=this.Bd=null),this.ua&&(this.Na(),this.Vc())))};b.xy=function(a){this.pe&&this.pe!==a&&this.pe.H();a&&(a.bK(this),this.pe=a,a.cC());this.ua&&(this.Na(),this.Vc())};b.cf=function(a){this.isEnabled()!=a&&(h.Xa.v.cf.call(this,a),this.ua&&!ec(this)&&ia(this))};
b.se=function(a){this.ua&&this.zb.Ky(a)};b.An=function(){ya(this.zb,"blocklySelected",!0)};b.gm=function(){ya(this.zb,"blocklySelected",!1)};b.Dt=function(a){ya(this.zb,"blocklyDraggingDelete",a)};b.Qr=function(){return this.style.Hh};b.re=function(a){h.Xa.v.re.call(this,a);a=Cc(this.B.ob.ea(),this.Ad);this.zb.Ai(a.style);this.style=a.style;this.um=a.name;this.dc()};
b.Ai=function(a){var c=yc(this.B.ob.ea(),a);this.um=a;if(c)this.Ue=c.Ue,this.zb.Ai(c),this.Ad=c.Hh,this.style=c,this.dc();else throw Error("Invalid style name: "+a);};function Da(a){do{var c=a.qa(),d=c.parentNode,e=d.childNodes;e[e.length-1]!==c&&d.appendChild(c);a=a.getParent()}while(a)}b.zi=function(a,c){h.Xa.v.zi.call(this,a,c);this.ua&&(this.Na(),this.Vc())};b.Xj=function(a,c){h.Xa.v.Xj.call(this,a,c);this.ua&&(this.Na(),this.Vc())};
b.Gt=function(a,c){h.Xa.v.Gt.call(this,a,c);this.ua&&(this.Na(),this.Vc())};b.yi=function(a){h.Xa.v.yi.call(this,a);this.ua&&(this.Na(),this.Vc())};b.ut=function(a,c){a=h.Xa.v.ut.call(this,a,c);this.ua&&(this.Na(),this.Vc());return a};b.vf=function(a,c){a=h.Xa.v.vf.call(this,a,c);this.ua&&(this.Na(),this.Vc());return a};
function ha(a,c){a.ga&&cc(a.ga,c);a.T&&cc(a.T,c);if(a.ka){cc(a.ka,c);var d=a.ka.ra();d&&ha(d,c)}if(!a.Gh)for(d=0;d<a.V.length;d++){var e=a.V[d].connection;e&&(cc(e,c),(e=e.ra())&&ha(e,c))}}b.je=function(a){var c=[];if(a||this.ua)if(this.T&&c.push(this.T),this.ga&&c.push(this.ga),this.ka&&c.push(this.ka),a||!this.Gh){a=0;for(var d;d=this.V[a];a++)d.connection&&c.push(d.connection)}return c};b.Do=function(a){return h.Xa.v.Do.call(this,a)};b.Tr=function(a,c){return h.Xa.v.Tr.call(this,a,c)};
b.Pl=function(a){return new h.Hb(this,a)};b.Vc=function(){if(this.B&&!this.B.Yc()){var a=this.me();if(!a.Zc)for(var c=this.je(!1),d=0,e;e=c[d];d++){e.isConnected()&&Ha(e)&&e.ra().Vc();for(var f=e.Lx(h.nc),g=0,k;k=f[g];g++)e.isConnected()&&k.isConnected()||k.$().me()!=a&&(Ha(e)?nc(k,e):nc(e,k))}}};function Ia(a){var c=h.h.Ub();setTimeout(function(){h.h.ta(c);zc(a);h.h.ta(!1)},h.yp/2);setTimeout(function(){h.h.ta(c);a.Vc();h.h.ta(!1)},h.yp)}b.getParent=function(){return h.Xa.v.getParent.call(this)};
b.me=function(){return h.Xa.v.me.call(this)};b.Na=function(a){if(!this.vt){this.vt=!0;try{this.ua=!0;h.g.j.sm();this.isCollapsed()&&Ac(this);this.B.ob.Na(this);var c=this.Za();this.ga&&pc(this.ga,c);this.T&&pc(this.T,c);for(var d=0;d<this.V.length;d++){var e=this.V[d].connection;e&&(pc(e,c),e.isConnected()&&qc(e))}this.ka&&(pc(this.ka,c),this.ka.isConnected()&&qc(this.ka));if(!1!==a){var f=this.getParent();f?f.Na(!0):ja(this.B)}h.g.j.tm();this.Zt()}finally{this.vt=!1}}};
b.Zt=function(){this.B.Nl&&this.zb.cl&&this.B.xl().draw();this.B.Nl&&this.zb.Fs&&this.B.Al(h.Ek.Uu).draw()};b.Qf=function(a){this.zb.Qf(a)};b.eh=function(a){this.zb.eh(a)};function r(a){var c=a.height,d=a.width,e=y(a);e&&(e=r(e),a=a.B.ob.ea().Zp,c+=e.height-a,d=Math.max(d,e.width));return{height:c,width:d}};h.AG=function(){};h.GG=function(){};h.Ym=function(){};h.Ym.prototype.Ts=function(){};h.Ym.prototype.Ss=function(){};h.Ym.prototype.Us=function(){};h.FG=function(){};h.Xm=function(){h.Xm.v.constructor.call(this);this.tp=!1};h.g.object.U(h.Xm,h.Ym);function Ba(a,c,d){c instanceof h.Xa?(c=!c.getParent()&&c.Ye(),a.tp=c&&!d):a.tp=c.Ye();return a.tp};h.h.og=function(a,c){h.h.og.v.constructor.call(this,c);this.qs=a};h.g.object.U(h.h.og,h.h.$d);h.h.og.prototype.type=h.h.rq;h.h.og.prototype.pa=function(){var a=h.h.og.v.pa.call(this);a.isOpen=this.qs;return a};h.h.og.prototype.aa=function(a){h.h.og.v.aa.call(this,a);this.qs=a.isOpen};h.u.register(h.u.R.Fb,h.h.rq,h.h.og);h.wG=function(){};h.PG=function(){};h.Vb={};h.Vb.rp={mg:0,Ki:1};h.Vb.hs={Gb:0,Cc:1};h.Vb.Lq={wn:0,Hp:1};h.Vb.VC=function(a,c,d,e,f,g){var k=g.Ta&&!!g.Ta.Ua;a.Gl===h.Vb.hs.Gb?(d=f.zn.left+d,k&&g.J&&(d+=h.Ja.ic)):(d=f.zn.left+f.Sy.width-c.width-d,k&&!g.J&&(d-=h.Ja.ic));a.vertical===h.Vb.rp.mg?a=f.zn.top+e:(a=f.zn.top+f.Sy.height-c.height-e,g.Ta&&g.Ta.jb&&(a-=h.Ja.ic));return new h.g.Rect(a,a+c.height,d,d+c.width)};
h.Vb.NC=function(a){return{Gl:a.Iy.position!==h.g.W.bb.Gb?h.Vb.hs.Gb:h.Vb.hs.Cc,vertical:a.Iy.position===h.g.W.bb.Ki?h.Vb.rp.mg:h.Vb.rp.Ki}};h.Vb.HB=function(a,c,d,e){for(var f=a.left,g=a.right-a.left,k=a.bottom-a.top,l=0,m;m=e[l];l++)a.left>m.right||a.right<m.left||a.top>m.bottom||a.bottom<m.top||(a=d===h.Vb.Lq.wn?m.top-k-c:m.bottom+c,a=new h.g.Rect(a,a+k,f,f+g),l=-1);return a};h.Tb=function(a){h.Tb.v.constructor.call(this);this.m=a;this.id="trashcan";this.wg=[];this.Fd=null;0>=this.m.options.Lo||(a=new h.ed({scrollbars:!0,parentWorkspace:this.m,rtl:this.m.J,oneBasedIndex:this.m.options.Vo,renderer:this.m.options.xt,rendererOverrides:this.m.options.yt,move:{scrollbars:!0}}),a.qd=this.m.qd==h.g.W.bb.Cc?h.g.W.bb.Gb:h.g.W.bb.Cc,this.Fd=new (h.u.Oh(h.u.R.Lp,this.m.options,!0))(a),E(this.m,this.RD.bind(this)))};h.g.object.U(h.Tb,h.Xm);b=h.Tb.prototype;b.fj=47;b.Om=44;b.Ti=16;
b.Vu=20;b.tA=20;b.fn=10;b.lq=0;b.mq=32;b.aA=.1;h.Tb.bz=80;h.Tb.fu=4;h.Tb.cv=.4;h.Tb.DA=.8;h.Tb.Wu=45;b=h.Tb.prototype;b.wo=!1;b.Is=0;b.O=null;b.mp=null;b.ws=0;b.Og=0;b.Eo=0;b.op=0;b.px=!1;
b.Va=function(){this.O=h.g.j.L(h.g.F.Pc,{"class":"blocklyTrash"},null);var a=String(Math.random()).substring(2);var c=h.g.j.L(h.g.F.pu,{id:"blocklyTrashBodyClipPath"+a},this.O);h.g.j.L(h.g.F.xd,{width:this.fj,height:this.Om,y:this.Ti},c);var d=h.g.j.L(h.g.F.xk,{width:h.$i.width,x:-this.lq,height:h.$i.height,y:-this.mq,"clip-path":"url(#blocklyTrashBodyClipPath"+a+")"},this.O);d.setAttributeNS(h.g.j.fd,"xlink:href",this.m.options.$o+h.$i.url);c=h.g.j.L(h.g.F.pu,{id:"blocklyTrashLidClipPath"+a},this.O);
h.g.j.L(h.g.F.xd,{width:this.fj,height:this.Ti},c);this.mp=h.g.j.L(h.g.F.xk,{width:h.$i.width,x:-this.lq,height:h.$i.height,y:-this.mq,"clip-path":"url(#blocklyTrashLidClipPath"+a+")"},this.O);this.mp.setAttributeNS(h.g.j.fd,"xlink:href",this.m.options.$o+h.$i.url);h.N.bind(this.O,"mousedown",this,this.CB);h.N.bind(this.O,"mouseup",this,this.click);h.N.bind(d,"mouseover",this,this.ID);h.N.bind(d,"mouseout",this,this.GD);this.Bq();return this.O};
b.Ba=function(){0<this.m.options.Lo&&(h.g.j.Ij(this.Fd.Va(h.g.F.bj),v(this.m)),this.Fd.Ba(this.m));qa(this.m.Af,{Uk:this,weight:1,tg:[h.Eb.Rb.ju,h.Eb.Rb.Fp,h.Eb.Rb.Ip,h.Eb.Rb.ov]});this.px=!0;this.Wj(!1)};b.H=function(){ra(this.m.Af,"trashcan");this.O&&(h.g.j.removeNode(this.O),this.O=null);this.m=this.mp=null;clearTimeout(this.ws)};
b.position=function(a,c){if(this.px){var d=h.Vb.NC(a);a=h.Vb.VC(d,new h.g.Qc(this.fj,this.Om+this.Ti),this.tA,this.Vu,a,this.m);c=h.Vb.HB(a,this.Vu,d.vertical===h.Vb.rp.mg?h.Vb.Lq.Hp:h.Vb.Lq.wn,c);this.op=c.top;this.Eo=c.left;this.O.setAttribute("transform","translate("+this.Eo+","+this.op+")")}};b.vl=function(){return new h.g.Rect(this.op,this.op+this.Om+this.Ti,this.Eo,this.Eo+this.fj)};
b.Kw=function(){if(!this.O)return null;var a=this.O.getBoundingClientRect(),c=a.top+this.mq-this.fn;a=a.left+this.lq-this.fn;return new h.g.Rect(c,c+this.Ti+this.Om+2*this.fn,a,a+this.fj+2*this.fn)};b.Ts=function(){this.Wj(this.tp)};b.Ss=function(){this.Wj(!1)};b.Us=function(){setTimeout(this.Wj.bind(this,!1),100)};b.Wj=function(a){this.wo!=a&&(clearTimeout(this.ws),this.wo=a,this.Bq())};
b.Bq=function(){var a=1/(h.Tb.fu+1);this.Og+=this.wo?a:-a;this.Og=Math.min(Math.max(this.Og,this.Is),1);Dc(this,this.Og*h.Tb.Wu);this.O.style.opacity=h.Tb.cv+this.Og*(h.Tb.DA-h.Tb.cv);this.Og>this.Is&&1>this.Og&&(this.ws=setTimeout(this.Bq.bind(this),h.Tb.bz/h.Tb.fu))};function Dc(a,c){var d=a.m.qd==h.g.W.bb.Cc;a.mp.setAttribute("transform","rotate("+(d?-c:c)+","+(d?4:a.fj-4)+","+(a.Ti-2)+")")}
b.click=function(){if(this.wg.length&&(!this.Fd||!this.Fd.isVisible())){var a=this.wg.map(h.I.ue);this.Fd.show(a);Ec(this,!0)}};function Ec(a,c){a=new (h.h.get(h.h.rq))(c,a.m.id);h.h.Fa(a)}b.CB=function(a){this.Fd&&this.Fd.isVisible()||!this.wg.length||a.stopPropagation()};b.ID=function(){this.wg.length&&this.Wj(!0)};b.GD=function(){this.Wj(!1)};
b.RD=function(a){if(!(0>=this.m.options.Lo)&&a.type==h.h.wp&&a.Qj.tagName&&"shadow"!=a.Qj.tagName.toLowerCase()){for(var c=a=a.Qj.cloneNode(!0);c;){c.removeAttribute&&(c.removeAttribute("x"),c.removeAttribute("y"),c.removeAttribute("id"),c.removeAttribute("disabled"),"comment"==c.nodeName&&(c.removeAttribute("h"),c.removeAttribute("w"),c.removeAttribute("pinned")));var d=c.firstChild||c.nextSibling;if(!d)for(d=c.parentNode;d;){if(d.nextSibling){d=d.nextSibling;break}d=d.parentNode}c=d}a=h.I.Dd(a);
if(-1==this.wg.indexOf(a)){for(this.wg.unshift(a);this.wg.length>this.m.options.Lo;)this.wg.pop();this.Is=a=this.aA;this.wo||Dc(this,a*h.Tb.Wu)}}};h.i.register=function(a,c){h.u.register(h.u.R.RENDERER,a,c)};h.i.unregister=function(a){h.u.unregister(h.u.R.RENDERER,a)};h.i.Ba=function(a,c,d){a=new (h.u.Pr(h.u.R.RENDERER,a))(a);a.Ba(c,d);return a};h.KG=function(){};h.Fk=function(a){this.m=a};function Fc(a){var c=0,d=0;a&&(c=a.Bl(),d=a.Kc);return new h.g.Qc(c,d)}function Gc(a){var c=Fc(Hc(a.m,!0));return{width:c.width,height:c.height,position:a.m.qd}}function Ic(a){var c=Fc(a.m.pb);return{width:c.width,height:c.height,position:a.m.qd}}function Jc(a){var c=0,d=Ic(a),e=Gc(a),f=!!a.m.pb;a=!!Hc(a.m,!0);var g=f?d.position:e.position,k=g==h.g.W.bb.Gb;g=g==h.g.W.bb.mg;f&&k?c=d.width:a&&k&&(c=e.width);k=0;f&&g?k=d.height:a&&g&&(k=e.height);return{top:k,left:c}}
function tb(a,c){c=c?a.m.scale:1;var d=Kc(a.m),e=Ic(a),f=Gc(a),g=a.m.pb?e.position:f.position;if(a.m.pb)if(g==h.g.W.bb.mg||g==h.g.W.bb.Ki)d.height-=e.height;else{if(g==h.g.W.bb.Gb||g==h.g.W.bb.Cc)d.width-=e.width}else if(Hc(a.m,!0))if(g==h.g.W.bb.mg||g==h.g.W.bb.Ki)d.height-=f.height;else if(g==h.g.W.bb.Gb||g==h.g.W.bb.Cc)d.width-=f.width;return{height:d.height/c,width:d.width/c,top:-a.m.scrollY/c,left:-a.m.scrollX/c}}
h.Fk.prototype.io=function(){var a=this.m.scale,c=fa(this.m);return{height:(c.bottom-c.top)*a,width:(c.right-c.left)*a,top:c.top*a,left:c.left*a}};
h.Fk.prototype.Rh=function(a,c,d){a=a?this.m.scale:1;var e=c||tb(this,!1);d=d||this.io();if(wb(this.m)&&xb(this.m))c={};else{c=wb(this.m);var f=xb(this.m),g=e||tb(this,!1);var k={};f||(k.top=g.top,k.bottom=g.top+g.height);c||(k.left=g.left,k.right=g.left+g.width);c=k}k=d.top+d.height;f=d.left+d.width;g=e.width;var l=e.height;var m=g/2,n=l/2;e=Math.min(d.top-n,k-l);k=Math.max(k+n,d.top+l);l=Math.min(d.left-m,f-g);d=Math.max(f+m,d.left+g);e=void 0!==c.top?c.top:e;f=void 0!==c.left?c.left:l;return{top:e/
a,left:f/a,width:((void 0!==c.right?c.right:d)-f)/a,height:((void 0!==c.bottom?c.bottom:k)-e)/a}};h.Fk.prototype.ke=function(){var a=Ic(this),c=Gc(this),d=Kc(this.m),e=Jc(this),f=tb(this),g=this.io(),k=this.Rh(!1,f,g);return{fJ:g.height,iJ:g.width,hJ:g.top,gJ:g.left,scrollHeight:k.height,scrollWidth:k.width,scrollTop:k.top,scrollLeft:k.left,Oc:f.height,xc:f.width,Ud:f.top,Td:f.left,Tc:e.top,Ec:e.left,iK:d.height,kK:d.width,mK:a.width,lK:a.height,qd:a.position,qJ:c.width,pJ:c.height}};
h.u.register(h.u.R.Zu,h.u.Pi,h.Fk);h.wk=function(a,c){this.ya=c;h.wk.v.constructor.call(this,a)};h.g.object.U(h.wk,h.Fk);h.wk.prototype.io=function(){try{var a=this.m.wb.getBBox()}catch(d){a={height:0,y:0,width:0,x:0}}var c=this.m.scale;return{height:a.height*c,width:a.width*c,top:a.y*c,left:a.x*c}};h.wk.prototype.Rh=function(a,c,d){c=d||this.io();d=this.ya.Ui*this.m.scale;a=a?this.m.scale:1;return{height:(c.height+2*d)/a,width:(c.width+c.left+d)/a,top:0,left:0}};h.IG=function(){};h.Oi=function(a){this.Cb=[];this.hw=a};function Lc(a,c,d){if(!a.Cb.length)return-1;var e=oc(a,d);if(e>=a.Cb.length)return-1;d=c.y;for(var f=e;0<=f&&a.Cb[f].y==d;){if(a.Cb[f]==c)return f;f--}for(f=e;f<a.Cb.length&&a.Cb[f].y==d;){if(a.Cb[f]==c)return f;f++}return-1}function oc(a,c){if(!a.Cb.length)return 0;for(var d=0,e=a.Cb.length;d<e;){var f=Math.floor((d+e)/2);if(a.Cb[f].y<c)d=f+1;else if(a.Cb[f].y>c)e=f;else{d=f;break}}return d}
function mc(a,c,d){c=Lc(a,c,d);if(-1==c)throw Error("Unable to find connection in connectionDB.");a.Cb.splice(c,1)}function rc(a,c,d){function e(n){var p=g-f[n].x,q=k-f[n].y;Math.sqrt(p*p+q*q)<=d&&m.push(f[n]);return q<d}var f=a.Cb,g=c.x,k=c.y;a=0;for(var l=c=f.length-2;a<l;)f[l].y<k?a=l:c=l,l=Math.floor((a+c)/2);var m=[];c=a=l;if(f.length){for(;0<=a&&e(a);)a--;do c++;while(c<f.length&&e(c))}return m}
h.Oi.Ba=function(a){var c=[];c[h.Z.$b]=new h.Oi(a);c[h.Z.dd]=new h.Oi(a);c[h.Z.ac]=new h.Oi(a);c[h.Z.wd]=new h.Oi(a);return c};h.h.ng=function(a,c){h.h.ng.v.constructor.call(this,c);this.Fy=a};h.g.object.U(h.h.ng,h.h.$d);h.h.ng.prototype.type=h.h.pq;h.h.ng.prototype.pa=function(){var a=h.h.ng.v.pa.call(this);a.themeName=this.Fy;return a};h.h.ng.prototype.aa=function(a){h.h.ng.v.aa.call(this,a);this.Fy=a.themeName};h.u.register(h.u.R.Fb,h.h.pq,h.h.ng);h.h.qg=function(a,c,d,e,f){h.h.qg.v.constructor.call(this,e);this.Ud=a;this.Td=c;this.scale=d;this.Xl=f};h.g.object.U(h.h.qg,h.h.$d);h.h.qg.prototype.type=h.h.Lk;h.h.qg.prototype.pa=function(){var a=h.h.qg.v.pa.call(this);a.viewTop=this.Ud;a.viewLeft=this.Td;a.scale=this.scale;a.oldScale=this.Xl;return a};h.h.qg.prototype.aa=function(a){h.h.qg.v.aa.call(this,a);this.Ud=a.viewTop;this.Td=a.viewLeft;this.scale=a.scale;this.Xl=a.oldScale};h.u.register(h.u.R.Fb,h.h.Lk,h.h.qg);h.wh=function(a,c){this.Dj=a;this.Nt=c.spacing;this.Bx=c.length;this.yD=(this.xs=a.firstChild)&&this.xs.nextSibling;this.NE=c.snap};h.wh.prototype.bh=1;h.wh.prototype.H=function(){this.Dj=null};h.wh.prototype.update=function(a){this.bh=a;var c=this.Nt*a||100;this.Dj.setAttribute("width",c);this.Dj.setAttribute("height",c);c=Math.floor(this.Nt/2)+.5;var d=c-this.Bx/2,e=c+this.Bx/2;c*=a;d*=a;e*=a;Mc(this.xs,a,d,e,c,c);Mc(this.yD,a,c,c,d,e)};
function Mc(a,c,d,e,f,g){a&&(a.setAttribute("stroke-width",c),a.setAttribute("x1",d),a.setAttribute("y1",f),a.setAttribute("x2",e),a.setAttribute("y2",g))}h.wh.prototype.moveTo=function(a,c){this.Dj.setAttribute("x",a);this.Dj.setAttribute("y",c);(h.g.userAgent.Yd||h.g.userAgent.uh)&&this.update(this.bh)};
h.wh.Va=function(a,c,d){a=h.g.j.L(h.g.F.nv,{id:"blocklyGridPattern"+a,patternUnits:"userSpaceOnUse"},d);0<c.length&&0<c.spacing?(h.g.j.L(h.g.F.Bk,{stroke:c.colour},a),1<c.length&&h.g.j.L(h.g.F.Bk,{stroke:c.colour},a)):h.g.j.L(h.g.F.Bk,{},a);return a};h.Cv=function(a,c){this.m=a;this.Sf=c;this.vm=[];this.Me=Object.create(null)};b=h.Cv.prototype;b.If=function(){return this.Sf};b.mm=function(a){var c=this.Sf;this.Sf=a;if(a=ca(this.m))c&&h.g.j.bd(a,c.ie()),h.g.j.Lb(a,this.Sf.ie());for(c=0;a=this.vm[c];c++)Nc(a);c=0;a=Object.keys(this.Me);for(var d;d=a[c];c++)for(var e=0,f;f=this.Me[d][e];e++)f.element.style[f.propertyName]=this.Sf&&fb(this.Sf,d)||"";h.hc()};
b.subscribe=function(a,c,d){this.Me[c]||(this.Me[c]=[]);this.Me[c].push({element:a,propertyName:d});a.style[d]=this.Sf&&fb(this.Sf,c)||""};b.unsubscribe=function(a){if(a)for(var c=Object.keys(this.Me),d=0,e;e=c[d];d++){for(var f=this.Me[e],g=f.length-1;0<=g;g--)f[g].element===a&&f.splice(g,1);this.Me[e].length||delete this.Me[e]}};b.H=function(){this.Me=this.vm=this.Sf=this.Nd=null};h.Rc=function(a,c){h.Rc.v.constructor.call(this,a,c);this.xo=!1;this.hd=Object.create(null);this.By=this.dm=0;this.vx=this.Zs=null};h.g.object.U(h.Rc,h.Ee);h.Rc.nB=5;h.Rc.oB=6;b=h.Rc.prototype;b.wr=function(a){this.vx=this.Jb.options.yb&&this.Jb.options.yb.$x;h.Rc.v.wr.call(this,a);!this.uo&&h.Touch.Co(a)&&Oc(this,a)};
b.kj=function(a){this.Zs=h.N.Aa(document,"mousedown",null,this.eD.bind(this),!0);this.To=h.N.Aa(document,"mousemove",null,this.Ej.bind(this),!0);this.Uo=h.N.Aa(document,"mouseup",null,this.mo.bind(this),!0);a.preventDefault();a.stopPropagation()};b.eD=function(a){!this.Yc()&&h.Touch.Co(a)&&(Oc(this,a),this.xo&&h.Pg())};
b.Ej=function(a){if(this.Yc())h.Touch.Mt(a)&&h.Rc.v.Ej.call(this,a);else if(this.xo){if(h.Touch.Co(a)){this.hd[h.Touch.jo(a)]=Pc(this,a);var c=Object.keys(this.hd);if(this.vx&&2===c.length){c=Object.keys(this.hd);c=h.g.S.vr(this.hd[c[0]],this.hd[c[1]])/this.By;if(0<this.dm&&Infinity>this.dm){var d=c-this.dm;d=0<d?d*h.Rc.nB:d*h.Rc.oB;var e=this.Jb,f=h.g.Vl(a,v(e),Xa(e));e.zoom(f.x,f.y,d)}this.dm=c;a.preventDefault()}else h.Rc.v.Ej.call(this,a)}h.Pg()}else h.Rc.v.Ej.call(this,a)};
b.mo=function(a){if(h.Touch.Co(a)&&!this.Yc()){var c=h.Touch.jo(a);this.hd[c]&&delete this.hd[c];2>Object.keys(this.hd).length&&(this.hd=Object.create(null),this.dm=0)}!this.xo||this.Yc()?h.Touch.Mt(a)&&h.Rc.v.mo.call(this,a):(a.preventDefault(),a.stopPropagation(),this.H())};b.H=function(){h.Rc.v.H.call(this);this.Zs&&h.N.xb(this.Zs)};function Oc(a,c){a.hd[h.Touch.jo(c)]=Pc(a,c);var d=Object.keys(a.hd);2==d.length&&(a.By=h.g.S.vr(a.hd[d[0]],a.hd[d[1]]),a.xo=!0,c.preventDefault())}
function Pc(a,c){return a.Jb?new h.g.S(c.changedTouches?c.changedTouches[0].pageX:c.pageX,c.changedTouches?c.changedTouches[0].pageY:c.pageY):null};h.Iv=function(a){this.et=a;this.Ik=Object.create(null)};b=h.Iv.prototype;b.ts=null;b.H=function(){this.Ik=this.et=null};b.load=function(a,c){if(a.length){try{var d=new h.g.global.Audio}catch(l){return}for(var e,f=0;f<a.length;f++){var g=a[f],k=g.match(/\.(\w+)$/);if(k&&d.canPlayType("audio/"+k[1])){e=new h.g.global.Audio(g);break}}e&&e.play&&(this.Ik[c]=e)}};
b.preload=function(){for(var a in this.Ik){var c=this.Ik[a];c.volume=.01;var d=c.play();void 0!==d?d.then(c.pause).catch(function(){}):c.pause();if(h.g.userAgent.yk||h.g.userAgent.Pu)break}};b.play=function(a,c){var d=this.Ik[a];d?(a=new Date,null!=this.ts&&a-this.ts<h.ZA||(this.ts=a,d=h.g.userAgent.yk||h.g.userAgent.Km?d:d.cloneNode(),d.volume=void 0===c?1:c,d.play())):this.et&&this.et.Uc.play(a,c)};h.Kv=function(a){this.Yk=a;this.Va()};b=h.Kv.prototype;b.gb=null;b.Yk=null;b.Va=function(){this.gb||(this.gb=h.g.j.L(h.g.F.bj,{xmlns:h.g.j.tn,"xmlns:html":h.g.j.Mp,"xmlns:xlink":h.g.j.fd,version:"1.1","class":"blocklyWsDragSurface blocklyOverflowVisible"},null),this.Yk.appendChild(this.gb))};b.Di=function(a,c){a=a.toFixed(0);c=c.toFixed(0);this.gb.style.display="block";h.g.j.jm(this.gb,"translate3d("+a+"px, "+c+"px, 0px)")};b.Xr=function(){return h.g.le(this.gb)};
b.Jn=function(a){if(!a)throw Error("Couldn't clear and hide the drag surface: missing new surface.");var c=this.gb.childNodes[0],d=this.gb.childNodes[1];if(!(c&&d&&h.g.j.bs(c,"blocklyBlockCanvas")&&h.g.j.bs(d,"blocklyBubbleCanvas")))throw Error("Couldn't clear and hide the drag surface. A node was missing.");null!=this.nt?h.g.j.Ij(c,this.nt):a.insertBefore(c,a.firstChild);h.g.j.Ij(d,c);this.gb.style.display="none";if(this.gb.childNodes.length)throw Error("Drag surface was not cleared.");h.g.j.jm(this.gb,
"");this.nt=null};
h.cc=function(a,c,d){h.cc.v.constructor.call(this,a);this.$c=new (h.u.Oh(h.u.R.Zu,a,!0))(this);this.ke=a.ke||this.$c.ke.bind(this.$c);this.km=a.km||h.cc.JE;this.Af=new h.Eb;this.Qn=h.Oi.Ba(this.Bf);c&&(this.gd=c);d&&(this.Hi=d);this.qp=!!this.Hi&&h.g.Yh();this.oo=[];this.Uc=new h.Iv(a.ad);this.Gd=this.options.$r?new h.wh(this.options.$r,a.ax):null;this.ne=new h.Ek(this);this.Ut=Object.create(null);this.Ew=Object.create(null);h.na&&h.na.tl&&Qc(this,h.Dh,h.na.tl);h.Sa&&h.Sa.tl&&(Qc(this,h.cq,h.Sa.tl),
E(this,h.Sa.KD));this.lc=this.options.ad?this.options.ad.lc:new h.Cv(this,this.options.WE||h.qf.Wf);this.lc.vm.push(this);this.ob=h.i.Ba(this.options.xt||"geras",this.If(),this.options.yt);this.Pq=null;this.Nl=!1;this.Am=[];this.yr=[];this.Oq=new h.g.Qc(0,0)};h.g.object.U(h.cc,h.rb);b=h.cc.prototype;b.ep=null;b.ua=!0;b.Mf=!0;b.Lf=!1;b.zo=!1;b.zt=!0;b.scrollX=0;b.scrollY=0;b.zw=null;b.scale=1;b.Rs=1;b.Tx=0;b.Qx=0;b.ck=null;b.Ta=null;b.ya=null;b.pb=null;b.pc=null;b.gd=null;b.Hi=null;b.qp=!1;b.to=!1;
b.ns=null;b.Ax=null;b.Da=null;b.tx=null;b.os=!0;b.Qf=function(a){this.ne.Qf(a)};b.eh=function(a){this.ne.eh(a)};b.Al=function(a){return this.ne?this.ne.Al(a):null};b.xl=function(){return this.ne?this.ne.xl():null};b.If=function(){return this.lc.If()};b.mm=function(a){a||(a=h.qf.Wf);this.lc.mm(a)};function Nc(a){a.O&&a.ob.qt(a.O,a.If());Rc(D(a,!1).filter(function(c){return!!c.um}));Sc(a);a.pb&&Nc(a.pb);a.isVisible()&&a.Ib(!0);a=new (h.h.get(h.h.pq))(a.If().name,a.id);h.h.Fa(a)}
function Rc(a){for(var c=0,d;d=a[c];c++){var e=d.um;e&&(d.Ai(e),d.pe&&d.pe.nK())}}function Xa(a){if(a.os){var c=v(a).getScreenCTM();c&&(a.tx=c.inverse(),a.os=!1)}return a.tx}b.Fm=function(){this.os=!0};b.isVisible=function(){return this.Mf};function pa(a,c){var d=0,e=0,f=1;if(h.g.j.containsNode(a.wb,c)||h.g.j.containsNode(a.Rf,c))f=a.scale;do{var g=h.g.le(c);if(c==a.wb||c==a.Rf)f=1;d+=g.x*f;e+=g.y*f;c=c.parentNode}while(c&&c!=v(a));return new h.g.S(d,e)}
function Kc(a){a=a.Oq;return new h.g.Qc(a.width,a.height)}function ca(a){if(!a.ns)for(var c=a.O;c;){if(-1!=(" "+(c.getAttribute("class")||"")+" ").indexOf(" injectionDiv ")){a.ns=c;break}c=c.parentNode}return a.ns}
b.Va=function(a){this.O=h.g.j.L(h.g.F.Pc,{"class":"blocklyWorkspace"},null);a&&(this.jc=h.g.j.L(h.g.F.xd,{height:"100%",width:"100%","class":a},this.O),"blocklyMainBackground"==a&&this.Gd?this.jc.style.fill="url(#"+this.Gd.Dj.id+")":this.lc.subscribe(this.jc,"workspaceBackgroundColour","fill"));this.wb=h.g.j.L(h.g.F.Pc,{"class":"blocklyBlockCanvas"},this.O);this.Rf=h.g.j.L(h.g.F.Pc,{"class":"blocklyBubbleCanvas"},this.O);this.Lf||(h.N.Aa(this.O,"mousedown",this,this.Tg,!1,!0),h.N.Aa(this.O,"wheel",
this,this.YD));this.options.Dl&&(this.pb=new (h.u.Oh(h.u.R.fB,this.options,!0))(this));this.Gd&&this.Gd.update(this.scale);Tc(this);var c=h.u.Oh(h.u.R.nk,this.options);c&&(a=this.ne,c=new c,a.Cd&&a.Cd.Ed&&a.Cd.Ed.H(),a.Cd=c,a.Cd&&(c=a.Cd,c=new h.i.dg(a.m,a.m.ob.ea(),c),a.Cd.Ed=c,a.Qf(a.Cd.Ed.Va())));this.ob.Va(this.O,this.If());return this.O};
b.H=function(){this.ua=!1;this.pc&&this.pc.cancel();this.O&&(h.g.j.removeNode(this.O),this.O=null);this.Rf=this.wb=null;this.pb&&(this.pb.H(),this.pb=null);this.ya&&(this.ya.H(),this.ya=null);this.ck&&(this.ck.H(),this.ck=null);this.Ta&&(this.Ta.H(),this.Ta=null);this.Im&&(this.Im.H(),this.Im=null);this.Uc&&(this.Uc.H(),this.Uc=null);this.Gd&&(this.Gd.H(),this.Gd=null);this.ob.H();this.ne&&(this.ne.H(),this.ne=null);h.cc.v.H.call(this);if(this.lc){var a=this.lc,c=a.vm.indexOf(this);if(0>c)throw Error("Cannot unsubscribe a workspace that hasn't been subscribed.");
a.vm.splice(c,1);this.lc.unsubscribe(this.jc);this.options.ad||(this.lc.H(),this.lc=null)}this.Ew=this.Ut=this.Qn=null;this.options.ad||(a=v(this))&&a.parentNode&&h.g.j.removeNode(a.parentNode);this.ep&&(h.N.xb(this.ep),this.ep=null)};b.Ls=function(a,c){return new h.Xa(this,a,c)};function Hc(a,c){return a.ya||c?a.ya:a.pb?Hc(a.pb):null}function ja(a){a.zt&&a.ua&&(a.Ta&&a.Ta.resize(),a.Fm())}
b.resize=function(){this.pb&&this.pb.position();this.ya&&this.ya.position();var a=ta(this.Af,h.Eb.Rb.ov);var c=this.$c;c={Sy:tb(c),zn:Jc(c),Iy:Ic(c)};for(var d=[],e=0,f;f=a[e];e++)f.position(c,d),(f=f.vl())&&d.push(f);this.Ta&&this.Ta.resize();this.Fm();Tc(this)};function Bb(a){var c=h.g.PC();h.g.S.Gf(a.Ax,c)||(a.Ax=c,a.Fm(),Tc(a))}function Uc(a,c,d){var e=v(a);c&&(a.Oq.width=c,e.JB=c);d&&(a.Oq.height=d,e.IB=d)}
function v(a){if(!a.Pq)for(var c=a.O;c;){if("svg"==c.tagName){a.Pq=c;break}c=c.parentNode}return a.Pq}function Ja(a){if(h.h.isEnabled()){var c=a.scale,d=-a.scrollY,e=-a.scrollX;if(!(c==a.Rs&&1>Math.abs(d-a.Tx)&&1>Math.abs(e-a.Qx))){var f=new (h.h.get(h.h.Lk))(d,e,c,a.id,a.Rs);a.Rs=c;a.Tx=d;a.Qx=e;h.h.Fa(f)}}}
b.translate=function(a,c){if(this.qp&&this.to)this.Hi.Di(a,c);else{var d="translate("+a+","+c+") scale("+this.scale+")";this.wb.setAttribute("transform",d);this.Rf.setAttribute("transform",d)}if(this.gd){d=this.gd;var e=this.scale;d.bh=e;var f=a.toFixed(0),g=c.toFixed(0);d.$v.x=parseInt(f,10);d.$v.y=parseInt(g,10);d.Qe.setAttribute("transform","translate("+f+","+g+") scale("+e+")")}this.Gd&&this.Gd.moveTo(a,c);Ja(this)};
function Za(a){if(a.qp){a.to=!1;var c=a.Hi.Xr();a.Hi.Jn(a.O);c="translate("+c.x+","+c.y+") scale("+a.scale+")";a.wb.setAttribute("transform",c);a.Rf.setAttribute("transform",c)}}
function Ya(a){if(a.qp&&!a.to){a.to=!0;var c=a.wb.previousSibling,d=parseInt(v(a).getAttribute("width"),10),e=parseInt(v(a).getAttribute("height"),10),f=h.g.le(a.wb),g=a.Hi,k=a.wb,l=a.Rf,m=a.scale;if(g.gb.childNodes.length)throw Error("Already dragging a block.");g.nt=c;k.setAttribute("transform","translate(0, 0) scale("+m+")");l.setAttribute("transform","translate(0, 0) scale("+m+")");g.gb.setAttribute("width",d);g.gb.setAttribute("height",e);g.gb.appendChild(k);g.gb.appendChild(l);g.gb.style.display=
"block";a.Hi.Di(f.x,f.y)}}b.Bl=function(){var a=this.ke();return a?a.xc/this.scale:0};b.Ib=function(a){this.Mf=a;if(this.O)if(this.Ta&&this.Ta.xi(a),Hc(this)&&Hc(this).xi(a),v(this).style.display=a?"block":"none",this.pb&&this.pb.Ib(a),a){a=D(this,!1);for(var c=a.length-1;0<=c;c--)a[c].Ql();this.Na();this.pb&&this.pb.position()}else h.hc(!0)};
b.Na=function(){for(var a=D(this,!1),c=a.length-1;0<=c;c--)a[c].Na(!1);if(this.pc)for(a=this.pc.Aj(),c=0;c<a.length;c++)a[c].Na(!1);c=this.ne;c.m.Nl&&c.Df&&c.m.xl().draw()};function Vc(a){for(var c=A,d=0,e;e=c.oo[d];d++)e.se(!1);c.oo.length=0;if(e=a?c.Jc(a):null)-1==c.oo.indexOf(e)&&c.oo.push(e),e.se(!0)}
b.Yo=function(a){if(this.ua&&a.tagName&&!(a.getElementsByTagName("block").length>=kb(this)))if(this.pc&&this.pc.cancel(),"comment"==a.tagName.toLowerCase()){h.h.disable();try{var c=h.gj.ul(a),d=parseInt(a.getAttribute("x"),10),e=parseInt(a.getAttribute("y"),10);isNaN(d)||isNaN(e)||(this.J&&(d=-d),c.moveBy(d+50,e+50))}finally{h.h.enable()}h.h.isEnabled()&&h.Jv.oJ(c);c.select()}else{h.h.disable();try{var f=h.I.yj(a,this),g=parseInt(a.getAttribute("x"),10),k=parseInt(a.getAttribute("y"),10);if(!isNaN(g)&&
!isNaN(k)){this.J&&(g=-g);do{a=!1;var l=D(this,!1);c=0;for(var m;m=l[c];c++){var n=m.Za();if(1>=Math.abs(g-n.x)&&1>=Math.abs(k-n.y)){a=!0;break}}if(!a){var p=f.je(!1);c=0;for(var q;q=p[c];c++)if(q.closest(h.nc,new h.g.S(g,k)).connection){a=!0;break}}a&&(g=this.J?g-h.nc:g+h.nc,k+=2*h.nc)}while(a);f.moveBy(g,k)}}finally{h.h.enable()}h.h.isEnabled()&&!f.Ka&&h.h.Fa(new (h.h.get(h.h.mh))(f));f.select()}};function Sc(a){(a=a.Lf?a.Da:a)&&!a.pc&&a.pb&&Hc(a.pb)&&a.pb.RJ()}
b.si=function(a,c){h.cc.v.si.call(this,a,c);Sc(this)};b.vj=function(a){h.cc.v.vj.call(this,a);Sc(this)};b.fe=function(a,c,d){a=h.cc.v.fe.call(this,a,c,d);Sc(this);return a};function Tc(a){var c=ta(a.Af,h.Eb.Rb.Ip);a.yr=[];for(var d=0,e;e=c[d];d++){var f=e.Kw();f&&a.yr.push({Uk:e,TB:f})}}function Fa(a,c){for(var d=0,e;e=a.yr[d];d++)if(e.TB.contains(c.clientX,c.clientY))return e.Uk;return null}b.Tg=function(a){var c=this.Ag(a);c&&Gb(c,a,this)};
b.rm=function(a,c){a=h.g.Vl(a,v(this),Xa(this));a.x/=this.scale;a.y/=this.scale;this.zw=h.g.S.fl(c,a)};b.Yc=function(){return null!=this.pc&&this.pc.Yc()};b.rc=function(){return this.options.uc&&!!this.options.uc.scrollbars||this.options.uc&&this.options.uc.ek||this.options.uc&&this.options.uc.Ff||this.options.yb&&this.options.yb.ek||this.options.yb&&this.options.yb.$x};function wb(a){var c=!!a.Ta;return a.rc()&&(!c||c&&!!a.Ta.jb)}function xb(a){var c=!!a.Ta;return a.rc()&&(!c||c&&!!a.Ta.Ua)}
b.YD=function(a){if(h.Ee.Xh())a.preventDefault(),a.stopPropagation();else{var c=this.options.yb&&this.options.yb.ek,d=this.options.uc&&this.options.uc.ek;if(c||d){var e=h.g.Vw(a);!c||!a.ctrlKey&&d?(c=this.scrollX-e.x,d=this.scrollY-e.y,a.shiftKey&&!e.x&&(c=this.scrollX-e.y,d=this.scrollY),this.scroll(c,d)):(e=-e.y/50,c=h.g.Vl(a,v(this),Xa(this)),this.zoom(c.x,c.y,e));a.preventDefault()}}};
function fa(a){a=[].concat(a.Am);if(!a.length)return new h.g.Rect(0,0,0,0);for(var c=a[0].vl(),d=1;d<a.length;d++){var e=a[d];e.md&&e.md()||(e=e.vl(),e.top<c.top&&(c.top=e.top),e.bottom>c.bottom&&(c.bottom=e.bottom),e.left<c.left&&(c.left=e.left),e.right>c.right&&(c.right=e.right))}return c}b.nm=function(a){if(!this.options.readOnly&&!this.Lf){var c=lc(h.Ea.Dc.Sc,{B:this});this.XB&&this.XB(c,a);h.Ra.show(a,c,this.J)}};
function ba(a){if(a.options.ad)ba(a.options.ad);else{h.Ol=a;document.activeElement&&document.activeElement.blur&&document.activeElement.blur();try{v(a).focus({preventScroll:!0})}catch(c){try{v(a).parentNode.setActive()}catch(d){v(a).parentNode.focus({preventScroll:!0})}}}}
b.zoom=function(a,c,d){d=Math.pow(this.options.yb.DE,d);var e=this.scale*d;if(this.scale!=e){e>this.options.yb.Sl?d=this.options.yb.Sl/this.scale:e<this.options.yb.Ul&&(d=this.options.yb.Ul/this.scale);var f=this.wb.getCTM(),g=v(this).createSVGPoint();g.x=a;g.y=c;g=g.matrixTransform(f.inverse());a=g.x;c=g.y;f=f.translate(a*(1-d),c*(1-d)).scale(d);this.scrollX=f.e;this.scrollY=f.f;this.setScale(e)}};
b.setScale=function(a){this.options.yb.Sl&&a>this.options.yb.Sl?a=this.options.yb.Sl:this.options.yb.Ul&&a<this.options.yb.Ul&&(a=this.options.yb.Ul);this.scale=a;h.hc(!1);this.ya&&(this.ya.ot(),Tc(this));this.Gd&&this.Gd.update(this.scale);a=this.ke();this.scrollX-=a.Ec;this.scrollY-=a.Tc;a.Td+=a.Ec;a.Ud+=a.Tc;this.scroll(this.scrollX,this.scrollY);if(this.Ta)if(this.ya){var c=this.Ta;c.jb&&Sa(c.jb,a);c.Ua&&Ua(c.Ua,a)}else c=this.Ta,c.jb&&Ta(c.jb,a),c.Ua&&Va(c.Ua,a)};
b.scroll=function(a,c){h.hc(!0);var d=this.ke();a=Math.min(a,-d.scrollLeft);c=Math.min(c,-d.scrollTop);var e=d.scrollTop+Math.max(0,d.scrollHeight-d.Oc);a=Math.max(a,-(d.scrollLeft+Math.max(0,d.scrollWidth-d.xc)));c=Math.max(c,-e);this.scrollX=a;this.scrollY=c;this.Ta&&this.Ta.set(-(a+d.scrollLeft),-(c+d.scrollTop),!1);a+=d.Ec;c+=d.Tc;this.translate(a,c)};
h.cc.JE=function(a){var c=this.ke();"number"==typeof a.x&&(this.scrollX=-(c.scrollLeft+(c.scrollWidth-c.xc)*a.x));"number"==typeof a.y&&(this.scrollY=-(c.scrollTop+(c.scrollHeight-c.Oc)*a.y));this.translate(this.scrollX+c.Ec,this.scrollY+c.Tc)};b=h.cc.prototype;b.Jc=function(a){return h.cc.v.Jc.call(this,a)};b.vb=function(a){return h.cc.v.vb.call(this,a)};b.Bn=function(a){this.Am.push(a);h.cc.v.Bn.call(this,a)};b.cp=function(a){h.g.Dn(this.Am,a);h.cc.v.cp.call(this,a)};
b.Yb=function(a){var c=!this.zt&&a;this.zt=a;c&&ja(this)};b.clear=function(){this.Yb(!1);h.cc.v.clear.call(this);this.Am=[];this.Yb(!0)};function Wc(a,c){if("function"!=typeof c)throw TypeError("Button callbacks must be functions.");a.Ew.CREATE_VARIABLE=c}function Qc(a,c,d){if("function"!=typeof d)throw TypeError("Toolbox category callbacks must be functions.");a.Ut[c]=d}
b.Ag=function(a){var c="mousedown"==a.type||"touchstart"==a.type||"pointerdown"==a.type,d=this.pc;return d?c&&d.Th?(console.warn("Tried to start the same gesture twice."),d.cancel(),null):d:c?this.pc=new h.Rc(a,this):null};function Bc(a){a.pc&&a.pc.cancel()};h.Qi=function(a){h.Qi.v.constructor.call(this);a.km=this.IE.bind(this);var c=this.m=new h.cc(a),d=new h.wk(this.m,this);c.$c=d;c.ke=c.$c.ke.bind(c.$c);this.m.Lf=!0;this.m.Ib(this.Mf);this.id=h.g.Se();this.J=!!a.J;this.hh=a.qd;this.Gr=[];this.Jo=[];this.Qk=[];this.Mc=[];this.jt=[];this.bk=this.m.ob.ea().vn;this.Da=null};h.g.object.U(h.Qi,h.Xm);b=h.Qi.prototype;b.Eh=!0;b.Mf=!1;b.Jh=!0;b.qb=8;b.Ui=h.Qi.prototype.qb;b.Zz=3*h.Qi.prototype.Ui;b.XA=2.5;b.kb=0;b.Kc=0;b.sC=70;
b.Va=function(a){this.O=h.g.j.L(a,{"class":"blocklyFlyout",style:"display: none"},null);this.jc=h.g.j.L(h.g.F.Ge,{"class":"blocklyFlyoutBackground"},this.O);this.O.appendChild(this.m.Va());this.m.lc.subscribe(this.jc,"flyoutBackgroundColour","fill");this.m.lc.subscribe(this.jc,"flyoutOpacity","fill-opacity");return this.O};
b.Ba=function(a){this.Da=a;this.m.Da=a;this.m.Ta=new h.nq(this.m,!1,!0,"blocklyFlyoutScrollbar",this.XA);this.$a();Array.prototype.push.apply(this.Gr,h.N.Aa(this.O,"wheel",this,this.hF));this.Eh||(this.co=this.Hr.bind(this),E(this.Da,this.co));Array.prototype.push.apply(this.Gr,h.N.Aa(this.jc,"mousedown",this,this.Tg));this.m.Ag=this.Da.Ag.bind(this.Da);this.m.Jt(this.Da.Oa);var c=this.m;c.Sj=new h.xq(c);qa(a.Af,{Uk:this,weight:1,tg:[h.Eb.Rb.Fp,h.Eb.Rb.Ip]})};
b.H=function(){this.$a();ra(this.m.Af,this.id);h.N.xb(this.Gr);this.co&&(ob(this.Da,this.co),this.co=null);this.m&&(this.m.lc.unsubscribe(this.jc),this.m.Da=null,this.m.H(),this.m=null);this.O&&(h.g.j.removeNode(this.O),this.O=null);this.Da=this.jc=null};b.Bl=function(){return this.kb};b.isVisible=function(){return this.Mf};b.Ib=function(a){var c=a!=this.isVisible();this.Mf=a;c&&(this.Eh||Tc(this.m),this.Em())};b.xi=function(a){var c=a!=this.Jh;this.Jh=a;c&&this.Em()};
b.Em=function(){var a=this.Jh?this.isVisible():!1;this.O.style.display=a?"block":"none";this.m.Ta.xi(a)};b.$a=function(){if(this.isVisible()){this.Ib(!1);for(var a=0,c;c=this.Mc[a];a++)h.N.xb(c);this.Mc.length=0;this.$g&&(ob(this.m,this.$g),this.$g=null)}};
b.show=function(a){this.m.Yb(!1);this.$a();Xc(this);"string"==typeof a&&(a=Yc(this,a));this.Ib(!0);a=h.g.W.lw(a);a=Zc(this,a);$c(this,a.aC,a.DC);this.Mc.push(h.N.Aa(this.jc,"mouseover",this,function(){for(var c=this.m.vb(!1),d=0,e;e=c[d];d++)e.gm()}));this.kb=0;this.m.Yb(!0);this.ot();this.Hr();this.position();this.$g=this.ot.bind(this);E(this.m,this.$g)};
function Zc(a,c){var d=[],e=[];a.jt.length=0;for(var f=a.Zz,g=0,k;k=c[g];g++){if(k.custom){var l=Yc(a,k.custom);l=h.g.W.lw(l);c.splice.apply(c,[g,1].concat(l));k=c[g]}switch(k.kind.toUpperCase()){case "BLOCK":l=k;var m=l;k=null;var n=m.blockxml;n&&"string"!=typeof n?k=n:n&&"string"==typeof n?(k=h.I.ue(n),m.blockxml=k):m.type&&(k=h.g.xml.createElement("xml"),k.setAttribute("type",m.type),k.setAttribute("disabled",m.disabled),m.blockxml=k);if(!k)throw Error("Error: Invalid block definition. Block definition must have blockxml or type.");
m=k;k=a;n=h.I.yj(m,k.m);n.isEnabled()||k.jt.push(n);k=n;l=parseInt(l.gap||m.getAttribute("gap"),10);e.push(isNaN(l)?f:l);d.push({type:"block",block:k});break;case "SEP":l=e;m=f;k=parseInt(k.gap,10);!isNaN(k)&&0<l.length?l[l.length-1]=k:l.push(m);break;case "LABEL":l=ad(a,k,!0);d.push({type:"button",button:l});e.push(f);break;case "BUTTON":l=ad(a,k,!1),d.push({type:"button",button:l}),e.push(f)}}return{aC:d,DC:e}}
function Yc(a,c){c=a.m.Da.Ut[c]||null;if("function"!=typeof c)throw TypeError("Couldn't find a callback function when opening a toolbox category.");a=c(a.m.Da);if(!Array.isArray(a))throw new TypeError("Result of toolbox category callback must be an array.");return a}function ad(a,c,d){if(!h.Yz)throw Error("Missing require for Blockly.FlyoutButton");return new h.Yz(a.m,a.Da,c,d)}
function Xc(a){for(var c=a.m.vb(!1),d=0,e;e=c[d];d++)e.B==a.m&&e.H(!1,!1);for(d=0;d<a.Jo.length;d++)if(c=a.Jo[d])h.G.Xt(c),h.g.j.removeNode(c);for(d=a.Jo.length=0;c=a.Qk[d];d++)c.H();a.Qk.length=0;a.m.Sj.clear()}function bd(a,c){return function(d){var e=a.Da.Ag(d);e&&(Ib(e,c),Hb(e,d,a))}}b.Tg=function(a){var c=this.Da.Ag(a);c&&Hb(c,a,this)};
function Cb(a,c){var d=null;h.h.disable();var e=a.Da.Nh();a.Da.Yb(!1);try{var f=a.Da;if(!c.qa())throw Error("oldBlock is not rendered.");var g=h.I.wf(c,!0);f.Yb(!1);var k=h.I.yj(g,f);if(!k.qa())throw Error("block is not rendered.");var l=h.g.zl(f.wb),m=h.g.zl(a.m.wb),n=c.Za();n.scale(a.m.scale);var p=h.g.S.sum(m,n),q=h.g.S.fl(p,l);q.scale(1/f.scale);k.moveBy(q.x,q.y);d=k}finally{h.h.enable()}h.hc();c=h.na.Iw(a.Da,e);if(h.h.isEnabled()){h.h.ta(!0);for(e=0;e<c.length;e++)f=c[e],h.h.Fa(new (h.h.get(h.h.Kk))(f));
h.h.Fa(new (h.h.get(h.h.mh))(d))}a.Eh?a.$a():a.Hr();return d}b.Hr=function(){for(var a=this.m.vb(!1),c=0,d;d=a[c];c++)if(-1==this.jt.indexOf(d))for(var e=lb(this.Da,h.g.Nr(d));d;)d.cf(e),d=y(d)};
b.ot=function(){this.$g&&ob(this.m,this.$g);this.m.scale=this.Da.scale;for(var a=0,c=this.m.vb(!1),d=0,e;e=c[d];d++){var f=r(e).width;e.T&&(f-=this.bk);a=Math.max(a,f)}for(d=0;e=this.Qk[d];d++)a=Math.max(a,e.width);a+=1.5*this.Ui+this.bk;a*=this.m.scale;a+=h.Ja.ic;if(this.kb!=a){for(d=0;e=c[d];d++){if(this.J){f=e.Za().x;var g=a/this.m.scale-this.Ui;e.T||(g-=this.bk);e.moveBy(g-f,0)}e.Fw&&(f=e.Fw,g=e,e=r(g),f.setAttribute("width",e.width),f.setAttribute("height",e.height),g=g.Za(),f.setAttribute("y",
g.y),f.setAttribute("x",this.J?g.x-e.width:g.x))}if(this.J)for(d=0;e=this.Qk[d];d++)c=e.xJ().y,e.moveTo(a/this.m.scale-e.width-this.Ui-this.bk,c);this.Da.qd!=this.hh||this.hh!=h.g.W.bb.Gb||this.Da.pb||this.Da.translate(this.Da.scrollX+a,this.Da.scrollY);this.kb=a;this.position();Tc(this.Da)}this.$g&&E(this.m,this.$g)};function Ab(a){return a.m.Ta?a.m.Ta.isVisible():!1};h.Mk=function(a){h.Mk.v.constructor.call(this,a)};h.g.object.U(h.Mk,h.Qi);h.Mk.UJ="verticalFlyout";b=h.Mk.prototype;b.IE=function(a){if(this.isVisible()){var c=this.m.$c,d=c.Rh(),e=tb(c);c=Jc(c);"number"==typeof a.y&&(this.m.scrollY=-(d.top+(d.height-e.height)*a.y));this.m.translate(this.m.scrollX+c.left,this.m.scrollY+c.top)}};
b.position=function(){if(this.isVisible()&&this.Da.isVisible()){var a=tb(this.Da.$c);this.Kc=a.height;var c=this.kb-this.qb;a=a.height-2*this.qb;var d=this.hh==h.g.W.bb.Cc,e=c+this.qb;e=["M "+(d?e:0)+",0"];e.push("h",d?-c:c);e.push("a",this.qb,this.qb,0,0,d?0:1,d?-this.qb:this.qb,this.qb);e.push("v",Math.max(0,a));e.push("a",this.qb,this.qb,0,0,d?0:1,d?this.qb:-this.qb,this.qb);e.push("h",d?c:-c);e.push("z");this.jc.setAttribute("d",e.join(" "));this.isVisible()?(d=this.Da.$c,c=Jc(d),a=tb(d),d=Ic(d),
d=this.Da.qd==this.hh?this.Da.pb?this.hh==h.g.W.bb.Gb?d.width:a.width-this.kb:this.hh==h.g.W.bb.Gb?0:a.width:this.hh==h.g.W.bb.Gb?0:a.width+c.left-this.kb):d=0;c=this.kb;a=this.Kc;this.O.setAttribute("width",c);this.O.setAttribute("height",a);Uc(this.m,c,a);"svg"==this.O.tagName?h.g.j.jm(this.O,"translate("+d+"px,0px)"):this.O.setAttribute("transform","translate("+d+",0)");if(c=this.m.Ta)c.fp(d,0),c.resize(),c.jb&&c.jb.setPosition(c.jb.position.x,c.jb.position.y),c.Ua&&c.Ua.setPosition(c.Ua.position.x,
c.Ua.position.y)}};b.uy=function(){var a=this.m.Ta;a.Ua&&a.Ua.set(0,!0)};b.hF=function(a){var c=h.g.Vw(a);if(c.y){var d=this.m.$c,e=d.Rh();c=tb(d).top-e.top+c.y;d=this.m.Ta;d.Ua&&d.Ua.set(c,!0);h.Y.$a();h.C.no()}a.preventDefault();a.stopPropagation()};
function $c(a,c,d){a.m.scale=a.Da.scale;for(var e=a.Ui,f=a.J?e:e+a.bk,g=0,k;k=c[g];g++)if("block"==k.type){k=k.block;for(var l=x(k,!1),m=0,n;n=l[m];m++)n.Zc=!0;k.Na();n=k.qa();l=r(k);m=k.T?f-a.bk:f;k.moveBy(m,e);var p=a,q=k,B=g;m=h.g.j.L(h.g.F.xd,{"fill-opacity":0,x:a.J?m-l.width:m,y:e,height:l.height,width:l.width},null);m.Sd=q;h.G.kj(m);p.m.wb.insertBefore(m,q.qa());q.Fw=m;p.Jo[B]=m;p=a;p.Mc.push(h.N.Aa(n,"mousedown",null,bd(p,k)));p.Mc.push(h.N.Aa(m,"mousedown",null,bd(p,k)));p.Mc.push(h.N.bind(n,
"mouseenter",k,k.An));p.Mc.push(h.N.bind(n,"mouseleave",k,k.gm));p.Mc.push(h.N.bind(m,"mouseenter",k,k.An));p.Mc.push(h.N.bind(m,"mouseleave",k,k.gm));e+=l.height+d[g]}else"button"==k.type&&(l=a,m=k.button,n=f,p=e,q=m.Va(),m.moveTo(n,p),m.show(),l.Mc.push(h.N.Aa(q,"mousedown",l,l.Tg)),l.Qk.push(m),e+=k.button.height+d[g])}
b.Kw=function(){if(!this.O||this.Eh||!this.isVisible())return null;var a=this.O.getBoundingClientRect(),c=a.left;return this.hh==h.g.W.bb.Gb?new h.g.Rect(-1E9,1E9,-1E9,c+a.width):new h.g.Rect(-1E9,1E9,c,1E9)};h.u.register(h.u.R.Lp,h.u.Pi,h.Mk);h.h.vk=function(a){this.ld="undefined"==typeof a;this.Wb=a?a.id:"";this.group=h.h.Ub();this.Ma=!1};h.g.object.U(h.h.vk,h.h.Abstract);h.h.vk.prototype.type=h.h.Kp;h.h.vk.prototype.pa=function(){var a={type:this.type};this.group&&(a.group=this.group);this.Wb&&(a.workspaceId=this.Wb);return a};h.h.vk.prototype.aa=function(a){this.ld=!1;this.Wb=a.workspaceId;this.group=a.group};h.u.register(h.u.R.Fb,h.h.Kp,h.h.vk);h.ou=function(a){this.Yk=a;this.Va()};b=h.ou.prototype;b.gb=null;b.Qe=null;b.Yk=null;b.bh=1;b.wm=null;b.$v=new h.g.S(0,0);b.Va=function(){this.gb||(this.gb=h.g.j.L(h.g.F.bj,{xmlns:h.g.j.tn,"xmlns:html":h.g.j.Mp,"xmlns:xlink":h.g.j.fd,version:"1.1","class":"blocklyBlockDragSurface"},this.Yk),this.Qe=h.g.j.L(h.g.F.Pc,{},this.gb))};function Ea(a,c){if(a.Qe.childNodes.length)throw Error("Already dragging a block.");a.Qe.appendChild(c);a.gb.style.display="block";a.wm=new h.g.S(0,0)}
b.Di=function(a,c){this.wm=new h.g.S(a*this.bh,c*this.bh);a=this.wm.x;c=this.wm.y;a=a.toFixed(0);c=c.toFixed(0);this.gb.style.display="block";h.g.j.jm(this.gb,"translate3d("+a+"px, "+c+"px, 0px)")};b.Xr=function(){var a=h.g.le(this.gb);return new h.g.S(a.x/this.bh,a.y/this.bh)};b.Ub=function(){return this.Qe};b.qa=function(){return this.gb};
b.Jn=function(a){a?a.appendChild(this.Qe.firstChild):this.Qe.removeChild(this.Qe.firstChild);this.gb.style.display="none";if(this.Qe.childNodes.length)throw Error("Drag group was not cleared.");this.wm=null};h.Wd={};h.Wd.ls=!1;h.Wd.register=function(a){if(h.Wd.ls)throw Error("CSS already injected");Array.prototype.push.apply(h.Wd.Cp,a);a.length=0};h.Wd.Hg=function(a,c){if(!h.Wd.ls){h.Wd.ls=!0;var d=h.Wd.Cp.join("\n");h.Wd.Cp.length=0;a&&(a=c.replace(/[\\/]$/,""),d=d.replace(/<<<PATH>>>/g,a),a=document.createElement("style"),a.id="blockly-common-style",d=document.createTextNode(d),a.appendChild(d),document.head.insertBefore(a,document.head.firstChild))}};
h.Wd.Cp=[".blocklySvg {","background-color: #fff;","outline: none;","overflow: hidden;","position: absolute;","display: block;","}",".blocklyWidgetDiv {","display: none;","position: absolute;","z-index: 99999;","}",".injectionDiv {","height: 100%;","position: relative;","overflow: hidden;","touch-action: none;","}",".blocklyNonSelectable {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","}",".blocklyWsDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;",
"}",".blocklyWsDragSurface.blocklyOverflowVisible {","overflow: visible;","}",".blocklyBlockDragSurface {","display: none;","position: absolute;","top: 0;","left: 0;","right: 0;","bottom: 0;","overflow: visible !important;","z-index: 50;","}",".blocklyBlockCanvas.blocklyCanvasTransitioning,",".blocklyBubbleCanvas.blocklyCanvasTransitioning {","transition: transform .5s;","}",".blocklyTooltipDiv {","background-color: #ffffc7;","border: 1px solid #ddc;","box-shadow: 4px 4px 20px 1px rgba(0,0,0,.15);",
"color: #000;","display: none;","font: 9pt sans-serif;","opacity: .9;","padding: 2px;","position: absolute;","z-index: 100000;","}",".blocklyDropDownDiv {","position: absolute;","left: 0;","top: 0;","z-index: 1000;","display: none;","border: 1px solid;","border-color: #dadce0;","background-color: #fff;","border-radius: 2px;","padding: 4px;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv.blocklyFocused {","box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownContent {",
"max-height: 300px;","overflow: auto;","overflow-x: hidden;","position: relative;","}",".blocklyDropDownArrow {","position: absolute;","left: 0;","top: 0;","width: 16px;","height: 16px;","z-index: -1;","background-color: inherit;","border-color: inherit;","}",".blocklyDropDownButton {","display: inline-block;","float: left;","padding: 0;","margin: 4px;","border-radius: 4px;","outline: none;","border: 1px solid;","transition: box-shadow .1s;","cursor: pointer;","}",".blocklyArrowTop {","border-top: 1px solid;",
"border-left: 1px solid;","border-top-left-radius: 4px;","border-color: inherit;","}",".blocklyArrowBottom {","border-bottom: 1px solid;","border-right: 1px solid;","border-bottom-right-radius: 4px;","border-color: inherit;","}",".blocklyResizeSE {","cursor: se-resize;","fill: #aaa;","}",".blocklyResizeSW {","cursor: sw-resize;","fill: #aaa;","}",".blocklyResizeLine {","stroke: #515A5A;","stroke-width: 1;","}",".blocklyHighlightedConnectionPath {","fill: none;","stroke: #fc3;","stroke-width: 4px;",
"}",".blocklyPathLight {","fill: none;","stroke-linecap: round;","stroke-width: 1;","}",".blocklySelected>.blocklyPathLight {","display: none;","}",".blocklyDraggable {",'cursor: url("<<<PATH>>>/handopen.cur"), auto;',"cursor: grab;","cursor: -webkit-grab;","}",".blocklyDragging {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDraggable:active {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;",
"}",".blocklyBlockDragSurface .blocklyDraggable {",'cursor: url("<<<PATH>>>/handclosed.cur"), auto;',"cursor: grabbing;","cursor: -webkit-grabbing;","}",".blocklyDragging.blocklyDraggingDelete {",'cursor: url("<<<PATH>>>/handdelete.cur"), auto;',"}",".blocklyDragging>.blocklyPath,",".blocklyDragging>.blocklyPathLight {","fill-opacity: .8;","stroke-opacity: .8;","}",".blocklyDragging>.blocklyPathDark {","display: none;","}",".blocklyDisabled>.blocklyPath {","fill-opacity: .5;","stroke-opacity: .5;",
"}",".blocklyDisabled>.blocklyPathLight,",".blocklyDisabled>.blocklyPathDark {","display: none;","}",".blocklyInsertionMarker>.blocklyPath,",".blocklyInsertionMarker>.blocklyPathLight,",".blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: .2;","stroke: none;","}",".blocklyMultilineText {","font-family: monospace;","}",".blocklyNonEditableText>text {","pointer-events: none;","}",".blocklyFlyout {","position: absolute;","z-index: 20;","}",".blocklyText text {","cursor: default;","}",".blocklySvg text,",
".blocklyBlockDragSurface text {","user-select: none;","-ms-user-select: none;","-webkit-user-select: none;","cursor: inherit;","}",".blocklyHidden {","display: none;","}",".blocklyFieldDropdown:not(.blocklyHidden) {","display: block;","}",".blocklyIconGroup {","cursor: default;","}",".blocklyIconGroup:not(:hover),",".blocklyIconGroupReadonly {","opacity: .6;","}",".blocklyIconShape {","fill: #00f;","stroke: #fff;","stroke-width: 1px;","}",".blocklyIconSymbol {","fill: #fff;","}",".blocklyMinimalBody {",
"margin: 0;","padding: 0;","}",".blocklyHtmlInput {","border: none;","border-radius: 4px;","height: 100%;","margin: 0;","outline: none;","padding: 0;","width: 100%;","text-align: center;","display: block;","box-sizing: border-box;","}",".blocklyHtmlInput::-ms-clear {","display: none;","}",".blocklyMainBackground {","stroke-width: 1;","stroke: #c6c6c6;","}",".blocklyMutatorBackground {","fill: #fff;","stroke: #ddd;","stroke-width: 1;","}",".blocklyFlyoutBackground {","fill: #ddd;","fill-opacity: .8;",
"}",".blocklyMainWorkspaceScrollbar {","z-index: 20;","}",".blocklyFlyoutScrollbar {","z-index: 30;","}",".blocklyScrollbarHorizontal,",".blocklyScrollbarVertical {","position: absolute;","outline: none;","}",".blocklyScrollbarBackground {","opacity: 0;","}",".blocklyScrollbarHandle {","fill: #ccc;","}",".blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",".blocklyScrollbarHandle:hover {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarHandle {","fill: #bbb;","}",".blocklyFlyout .blocklyScrollbarBackground:hover+.blocklyScrollbarHandle,",
".blocklyFlyout .blocklyScrollbarHandle:hover {","fill: #aaa;","}",".blocklyInvalidInput {","background: #faa;","}",".blocklyVerticalMarker {","stroke-width: 3px;","fill: rgba(255,255,255,.5);","pointer-events: none;","}",".blocklyComputeCanvas {","position: absolute;","width: 0;","height: 0;","}",".blocklyNoPointerEvents {","pointer-events: none;","}",".blocklyContextMenu {","border-radius: 4px;","max-height: 100%;","}",".blocklyDropdownMenu {","border-radius: 2px;","padding: 0 !important;","}",
".blocklyDropdownMenu .blocklyMenuItem {","padding-left: 28px;","}",".blocklyDropdownMenu .blocklyMenuItemRtl {","padding-left: 5px;","padding-right: 28px;","}",".blocklyWidgetDiv .blocklyMenu {","background: #fff;","border: 1px solid transparent;","box-shadow: 0 0 3px 1px rgba(0,0,0,.3);","font: normal 13px Arial, sans-serif;","margin: 0;","outline: none;","padding: 4px 0;","position: absolute;","overflow-y: auto;","overflow-x: hidden;","max-height: 100%;","z-index: 20000;","}",".blocklyWidgetDiv .blocklyMenu.blocklyFocused {",
"box-shadow: 0 0 6px 1px rgba(0,0,0,.3);","}",".blocklyDropDownDiv .blocklyMenu {","background: inherit;","border: inherit;",'font: normal 13px "Helvetica Neue", Helvetica, sans-serif;',"outline: none;","position: relative;","z-index: 20000;","}",".blocklyMenuItem {","border: none;","color: #000;","cursor: pointer;","list-style: none;","margin: 0;","min-width: 7em;","padding: 6px 15px;","white-space: nowrap;","}",".blocklyMenuItemDisabled {","color: #ccc;","cursor: inherit;","}",".blocklyMenuItemHighlight {",
"background-color: rgba(0,0,0,.1);","}",".blocklyMenuItemCheckbox {","height: 16px;","position: absolute;","width: 16px;","}",".blocklyMenuItemSelected .blocklyMenuItemCheckbox {","background: url(<<<PATH>>>/sprites.png) no-repeat -48px -16px;","float: left;","margin-left: -24px;","position: static;","}",".blocklyMenuItemRtl .blocklyMenuItemCheckbox {","float: right;","margin-right: -24px;","}"];h.Hg=function(a,c){h.MB();"string"==typeof a&&(a=document.getElementById(a)||document.querySelector(a));if(!a||!h.g.j.containsNode(document,a))throw Error("Error: container is not in current document.");c=new h.ed(c||{});var d=document.createElement("div");d.className="injectionDiv";d.tabIndex=0;h.g.Ab.hp(d,h.g.Ab.State.oA,h.M.WORKSPACE_ARIA_LABEL);a.appendChild(d);a=h.$k(d,c);var e=new h.ou(d),f=new h.Kv(d),g=h.dC(a,c,e,f);h.nD(g);h.Ol=g;h.ym(g);d.addEventListener("focusin",function(){h.Ol=g});return g};
h.$k=function(a,c){a.setAttribute("dir","LTR");h.Wd.Hg(c.fD,c.$o);a=h.g.j.L(h.g.F.bj,{xmlns:h.g.j.tn,"xmlns:html":h.g.j.Mp,"xmlns:xlink":h.g.j.fd,version:"1.1","class":"blocklySvg",tabindex:"0"},a);var d=h.g.j.L(h.g.F.xu,{},a);c.$r=h.wh.Va(String(Math.random()).substring(2),c.ax,d);return a};
h.dC=function(a,c,d,e){c.ad=null;c=new h.cc(c,d,e);d=c.options;c.scale=d.yb.RE;a.appendChild(c.Va("blocklyMainBackground"));h.g.j.Lb(ca(c),c.ob.ie());h.g.j.Lb(ca(c),c.If().ie());if(!d.Dl&&d.di){e=h.g.F.bj;var f=new h.ed({parentWorkspace:c,rtl:c.J,oneBasedIndex:c.options.Vo,renderer:c.options.xt,rendererOverrides:c.options.yt,move:{scrollbars:!0}});f.qd=c.options.qd;c.ya=new (h.u.Oh(h.u.R.Lp,c.options,!0))(f);c.ya.Eh=!1;c.ya.m.Ib(!0);e=c.ya.Va(e);h.g.j.Ij(e,a)}if(d.hx){if(!h.Tb)throw Error("Missing require for Blockly.Trashcan");
c.ck=new h.Tb(c);e=c.ck.Va();c.O.insertBefore(e,c.wb)}if(d.yb&&d.yb.controls){if(!h.pB)throw Error("Missing require for Blockly.ZoomControls");c.Im=new h.pB(c);d=c.Im.Va();c.O.appendChild(d)}c.lc.subscribe(a,"workspaceBackgroundColour","background-color");c.translate(0,0);E(c,h.GB(c));h.ym(c);h.Y.Va();h.C.Va();h.G.Va();return c};h.wC=function(a,c){var d=null;switch(c.type){case h.h.mh:case h.h.nh:(d=a.Jc(c.hb))&&(d=d.me());break;case h.h.Tm:case h.h.lk:d=a.Nn[c.Le]||null}return d};
h.Vv=function(a){var c=a.$c;if(!(wb(c.m)&&xb(c.m)||a.Yc())){c=c.Rh(!0);for(var d=[].concat(a.Am),e=0,f;f=d[e];e++)h.Mq(a,c,f)}};h.GB=function(a){return function(c){var d=a.$c;if(!(wb(d.m)&&xb(d.m)||a.Yc()))if(-1!==h.h.jz.indexOf(c.type)){d=d.Rh(!0);var e=h.wC(a,c);if(e){var f=h.h.Ub();h.h.ta(c.group);h.Mq(a,d,e)&&!c.group&&console.warn("Moved object in bounds but there was no event group. This may break undo.");null!==f&&h.h.ta(f)}}else c.type===h.h.Lk&&c.scale>c.Xl&&h.Vv(a)}};
h.Mq=function(a,c,d){var e=d.vl(),f=h.g.Jd.Tk(c.top,e.top,c.top+c.height-(e.bottom-e.top))-e.top,g=c.left;c=c.left+c.width-(e.right-e.left);a.J?g=Math.min(c,g):c=Math.max(g,c);return(a=h.g.Jd.Tk(g,e.left,c)-e.left)||f?(d.moveBy(a,f),!0):!1};
h.nD=function(a){var c=a.options,d=v(a);h.N.Aa(d.parentNode,"contextmenu",null,function(f){h.g.Ao(f)||f.preventDefault()});d=h.N.Aa(window,"resize",null,function(){h.hc(!0);h.ym(a);h.Vv(a)});a.ep=d;h.Hg.BB();if(c.di){d=a.pb;var e=Hc(a,!0);d?d.Ba():e&&(e.Ba(a),e.show(c.di),"function"==typeof e.uy&&e.uy())}c.hx&&a.ck.Ba();c.yb&&c.yb.controls&&a.Im.Ba();c.uc&&c.uc.scrollbars?(a.Ta=new h.nq(a,!0===c.uc.scrollbars||!!c.uc.scrollbars.Gl,!0===c.uc.scrollbars||!!c.uc.scrollbars.vertical,"blocklyMainWorkspaceScrollbar"),
a.Ta.resize()):a.km({x:.5,y:.5});c.hD&&h.Hg.zD(c.$o,a)};h.Hg.BB=function(){h.pC||(h.N.Aa(document,"scroll",null,function(){for(var a=h.rb.getAll(),c=0,d;d=a[c];c++)d.Fm&&d.Fm()}),h.N.Aa(document,"keydown",null,h.Ws),h.N.bind(document,"touchend",null,h.Pg),h.N.bind(document,"touchcancel",null,h.Pg),h.g.userAgent.yk&&h.N.Aa(window,"orientationchange",document,function(){h.ym(h.Bg())}));h.pC=!0};
h.Hg.zD=function(a,c){function d(){for(;f.length;)h.N.xb(f.pop());e.preload()}var e=c.Uc;e.load([a+"click.mp3",a+"click.wav",a+"click.ogg"],"click");e.load([a+"disconnect.wav",a+"disconnect.mp3",a+"disconnect.ogg"],"disconnect");e.load([a+"delete.mp3",a+"delete.ogg",a+"delete.wav"],"delete");var f=[];f.push(h.N.Aa(document,"mousemove",null,d,!0));f.push(h.N.Aa(document,"touchstart",null,d,!0))};h.vd=function(a,c){this.Qy=c||"";this.qy=Object.create(null);if(a)for(a=a.split(","),c=0;c<a.length;c++)this.qy[a[c]]=!0;this.reset()};h.vd.Gp="DEVELOPER_VARIABLE";h.vd.prototype.reset=function(){this.Oe=Object.create(null);this.qw=Object.create(null);this.Oa=null};h.vd.prototype.Jt=function(a){this.Oa=a};
function cd(a,c,d){var e=c;d==h.Dh&&(a.Oa?c=(c=a.Oa.Dg(c))?c.name:null:(console.warn("Deprecated call to Blockly.Names.prototype.getName without defining a variable map. To fix, add the following code in your generator's init() function:\nBlockly.YourGeneratorName.nameDB_.setVariableMap(workspace.getVariableMap());"),c=null),c&&(e=c));c=e.toLowerCase();var f=d==h.Dh||d==h.vd.Gp?a.Qy:"";d in a.Oe||(a.Oe[d]=Object.create(null));var g=a.Oe[d];if(c in g)return f+g[c];e?(e=encodeURI(e.replace(/ /g,"_")).replace(/[^\w]/g,
"_"),-1!="0123456789".indexOf(e[0])&&(e="my_"+e)):e=h.M.UNNAMED_KEY||"unnamed";for(var k="";a.qw[e+k]||e+k in a.qy;)k=k?k+1:2;e+=k;a.qw[e]=!0;a=(d==h.Dh||d==h.vd.Gp?a.Qy:"")+e;g[c]=a.substr(f.length);return a}h.vd.Gf=function(a,c){return a.toLowerCase()==c.toLowerCase()};h.Sa={};h.Sa.BA=h.cq;h.Sa.xz="x";h.Sa.Rv=function(a){var c=jb(a,"procedures_defnoreturn").map(function(d){return d.Bj()});a=jb(a,"procedures_defreturn").map(function(d){return d.Bj()});c.sort(h.Sa.ly);a.sort(h.Sa.ly);return[c,a]};h.Sa.ly=function(a,c){return a[0].localeCompare(c[0],void 0,{sensitivity:"base"})};h.Sa.yC=function(a,c){if(c.Zc)return a;for(a=a||h.M.UNNAMED_KEY||"unnamed";!h.Sa.rD(a,c.B,c);){var d=a.match(/^(.*?)(\d+)$/);a=d?d[1]+(parseInt(d[2],10)+1):a+"2"}return a};
h.Sa.rD=function(a,c,d){return!h.Sa.tD(a,c,d)};h.Sa.tD=function(a,c,d){c=D(c,!1);for(var e=0;e<c.length;e++)if(c[e]!=d&&c[e].Bj){var f=c[e].Bj();if(h.vd.Gf(f[0],a))return!0}return!1};h.Sa.WJ=function(a){a=a.trim();var c=h.Sa.yC(a,this.$()),d=this.getValue();if(d!=a&&d!=c){a=D(this.$().B,!1);for(var e=0;e<a.length;e++)a[e].zE&&a[e].zE(d,c)}return c};
h.Sa.tl=function(a){function c(g,k){for(var l=0;l<g.length;l++){var m=g[l][0],n=g[l][1],p=h.g.xml.createElement("block");p.setAttribute("type",k);p.setAttribute("gap",16);var q=h.g.xml.createElement("mutation");q.setAttribute("name",m);p.appendChild(q);for(m=0;m<n.length;m++){var B=h.g.xml.createElement("arg");B.setAttribute("name",n[m]);q.appendChild(B)}d.push(p)}}var d=[];if(h.mc.procedures_defnoreturn){var e=h.g.xml.createElement("block");e.setAttribute("type","procedures_defnoreturn");e.setAttribute("gap",
16);var f=h.g.xml.createElement("field");f.setAttribute("name","NAME");f.appendChild(h.g.xml.createTextNode(h.M.PROCEDURES_DEFNORETURN_PROCEDURE));e.appendChild(f);d.push(e)}h.mc.procedures_defreturn&&(e=h.g.xml.createElement("block"),e.setAttribute("type","procedures_defreturn"),e.setAttribute("gap",16),f=h.g.xml.createElement("field"),f.setAttribute("name","NAME"),f.appendChild(h.g.xml.createTextNode(h.M.PROCEDURES_DEFRETURN_PROCEDURE)),e.appendChild(f),d.push(e));h.mc.procedures_ifreturn&&(e=h.g.xml.createElement("block"),
e.setAttribute("type","procedures_ifreturn"),e.setAttribute("gap",16),d.push(e));d.length&&d[d.length-1].setAttribute("gap",24);a=h.Sa.Rv(a);c(a[0],"procedures_callnoreturn");c(a[1],"procedures_callreturn");return d};
h.Sa.Ly=function(a){for(var c=[],d=jb(a,"procedures_mutatorarg"),e=0,f;f=d[e];e++)c.push(hb(f,"NAME"));d=h.g.xml.createElement("xml");e=h.g.xml.createElement("block");e.setAttribute("type","procedures_mutatorarg");f=h.g.xml.createElement("field");f.setAttribute("name","NAME");c=h.g.xml.createTextNode(h.na.Hw(h.Sa.xz,c));f.appendChild(c);e.appendChild(f);d.appendChild(e);if(c=h.g.W.mw(d)){if(!a.options.di)throw Error("Existing toolbox is null.  Can't create new toolbox.");if(h.g.W.Dl(c)){if(!a.pb)throw Error("Existing toolbox has no categories.  Can't change mode.");
a.options.di=c;a.pb.Na(c)}else{if(!a.ya)throw Error("Existing toolbox has categories.  Can't change mode.");a.options.di=c;a.ya.show(c)}}else if(a.options.di)throw Error("Can't nullify an existing toolbox.");};h.Sa.KD=function(a){if(a.type==h.h.nu&&"mutator"===a.XI&&a.qs){a=h.rb.wl(a.Wb).Jc(a.hb);var c=a.type;if("procedures_defnoreturn"==c||"procedures_defreturn"==c)a=a.pe.m,h.Sa.Ly(a),E(a,h.Sa.JD)}};h.Sa.JD=function(a){a.type!=h.h.mh&&a.type!=h.h.wp&&a.type!=h.h.lh||h.Sa.Ly(h.rb.wl(a.Wb))};
h.Sa.HC=function(a,c){var d=[];c=D(c,!1);for(var e=0;e<c.length;e++)if(c[e].TC){var f=c[e].TC();f&&h.vd.Gf(f,a)&&d.push(c[e])}return d};h.Sa.OJ=function(a){var c=h.h.Ma,d=a.Bj()[0],e=a.Ld(!0);a=h.Sa.HC(d,a.B);d=0;for(var f;f=a[d];d++){var g=f.Ld();g=g&&h.I.Dd(g);f.Ef(e);var k=f.Ld();k=k&&h.I.Dd(k);g!=k&&(h.h.Ma=!1,h.h.Fa(new (h.h.get(h.h.lh))(f,"mutation",null,g,k)),h.h.Ma=c)}};h.Sa.tJ=function(a,c){c=D(c,!1);for(var d=0;d<c.length;d++)if(c[d].Bj){var e=c[d].Bj();if(e&&h.vd.Gf(e[0],a))return c[d]}return null};h.Sb=function(){h.Sb.u=this;this.Pd=Object.create(null);this.Pj=Object.create(null)};h.Sb.Mo={Shift:h.g.la.qn,Control:h.g.la.rh,Alt:h.g.la.Ji,Meta:h.g.la.Vi};h.Sb.prototype.register=function(a,c){if(this.Pd[a.name]&&!c)throw Error('Shortcut with name "'+a.name+'" already exists.');this.Pd[a.name]=a};
h.Sb.prototype.unregister=function(a){if(!this.Pd[a])return console.warn('Keyboard shortcut with name "'+a+'" not found.'),!1;for(var c in this.Pj){var d=c,e=this.Pj[d],f=e.indexOf(a);-1<f&&(e.splice(f,1),0==e.length&&delete this.Pj[d])}delete this.Pd[a];return!0};function J(a,c){var d=h.Sb.u;a=String(a);var e=d.Pj[a];if(e)throw Error('Shortcut with name "'+c+'" collides with shortcuts '+e.toString());d.Pj[a]=[c]}
h.Sb.prototype.Ws=function(a,c){var d="";for(e in h.Sb.Mo)c.getModifierState(e)&&(""!=d&&(d+="+"),d+=e);""!=d&&c.keyCode?d=d+"+"+c.keyCode:c.keyCode&&(d=c.keyCode.toString());d=this.Pj[d]||[];if(!d)return!1;var e=0;for(var f;f=d[e];e++)if(f=this.Pd[f],(!f.Db||f.Db(a))&&f.ib&&f.ib(a,c,f))return!0;return!1};
function K(a,c){var d="";if(c){for(var e=h.g.object.values(h.Sb.Mo),f=0,g;g=c[f];f++)if(0>e.indexOf(g))throw Error(g+" is not a valid modifier key.");for(var k in h.Sb.Mo)-1<c.indexOf(h.Sb.Mo[k])&&(""!=d&&(d+="+"),d+=k)}""!=d&&a?d=d+"+"+a:a&&(d=a.toString());return d}new h.Sb;h.yn=function(a,c,d,e){this.B=a;this.name=c;this.type=d||"";this.kD=e||h.g.Se();h.h.Fa(new (h.h.get(h.h.Kk))(this))};h.yn.prototype.fc=function(){return this.kD};h.yn.VB=function(a,c){return a.name.localeCompare(c.name,void 0,{sensitivity:"base"})};h.na={};h.na.BA=h.Dh;h.na.Aq=function(a){var c=D(a,!1);a=Object.create(null);for(var d=0;d<c.length;d++){var e=la(c[d]);if(e)for(var f=0;f<e.length;f++){var g=e[f],k=g.fc();k&&(a[k]=g)}}c=[];for(k in a)c.push(a[k]);return c};h.na.du={};
h.na.rB=function(a){a=D(a,!1);for(var c=Object.create(null),d=0,e;e=a[d];d++){var f=e.uJ;!f&&e.OC&&(f=e.OC,h.na.du[e.type]||(console.warn("Function getDeveloperVars() deprecated. Use getDeveloperVariables() (block type '"+e.type+"')"),h.na.du[e.type]=!0));if(f)for(e=f(),f=0;f<e.length;f++)c[e[f]]=!0}return Object.keys(c)};
h.na.tl=function(a){var c=[],d=document.createElement("button");d.setAttribute("text","%{BKY_NEW_VARIABLE}");d.setAttribute("callbackKey","CREATE_VARIABLE");Wc(a,function(e){h.na.ow(e.yJ())});c.push(d);a=h.na.BC(a);return c=c.concat(a)};
h.na.BC=function(a){a=a.lo("");var c=[];if(0<a.length){var d=a[a.length-1];if(h.mc.variables_set){var e=h.g.xml.createElement("block");e.setAttribute("type","variables_set");e.setAttribute("gap",h.mc.math_change?8:24);e.appendChild(h.na.Lr(d));c.push(e)}h.mc.math_change&&(e=h.g.xml.createElement("block"),e.setAttribute("type","math_change"),e.setAttribute("gap",h.mc.variables_get?20:8),e.appendChild(h.na.Lr(d)),d=h.I.ue('<value name="DELTA"><shadow type="math_number"><field name="NUM">1</field></shadow></value>'),
e.appendChild(d),c.push(e));if(h.mc.variables_get){a.sort(h.yn.VB);d=0;for(var f;f=a[d];d++)e=h.g.xml.createElement("block"),e.setAttribute("type","variables_get"),e.setAttribute("gap",8),e.appendChild(h.na.Lr(f)),c.push(e)}}return c};h.na.Ev="ijkmnopqrstuvwxyzabcdefgh";h.na.EC=function(a){return h.na.Hw(h.na.Ev.charAt(0),a.Mr())};
h.na.Hw=function(a,c){if(!c.length)return a;for(var d=h.na.Ev,e="",f=d.indexOf(a);;){for(var g=!1,k=0;k<c.length;k++)if(c[k].toLowerCase()==a){g=!0;break}if(!g)return a;f++;f==d.length&&(f=0,e=Number(e)+1);a=d.charAt(f)+e}};
h.na.ow=function(a,c,d){function e(g){h.na.ny(h.M.NEW_VARIABLE_TITLE,g,function(k){if(k){var l=h.na.MD(k,a);if(l){if(l.type==f)var m=h.M.VARIABLE_ALREADY_EXISTS.replace("%1",l.name);else m=h.M.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE,m=m.replace("%1",l.name).replace("%2",l.type);h.alert(m,function(){e(k)})}else a.fe(k,f),c&&c(k)}else c&&c(null)})}var f=d||"";e("")};h.na.fe=h.na.ow;
h.na.oy=function(a,c){function d(e){var f=h.M.RENAME_VARIABLE_TITLE.replace("%1",c.name);h.na.ny(f,e,function(g){if(g){var k=h.na.ND(g,c.type,a);k?(k=h.M.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE.replace("%1",k.name).replace("%2",k.type),h.alert(k,function(){d(g)})):a.si(c.fc(),g)}})}d("")};h.na.ny=function(a,c,d){h.prompt(a,c,function(e){e&&(e=e.replace(/[\s\xa0]+/g," ").trim(),e==h.M.RENAME_VARIABLE||e==h.M.NEW_VARIABLE)&&(e=null);d(e)})};
h.na.ND=function(a,c,d){d=d.Oa.Nh();a=a.toLowerCase();for(var e=0,f;f=d[e];e++)if(f.name.toLowerCase()==a&&f.type!=c)return f;return null};h.na.MD=function(a,c){c=c.Oa.Nh();a=a.toLowerCase();for(var d=0,e;e=c[d];d++)if(e.name.toLowerCase()==a)return e;return null};h.na.Lr=function(a){var c=h.g.xml.createElement("field");c.setAttribute("name","VAR");c.setAttribute("id",a.fc());c.setAttribute("variabletype",a.type);a=h.g.xml.createTextNode(a.name);c.appendChild(a);return c};
h.na.wJ=function(a,c,d,e){var f=h.na.Cg(a,c,d,e);f||(f=h.na.eC(a,c,d,e));return f};h.na.Cg=function(a,c,d,e){var f=a.Sj,g=null;if(c&&(g=a.Dg(c),!g&&f&&(g=f.Dg(c)),g))return g;if(d){if(void 0==e)throw Error("Tried to look up a variable by name without a type");g=a.Cg(d,e);!g&&f&&(g=f.Cg(d,e))}return g};h.na.eC=function(a,c,d,e){var f=a.Sj;d||(d=h.na.EC(a.Lf?a.Da:a));return f?f.fe(d,e,c):a.fe(d,e,c)};
h.na.Iw=function(a,c){a=a.Nh();var d=[];if(c.length!=a.length)for(var e=0;e<a.length;e++){var f=a[e];-1==c.indexOf(f)&&d.push(f)}return d};h.VERSION="uncompiled";h.Ol=null;h.selected=null;h.zj=[];h.pj=null;h.Ln=null;h.Vq=null;h.$I=null;h.Wo=null;h.jK=function(a){h.g.wj.warn("Blockly.svgSize","March 2021","March 2022","workspace.getCachedParentSvgSize");return new h.g.Qc(a.JB,a.IB)};h.YJ=function(a){ja(a)};
h.ym=function(a){for(;a.options.ad;)a=a.options.ad;var c=v(a),d=Kc(a),e=c.parentNode;if(e){var f=e.offsetWidth;e=e.offsetHeight;d.width!=f&&(c.setAttribute("width",f+"px"),Uc(a,f,null));d.height!=e&&(c.setAttribute("height",e+"px"),Uc(a,null,e));a.resize()}};h.Ws=function(a){var c=h.Ol;!c||h.g.Ao(a)||c.ua&&!c.isVisible()||h.Sb.u.Ws(c,a)};h.gr=function(a){a.B.Lf||(h.h.ta(!0),h.hc(),a.T?a.H(!1,!0):a.H(!0,!0),h.h.ta(!1))};
h.Zq=function(a){if(a.Mj)a=null;else{var c=h.I.wf(a,!0);h.I.kC(c);var d=a.Za();c.setAttribute("x",a.J?-d.x:d.x);c.setAttribute("y",d.y);a={xml:c,source:a.B,cF:h.g.Nr(a,!0)}}a&&(h.pj=a.xml,h.Ln=a.source,h.Vq=a.cF)};h.Yo=function(){if(!h.pj)return!1;var a=h.Ln;a.Lf&&(a=a.Da);return h.Vq&&lb(a,h.Vq)?(h.h.ta(!0),a.Yo(h.pj),h.h.ta(!1),!0):!1};h.duplicate=function(a){var c=h.pj,d=h.Ln;h.Zq(a);a.B.Yo(h.pj);h.pj=c;h.Ln=d};h.PJ=function(a){h.g.Ao(a)||a.preventDefault()};
h.hc=function(a){h.G.$a();h.Y.$a();h.C.no();var c=!!a;ta(h.Bg().Af,h.Eb.Rb.ju).forEach(function(d){!c&&d.Fd&&d.Fd&&d.Fd.isVisible()&&(d.Fd.$a(),Ec(d,!1))})};h.Bg=function(){return h.Ol};h.alert=function(a,c){alert(a);c&&c()};h.confirm=function(a,c){c(confirm(a))};h.prompt=function(a,c,d){d(prompt(a,c))};h.xD=function(a){return function(){gc(this,a)}};
h.lJ=function(a){for(var c=0;c<a.length;c++){var d=a[c];if(d){var e=d.type;null==e||""===e?console.warn("Block definition #"+c+" in JSON array is missing a type attribute. Skipping."):(h.mc[e]&&console.warn("Block definition #"+c+' in JSON array overwrites prior definition of "'+e+'".'),h.mc[e]={Ba:h.xD(d)})}else console.warn("Block definition #"+c+" in JSON array is "+d+". Skipping.")}};h.uD=function(a){return/^\s*-?\d+(\.\d+)?\s*$/.test(a)};h.BJ=function(a){return h.g.tb.ox(a)};
h.MB=function(){h.Fc("LOGIC_HUE",["Blocks","logic","HUE"]);h.Fc("LOGIC_HUE",["Constants","Logic","HUE"],210);h.Fc("LOOPS_HUE",["Blocks","loops","HUE"]);h.Fc("LOOPS_HUE",["Constants","Loops","HUE"],120);h.Fc("MATH_HUE",["Blocks","math","HUE"]);h.Fc("MATH_HUE",["Constants","Math","HUE"],230);h.Fc("TEXTS_HUE",["Blocks","texts","HUE"]);h.Fc("TEXTS_HUE",["Constants","Text","HUE"],160);h.Fc("LISTS_HUE",["Blocks","lists","HUE"]);h.Fc("LISTS_HUE",["Constants","Lists","HUE"],260);h.Fc("COLOUR_HUE",["Blocks",
"colour","HUE"]);h.Fc("COLOUR_HUE",["Constants","Colour","HUE"],20);h.Fc("VARIABLES_HUE",["Blocks","variables","HUE"]);h.Fc("VARIABLES_HUE",["Constants","Variables","HUE"],330);h.Fc("PROCEDURES_HUE",["Blocks","procedures","HUE"])};h.Fc=function(a,c,d){for(var e="Blockly",f=h,g=0;g<c.length;++g)e+="."+c[g],f&&(f=f[c[g]]);f&&f!==d&&(a=(void 0===d?'%1 has been removed. Use Blockly.Msg["%2"].':'%1 is deprecated and unused. Override Blockly.Msg["%2"].').replace("%1",e).replace("%2",a),console.warn(a))};
h.fK=function(a){h.Wo=a};h.Fh=h.N.bind;h.pp=h.N.xb;h.WI=h.N.Aa;h.mF=h.lb.Vd.Gb;h.lF=h.lb.Vd.Qm;h.nF=h.lb.Vd.Cc;h.$b=h.Z.$b;h.dd=h.Z.dd;h.ac=h.Z.ac;h.wd=h.Z.wd;h.LF=h.Ga.Ce;h.EI=h.g.W.bb.mg;h.BI=h.g.W.bb.Ki;h.CI=h.g.W.bb.Gb;h.DI=h.g.W.bb.Cc;var dd={am:"\u12a0\u121b\u122d\u129b",ar:"\u0627\u0644\u0639\u0631\u0628\u064a\u0629",be:"\u0431\u0435\u043b\u0430\u0440\u0443\u0441\u043a\u0456","be-tarask":"Tara\u0161kievica",bg:"\u0431\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u0435\u0437\u0438\u043a",bn:"\u09ac\u09be\u0982\u09b2\u09be",br:"Brezhoneg",ca:"Catal\u00e0",cs:"\u010cesky",da:"Dansk",de:"Deutsch",el:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",en:"English",eo:"Esperanto",es:"Espa\u00f1ol",eu:"Euskara",fa:"\u0641\u0627\u0631\u0633\u06cc",
fi:"Suomi",fo:"F\u00f8royskt",fr:"Fran\u00e7ais",gl:"Galego",ha:"Hausa",he:"\u05e2\u05d1\u05e8\u05d9\u05ea",hi:"Gujrati",hr:"Hrvatski",hu:"Magyar",hy:"\u0570\u0561\u0575\u0565\u0580\u0567\u0576",ia:"Interlingua",id:"Bahasa Indonesia",ig:"As\u1ee5s\u1ee5 Igbo",is:"\u00cdslenska",it:"Italiano",ja:"\u65e5\u672c\u8a9e",kab:"Taqbaylit",kn:"\u0c95\u0ca8\u0ccd\u0ca8\u0ca1",ko:"\ud55c\uad6d\uc5b4",lt:"Lietuvi\u0173",lv:"Latvie\u0161u",ms:"Bahasa Melayu",my:"\u1019\u103c\u1014\u103a\u1019\u102c\u1005\u102c",
nb:"Norsk Bokm\u00e5l",nl:"Nederlands, Vlaams",pl:"Polski",pms:"Piemont\u00e8is",pt:"Portugu\u00eas","pt-br":"Portugu\u00eas Brasileiro",ro:"Rom\u00e2n\u0103",ru:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",sc:"Sardu",sk:"Sloven\u010dina",sl:"Sloven\u0161\u010dina",sq:"Shqip",sr:"\u0421\u0440\u043f\u0441\u043a\u0438","sr-latn":"Srpski",sv:"Svenska",th:"\u0e20\u0e32\u0e29\u0e32\u0e44\u0e17\u0e22",ti:"\u1275\u130d\u122d\u129b",tr:"T\u00fcrk\u00e7e",uk:"\u0423\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",
ur:"\u0627\u064f\u0631\u062f\u064f\u0648\u202c",vi:"Ti\u1ebfng Vi\u1ec7t",yo:"\u00c8d\u00e8 Yor\u00f9b\u00e1","zh-hans":"\u7b80\u4f53\u4e2d\u6587","zh-hant":"\u6b63\u9ad4\u4e2d\u6587"},ed="ace ar fa he mzn ps ur".split(" "),L=window.BlocklyGamesLang,fd=window.BlocklyGamesLanguages,gd=/\.html$/.test(window.location.pathname);
function hd(a){try{if(0!=a.lineno||0!=a.colno){var c=Date.now();if(!(hd.zx+1E4>c)){hd.zx=c;var d=new XMLHttpRequest,e="error="+encodeURIComponent(a.message+" "+a.filename+" "+a.lineno+":"+a.colno)+"&amp;url="+encodeURIComponent(window.location);d.open("POST","/errorReporter");d.setRequestHeader("Content-Type","application/x-www-form-urlencoded");d.send(e);console.log("Error reported.")}}}catch(f){console.log(a.error)}}hd.zx=0;gd||window.addEventListener("error",hd);
function id(a,c,d){var e=Math,f=e.floor,g=Number;a=(a=window.location.search.match(new RegExp("[?&]"+a+"=([^&]+)")))?decodeURIComponent(a[1].replace(/\+/g,"%20")):"NaN";e=f.call(e,g(a));return isNaN(e)?c:h.g.Jd.Tk(c,e,d)}function jd(){return-1!=ed.indexOf(L)}var M=id("level",1,10);
function kd(){document.title=document.getElementById("title").textContent;document.dir=jd()?"rtl":"ltr";document.head.parentElement.setAttribute("lang",L);var a=document.getElementById("languageMenu");if(a){for(var c=[],d=0;d<fd.length;d++){var e=fd[d];c.push([dd[e],e])}c.sort(function(g,k){return g[0]>k[0]?1:g[0]<k[0]?-1:0});for(d=a.options.length=0;d<c.length;d++){var f=c[d];e=f[1];f=new Option(f[0],e);e==L&&(f.selected=!0);a.options.add(f)}1>=a.options.length&&(a.style.display="none")}for(d=1;10>=
d;d++)a=document.getElementById("level"+d),c=!!ld(d),a&&c&&(a.className+=" level_done");(d=document.querySelector('meta[name="viewport"]'))&&725>screen.availWidth&&d.setAttribute("content","width=device-width, initial-scale=1.0, user-scalable=no");setTimeout(md,1)}function ld(a){var c=nd;try{var d=window.localStorage[c+a]}catch(e){}return d}function N(a){var c;(c=document.getElementById(a))?(c=c.textContent,c=c.replace(/\\n/g,"\n")):c=null;return null===c?"[Unknown message: "+a+"]":c}
function od(a,c){if(!a)throw TypeError("Element not found: "+a);"string"==typeof a&&(a=document.getElementById(a));a.addEventListener("click",c,!0);a.addEventListener("touchend",function(d){d.preventDefault();c(d)},!0)}
function md(){if(!gd){window.GoogleAnalyticsObject="GoogleAnalyticsFunction";var a=function(d){(a.q=a.q||[]).push(arguments)};window.GoogleAnalyticsFunction=a;a.l=1*new Date;var c=document.createElement("script");c.async=1;c.src="//www.google-analytics.com/analytics.js";document.head.appendChild(c);a("create","UA-50448074-1","auto");a("send","pageview")}};h.oa={};h.oa.tt=function(){h.Ea.u.register({Ic:function(){return h.M.UNDO},Db:function(a){return 0<a.B.Ei.length?"enabled":"disabled"},ib:function(a){nb(a.B,!1)},nd:h.Ea.Dc.Sc,id:"undoWorkspace",weight:1})};h.oa.st=function(){h.Ea.u.register({Ic:function(){return h.M.REDO},Db:function(a){return 0<a.B.fm.length?"enabled":"disabled"},ib:function(a){nb(a.B,!0)},nd:h.Ea.Dc.Sc,id:"redoWorkspace",weight:2})};
h.oa.hE=function(){h.Ea.u.register({Ic:function(){return h.M.CLEAN_UP},Db:function(a){return a.B.rc()?1<a.B.vb(!1).length?"enabled":"disabled":"hidden"},ib:function(a){a=a.B;a.Yb(!1);h.h.ta(!0);for(var c=a.vb(!0),d=0,e=0,f;f=c[e];e++)if(f.rc()){var g=f.Za();f.moveBy(-g.x,d-g.y);zc(f);d=f.Za().y+r(f).height+a.ob.ea().Ck}h.h.ta(!1);a.Yb(!0)},nd:h.Ea.Dc.Sc,id:"cleanWorkspace",weight:3})};h.oa.Hy=function(a,c){for(var d=0,e=0;e<c.length;e++)for(var f=c[e];f;)setTimeout(f.wi.bind(f,a),d),f=y(f),d+=10};
h.oa.iE=function(){h.Ea.u.register({Ic:function(){return h.M.COLLAPSE_ALL},Db:function(a){if(a.B.options.collapse){a=a.B.vb(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(!d.isCollapsed())return"enabled";d=y(d)}return"disabled"}return"hidden"},ib:function(a){h.oa.Hy(!0,a.B.vb(!0))},nd:h.Ea.Dc.Sc,id:"collapseWorkspace",weight:4})};
h.oa.tE=function(){h.Ea.u.register({Ic:function(){return h.M.EXPAND_ALL},Db:function(a){if(a.B.options.collapse){a=a.B.vb(!1);for(var c=0;c<a.length;c++)for(var d=a[c];d;){if(d.isCollapsed())return"enabled";d=y(d)}return"disabled"}return"hidden"},ib:function(a){h.oa.Hy(!1,a.B.vb(!0))},nd:h.Ea.Dc.Sc,id:"expandWorkspace",weight:5})};h.oa.Ov=function(a,c){if(a.Ye())Array.prototype.push.apply(c,x(a,!1));else{a=ea(a,!1);for(var d=0;d<a.length;d++)h.oa.Ov(a[d],c)}};
h.oa.Rr=function(a){var c=[];a=a.vb(!0);for(var d=0;d<a.length;d++)h.oa.Ov(a[d],c);return c};h.oa.Un=function(a,c){h.h.ta(c);var d=a.shift();d&&(d.B?(d.H(!1,!0),setTimeout(h.oa.Un,10,a,c)):h.oa.Un(a,c));h.h.ta(!1)};
h.oa.pE=function(){h.Ea.u.register({Ic:function(a){if(a.B)return a=h.oa.Rr(a.B).length,1==a?h.M.DELETE_BLOCK:h.M.DELETE_X_BLOCKS.replace("%1",String(a))},Db:function(a){if(a.B)return 0<h.oa.Rr(a.B).length?"enabled":"disabled"},ib:function(a){if(a.B){Bc(a.B);var c=h.oa.Rr(a.B),d=h.g.Se();2>c.length?h.oa.Un(c,d):h.confirm(h.M.DELETE_ALL_BLOCKS.replace("%1",c.length),function(e){e&&h.oa.Un(c,d)})}},nd:h.Ea.Dc.Sc,id:"workspaceDelete",weight:6})};
h.oa.xE=function(){h.oa.tt();h.oa.st();h.oa.hE();h.oa.iE();h.oa.tE();h.oa.pE()};h.oa.rE=function(){h.Ea.u.register({Ic:function(){return h.M.DUPLICATE_BLOCK},Db:function(a){a=a.block;return!a.Zc&&a.Ye()&&a.rc()?(mb(a.B)?lb(a.B,h.g.Nr(a,!0)):1)?"enabled":"disabled":"hidden"},ib:function(a){a.block&&h.duplicate(a.block)},nd:h.Ea.Dc.Qb,id:"blockDuplicate",weight:1})};
h.oa.kE=function(){h.Ea.u.register({Ic:function(a){return a.block.Bd?h.M.REMOVE_COMMENT:h.M.ADD_COMMENT},Db:function(a){a=a.block;return h.g.userAgent.Yd||a.Zc||!a.B.options.UB||a.isCollapsed()||!a.Hd()?"hidden":"enabled"},ib:function(a){a=a.block;a.Bd?a.Vj(null):a.Vj("")},nd:h.Ea.Dc.Qb,id:"blockComment",weight:2})};
h.oa.vE=function(){h.Ea.u.register({Ic:function(a){return Aa(a.block)?h.M.EXTERNAL_INPUTS:h.M.INLINE_INPUTS},Db:function(a){a=a.block;if(!a.Zc&&a.rc()&&!a.isCollapsed())for(var c=1;c<a.V.length;c++)if(a.V[c-1].type!=h.Ga.oc&&a.V[c].type!=h.Ga.oc)return"enabled";return"hidden"},ib:function(a){a.block.yi(!Aa(a.block))},nd:h.Ea.Dc.Qb,id:"blockInline",weight:3})};
h.oa.jE=function(){h.Ea.u.register({Ic:function(a){return a.block.isCollapsed()?h.M.EXPAND_BLOCK:h.M.COLLAPSE_BLOCK},Db:function(a){a=a.block;return!a.Zc&&a.rc()&&a.B.options.collapse?"enabled":"hidden"},ib:function(a){a.block.wi(!a.block.isCollapsed())},nd:h.Ea.Dc.Qb,id:"blockCollapseExpand",weight:4})};
h.oa.qE=function(){h.Ea.u.register({Ic:function(a){return a.block.isEnabled()?h.M.DISABLE_BLOCK:h.M.ENABLE_BLOCK},Db:function(a){a=a.block;return!a.Zc&&a.B.options.disable&&a.Hd()?ec(a)?"disabled":"enabled":"hidden"},ib:function(a){a=a.block;var c=h.h.Ub();c||h.h.ta(!0);a.cf(!a.isEnabled());c||h.h.ta(!1)},nd:h.Ea.Dc.Qb,id:"blockDisable",weight:5})};
h.oa.rt=function(){h.Ea.u.register({Ic:function(a){var c=a.block;a=x(c,!1).length;(c=y(c))&&(a-=x(c,!1).length);return 1==a?h.M.DELETE_BLOCK:h.M.DELETE_X_BLOCKS.replace("%1",String(a))},Db:function(a){return!a.block.Zc&&a.block.Ye()?"enabled":"hidden"},ib:function(a){h.h.ta(!0);a.block&&h.gr(a.block);h.h.ta(!1)},nd:h.Ea.Dc.Qb,id:"blockDelete",weight:6})};
h.oa.uE=function(){h.Ea.u.register({Ic:function(){return h.M.HELP},Db:function(a){a=a.block;return("function"==typeof a.Gj?a.Gj():a.Gj)?"enabled":"hidden"},ib:function(a){a.block.showHelp()},nd:h.Ea.Dc.Qb,id:"blockHelp",weight:7})};h.oa.gE=function(){h.oa.rE();h.oa.kE();h.oa.vE();h.oa.jE();h.oa.qE();h.oa.rt();h.oa.uE()};h.oa.nE=function(){h.oa.xE();h.oa.gE()};h.oa.nE();h.ub={};h.ub.names={Mz:"escape",sh:"delete",oz:"copy",uz:"cut",KA:"paste",iB:"undo",VA:"redo"};h.ub.sE=function(){var a={name:h.ub.names.Mz,Db:function(c){return!c.options.readOnly},ib:function(){h.hc();return!0}};h.Sb.u.register(a);J(h.g.la.Lz,a.name)};
h.ub.rt=function(){var a={name:h.ub.names.sh,Db:function(c){return!c.options.readOnly&&h.selected&&h.selected.Ye()},ib:function(c,d){d.preventDefault();if(h.Ee.Xh())return!1;h.gr(h.selected);return!0}};h.Sb.u.register(a);J(h.g.la.sh,a.name);J(h.g.la.fz,a.name)};
h.ub.lE=function(){var a={name:h.ub.names.oz,Db:function(d){return!d.options.readOnly&&!h.Ee.Xh()&&h.selected&&h.selected.Ye()&&h.selected.rc()},ib:function(d,e){e.preventDefault();h.hc();h.Zq(h.selected);return!0}};h.Sb.u.register(a);var c=K(h.g.la.Ap,[h.g.la.rh]);J(c,a.name);c=K(h.g.la.Ap,[h.g.la.Ji]);J(c,a.name);c=K(h.g.la.Ap,[h.g.la.Vi]);J(c,a.name)};
h.ub.mE=function(){var a={name:h.ub.names.uz,Db:function(d){return!d.options.readOnly&&!h.Ee.Xh()&&h.selected&&h.selected.Ye()&&h.selected.rc()&&!h.selected.B.Lf},ib:function(){h.Zq(h.selected);h.gr(h.selected);return!0}};h.Sb.u.register(a);var c=K(h.g.la.yq,[h.g.la.rh]);J(c,a.name);c=K(h.g.la.yq,[h.g.la.Ji]);J(c,a.name);c=K(h.g.la.yq,[h.g.la.Vi]);J(c,a.name)};
h.ub.wE=function(){var a={name:h.ub.names.KA,Db:function(d){return!d.options.readOnly&&!h.Ee.Xh()},ib:function(){return h.Yo()}};h.Sb.u.register(a);var c=K(h.g.la.vq,[h.g.la.rh]);J(c,a.name);c=K(h.g.la.vq,[h.g.la.Ji]);J(c,a.name);c=K(h.g.la.vq,[h.g.la.Vi]);J(c,a.name)};
h.ub.tt=function(){var a={name:h.ub.names.iB,Db:function(d){return!d.options.readOnly&&!h.Ee.Xh()},ib:function(d){h.hc();nb(d,!1);return!0}};h.Sb.u.register(a);var c=K(h.g.la.hj,[h.g.la.rh]);J(c,a.name);c=K(h.g.la.hj,[h.g.la.Ji]);J(c,a.name);c=K(h.g.la.hj,[h.g.la.Vi]);J(c,a.name)};
h.ub.st=function(){var a={name:h.ub.names.VA,Db:function(d){return!h.Ee.Xh()&&!d.options.readOnly},ib:function(d){h.hc();nb(d,!0);return!0}};h.Sb.u.register(a);var c=K(h.g.la.hj,[h.g.la.qn,h.g.la.rh]);J(c,a.name);c=K(h.g.la.hj,[h.g.la.qn,h.g.la.Ji]);J(c,a.name);c=K(h.g.la.hj,[h.g.la.qn,h.g.la.Vi]);J(c,a.name);c=K(h.g.la.lB,[h.g.la.rh]);J(c,a.name)};h.ub.oE=function(){h.ub.sE();h.ub.rt();h.ub.lE();h.ub.mE();h.ub.wE();h.ub.tt();h.ub.st()};h.ub.oE();h.g.A={};h.g.A.Ha=function(a,c){return" "+a+","+c+" "};h.g.A.curve=function(a,c){return" "+a+c.join("")};h.g.A.moveTo=function(a,c){return" M "+a+","+c+" "};h.g.A.moveBy=function(a,c){return" m "+a+","+c+" "};h.g.A.lineTo=function(a,c){return" l "+a+","+c+" "};h.g.A.line=function(a){return" l"+a.join("")};h.g.A.X=function(a,c){return" "+a+" "+c+" "};h.g.A.arc=function(a,c,d,e){return a+" "+d+" "+d+" "+c+e};h.i.lf=function(){this.Fe=0;this.YA=3;this.ud=5;this.Yu=8;this.Bc=10;this.yv=this.ud;this.Jk=15;this.dj=5;this.vn=8;this.CA=15;this.Zp=4;this.yA=12;this.Fz=16;this.Ez=this.yu=this.Jk;this.qb=8;this.dB=this.Gk=15;this.vv=0;this.xv=20;this.gz=4;this.gB=this.ud;this.hB=this.Bc;this.iz=this.ud;this.hz=this.Bc;this.Jm=!1;this.bB=15;this.cB=100;this.aB=15;this.Ck=24;this.Hz=14.5;this.Gz=this.Jk+11;this.Nz=2;this.Iz=this.Ck;this.uv=h.g.A.moveBy(0,0);this.lA=12;this.mA=6;this.vh=11;this.$f="normal";this.Zf=
"sans-serif";this.Fu=this.an=-1;this.$m=4;this.Cu=16;this.qk=5;this.Rz="#fff";this.Jp=!h.g.userAgent.Yd&&!h.g.userAgent.uh;this.Du=this.Cu;this.Tz=this.Sz=this.Eu=!1;this.Vz=this.qk;this.rk=12;this.Uz="data:image/svg+xml;base64,PHN2ZyBpZD0iTGF5ZXJfMSIgZGF0YS1uYW1lPSJMYXllciAxIiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMi43MSIgaGVpZ2h0PSI4Ljc5IiB2aWV3Qm94PSIwIDAgMTIuNzEgOC43OSI+PHRpdGxlPmRyb3Bkb3duLWFycm93PC90aXRsZT48ZyBvcGFjaXR5PSIwLjEiPjxwYXRoIGQ9Ik0xMi43MSwyLjQ0QTIuNDEsMi40MSwwLDAsMSwxMiw0LjE2TDguMDgsOC4wOGEyLjQ1LDIuNDUsMCwwLDEtMy40NSwwTDAuNzIsNC4xNkEyLjQyLDIuNDIsMCwwLDEsMCwyLjQ0LDIuNDgsMi40OCwwLDAsMSwuNzEuNzFDMSwwLjQ3LDEuNDMsMCw2LjM2LDBTMTEuNzUsMC40NiwxMiwuNzFBMi40NCwyLjQ0LDAsMCwxLDEyLjcxLDIuNDRaIiBmaWxsPSIjMjMxZjIwIi8+PC9nPjxwYXRoIGQ9Ik02LjM2LDcuNzlhMS40MywxLjQzLDAsMCwxLTEtLjQyTDEuNDIsMy40NWExLjQ0LDEuNDQsMCwwLDEsMC0yYzAuNTYtLjU2LDkuMzEtMC41Niw5Ljg3LDBhMS40NCwxLjQ0LDAsMCwxLDAsMkw3LjM3LDcuMzdBMS40MywxLjQzLDAsMCwxLDYuMzYsNy43OVoiIGZpbGw9IiNmZmYiLz48L3N2Zz4=";
this.bp=String(Math.random()).substring(2);this.ao="";this.Fr=null;this.ww="";this.bl=this.rw=this.mr=null;this.Um="#cc0a0a";this.gn="#4286f4";this.Wm=100;this.Hv=5;this.Vm=10;this.qz=2;this.sz=4;this.Pp="#000000";this.cn=.2;this.tv={MA:1,Wi:2}};b=h.i.lf.prototype;
b.Ba=function(){this.Si=this.Bs();this.Wi=this.Cs();this.aj=this.Es();this.eq=this.Ds();var a=this.qb,c=h.g.A.arc("a","0 0,0",a,h.g.A.Ha(-a,a)),d=h.g.A.arc("a","0 0,0",a,h.g.A.Ha(a,a));this.dn={width:a,height:a,gt:c,Zo:d};a=this.qb;c=h.g.A.moveBy(0,a)+h.g.A.arc("a","0 0,1",a,h.g.A.Ha(a,-a));d=h.g.A.arc("a","0 0,1",a,h.g.A.Ha(a,a));var e=h.g.A.arc("a","0 0,1",a,h.g.A.Ha(-a,-a)),f=h.g.A.arc("a","0 0,1",a,h.g.A.Ha(-a,a));this.Hk={Vt:c,$E:d,DB:f,Jq:e,CE:a}};
b.mm=function(a){this.rg=Object.create(null);var c=a.rg,d;for(d in c)this.rg[d]=pd(c[d]);this.Zf=a.fontStyle&&void 0!=a.fontStyle.family?a.fontStyle.family:this.Zf;this.$f=a.fontStyle&&void 0!=a.fontStyle.weight?a.fontStyle.weight:this.$f;this.vh=a.fontStyle&&void 0!=a.fontStyle.size?a.fontStyle.size:this.vh;c=h.g.j.DD(this.vh+"pt",this.$f,this.Zf);this.an=c.height;this.Fu=c.ae;this.Um=fb(a,"cursorColour")||this.Um;this.gn=fb(a,"markerColour")||this.gn;this.Pp=fb(a,"insertionMarkerColour")||this.Pp;
this.cn=Number(fb(a,"insertionMarkerOpacity"))||this.cn;this.Jm=null!=a.Ot?a.Ot:this.Jm};function Cc(a,c){var d="auto_"+c;a.rg[d]||(a.rg[d]=pd({colourPrimary:c}));return{style:a.rg[d],name:d}}function yc(a,c){return a.rg[c||""]||(c&&0==c.indexOf("auto_")?Cc(a,c.substring(5)).style:pd({colourPrimary:"#000000"}))}
function pd(a){var c={};a&&h.g.object.Rg(c,a);a=h.g.Xo(c.colourPrimary||"#000");c.Hh=a.El;c.colourSecondary?a=h.g.Xo(c.colourSecondary).El:(a=c.Hh,a=h.g.tb.Gq("#fff",a,.6)||a);c.Mn=a;c.colourTertiary?a=h.g.Xo(c.colourTertiary).El:(a=c.Hh,a=h.g.tb.Gq("#fff",a,.3)||a);c.qj=a;c.Ue=c.hat||"";return c}b.H=function(){this.Fr&&h.g.j.removeNode(this.Fr);this.mr&&h.g.j.removeNode(this.mr);this.rw&&h.g.j.removeNode(this.rw);this.bl=null};
b.Bs=function(){var a=this.lA,c=this.mA,d=h.g.A.line([h.g.A.Ha(c,a/4),h.g.A.Ha(2*-c,a/2),h.g.A.Ha(c,a/4)]);return{height:a,width:c,path:d}};b.Es=function(){var a=this.bB,c=this.cB,d=h.g.A.curve("c",[h.g.A.Ha(30,-a),h.g.A.Ha(70,-a),h.g.A.Ha(c,0)]);return{height:a,width:c,path:d}};
b.Ds=function(){function a(g){g=g?-1:1;var k=-g,l=d/2,m=h.g.A.Ha(c,g*l);return h.g.A.curve("c",[h.g.A.Ha(0,g*(l+2.5)),h.g.A.Ha(-c,k*(l+.5)),h.g.A.Ha(-c,g*l)])+h.g.A.curve("s",[h.g.A.Ha(c,2.5*k),m])}var c=this.vn,d=this.Jk,e=a(!0),f=a(!1);return{type:this.tv.MA,width:c,height:d,Od:f,$l:e}};b.Cs=function(){function a(k){return h.g.A.line([h.g.A.Ha(k*e,d),h.g.A.Ha(3*k,0),h.g.A.Ha(k*e,-d)])}var c=this.CA,d=this.Zp,e=(c-3)/2,f=a(1),g=a(-1);return{type:this.tv.Wi,width:c,height:d,Yg:f,Zx:g}};
function za(a,c){switch(c.type){case h.Z.$b:case h.Z.dd:return a.eq;case h.Z.wd:case h.Z.ac:return a.Wi;default:throw Error("Unknown connection type");}}
b.Va=function(a,c,d){d=this.Or(d);c="blockly-renderer-style-"+c;this.bl=document.getElementById(c);var e=d.join("\n");this.bl?this.bl.firstChild.textContent=e:(d=document.createElement("style"),d.id=c,c=document.createTextNode(e),d.appendChild(c),document.head.insertBefore(d,document.head.firstChild),this.bl=d);a=h.g.j.L(h.g.F.xu,{},a);c=h.g.j.L(h.g.F.Wz,{id:"blocklyEmbossFilter"+this.bp},a);h.g.j.L(h.g.F.Oz,{"in":"SourceAlpha",stdDeviation:1,result:"blur"},c);d=h.g.j.L(h.g.F.Qz,{"in":"blur",surfaceScale:1,
specularConstant:.5,specularExponent:10,"lighting-color":"white",result:"specOut"},c);h.g.j.L(h.g.F.Pz,{x:-5E3,y:-1E4,z:2E4},d);h.g.j.L(h.g.F.Bu,{"in":"specOut",in2:"SourceAlpha",operator:"in",result:"specOut"},c);h.g.j.L(h.g.F.Bu,{"in":"SourceGraphic",in2:"specOut",operator:"arithmetic",k1:0,k2:1,k3:1,k4:0},c);this.ao=c.id;this.Fr=c;a=h.g.j.L(h.g.F.nv,{id:"blocklyDisabledPattern"+this.bp,patternUnits:"userSpaceOnUse",width:10,height:10},a);h.g.j.L(h.g.F.xd,{width:10,height:10,fill:"#aaa"},a);h.g.j.L(h.g.F.Ge,
{d:"M 0 0 L 10 10 M 10 0 L 0 10",stroke:"#cc0"},a);this.ww=a.id;this.mr=a};
b.Or=function(a){return[a+" .blocklyText, ",a+" .blocklyFlyoutLabelText {","font: "+this.$f+" "+this.vh+"pt "+this.Zf+";","}",a+" .blocklyText {","fill: #fff;","}",a+" .blocklyNonEditableText>rect,",a+" .blocklyEditableText>rect {","fill: "+this.Rz+";","fill-opacity: .6;","stroke: none;","}",a+" .blocklyNonEditableText>text,",a+" .blocklyEditableText>text {","fill: #000;","}",a+" .blocklyFlyoutLabelText {","fill: #000;","}",a+" .blocklyText.blocklyBubbleText {","fill: #000;","}",a+" .blocklyEditableText:not(.editing):hover>rect {",
"stroke: #fff;","stroke-width: 2;","}",a+" .blocklyHtmlInput {","font-family: "+this.Zf+";","font-weight: "+this.$f+";","}",a+" .blocklySelected>.blocklyPath {","stroke: #fc3;","stroke-width: 3px;","}",a+" .blocklyHighlightedConnectionPath {","stroke: #fc3;","}",a+" .blocklyReplaceable .blocklyPath {","fill-opacity: .5;","}",a+" .blocklyReplaceable .blocklyPathLight,",a+" .blocklyReplaceable .blocklyPathDark {","display: none;","}",a+" .blocklyInsertionMarker>.blocklyPath {","fill-opacity: "+this.cn+
";","stroke: none;","}"]};h.i.o={NONE:0,zc:1,Hu:2,Ku:4,kq:8,ku:16,Ou:32,Au:64,td:128,Mu:256,wv:512,nz:1024,bq:2048,Yp:4096,GA:8192,Dp:16384,Tp:32768,Sp:65536,iq:131072,hq:262144,Su:524288,jq:1048576,qq:2097152,xp:4194304,Nu:8388608};h.i.o.XG=h.i.o.Tp|h.i.o.Sp;h.i.o.nI=h.i.o.iq|h.i.o.hq;h.i.o.Os=16777216;h.i.o.getType=function(a){Object.prototype.hasOwnProperty.call(h.i.o,a)||(h.i.o[a]=h.i.o.Os,h.i.o.Os<<=1);return h.i.o[a]};h.i.o.Kf=function(a){return a.type&h.i.o.zc};h.i.o.bi=function(a){return a.type&h.i.o.Hu};
h.i.o.Kj=function(a){return a.type&h.i.o.Ku};h.i.o.Id=function(a){return a.type&h.i.o.kq};h.i.o.HJ=function(a){return a.type&h.i.o.Ou};h.i.o.Kg=function(a){return a.type&h.i.o.td};h.i.o.Kl=function(a){return a.type&h.i.o.Au};h.i.o.Jg=function(a){return a.type&h.i.o.Mu};h.i.o.ci=function(a){return a.type&h.i.o.wv};h.i.o.Oj=function(a){return a.type&h.i.o.bq};h.i.o.Mg=function(a){return a.type&h.i.o.Yp};h.i.o.vD=function(a){return a.type&(h.i.o.bq|h.i.o.Yp)};h.i.o.Lg=function(a){return a.type&h.i.o.Sp};
h.i.o.wx=function(a){return a.type&h.i.o.hq};h.i.o.Ll=function(a){return a.type&h.i.o.Tp};h.i.o.IJ=function(a){return a.type&h.i.o.iq};h.i.o.GJ=function(a){return a.type&h.i.o.Dp};h.i.o.ux=function(a){return a.type&h.i.o.Su};h.i.o.KJ=function(a){return a.type&h.i.o.jq};h.i.o.CJ=function(a){return a.type&h.i.o.ku};h.i.o.Bo=function(a){return a.type&h.i.o.qq};h.i.o.so=function(a){return a.type&h.i.o.xp};h.i.o.wD=function(a){return a.type&(h.i.o.qq|h.i.o.xp)};h.i.o.qD=function(a){return a.type&h.i.o.Nu};h.i.eg=function(a){this.height=this.width=0;this.type=h.i.o.NONE;this.nj=this.Ia=0;this.s=a;this.Md=this.s.Gk};h.i.va=function(a,c){h.i.va.v.constructor.call(this,a);this.Gc=c;this.shape=za(this.s,c);this.ai=!!this.shape.isDynamic;this.type|=h.i.o.nz};h.g.object.U(h.i.va,h.i.eg);h.i.aq=function(a,c){h.i.aq.v.constructor.call(this,a,c);this.type|=h.i.o.GA;this.height=this.ai?0:this.shape.height;this.Rd=this.width=this.ai?0:this.shape.width;this.jd=this.s.dj;this.Xk=0};h.g.object.U(h.i.aq,h.i.va);
h.i.fq=function(a,c){h.i.fq.v.constructor.call(this,a,c);this.type|=h.i.o.bq;this.height=this.shape.height;this.width=this.shape.width};h.g.object.U(h.i.fq,h.i.va);h.i.$p=function(a,c){h.i.$p.v.constructor.call(this,a,c);this.type|=h.i.o.Yp;this.height=this.shape.height;this.width=this.shape.width};h.g.object.U(h.i.$p,h.i.va);h.i.Ak=function(a,c){h.i.Ak.v.constructor.call(this,a,c.connection);this.type|=h.i.o.td;this.input=c;this.align=c.align;(this.vg=c.connection&&c.connection.ra()?c.connection.ra():null)?(a=r(this.vg),this.Wk=a.width,this.Pn=a.height):this.Pn=this.Wk=0;this.jd=this.Xk=0};h.g.object.U(h.i.Ak,h.i.va);
h.i.ag=function(a,c){h.i.ag.v.constructor.call(this,a,c);this.type|=h.i.o.Mu;this.vg?(this.width=this.Wk,this.height=this.Pn):(this.height=this.s.Gz,this.width=this.s.Hz);this.rj=this.ai?this.shape.height(this.height):this.shape.height;this.Ne=this.ai?this.shape.width(this.height):this.shape.width;this.vg||(this.width+=this.Ne*(this.ai?2:1));this.jd=this.ai?this.shape.jd(this.rj):this.s.dj;this.Xk=this.ai?this.shape.Xk(this.Ne):0};h.g.object.U(h.i.ag,h.i.Ak);
h.i.lg=function(a,c){h.i.lg.v.constructor.call(this,a,c);this.type|=h.i.o.wv;this.height=this.vg?this.Pn+this.s.vv:this.s.Iz;this.width=this.s.dB+this.shape.width};h.g.object.U(h.i.lg,h.i.Ak);h.i.Zm=function(a,c){h.i.Zm.v.constructor.call(this,a,c);this.type|=h.i.o.Au;this.height=this.vg?this.Pn-this.s.dj-this.s.ud:this.shape.height;this.width=this.shape.width+this.s.Nz;this.jd=this.s.dj;this.rj=this.shape.height;this.Ne=this.shape.width};h.g.object.U(h.i.Zm,h.i.Ak);h.i.Qp=function(a,c){h.i.Qp.v.constructor.call(this,a);this.icon=c;this.isVisible=c.isVisible();this.type|=h.i.o.Ku;a=c.sJ();this.height=a.height;this.width=a.width};h.g.object.U(h.i.Qp,h.i.eg);h.i.Rp=function(a){h.i.Rp.v.constructor.call(this,a);this.type|=h.i.o.Su;this.height=this.s.Si.height;this.width=this.s.Si.width};h.g.object.U(h.i.Rp,h.i.eg);
h.i.rd=function(a,c){h.i.rd.v.constructor.call(this,a);this.ml=c;this.Hd=c.pk;this.AC=c.Ow();this.type|=h.i.o.zc;a=this.ml.Hf();this.height=a.height;this.width=a.width};h.g.object.U(h.i.rd,h.i.eg);h.i.Np=function(a){h.i.Np.v.constructor.call(this,a);this.type|=h.i.o.Hu;this.height=this.s.aj.height;this.width=this.s.aj.width;this.jj=this.height};h.g.object.U(h.i.Np,h.i.eg);
h.i.cj=function(a,c){h.i.cj.v.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.o.iq:h.i.o.Tp)|h.i.o.Dp;this.width=this.height=this.s.Fe};h.g.object.U(h.i.cj,h.i.eg);h.i.pn=function(a,c){h.i.pn.v.constructor.call(this,a);this.type=(c&&"left"!=c?h.i.o.hq:h.i.o.Sp)|h.i.o.Dp;this.width=this.s.qb;this.height=this.s.qb/2};h.g.object.U(h.i.pn,h.i.eg);h.i.mf=function(a,c){h.i.mf.v.constructor.call(this,a);this.type=this.type|h.i.o.kq|h.i.o.Ou;this.width=c;this.height=this.s.aB};h.g.object.U(h.i.mf,h.i.eg);h.i.zh=function(a){this.type=h.i.o.jq;this.elements=[];this.Ia=this.Xb=this.we=this.minWidth=this.minHeight=this.width=this.height=0;this.ex=this.Fj=this.ds=this.Ob=this.Fg=!1;this.s=a;this.Md=this.s.Gk;this.align=null};h.i.zh.prototype.measure=function(){throw Error("Unexpected attempt to measure a base Row.");};function O(a){for(var c=a.elements.length-1,d;d=a.elements[c];c--)if(h.i.o.Kg(d))return d;return null}h.i.zh.prototype.lp=function(){return!0};h.i.zh.prototype.kl=function(){return!0};
h.i.Ch=function(a){h.i.Ch.v.constructor.call(this,a);this.type|=h.i.o.qq;this.jj=this.xf=0;this.gD=!1;this.connection=null};h.g.object.U(h.i.Ch,h.i.zh);h.i.Ch.prototype.fs=function(a){var c=(a.Ue?"cap"===a.Ue:this.s.Jm)&&!a.T&&!a.ga,d=a.ga&&a.ga.ra();return!!a.T||c||(d?y(d)==a:!1)};
h.i.Ch.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.o.Id(f)||(h.i.o.bi(f)?d=Math.max(d,f.jj):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.xf=this.jj=d;this.we=this.width};h.i.Ch.prototype.lp=function(){return!1};h.i.Ch.prototype.kl=function(){return!1};h.i.qh=function(a){h.i.qh.v.constructor.call(this,a);this.type|=h.i.o.xp;this.gx=!1;this.connection=null;this.ae=this.dl=0};
h.g.object.U(h.i.qh,h.i.zh);h.i.qh.prototype.fs=function(a){return!!a.T||!!y(a)};h.i.qh.prototype.measure=function(){for(var a=0,c=0,d=0,e=0,f;f=this.elements[e];e++)c+=f.width,h.i.o.Id(f)||(h.i.o.Mg(f)?d=Math.max(d,f.height):a=Math.max(a,f.height));this.width=Math.max(this.minWidth,c);this.height=Math.max(this.minHeight,a)+d;this.dl=d;this.we=this.width};h.i.qh.prototype.lp=function(){return!1};h.i.qh.prototype.kl=function(){return!1};
h.i.un=function(a,c,d){h.i.un.v.constructor.call(this,a);this.type=this.type|h.i.o.kq|h.i.o.ku;this.width=d;this.height=c;this.Gw=!1;this.we=0;this.elements=[new h.i.mf(this.s,d)]};h.g.object.U(h.i.un,h.i.zh);h.i.un.prototype.measure=function(){};h.i.Ri=function(a){h.i.Ri.v.constructor.call(this,a);this.type|=h.i.o.Nu;this.gw=0};h.g.object.U(h.i.Ri,h.i.zh);
h.i.Ri.prototype.measure=function(){this.width=this.minWidth;this.height=this.minHeight;for(var a=0,c=0,d;d=this.elements[c];c++)this.width+=d.width,h.i.o.Kg(d)&&(h.i.o.ci(d)?a+=d.Wk:h.i.o.Kl(d)&&0!=d.Wk&&(a+=d.Wk-d.Ne)),h.i.o.Id(d)||(this.height=Math.max(this.height,d.height));this.gw=a;this.we=this.width+a};h.i.Ri.prototype.kl=function(){return!this.Fg&&!this.Ob};h.i.Zd=function(a,c){this.Pa=c;this.ob=a;this.s=this.ob.ea();this.T=c.T?new h.i.aq(this.s,c.T):null;this.Lj=Aa(c)&&!c.isCollapsed();this.isCollapsed=c.isCollapsed();this.md=c.md();this.J=c.J;this.gh=this.width=this.fk=this.height=0;this.rows=[];this.sx=[];this.kx=[];this.Pb=new h.i.Ch(this.s);this.sb=new h.i.qh(this.s);this.kp=this.Rd=0};b=h.i.Zd.prototype;
b.measure=function(){var a=!!this.Pa.ga,c=(this.Pa.Ue?"cap"===this.Pa.Ue:this.s.Jm)&&!this.T&&!a,d=this.Pb.fs(this.Pa)?h.i.cj:h.i.pn;this.Pb.elements.push(new d(this.s));c?(a=new h.i.Np(this.s),this.Pb.elements.push(a),this.Pb.xf=a.jj):a&&(this.Pb.gD=!0,this.Pb.connection=new h.i.fq(this.s,this.Pa.ga),this.Pb.elements.push(this.Pb.connection));this.Pa.V.length&&this.Pa.V[0].type==h.Ga.oc&&!this.Pa.isCollapsed()?this.Pb.minHeight=this.s.hB:this.Pb.minHeight=this.s.gB;d=h.i.cj;this.Pb.elements.push(new d(this.s,
"right"));this.rows.push(this.Pb);a=new h.i.Ri(this.s);this.sx.push(a);d=Ca(this.Pa);c=0;for(var e;e=d[c];c++){var f=new h.i.Qp(this.s,e);this.isCollapsed&&e.cJ?this.kx.push(f):a.elements.push(f)}e=null;for(c=0;d=this.Pa.V[c];c++)if(d.isVisible()){!e||d.type!=h.Ga.oc&&e.type!=h.Ga.oc&&(d.type!=h.Ga.Je&&d.type!=h.Ga.Ce||this.Lj)||(this.rows.push(a),a=new h.i.Ri(this.s),this.sx.push(a));for(e=0;f=d.fb[e];e++)a.elements.push(new h.i.rd(this.s,f,d));this.Qv(d,a);e=d}this.isCollapsed&&(a.ex=!0,a.elements.push(new h.i.Rp(this.s)));
(a.elements.length||a.Fj)&&this.rows.push(a);this.kt();this.rows.push(this.sb);this.Pv();a=this.rows;this.rows=[];for(c=0;c<a.length;c++)if(this.rows.push(a[c]),c!=a.length-1){d=this.rows;e=d.push;f=a[c];var g=a[c+1],k=new h.i.un(this.s,this.Xw(f,g),this.width-this.Rd);f.Ob&&(k.Gw=!0);g.Ob&&(k.QJ=!0);e.call(d,k)}for(e=d=c=a=0;f=this.rows[e];e++)f.measure(),c=Math.max(c,f.width),f.Ob&&(a=Math.max(a,f.width-O(f).width)),d=Math.max(d,f.we);this.gh=a;this.width=c;for(e=0;f=this.rows[e];e++)f.Ob&&(f.gh=
this.gh);this.fk=Math.max(c,d);this.T&&(this.Rd=this.T.width,this.width+=this.T.width,this.fk+=this.T.width);this.zq();this.Cw()};
b.kt=function(){this.sb.gx=!!this.Pa.ka;this.sb.minHeight=this.Pa.V.length&&this.Pa.V[this.Pa.V.length-1].type==h.Ga.oc?this.s.hz:this.s.iz;this.sb.fs(this.Pa)?this.sb.elements.push(new h.i.cj(this.s)):this.sb.elements.push(new h.i.pn(this.s));this.sb.gx&&(this.sb.connection=new h.i.$p(this.s,this.Pa.ka),this.sb.elements.push(this.sb.connection));this.sb.elements.push(new h.i.cj(this.s,"right"))};
b.Qv=function(a,c){this.Lj&&a.type==h.Ga.Je?(c.elements.push(new h.i.ag(this.s,a)),c.ds=!0):a.type==h.Ga.oc?(c.elements.push(new h.i.lg(this.s,a)),c.Ob=!0):a.type==h.Ga.Je?(c.elements.push(new h.i.Zm(this.s,a)),c.Fg=!0):a.type==h.Ga.Ce&&(c.minHeight=Math.max(c.minHeight,a.$()&&a.$().Ka?this.s.Ez:this.s.yu),c.Fj=!0);null==c.align&&(c.align=a.align)};
b.Pv=function(){for(var a=0,c;c=this.rows[a];a++){var d=c.elements;c.elements=[];c.lp()&&c.elements.push(new h.i.mf(this.s,this.Ph(null,d[0])));if(d.length){for(var e=0;e<d.length-1;e++)c.elements.push(d[e]),c.elements.push(new h.i.mf(this.s,this.Ph(d[e],d[e+1])));c.elements.push(d[d.length-1]);c.kl()&&c.elements.push(new h.i.mf(this.s,this.Ph(d[d.length-1],null)))}}};
b.Ph=function(a,c){if(!a&&c&&h.i.o.ci(c))return this.s.xv;if(a&&h.i.o.Kg(a)&&!c){if(h.i.o.Kl(a))return this.s.Fe;if(h.i.o.Jg(a))return this.s.Bc;if(h.i.o.ci(a))return this.s.Fe}return a&&h.i.o.Ll(a)&&c&&(h.i.o.Oj(c)||h.i.o.Mg(c))?c.Md:a&&h.i.o.Lg(a)&&c&&(h.i.o.Oj(c)||h.i.o.Mg(c))?c.Md-this.s.qb:this.s.ud};b.zq=function(){for(var a=0,c;c=this.rows[a];a++)if(c.Ob)qd(this,c);else{var d=this.yl(c)-c.width;0<d&&rd(c,d);h.i.o.wD(c)&&(c.we=c.width)}};b.yl=function(){return this.width-this.Rd};
function rd(a,c){a:{var d=0;for(var e;e=a.elements[d];d++)if(h.i.o.Id(e)){d=e;break a}d=null}a:{e=a.elements.length-1;for(var f;f=a.elements[e];e--)if(h.i.o.Id(f)){e=f;break a}e=null}if(a.Fg||a.Ob)a.we+=c;a.align==h.lb.Vd.Gb?e.width+=c:a.align==h.lb.Vd.Qm?(d.width+=c/2,e.width+=c/2):a.align==h.lb.Vd.Cc?d.width+=c:e.width+=c;a.width+=c}
function qd(a,c){var d=O(c),e=c.width-d.width,f=a.gh;e=f-e;0<e&&rd(c,e);e=c.width;f=a.yl(c);d.width+=f-e;d.height=Math.max(d.height,c.height);c.width+=f-e;c.we=Math.max(c.width,a.gh+c.gw)}b.Xw=function(){return this.s.ud};b.Nw=function(a,c){return h.i.o.Id(c)?a.Xb+c.height/2:h.i.o.so(a)?(a=a.Xb+a.height-a.dl,h.i.o.Mg(c)?a+c.height/2:a-c.height/2):h.i.o.Bo(a)?h.i.o.bi(c)?a.xf-c.height/2:a.xf+c.height/2:a.Xb+a.height/2};
function sd(a,c){for(var d=c.Ia,e=0,f;f=c.elements[e];e++)h.i.o.Id(f)&&(f.height=c.height),f.Ia=d,f.nj=a.Nw(c,f),d+=f.width}b.Cw=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++)e.Xb=c,e.Ia=this.Rd,c+=e.height,a=Math.max(a,e.we),sd(this,e);this.T&&this.Pa.ka&&this.Pa.ka.isConnected()&&(a=Math.max(a,r(this.Pa.ka.ra()).width));this.fk=a+this.Rd;this.height=c;this.kp=this.Pb.xf;this.sb.ae=c-this.sb.dl};h.i.yc=function(a,c){this.Pa=a;this.sa=c;a.Za();this.qo=this.La="";this.s=c.ob.ea()};b=h.i.yc.prototype;b.draw=function(){td(this);ud(this);vd(this);this.Pa.zb.Ht(this.La+"\n"+this.qo);this.sa.J&&this.Pa.zb.Kr();wd(this)};function wd(a){a.Pa.height=a.sa.height;a.Pa.width=a.sa.fk}function td(a){for(var c=0,d;d=a.sa.kx[c];c++)d.icon.jD.setAttribute("display","none")}
function ud(a){a.Dr();for(var c=1;c<a.sa.rows.length-1;c++){var d=a.sa.rows[c];d.ex?a.il(d):d.Ob?a.Cr(d):d.Fg?a.Er(d):a.Aw(d)}a.zr();a.Br()}
b.Dr=function(){var a=this.sa.Pb,c=a.elements,d=this.sa.Pb;if(d.connection){var e=d.Ia+d.Md;G(d.connection.Gc,this.sa.J?-e:e,0)}this.La+=h.g.A.moveBy(a.Ia,this.sa.kp);for(d=0;e=c[d];d++)h.i.o.Lg(e)?this.La+=this.s.Hk.Vt:h.i.o.wx(e)?this.La+=this.s.Hk.$E:h.i.o.Oj(e)?this.La+=e.shape.Yg:h.i.o.bi(e)?this.La+=this.s.aj.path:h.i.o.Id(e)&&(this.La+=h.g.A.X("h",e.width));this.La+=h.g.A.X("v",a.height)};b.il=function(a){this.La+=this.s.Si.path+h.g.A.X("v",a.height-this.s.Si.height)};
b.Er=function(a){var c=O(a);this.ey(a);var d="function"==typeof c.shape.Od?c.shape.Od(c.height):c.shape.Od;this.La+=h.g.A.X("H",c.Ia+c.width)+d+h.g.A.X("v",a.height-c.rj)};b.Cr=function(a){var c=O(a);this.La+=h.g.A.X("H",c.Ia+c.Md+c.shape.width)+(c.shape.Zx+h.g.A.X("h",-(c.Md-this.s.dn.width))+this.s.dn.gt)+h.g.A.X("v",a.height-2*this.s.dn.height)+this.s.dn.Zo+h.g.A.X("H",a.Ia+a.width);this.jy(a)};b.Aw=function(a){this.La+=h.g.A.X("V",a.Xb+a.height)};
b.zr=function(){var a=this.sa.sb,c=a.elements;this.iy();for(var d=0,e="",f=c.length-1,g;g=c[f];f--)h.i.o.Mg(g)?e+=g.shape.Zx:h.i.o.Ll(g)?e+=h.g.A.X("H",a.Ia):h.i.o.Lg(g)?e+=this.s.Hk.Jq:h.i.o.wx(g)?(e+=this.s.Hk.DB,d=this.s.Hk.CE):h.i.o.Id(g)&&(e+=h.g.A.X("h",-1*g.width));this.La+=h.g.A.X("V",a.ae-d);this.La+=e};
b.Br=function(){var a=this.sa.T;if(this.sa.T){var c=this.sa.Rd+this.sa.T.Xk;G(this.Pa.T,this.sa.J?-c:c,this.sa.T.jd)}a&&(c=a.jd+a.height,a="function"==typeof a.shape.$l?a.shape.$l(a.height):a.shape.$l,this.La+=h.g.A.X("V",c)+a);this.La+="z"};
function vd(a){for(var c=0,d;d=a.sa.rows[c];c++)for(var e=0,f;f=d.elements[e];e++)if(h.i.o.Jg(f))a.Ar(f);else if(h.i.o.Kj(f)||h.i.o.Kf(f)){var g=a;if(h.i.o.Kf(f))var k=f.ml.qa();else h.i.o.Kj(f)&&(k=f.icon.jD);var l=f.nj-f.height/2,m=f.Ia,n="";g.sa.J&&(m=-(m+f.width),f.AC&&(m+=f.width,n="scale(-1 1)"));h.i.o.Kj(f)?(k.setAttribute("display","block"),k.setAttribute("transform","translate("+m+","+l+")"),f.icon.WB()):k.setAttribute("transform","translate("+m+","+l+")"+n);g.sa.md&&k.setAttribute("display",
"none")}}b.Ar=function(a){var c=a.width,d=a.height,e=a.jd,f=a.rj+e;this.qo+=h.g.A.moveTo(a.Ia+a.Ne,a.nj-d/2)+h.g.A.X("v",e)+a.shape.Od+h.g.A.X("v",d-f)+h.g.A.X("h",c-a.Ne)+h.g.A.X("v",-d)+"z";this.gy(a)};b.gy=function(a){var c=a.nj-a.height/2;if(a.Gc){var d=a.Ia+a.Ne+a.Xk;this.sa.J&&(d*=-1);G(a.Gc,d,c+a.jd)}};b.jy=function(a){var c=O(a);if(c.Gc){var d=a.Ia+a.gh+c.Md;this.sa.J&&(d*=-1);G(c.Gc,d,a.Xb)}};b.ey=function(a){var c=O(a);if(c.Gc){var d=a.Ia+a.width;this.sa.J&&(d*=-1);G(c.Gc,d,a.Xb)}};
b.iy=function(){var a=this.sa.sb;if(a.connection){var c=a.connection,d=c.Ia;G(c.Gc,this.sa.J?-d:d,a.ae)}};h.h.cg=function(a,c,d,e){var f=a?a.B.id:void 0;e&&e.getType()==h.D.types.Sc&&(f=e.Ca.id);h.h.cg.v.constructor.call(this,f);this.hb=a?a.id:null;this.Rx=d;this.Nx=e;this.Xe=c};h.g.object.U(h.h.cg,h.h.$d);h.h.cg.prototype.type=h.h.Vp;h.h.cg.prototype.pa=function(){var a=h.h.cg.v.pa.call(this);a.isCursor=this.Xe;a.blockId=this.hb;a.oldNode=this.Rx;a.newNode=this.Nx;return a};h.h.cg.prototype.aa=function(a){h.h.cg.v.aa.call(this,a);this.Xe=a.isCursor;this.hb=a.blockId;this.Rx=a.oldNode;this.Nx=a.newNode};
h.u.register(h.u.R.Fb,h.h.Vp,h.h.cg);h.i.dg=function(a,c,d){this.m=a;this.Gs=d;this.Zl=null;this.s=c;this.tj=null;a=this.Xe()?this.s.Um:this.s.gn;this.Ad=d.tb||a};h.i.dg.rz="blocklyCursor";h.i.dg.uA="blocklyMarker";h.i.dg.bA=.75;b=h.i.dg.prototype;b.qa=function(){return this.O};b.Al=function(){return this.Gs};b.Xe=function(){return"cursor"==this.Gs.type};
b.Va=function(){var a=this.Xe()?h.i.dg.rz:h.i.dg.uA;this.O=h.g.j.L(h.g.F.Pc,{"class":a},null);this.Of=h.g.j.L(h.g.F.Pc,{width:this.s.Wm,height:this.s.Hv},this.O);this.Qg=h.g.j.L(h.g.F.xd,{width:this.s.Wm,height:this.s.Hv,style:"display: none"},this.Of);this.ji=h.g.j.L(h.g.F.xd,{"class":"blocklyVerticalMarker",rx:10,ry:10,style:"display: none"},this.Of);this.ii=h.g.j.L(h.g.F.Ge,{transform:"",style:"display: none"},this.Of);this.Nf=h.g.j.L(h.g.F.Ge,{transform:"",style:"display: none",fill:"none","stroke-width":this.s.sz},
this.Of);this.Xe()&&(a={attributeType:"XML",attributeName:"fill",dur:"1s",values:this.Ad+";transparent;transparent;",repeatCount:"indefinite"},h.g.j.L(h.g.F.up,a,this.Qg),h.g.j.L(h.g.F.up,a,this.ii),a.attributeName="stroke",h.g.j.L(h.g.F.up,a,this.Nf));return this.O};function xd(a,c){a.Xe()?(a.Zl&&a.Zl.Qf(null),c.Qf(a.qa())):(a.Zl&&a.Zl.eh(null),c.eh(a.qa()));a.Zl=c}
b.draw=function(a,c){if(c){this.s=this.m.ob.ea();var d=this.Xe()?this.s.Um:this.s.gn;this.Ad=this.Gs.tb||d;this.Qg.setAttribute("fill",this.Ad);this.ji.setAttribute("stroke",this.Ad);this.ii.setAttribute("fill",this.Ad);this.Nf.setAttribute("stroke",this.Ad);this.Xe()&&(d=this.Ad+";transparent;transparent;",this.Qg.firstChild.setAttribute("values",d),this.ii.firstChild.setAttribute("values",d),this.Nf.firstChild.setAttribute("values",d));d=c.Ca.type;if(c.getType()==h.D.types.Qb)yd(this,c);else if(c.getType()==
h.D.types.yh)yd(this,c);else if(d==h.Z.$b){var e=c.Ca;d=e.$();var f=e.ni.x,g=e.ni.y;e=h.g.A.moveTo(0,0)+za(this.s,e).Od;this.ii.setAttribute("d",e);this.ii.setAttribute("transform","translate("+f+","+g+")"+(this.m.J?" scale(-1 1)":""));this.tj=this.ii;xd(this,d);zd(this)}else if(d==h.Z.ac)g=c.Ca,d=g.$(),f=0,g=g.ni.y,e=r(d).width,this.m.J&&(f=-e),Ad(this,f,g,e),xd(this,d),zd(this);else if(c.getType()==h.D.types.jg)yd(this,c);else if(c.getType()==h.D.types.zc)d=c.Ca,f=d.Hf().width,g=d.Hf().height,Bd(this,
0,0,f,g),xd(this,d),zd(this);else if(c.getType()==h.D.types.Sc)f=c.Yy,d=f.x,f=f.y,this.m.J&&(d-=this.s.Wm),Ad(this,d,f,this.s.Wm),xd(this,this.m),zd(this);else if(c.getType()==h.D.types.Ah){d=c.Ca;g=r(d);f=g.width+this.s.Vm;g=g.height+this.s.Vm;var k=e=-this.s.Vm/2,l=-this.s.Vm/2;this.m.J&&(k=-(f+e));Bd(this,k,l,f,g);xd(this,d);zd(this)}d=c.$();a=new (h.h.get(h.h.Vp))(d,this.Xe(),a,c);h.h.Fa(a);a=this.tj.childNodes[0];void 0!==a&&a.beginElement&&a.beginElement()}else this.$a()};
function yd(a,c){c=c.$();var d=c.width,e=c.height,f=e*h.i.dg.bA,g=a.s.qz;if(c.ga){var k=za(a.s,c.ga);e=k;d=h.g.A.moveBy(-g,f)+h.g.A.X("V",-g)+h.g.A.X("H",a.s.Gk)+e.Yg+h.g.A.X("H",d+2*g)+h.g.A.X("V",f);a.Nf.setAttribute("d",d)}else c.T?(f=k=za(a.s,c.T),d=h.g.A.moveBy(d,0)+h.g.A.X("h",-(d-f.width))+h.g.A.X("v",a.s.dj)+f.Od+h.g.A.X("V",e)+h.g.A.X("H",d),a.Nf.setAttribute("d",d)):(d=h.g.A.moveBy(-g,f)+h.g.A.X("V",-g)+h.g.A.X("H",d+2*g)+h.g.A.X("V",f),a.Nf.setAttribute("d",d));a.m.J&&a.rl(a.Nf);a.tj=a.Nf;
xd(a,c);zd(a)}function zd(a){a.$a();a.tj.style.display=""}function Ad(a,c,d,e){a.Qg.setAttribute("x",c);a.Qg.setAttribute("y",d);a.Qg.setAttribute("width",e);a.tj=a.Qg}function Bd(a,c,d,e,f){a.ji.setAttribute("x",c);a.ji.setAttribute("y",d);a.ji.setAttribute("width",e);a.ji.setAttribute("height",f);a.tj=a.ji}b.rl=function(a){a.setAttribute("transform","scale(-1 1)")};b.$a=function(){this.Qg.style.display="none";this.ji.style.display="none";this.ii.style.display="none";this.Nf.style.display="none"};
b.H=function(){this.O&&h.g.j.removeNode(this.O)};h.i.nf=function(a,c,d){this.lb=d;this.ff=a;this.Kb=h.g.j.L(h.g.F.Ge,{"class":"blocklyPath"},this.ff);this.style=c;this.Fs=this.cl=null};b=h.i.nf.prototype;b.Ht=function(a){this.Kb.setAttribute("d",a)};b.Kr=function(){this.Kb.setAttribute("transform","scale(-1 1)")};b.Qf=function(a){a?(this.ff.appendChild(a),this.cl=a):this.cl=null};b.eh=function(a){a?(this.cl?this.ff.insertBefore(a,this.cl):this.ff.appendChild(a),this.Fs=a):this.Fs=null};
b.dc=function(a){this.Kb.setAttribute("stroke",this.style.qj);this.Kb.setAttribute("fill",this.style.Hh);this.My(a.Ka);this.Yt(!a.isEnabled()||ec(a))};b.Ai=function(a){this.style=a};function ya(a,c,d){d?h.g.j.Lb(a.ff,c):h.g.j.bd(a.ff,c)}b.Ky=function(a){a?this.Kb.setAttribute("filter","url(#"+this.lb.ao+")"):this.Kb.setAttribute("filter","none")};b.My=function(a){a&&(this.Kb.setAttribute("stroke","none"),this.Kb.setAttribute("fill",this.style.Mn))};
b.Yt=function(a){ya(this,"blocklyDisabled",a);a&&this.Kb.setAttribute("fill","url(#"+this.lb.ww+")")};h.i.pf=function(a){this.name=a;this.dt=this.s=null};b=h.i.pf.prototype;b.ie=function(){return this.name+"-renderer"};b.Ba=function(a,c){this.s=this.As();c&&(this.dt=c,h.g.object.Rg(this.s,c));this.s.mm(a);this.s.Ba()};b.Va=function(a,c){this.s.Va(a,this.name+"-"+c.name,"."+this.ie()+"."+c.ie())};b.qt=function(a,c){var d=this.ea();d.H();this.s=this.As();this.dt&&h.g.object.Rg(this.s,this.dt);this.s.bp=d.bp;this.s.mm(c);this.s.Ba();this.Va(a,c)};b.H=function(){this.s&&this.s.H()};b.As=function(){return new h.i.lf};
b.Ex=function(a){return new h.i.Zd(this,a)};b.Cx=function(a,c){return new h.i.yc(a,c)};b.Dx=function(a,c){return new h.i.nf(a,c,this.s)};b.ea=function(){return this.s};b.Na=function(a){var c=this.Ex(a);c.measure();this.Cx(a,c).draw()};h.ba={};h.ba.lf=function(){h.ba.lf.v.constructor.call(this);this.Jp=!1;this.Zb=1;this.vA=30;this.vv=-this.Zp/2};h.g.object.U(h.ba.lf,h.i.lf);h.ba.lf.prototype.Or=function(a){return h.ba.lf.v.Or.call(this,a).concat([a+" .blocklyInsertionMarker>.blocklyPathLight,",a+" .blocklyInsertionMarker>.blocklyPathDark {","fill-opacity: "+this.cn+";","stroke: none;","}"])};h.ba.Ju=function(a){this.sa=a;this.Hl=this.ma="";this.bc=this.sa.J;a=a.ob;this.s=a.ea();this.kd=a.kd;this.Xc=this.kd.OFFSET;this.ct=this.kd.HA;this.Jj=this.kd.kA;this.em=this.kd.eq;this.QD=this.kd.Wi;this.QE=this.kd.aj;this.yx=this.kd.Si};h.ba.Ju.prototype.il=function(a){this.sa.J&&(this.ma+=this.yx.Yg+h.g.A.X("v",a.height-this.yx.height-this.Xc))};
function Cd(a,c){var d=c.Ia+c.width-a.Xc;c.Gw&&(a.ma+=h.g.A.X("H",d));a.bc&&(a.ma+=h.g.A.X("H",d),c.height>a.Xc&&(a.ma+=h.g.A.X("V",c.Xb+c.height-a.Xc)))};h.ba.ag=function(a,c){h.ba.ag.v.constructor.call(this,a,c);this.vg&&(this.width+=this.s.Zb,this.height+=this.s.Zb)};h.g.object.U(h.ba.ag,h.i.ag);h.ba.lg=function(a,c){h.ba.lg.v.constructor.call(this,a,c);this.vg&&(this.height+=this.s.Zb)};h.g.object.U(h.ba.lg,h.i.lg);h.ba.Zd=function(a,c){h.ba.Zd.v.constructor.call(this,a,c)};h.g.object.U(h.ba.Zd,h.i.Zd);b=h.ba.Zd.prototype;b.kt=function(){h.ba.Zd.v.kt.call(this);this.Pa.V.length&&this.Pa.V[this.Pa.V.length-1].type==h.Ga.oc||(this.sb.minHeight=this.s.ud-this.s.Zb)};
b.Qv=function(a,c){this.Lj&&a.type==h.Ga.Je?(c.elements.push(new h.ba.ag(this.s,a)),c.ds=!0):a.type==h.Ga.oc?(c.elements.push(new h.ba.lg(this.s,a)),c.Ob=!0):a.type==h.Ga.Je?(c.elements.push(new h.i.Zm(this.s,a)),c.Fg=!0):a.type==h.Ga.Ce&&(c.minHeight=Math.max(c.minHeight,this.s.yu),c.Fj=!0);this.Lj||null!=c.align||(c.align=a.align)};
b.Pv=function(){for(var a=!1,c=0,d;d=this.rows[c];c++)d.Fg&&(a=!0);for(c=0;d=this.rows[c];c++){var e=d.elements;d.elements=[];d.lp()&&d.elements.push(new h.i.mf(this.s,this.Ph(null,e[0])));if(e.length){for(var f=0;f<e.length-1;f++){d.elements.push(e[f]);var g=this.Ph(e[f],e[f+1]);d.elements.push(new h.i.mf(this.s,g))}d.elements.push(e[e.length-1]);d.kl()&&(g=this.Ph(e[e.length-1],null),a&&d.Fj&&(g+=this.s.vn),d.elements.push(new h.i.mf(this.s,g)))}}};
b.Ph=function(a,c){if(!a)return c&&h.i.o.Kf(c)&&c.Hd?this.s.ud:c&&h.i.o.Jg(c)?this.s.Yu:c&&h.i.o.ci(c)?this.s.xv:this.s.Bc;if(!h.i.o.Kg(a)&&(!c||h.i.o.ci(c)))return h.i.o.Kf(a)&&a.Hd?this.s.ud:h.i.o.Kj(a)?2*this.s.Bc+1:h.i.o.bi(a)?this.s.Fe:h.i.o.vD(a)?this.s.Bc:h.i.o.Lg(a)?this.s.yA:h.i.o.ux(a)?this.s.Fe:this.s.Bc;if(h.i.o.Kg(a)&&!c){if(h.i.o.Kl(a))return this.s.Fe;if(h.i.o.Jg(a))return this.s.Bc;if(h.i.o.ci(a))return this.s.Fe}if(!h.i.o.Kg(a)&&c&&h.i.o.Kg(c)){if(h.i.o.Kf(a)&&a.Hd){if(h.i.o.Jg(c)||
h.i.o.Kl(c))return this.s.YA}else{if(h.i.o.Jg(c)||h.i.o.Kl(c))return this.s.Yu;if(h.i.o.ci(c))return this.s.Bc}return this.s.Bc-1}if(h.i.o.Kj(a)&&c&&!h.i.o.Kg(c))return this.s.Bc;if(h.i.o.Jg(a)&&c&&h.i.o.Kf(c))return c.Hd?this.s.ud:this.s.Bc;if(h.i.o.Ll(a)&&c){if(h.i.o.bi(c))return this.s.Fe;if(h.i.o.Oj(c))return c.Md;if(h.i.o.Mg(c))return a=(this.J?1:-1)*this.s.Zb/2,c.Md+a}if(h.i.o.Lg(a)&&c){if(h.i.o.Oj(c))return c.Md-this.s.qb;if(h.i.o.Mg(c))return a=(this.J?1:-1)*this.s.Zb/2,c.Md-this.s.qb+a}return h.i.o.Kf(a)&&
c&&h.i.o.Kf(c)&&a.Hd==c.Hd||c&&h.i.o.ux(c)?this.s.Bc:this.s.ud};b.Xw=function(a,c){return h.i.o.Bo(a)&&h.i.o.so(c)?this.s.Fz:h.i.o.Bo(a)||h.i.o.so(c)?this.s.Fe:a.Fg&&c.Fg?this.s.Bc:!a.Ob&&c.Ob?this.s.gz:a.Ob&&c.Ob||!a.Ob&&c.Fj||a.Fj?this.s.Bc:this.s.ud};
b.Nw=function(a,c){if(h.i.o.Id(c))return a.Xb+c.height/2;if(h.i.o.so(a))return a=a.Xb+a.height-a.dl,h.i.o.Mg(c)?a+c.height/2:a-c.height/2;if(h.i.o.Bo(a))return h.i.o.bi(c)?a.xf-c.height/2:a.xf+c.height/2;var d=a.Xb;h.i.o.Kf(c)||h.i.o.Kj(c)?(d+=c.height/2,(a.ds||a.Ob)&&c.height+this.s.yv<=a.height&&(d+=this.s.yv)):d=h.i.o.Jg(c)?d+c.height/2:d+a.height/2;return d};
b.zq=function(){if(this.Lj){for(var a=0,c=null,d=this.rows.length-1,e;e=this.rows[d];d--)e.Ns=a,h.i.o.qD(e)&&(e.Ob&&qd(this,e),c&&c.Ob&&e.width<c.width?e.Ns=c.width:a=e.width,c=e);for(d=a=0;e=this.rows[d];d++)e.Ob?a=this.yl(e):h.i.o.Id(e)?e.width=Math.max(a,e.Ns):(a=Math.max(a,e.Ns)-e.width,0<a&&rd(e,a),a=e.width)}else h.ba.Zd.v.zq.call(this)};b.yl=function(a){return this.Lj&&a.Ob?this.gh+this.s.vA+this.Rd:h.ba.Zd.v.yl.call(this,a)};
b.Cw=function(){for(var a=0,c=0,d=0,e;e=this.rows[d];d++){e.Xb=c;e.Ia=this.Rd;c+=e.height;a=Math.max(a,e.we);var f=c-this.Pb.jj;e==this.sb&&f<this.s.Ck&&(f=this.s.Ck-f,this.sb.height+=f,c+=f);sd(this,e)}this.T&&this.Pa.ka&&this.Pa.ka.isConnected()&&(a=Math.max(a,r(this.Pa.ka.ra()).width-this.s.Zb));this.sb.ae=c-this.sb.dl;this.fk=a+this.Rd+this.s.Zb;this.width+=this.s.Zb;this.height=c+this.s.Zb;this.kp=this.Pb.xf};h.ba.yc=function(a,c){h.ba.yc.v.constructor.call(this,a,c);this.We=new h.ba.Ju(c)};h.g.object.U(h.ba.yc,h.i.yc);b=h.ba.yc.prototype;b.draw=function(){td(this);ud(this);vd(this);var a=this.Pa.zb;a.Ht(this.La+"\n"+this.qo);var c=this.We;a.Bi.setAttribute("d",c.ma+"\n"+c.Hl);this.sa.J&&a.Kr();wd(this)};
b.Dr=function(){var a=this.We,c=this.sa.Pb;a.ma+=h.g.A.moveBy(c.Ia,a.sa.kp);for(var d=0,e;e=c.elements[d];d++)h.i.o.Ll(e)?a.ma+=a.kd.uv:h.i.o.Lg(e)?a.ma+=a.ct.Vt(a.bc):h.i.o.Oj(e)?a.ma+=a.QD.Yg:h.i.o.bi(e)?a.ma+=a.QE.path(a.bc):h.i.o.Id(e)&&0!=e.width&&(a.ma+=h.g.A.X("H",e.Ia+e.width-a.Xc));a.ma+=h.g.A.X("H",c.Ia+c.width-a.Xc);Cd(this.We,this.sa.Pb);h.ba.yc.v.Dr.call(this)};b.il=function(a){this.We.il(a);h.ba.yc.v.il.call(this,a)};
b.Er=function(a){var c=this.We,d=O(a);if(c.bc){var e=a.height-d.rj;c.ma+=h.g.A.moveTo(d.Ia+d.width-c.Xc,a.Xb)+c.em.Od(c.bc)+h.g.A.X("v",e)}else c.ma+=h.g.A.moveTo(d.Ia+d.width,a.Xb)+c.em.Od(c.bc);h.ba.yc.v.Er.call(this,a)};
b.Cr=function(a){var c=this.We,d=O(a);if(c.bc){var e=a.height-2*c.Jj.height;c.ma+=h.g.A.moveTo(d.Ia,a.Xb)+c.Jj.gt(c.bc)+h.g.A.X("v",e)+c.Jj.Zo(c.bc)+h.g.A.lineTo(a.width-d.Ia-c.Jj.width,0)}else c.ma+=h.g.A.moveTo(d.Ia,a.Xb+a.height)+c.Jj.Zo(c.bc)+h.g.A.lineTo(a.width-d.Ia-c.Jj.width,0);h.ba.yc.v.Cr.call(this,a)};b.Aw=function(a){Cd(this.We,a);this.La+=h.g.A.X("H",a.Ia+a.width)+h.g.A.X("V",a.Xb+a.height)};
b.zr=function(){var a=this.We,c=this.sa.sb;if(a.bc)a.ma+=h.g.A.X("V",c.ae-a.Xc);else{var d=a.sa.sb.elements[0];h.i.o.Ll(d)?a.ma+=h.g.A.moveTo(c.Ia+a.Xc,c.ae-a.Xc):h.i.o.Lg(d)&&(a.ma+=h.g.A.moveTo(c.Ia,c.ae),a.ma+=a.ct.Jq())}h.ba.yc.v.zr.call(this)};
b.Br=function(){var a=this.We,c=a.sa.T;c&&(c=c.jd+c.height,a.bc?a.ma+=h.g.A.moveTo(a.sa.Rd,c):(a.ma+=h.g.A.moveTo(a.sa.Rd+a.Xc,a.sa.sb.ae-a.Xc),a.ma+=h.g.A.X("V",c)),a.ma+=a.em.$l(a.bc));a.bc||(c=a.sa.Pb,a.ma=h.i.o.Lg(c.elements[0])?a.ma+h.g.A.X("V",a.ct.height):a.ma+h.g.A.X("V",c.xf+a.Xc));h.ba.yc.v.Br.call(this)};
b.Ar=function(a){var c=this.We,d=c.Xc,e=a.Ia+a.Ne,f=a.nj-a.height/2,g=a.width-a.Ne,k=f+d;if(c.bc){f=a.jd-d;var l=a.height-(a.jd+a.rj)+d;c.Hl+=h.g.A.moveTo(e-d,k)+h.g.A.X("v",f)+c.em.Od(c.bc)+h.g.A.X("v",l)+h.g.A.X("h",g)}else c.Hl+=h.g.A.moveTo(a.Ia+a.width+d,k)+h.g.A.X("v",a.height)+h.g.A.X("h",-g)+h.g.A.moveTo(e,f+a.jd)+c.em.Od(c.bc);h.ba.yc.v.Ar.call(this,a)};b.gy=function(a){var c=a.nj-a.height/2;if(a.Gc){var d=a.Ia+a.Ne+this.s.Zb;this.sa.J&&(d*=-1);G(a.Gc,d,c+a.jd+this.s.Zb)}};
b.jy=function(a){var c=O(a);if(c.Gc){var d=a.Ia+a.gh+c.Md;d=this.sa.J?-1*d:d+this.s.Zb;G(c.Gc,d,a.Xb+this.s.Zb)}};b.ey=function(a){var c=O(a);if(c.Gc){var d=a.Ia+a.width+this.s.Zb;this.sa.J&&(d*=-1);G(c.Gc,d,a.Xb)}};b.iy=function(){var a=this.sa.sb;if(a.connection){var c=a.connection,d=c.Ia;G(c.Gc,(this.sa.J?-d:d)+this.s.Zb/2,a.ae+this.s.Zb)}};h.ba.Iu=function(a){this.sj=a;this.OFFSET=.5;this.uv=h.g.A.moveBy(this.OFFSET,this.OFFSET)};b=h.ba.Iu.prototype;b.Ba=function(){this.kA=Dd(this);this.HA=Ed(this);this.eq=this.Ds();this.Wi=this.Cs();this.Si=this.Bs();this.aj=this.Es()};
function Dd(a){var c=a.sj.qb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c+a)-a,e=h.g.A.moveBy(d,d)+h.g.A.arc("a","0 0,0",c,h.g.A.Ha(-d-a,c-d)),f=h.g.A.arc("a","0 0,0",c+a,h.g.A.Ha(c+a,c+a)),g=h.g.A.moveBy(d,-d)+h.g.A.arc("a","0 0,0",c+a,h.g.A.Ha(c-d,d+a));return{width:c+a,height:c,gt:function(k){return k?e:""},Zo:function(k){return k?f:g}}}
function Ed(a){var c=a.sj.qb;a=a.OFFSET;var d=(1-Math.SQRT1_2)*(c-a)+a,e=h.g.A.moveBy(d,d)+h.g.A.arc("a","0 0,1",c-a,h.g.A.Ha(c-d,-d+a)),f=h.g.A.moveBy(a,c)+h.g.A.arc("a","0 0,1",c-a,h.g.A.Ha(c,-c+a)),g=-d,k=h.g.A.moveBy(d,g)+h.g.A.arc("a","0 0,1",c-a,h.g.A.Ha(-d+a,-g-c));return{height:c,Vt:function(l){return l?e:f},Jq:function(){return k}}}
b.Ds=function(){var a=this.sj.vn,c=this.sj.Jk,d=h.g.A.moveBy(-2,-c+3.4)+h.g.A.lineTo(-.45*a,-2.1),e=h.g.A.X("v",2.5)+h.g.A.moveBy(.97*-a,2.5)+h.g.A.curve("q",[h.g.A.Ha(.05*-a,10),h.g.A.Ha(.3*a,9.5)])+h.g.A.moveBy(.67*a,-1.9)+h.g.A.X("v",2.5),f=h.g.A.X("v",-1.5)+h.g.A.moveBy(-.92*a,-.5)+h.g.A.curve("q",[h.g.A.Ha(-.19*a,-5.5),h.g.A.Ha(0,-11)])+h.g.A.moveBy(.92*a,1),g=h.g.A.moveBy(-5,c-.7)+h.g.A.lineTo(.46*a,-2.1);return{width:a,height:c,$l:function(k){return k?d:f},Od:function(k){return k?e:g}}};
b.Cs=function(){return{Yg:h.g.A.X("h",this.OFFSET)+this.sj.Wi.Yg}};b.Bs=function(){return{Yg:h.g.A.lineTo(5.1,2.6)+h.g.A.moveBy(-10.2,6.8)+h.g.A.lineTo(5.1,2.6),height:12,width:10.2}};b.Es=function(){var a=this.sj.aj.height,c=h.g.A.moveBy(25,-8.7)+h.g.A.curve("c",[h.g.A.Ha(29.7,-6.2),h.g.A.Ha(57.2,-.5),h.g.A.Ha(75,8.7)]),d=h.g.A.curve("c",[h.g.A.Ha(17.8,-9.2),h.g.A.Ha(45.3,-14.9),h.g.A.Ha(75,-8.7)])+h.g.A.moveTo(100.5,a+.5);return{path:function(e){return e?c:d}}};h.ba.nf=function(a,c,d){this.lb=d;this.ff=a;this.xm=h.g.j.L(h.g.F.Ge,{"class":"blocklyPathDark",transform:"translate(1,1)"},this.ff);this.Kb=h.g.j.L(h.g.F.Ge,{"class":"blocklyPath"},this.ff);this.Bi=h.g.j.L(h.g.F.Ge,{"class":"blocklyPathLight"},this.ff);this.Wq="#000000";this.style=c};h.g.object.U(h.ba.nf,h.i.nf);b=h.ba.nf.prototype;b.Ht=function(a){this.Kb.setAttribute("d",a);this.xm.setAttribute("d",a)};
b.Kr=function(){this.Kb.setAttribute("transform","scale(-1 1)");this.Bi.setAttribute("transform","scale(-1 1)");this.xm.setAttribute("transform","translate(1,1) scale(-1 1)")};b.dc=function(a){this.Bi.style.display="";this.xm.style.display="";this.Bi.setAttribute("stroke",this.style.qj);this.xm.setAttribute("fill",this.Wq);h.ba.nf.v.dc.call(this,a);this.Kb.setAttribute("stroke","none")};b.Ai=function(a){this.style=a;this.Wq=h.g.tb.Gq("#000",this.style.Hh,.2)||this.Wq};
b.Ky=function(a){a?(this.Kb.setAttribute("filter","url(#"+this.lb.ao+")"),this.Bi.style.display="none"):(this.Kb.setAttribute("filter","none"),this.Bi.style.display="inline")};b.My=function(a){a&&(this.Bi.style.display="none",this.xm.setAttribute("fill",this.style.Mn),this.Kb.setAttribute("stroke","none"),this.Kb.setAttribute("fill",this.style.Mn))};b.Yt=function(a){h.ba.nf.v.Yt.call(this,a);a&&this.Kb.setAttribute("stroke","none")};h.ba.pf=function(a){h.ba.pf.v.constructor.call(this,a);this.kd=null};h.g.object.U(h.ba.pf,h.i.pf);b=h.ba.pf.prototype;b.Ba=function(a,c){h.ba.pf.v.Ba.call(this,a,c);this.kd=new h.ba.Iu(this.ea());this.kd.Ba()};b.qt=function(a,c){h.ba.pf.v.qt.call(this,a,c);this.kd.Ba()};b.As=function(){return new h.ba.lf};b.Ex=function(a){return new h.ba.Zd(this,a)};b.Cx=function(a,c){return new h.ba.yc(a,c)};b.Dx=function(a,c){return new h.ba.nf(a,c,this.ea())};h.i.register("geras",h.ba.pf);h.M.ADD_COMMENT="\u0a9f\u0abf\u0aaa\u0acd\u0aaa\u0aa3\u0ac0 \u0a89\u0aae\u0ac7\u0ab0\u0acb";h.M.CANNOT_DELETE_VARIABLE_PROCEDURE="\u0a9a\u0ab2 '%1' \u0a95\u0abe\u0aa2\u0ac0 \u0ab6\u0a95\u0abe\u0aa4\u0ac1\u0a82 \u0aa8\u0aa5\u0ac0 \u0a95\u0abe\u0ab0\u0aa3 \u0a95\u0ac7 \u0aa4\u0ac7 '%2' \u0aab\u0a82\u0a95\u0acd\u0ab6\u0aa8\u0aa8\u0ac0 \u0ab5\u0acd\u0aaf\u0abe\u0a96\u0acd\u0aaf\u0abe\u0aa8\u0acb \u0aad\u0abe\u0a97 \u0a9b\u0ac7";h.M.CLEAN_UP="\u0aac\u0acd\u0ab2\u0acb\u0a95\u0acd\u0ab8 \u0ab8\u0abe\u0aab \u0a95\u0ab0\u0acb";
h.M.COLLAPSE_ALL="\u0aac\u0acd\u0ab2\u0ac9\u0a95\u0acd\u0ab8 \u0ab8\u0a82\u0a95\u0ac1\u0a9a\u0abf\u0aa4 \u0a95\u0ab0\u0acb";h.M.COLLAPSE_BLOCK="\u0aac\u0acd\u0ab2\u0acb\u0a95 \u0ab8\u0a82\u0a95\u0ac1\u0a9a\u0abf\u0aa4 \u0a95\u0ab0\u0acb";h.M.DELETE_ALL_BLOCKS="\u0aac\u0aa7\u0abe %1 \u0aac\u0acd\u0ab2\u0acb\u0a95 \u0a95\u0abe\u0aa2\u0ac0 \u0aa8\u0abe\u0a96\u0acb?";h.M.DELETE_BLOCK="\u0aac\u0acd\u0ab2\u0acb\u0a95 \u0a95\u0abe\u0aa2\u0ac0 \u0aa8\u0abe\u0a96\u0acb";h.M.DELETE_VARIABLE_CONFIRMATION="'%2' \u0ab5\u0ac7\u0ab0\u0ac0\u0a8f\u0aac\u0ab2\u0aa8\u0abe %1 \u0a89\u0aaa\u0aaf\u0acb\u0a97\u0acb \u0a95\u0abe\u0aa2\u0ac0 \u0aa8\u0abe\u0a96\u0acb?";
h.M.DELETE_X_BLOCKS="%1 \u0aac\u0acd\u0ab2\u0acb\u0a95\u0acd\u0ab8 \u0a95\u0abe\u0aa2\u0ac0 \u0aa8\u0abe\u0a96\u0acb";h.M.DIALOG_CANCEL="\u0ab0\u0aa6 \u0a95\u0ab0\u0acb";h.M.DIALOG_OK="\u0a93\u0a95\u0ac7 \u0aad\u0abe\u0a88";h.M.DISABLE_BLOCK="\u0aac\u0acd\u0ab2\u0acb\u0a95 \u0a85\u0a95\u0acd\u0ab7\u0aae \u0a95\u0ab0\u0acb";h.M.DUPLICATE_BLOCK="\u0aa1\u0ac1\u0aaa\u0acd\u0ab2\u0abf\u0a95\u0ac7\u0a9f";h.M.DUPLICATE_COMMENT="\u0aa1\u0ac1\u0aaa\u0acd\u0ab2\u0abf\u0a95\u0ac7\u0a9f \u0a9f\u0abf\u0aaa\u0acd\u0aaa\u0aa3\u0ac0";
h.M.ENABLE_BLOCK="\u0aac\u0acd\u0ab2\u0acb\u0a95 \u0ab8\u0a95\u0acd\u0ab7\u0aae \u0a95\u0ab0\u0acb";h.M.EXPAND_ALL="\u0aac\u0acd\u0ab2\u0acb\u0a95 \u0ab5\u0abf\u0ab8\u0acd\u0aa4\u0ac3\u0aa4 \u0a95\u0ab0\u0acb";h.M.EXPAND_BLOCK="\u0aac\u0acd\u0ab2\u0acb\u0a95 \u0ab5\u0abf\u0ab8\u0acd\u0aa4\u0ac3\u0aa4 \u0a95\u0ab0\u0acb";h.M.EXTERNAL_INPUTS="\u0aac\u0abe\u0ab9\u0acd\u0aaf \u0a87\u0aa8\u0aaa\u0ac1\u0a9f\u0acd\u0ab8";h.M.HELP="\u0ab8\u0ab9\u0abe\u0aaf";h.M.INLINE_INPUTS="\u0a87\u0aa8\u0ab2\u0abe\u0a87\u0aa8 \u0a87\u0aa8\u0aaa\u0ac1\u0a9f\u0acd\u0ab8";
h.M.NEW_VARIABLE="\u0a9a\u0ab2 \u0aac\u0aa8\u0abe\u0ab5\u0acb...";h.M.NEW_VARIABLE_TITLE="\u0aa8\u0ab5\u0ac1\u0a82 \u0a9a\u0ab2 \u0aa8\u0abe\u0aae:";h.M.PROCEDURES_DEFNORETURN_PROCEDURE="\u0a95\u0a82\u0a88\u0a95 \u0a95\u0ab0\u0acb";h.M.REDO="\u0aab\u0ab0\u0ac0\u0aa5\u0ac0 \u0a95\u0ab0\u0acb";h.M.REMOVE_COMMENT="\u0a9f\u0abf\u0aaa\u0acd\u0aaa\u0aa3\u0ac0 \u0aa6\u0ac2\u0ab0 \u0a95\u0ab0\u0acb";h.M.RENAME_VARIABLE="\u0a9a\u0ab2\u0aa8\u0ac1\u0a82 \u0aa8\u0abe\u0aae \u0aac\u0aa6\u0ab2\u0acb...";
h.M.RENAME_VARIABLE_TITLE="\u0aa4\u0aae\u0abe\u0aae '%1' \u0a9a\u0ab2\u0acb\u0aa8\u0ac1\u0a82 \u0aa8\u0abe\u0aae \u0aac\u0aa6\u0ab2\u0acb:";h.M.UNDO="\u0aaa\u0ac2\u0ab0\u0acd\u0ab5\u0ab5\u0aa4\u0acd \u0a95\u0ab0\u0acb";h.M.UNNAMED_KEY="\u0a85\u0aa8\u0abe\u0aae\u0ac0";h.M.VARIABLE_ALREADY_EXISTS="'%1' \u0aa8\u0abe\u0aae\u0aa8\u0ac1\u0a82 \u0a9a\u0ab2 \u0aaa\u0ab9\u0ac7\u0ab2\u0ac7\u0aa5\u0ac0 \u0a9c \u0a85\u0ab8\u0acd\u0aa4\u0abf\u0aa4\u0acd\u0ab5\u0aae\u0abe\u0a82 \u0a9b\u0ac7.";
h.M.VARIABLE_ALREADY_EXISTS_FOR_ANOTHER_TYPE="'%1' \u0aa8\u0abe\u0aae\u0aa8\u0ac1\u0a82 \u0a9a\u0ab2 \u0aaa\u0ab9\u0ac7\u0ab2\u0abe\u0aa5\u0ac0 \u0a9c \u0aac\u0ac0\u0a9c\u0abe \u0aaa\u0acd\u0ab0\u0a95\u0abe\u0ab0 \u0aae\u0abe\u0a9f\u0ac7 \u0a85\u0ab8\u0acd\u0aa4\u0abf\u0aa4\u0acd\u0ab5\u0aae\u0abe\u0a82 \u0a9b\u0ac7: '%2'.";h.M.WORKSPACE_ARIA_LABEL="\u0a85\u0ab5\u0ab0\u0acb\u0aa7\u0abf\u0aa4 \u0ab5\u0ab0\u0acd\u0a95\u0ab8\u0acd\u0aaa\u0ac7\u0ab8";h.M.WORKSPACE_COMMENT_DEFAULT_TEXT="\u0a95\u0a82\u0a88\u0a95 \u0a95\u0ab9\u0acb...";
h.M.PROCEDURES_DEFRETURN_PROCEDURE=h.M.PROCEDURES_DEFNORETURN_PROCEDURE;var BlocklyStorage={},Fd=null,Gd=null,Hd=null;function Id(){var a=Fd();Jd("xml="+encodeURIComponent(a),Kd)}var Ld={};
function Jd(a,c){Ld["/storage"]&&Ld["/storage"].abort();Ld["/storage"]=new XMLHttpRequest;Ld["/storage"].onload=function(){200===this.status?c&&c.call(this):Md(N("Games_httpRequestError")+"\nXHR status: "+this.status);Ld["/storage"]=null};Ld["/storage"].open("POST","/storage");Ld["/storage"].setRequestHeader("Content-Type","application/x-www-form-urlencoded");Ld["/storage"].send(a)}
function Kd(){window.location.hash=this.responseText.trim();Md(N("Games_linkAlert").replace("%1",window.location.href));Hd=Fd()}function Nd(){var a=this.responseText.trim();a.length?Gd(a):Md(N("Games_hashError").replace("%1",window.location.hash));Hd=Fd()}function Md(a){if("object"===typeof P){var c=document.getElementById("linkButton");P.TE(c,a)}else alert(a)};var A=null,Od="",Pd="";function Qd(){kd();var a=document.getElementById("linkButton");a&&(gd?a.style.display="none":(Fd=Rd,Gd=Sd,od(a,Id)));(a=document.getElementById("languageMenu"))&&a.addEventListener("change",Td,!0)}
function Ud(){var a='<xml><block movable="'+(1!=M)+'" type="maze_moveForward" x="70" y="70"></block></xml>';if(!gd&&1<window.location.hash.length)Jd("key="+encodeURIComponent(window.location.hash.substring(1)),Nd);else{var c=null;try{c=window.sessionStorage.ys}catch(e){}c&&delete window.sessionStorage.ys;var d=ld(M);(a=c||d||a)&&Sd(a)}}function Sd(a){a=h.I.ue(a);A.clear();h.I.Lh(a,A);a=A;a.Ei.length=0;a.fm.length=0;h.h.SB()}
function Rd(){var a=h.I.Uy(!0);if(1==A.vb(!1).length&&a.querySelector){var c=a.querySelector("block");c&&(c.removeAttribute("x"),c.removeAttribute("y"))}return h.I.Dd(a)}function Vd(){"object"==typeof BlocklyStorage&&null!==Hd&&Hd!=Rd()&&(window.location.hash="",Hd=null)}function Wd(a){var c=document.getElementById("toolbox");c&&(a.toolbox=c);a.media="third-party/blockly/media/";a.oneBasedIndex=!1;A=h.Hg("blockly",a);E(A,Vd)}function Xd(){window.location=(gd?"index.html":"./")+"?lang="+L}
function Td(){window.sessionStorage&&(window.sessionStorage.ys=Rd());var a=document.getElementById("languageMenu");a=encodeURIComponent(a.options[a.selectedIndex].value);var c=window.location.search;c=1>=c.length?"?lang="+a:/[?&]lang=[^&]*/.test(c)?c.replace(/([?&]lang=)[^&]*/,"$1"+a):c.replace(/\?/,"?lang="+a+"&");window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+c}
function Yd(){10>M?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+L+"&level="+(M+1):Xd()}function Zd(a){if(a){var c=a.match(/^block_id_([^']+)$/);c&&(a=c[1])}Vc(a)}function $d(a){a=a.replace(/(,\s*)?'block_id_[^']+'\)/g,")");return a.replace(/\s+$/,"")}function ae(a){if("click"==a.type&&"touchend"==be&&ce+2E3>Date.now()||be==a.type&&ce+400>Date.now())return a.preventDefault(),a.stopPropagation(),!0;be=a.type;ce=Date.now();return!1}
var be=null,ce=0;function de(){setTimeout(function(){var a=document.createElement("script");a.type="text/javascript";a.src="third-party/JS-Interpreter/compressed.js";document.head.appendChild(a)},1)}function ee(){setTimeout(function(){var a=document.createElement("link");a.rel="stylesheet";a.type="text/css";a.href="common/prettify.css";document.head.appendChild(a);a=document.createElement("script");a.type="text/javascript";a.src="common/prettify.js";document.head.appendChild(a)},1)};var P={Zh:!1,tw:null,Vn:null,om:function(a,c,d,e,f,g){function k(){if(P.Zh){l.style.visibility="visible";l.style.zIndex=10;m.style.visibility="hidden";var p=a.getElementsByClassName("primary");p.length||(p=a.getElementsByClassName("secondary"),p.length||(p=a.getElementsByTagName("button")));p.length&&p[0].focus()}}if(!a)throw TypeError("Content not found: "+a);P.Zh&&P.Ve(!1);h.Bg()&&h.hc(!0);P.Zh=!0;P.tw=c;P.Vn=g;var l=document.getElementById("dialog");g=document.getElementById("dialogShadow");var m=
document.getElementById("dialogBorder"),n;for(n in f)window.matchMedia("(max-width: 500px)").matches&&(f={width:"50%",left:"5%",top:"15%"}),l.style[n]=f[n];e&&(g.style.visibility="visible",g.style.opacity=.3,g.style.zIndex=9,e=document.createElement("div"),e.id="dialogHeader",l.appendChild(e),P.ir=h.Fh(e,"mousedown",null,P.lC));f=a.getElementsByClassName("dialogOk");for(e=0;e<f.length;e++)f[e].textContent=h.M.DIALOG_OK;f=a.getElementsByClassName("dialogCancel");for(e=0;e<f.length;e++)f[e].textContent=
h.M.DIALOG_CANCEL;l.appendChild(a);a.className=a.className.replace("dialogHiddenContent","");try{c.blur()}catch(p){}d&&c?(P.Io(c,!1,.2),P.Io(l,!0,.8),setTimeout(k,175)):k()},uw:0,vw:0,lC:function(a){P.lr();if(!h.g.Ml(a)){var c=document.getElementById("dialog");P.uw=c.offsetLeft-a.clientX;P.vw=c.offsetTop-a.clientY;P.kr=h.Fh(document,"mouseup",null,P.lr);P.jr=h.Fh(document,"mousemove",null,P.mC);a.stopPropagation()}},mC:function(a){var c=document.getElementById("dialog"),d=P.uw+a.clientX;a=P.vw+a.clientY;
a=Math.max(a,0);a=Math.min(a,window.innerHeight-c.offsetHeight);d=Math.max(d,0);d=Math.min(d,window.innerWidth-c.offsetWidth);c.style.left=d+"px";c.style.top=a+"px"},lr:function(){P.kr&&(h.pp(P.kr),P.kr=null);P.jr&&(h.pp(P.jr),P.jr=null)},Ve:function(a){function c(){e.style.zIndex=-1;e.style.visibility="hidden";document.getElementById("dialogBorder").style.visibility="hidden"}if(P.Zh){P.lr();P.ir&&(h.pp(P.ir),P.ir=null);P.Zh=!1;P.Vn&&P.Vn();P.Vn=null;var d=!1===a?null:P.tw;a=document.getElementById("dialog");
var e=document.getElementById("dialogShadow");e.style.opacity=0;d&&a?(P.Io(a,!1,.8),P.Io(d,!0,.2),setTimeout(c,175)):c();a.style.visibility="hidden";a.style.zIndex=-1;for((d=document.getElementById("dialogHeader"))&&d.parentNode.removeChild(d);a.firstChild;)d=a.firstChild,d.className+=" dialogHiddenContent",document.body.appendChild(d)}},Io:function(a,c,d){function e(){f.style.width=g.width+"px";f.style.height=g.height+"px";f.style.left=g.x+"px";f.style.top=g.y+"px";f.style.opacity=d}if(a){var f=
document.getElementById("dialogBorder"),g=P.Jw(a);c?(f.className="dialogAnimate",setTimeout(e,1)):(f.className="",e());f.style.visibility="visible"}},Jw:function(a){var c=h.g.style.Qh(a);c={x:c.x,y:c.y};a.getBBox?(a=a.getBBox(),c.height=a.height,c.width=a.width):(c.height=a.offsetHeight,c.width=a.offsetWidth);return c},TE:function(a,c){var d=document.getElementById("containerStorage");d.textContent="";c=c.split("\n");for(var e=0;e<c.length;e++){var f=document.createElement("p");f.appendChild(document.createTextNode(c[e]));
d.appendChild(f)}d=document.getElementById("dialogStorage");P.om(d,a,!0,!0,{width:"50%",left:"25%",top:"5em"},P.Dy);P.Ay()},Mv:function(){if(!ld(M))if(P.Zh||A.Yc())setTimeout(P.Mv,15E3);else{var a=document.getElementById("dialogAbort"),c=document.getElementById("abortCancel");c.addEventListener("click",P.Ve,!0);c.addEventListener("touchend",P.Ve,!0);c=document.getElementById("abortOk");c.addEventListener("click",Xd,!0);c.addEventListener("touchend",Xd,!0);P.om(a,null,!1,!0,{width:"40%",left:"30%",
top:"3em"},function(){document.body.removeEventListener("keydown",P.Lv,!0)});document.body.addEventListener("keydown",P.Lv,!0)}},YB:function(){var a=document.getElementById("dialogDone");if(A){var c=document.getElementById("dialogLinesText");c.textContent="";var d=Pd;d=$d(d);var e=d.replace(/\/\/[^\n]*/g,"");e=e.replace(/\/\*.*\*\//g,"");e=e.replace(/[ \t]+\n/g,"\n");e=e.replace(/\n+/g,"\n");e=e.trim();e=e.split("\n").length;var f=document.getElementById("containerCode");f.textContent=d;"function"==
typeof prettyPrintOne&&(d=f.innerHTML,d=prettyPrintOne(d,"js"),f.innerHTML=d);d=1==e?N("Games_linesOfCode1"):N("Games_linesOfCode2").replace("%1",String(e));c.appendChild(document.createTextNode(d))}d=10>M?N("Games_nextLevel").replace("%1",String(M+1)):N("Games_finalLevel");c=document.getElementById("doneCancel");c.addEventListener("click",P.Ve,!0);c.addEventListener("touchend",P.Ve,!0);c=document.getElementById("doneOk");c.addEventListener("click",Yd,!0);c.addEventListener("touchend",Yd,!0);P.om(a,
null,!1,!0,{width:"40%",left:"30%",top:"3em"},function(){document.body.removeEventListener("keydown",P.fw,!0)});document.body.addEventListener("keydown",P.fw,!0);document.getElementById("dialogDoneText").textContent=d},Wn:function(a){!P.Zh||13!=a.keyCode&&27!=a.keyCode&&32!=a.keyCode||(P.Ve(!0),a.stopPropagation(),a.preventDefault())},Ay:function(){document.body.addEventListener("keydown",P.Wn,!0)},Dy:function(){document.body.removeEventListener("keydown",P.Wn,!0)},fw:function(a){P.Wn(a);13!=a.keyCode&&
32!=a.keyCode||Yd()},Lv:function(a){P.Wn(a);13!=a.keyCode&&32!=a.keyCode||Xd()}};window.BlocklyDialogs=P;P.hideDialog=P.Ve;h.Generator=function(a){this.Wl=a};b=h.Generator.prototype;b.Lu=null;b.rn=null;b.sn=null;b.iA="  ";b.mz=60;b.nn=[];b.vo=null;function fe(a,c){return c+a.replace(/(?!\n$)\n/g,"\n"+c)}
function ge(a,c){!1===a.vo&&console.warn("Generator init was not called before blockToCode was called.");if(!c)return"";if(!c.isEnabled())return ge(a,y(c));if(c.md())return ge(a,ea(c,!1)[0]);var d=a[c.type];if("function"!=typeof d)throw Error('Language "'+a.Wl+'" does not know how to generate code for block type "'+c.type+'".');d=d.call(c,c);if(Array.isArray(d)){if(!c.T)throw TypeError("Expecting string from statement block: "+c.type);return[a.Ct(c,d[0]),d[1]]}if("string"==typeof d)return a.rn&&!c.Qt&&
(d=he(a.rn,c)+d),a.sn&&!c.Qt&&(d+=he(a.sn,c)),a.Ct(c,d);if(null===d)return"";throw SyntaxError("Invalid code generated: "+d);}
function ie(a,c,d,e){if(isNaN(e))throw TypeError("Expecting valid order from block: "+c.type);var f=kc(c,d);if(!f)return"";d=ge(a,f);if(""===d)return"";if(!Array.isArray(d))throw TypeError("Expecting tuple from value block: "+f.type);c=d[0];d=d[1];if(isNaN(d))throw TypeError("Expecting valid order from value block: "+f.type);if(!c)return"";f=!1;var g=Math.floor(e),k=Math.floor(d);if(g<=k&&(g!=k||0!=g&&99!=g))for(f=!0,g=0;g<a.nn.length;g++)if(a.nn[g][0]==e&&a.nn[g][1]==d){f=!1;break}f&&(c="("+c+")");
return c}function je(a,c){var d=h.P;a=kc(a,c);c=ge(d,a);if("string"!=typeof c)throw TypeError("Expecting code from statement block: "+(a&&a.type));c&&(c=fe(c,d.iA));return c}function he(a,c){c=c.id.replace(/\$/g,"$$$$");return a.replace(/%1/g,"'"+c+"'")}b.gq="";function ke(a,c){a.gq+=c+","}
Object.defineProperty(h.Generator.prototype,"variableDB_",{get:function(){h.g.wj.warn("variableDB_","May 2021","May 2026","nameDB_");return this.Ze},set:function(a){h.g.wj.warn("variableDB_","May 2021","May 2026","nameDB_");this.Ze=a}});h.Generator.prototype.Ba=function(){this.er=Object.create(null);this.CC=Object.create(null)};h.Generator.prototype.Ct=function(a,c){return c};h.Generator.prototype.finish=function(a){delete this.er;delete this.CC;return a};h.Generator.prototype.vy=function(a){return a};h.P=new h.Generator("JavaScript");ke(h.P,"break,case,catch,class,const,continue,debugger,default,delete,do,else,export,extends,finally,for,function,if,import,in,instanceof,new,return,super,switch,this,throw,try,typeof,var,void,while,with,yield,enum,implements,interface,let,package,private,protected,public,static,await,null,true,false,arguments,"+Object.getOwnPropertyNames(h.g.global).join(","));h.P.EH=0;h.P.WH=1.1;h.P.mn=1.2;h.P.ln=2;h.P.TH=3;h.P.NH=3;h.P.HH=4.1;h.P.ZH=4.2;h.P.jv=4.3;h.P.ev=4.4;
h.P.YH=4.5;h.P.$H=4.6;h.P.OH=4.7;h.P.FH=4.8;h.P.RH=5;h.P.gv=5.1;h.P.PH=5.2;h.P.VH=5.3;h.P.hv=6.1;h.P.jn=6.2;h.P.JH=7;h.P.XH=8;h.P.SH=8;h.P.UH=8;h.P.QH=9;h.P.GH=10;h.P.KH=11;h.P.IH=12;h.P.dv=13;h.P.fv=14;h.P.MH=15;h.P.DH=16;h.P.aI=17;h.P.LH=18;h.P.FA=99;h.P.nn=[[h.P.ln,h.P.mn],[h.P.ln,h.P.ln],[h.P.mn,h.P.mn],[h.P.mn,h.P.ln],[h.P.ev,h.P.ev],[h.P.gv,h.P.gv],[h.P.jn,h.P.jn],[h.P.dv,h.P.dv],[h.P.fv,h.P.fv]];h.P.vo=!1;
h.P.Ba=function(a){Object.getPrototypeOf(this).Ba.call(this);this.Ze?this.Ze.reset():this.Ze=new h.vd(this.gq);this.Ze.Jt(a.Oa);for(var c=this.Ze,d=h.na.Aq(a),e=0;e<d.length;e++)cd(c,d[e].fc(),h.Dh);c=this.Ze;d=h.Sa.Rv(a);d=d[0].concat(d[1]);for(e=0;e<d.length;e++)cd(c,d[e][0],h.cq);c=[];e=h.na.rB(a);for(d=0;d<e.length;d++)c.push(cd(this.Ze,e[d],h.vd.Gp));a=h.na.Aq(a);for(d=0;d<a.length;d++)c.push(cd(this.Ze,a[d].fc(),h.Dh));c.length&&(this.er.variables="var "+c.join(", ")+";");this.vo=!0};
h.P.finish=function(a){var c=h.g.object.values(this.er);a=Object.getPrototypeOf(this).finish.call(this,a);this.vo=!1;this.Ze.reset();return c.join("\n\n")+"\n\n\n"+a};h.P.vy=function(a){return a+";\n"};h.P.fE=function(a){a=a.replace(/\\/g,"\\\\").replace(/\n/g,"\\\n").replace(/'/g,"\\'");return"'"+a+"'"};h.P.NJ=function(a){return a.split(/\n/g).map(this.fE).join(" + '\\n' +\n")};
h.P.Ct=function(a,c){var d="";if(!a.T||!a.T.xa){var e=a.ee.text;e&&(e=h.g.Qa.Vy(e,this.mz-3),d+=fe(e+"\n","// "));for(var f=0;f<a.V.length;f++)if(a.V[f].type==h.Ga.Je){var g=a.V[f].connection.ra();if(g){e=[];g=x(g,!0);for(var k=0;k<g.length;k++){var l=g[k].ee.text;l&&e.push(l)}e.length&&e.push("");(e=e.join("\n"))&&(d+=fe(e,"// "))}}}a=a.ka&&a.ka.ra();a=ge(this,a);return d+c+a};
h.P.rJ=function(a,c,d,e,f){d=d||0;f=f||this.FA;a.B.options.Vo&&d--;var g=a.B.options.Vo?"1":"0";a=0<d?ie(this,a,c,this.jn)||g:0>d?ie(this,a,c,this.hv)||g:e?ie(this,a,c,this.jv)||g:ie(this,a,c,f)||g;if(h.uD(a))a=Number(a)+d,e&&(a=-a);else{if(0<d){a=a+" + "+d;var k=this.jn}else 0>d&&(a=a+" - "+-d,k=this.hv);e&&(a=d?"-("+a+")":"-"+a,k=this.jv);k=Math.floor(k);f=Math.floor(f);k&&f>=k&&(a="("+a+")")}return a};h.Xd=function(a,c,d,e,f,g,k){if(!a)throw Error("Src value of an image field is required");a=h.g.cd(a);d=Number(h.g.cd(d));c=Number(h.g.cd(c));if(isNaN(d)||isNaN(c))throw Error("Height and width values of an image field must cast to numbers.");if(0>=d||0>=c)throw Error("Height and width values of an image field must be greater than 0.");this.rl=!1;this.Cn="";h.Xd.v.constructor.call(this,a,null,k);k||(this.rl=!!g,this.Cn=h.g.cd(e)||"");this.vc=new h.g.Qc(c,d+h.Xd.mB);this.lD=d;this.zf=null;"function"==
typeof f&&(this.zf=f);this.Lc=null};h.g.object.U(h.Xd,h.rd);h.Xd.prototype.Ep="";h.Xd.aa=function(a){return new h.Xd(a.src,a.width,a.height,void 0,void 0,void 0,a)};h.Xd.mB=1;b=h.Xd.prototype;b.pk=!1;b.Ig=!1;b.Vk=function(a){h.Xd.v.Vk.call(this,a);this.rl=!!a.flipRtl;this.Cn=h.g.cd(a.alt)||""};b.po=function(){this.Lc=h.g.j.L(h.g.F.xk,{height:this.lD+"px",width:this.vc.width+"px",alt:this.Cn},this.Wc);this.Lc.setAttributeNS(h.g.j.fd,"xlink:href",this.gf);this.zf&&(this.Lc.style.cursor="pointer")};
b.Ny=function(){};b.Zn=function(a){return"string"!=typeof a?null:a};b.hl=function(a){this.gf=a;this.Lc&&this.Lc.setAttributeNS(h.g.j.fd,"xlink:href",String(this.gf))};b.Ow=function(){return this.rl};b.jp=function(){this.zf&&this.zf(this)};b.Yr=function(){return this.Cn};h.zg.register("field_image",h.Xd);var le={},Q,me,ne,R,S,T,oe;h.mc.maze_moveForward={Ba:function(){gc(this,{message0:N("Maze_moveForward"),previousStatement:null,nextStatement:null,colour:290,tooltip:N("Maze_moveForwardTooltip")})}};h.P.maze_moveForward=function(a){return"moveForward('block_id_"+a.id+"');\n"};h.mc.maze_turn={Ba:function(){var a=[[N("Maze_turnLeft"),"turnLeft"],[N("Maze_turnRight"),"turnRight"]];a[0][0]+=" \u21ba";a[1][0]+=" \u21bb";this.re(290);F(fc(this),new h.Ya(a),"DIR");this.zi(!0);this.Xj(!0);this.te(N("Maze_turnTooltip"))}};
h.P.maze_turn=function(a){return hb(a,"DIR")+"('block_id_"+a.id+"');\n"};h.mc.maze_if={Ba:function(){var a=[[N("Maze_pathAhead"),"isPathForward"],[N("Maze_pathLeft"),"isPathLeft"],[N("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.re(210);F(fc(this),new h.Ya(a),"DIR");F(this.vf(h.Ga.oc,"DO"),N("Maze_doCode"));this.te(N("Maze_ifTooltip"));this.zi(!0);this.Xj(!0)}};h.P.maze_if=function(a){var c=hb(a,"DIR")+"('block_id_"+a.id+"')";a=je(a,"DO");return"if ("+c+") {\n"+a+"}\n"};
h.mc.maze_ifElse={Ba:function(){var a=[[N("Maze_pathAhead"),"isPathForward"],[N("Maze_pathLeft"),"isPathLeft"],[N("Maze_pathRight"),"isPathRight"]];a[1][0]+=" \u21ba";a[2][0]+=" \u21bb";this.re(210);F(fc(this),new h.Ya(a),"DIR");F(this.vf(h.Ga.oc,"DO"),N("Maze_doCode"));F(this.vf(h.Ga.oc,"ELSE"),N("Maze_elseCode"));this.te(N("Maze_ifelseTooltip"));this.zi(!0);this.Xj(!0)}};
h.P.maze_ifElse=function(a){var c=hb(a,"DIR")+"('block_id_"+a.id+"')",d=je(a,"DO");a=je(a,"ELSE");return"if ("+c+") {\n"+d+"} else {\n"+a+"}\n"};h.mc.maze_forever={Ba:function(){this.re(120);F(F(fc(this),N("Maze_repeatUntil")),new h.Xd(U.Ho,12,16));F(this.vf(h.Ga.oc,"DO"),N("Maze_doCode"));this.zi(!0);this.te(N("Maze_whileTooltip"))}};h.P.maze_forever=function(a){var c=je(a,"DO");h.P.Lu&&(c=h.P.Lu.replace(/%1/g,"'block_id_"+a.id+"'")+c);return"while (notDone()) {\n"+c+"}\n"};var pe=pe||{};function qe(a,c){function d(){}d.prototype=c.prototype;a.v=c.prototype;a.prototype=new d;a.prototype.constructor=a;a.VI=function(e,f,g){return c.prototype[f].apply(e,Array.prototype.slice.call(arguments,2))}}if(!re){var re,se="";"undefined"!==typeof navigator&&navigator&&"string"==typeof navigator.userAgent&&(se=navigator.userAgent);var te=0==se.indexOf("Opera");re={MJ:{rG:"ScriptEngine"in window},CH:te,Yd:!te&&-1!=se.indexOf("MSIE"),Fv:!te&&-1!=se.indexOf("WebKit")}}if(!ue)var ue={};
if(!ve)var ve={};if(!we)var we={};if(!xe)var xe={};if(!ye)var ye={};if(!ze)var ze={};var Ae=pe.wz?{ZJ:!0}:{},Be=pe.wz?{$J:!0}:{};function Ce(){throw Error("Do not instantiate directly");}Ce.prototype.jw=null;Ce.prototype.toString=function(){return this.content};function De(a){if(null!=a)switch(a.jw){case 1:return 1;case -1:return-1;case 0:return 0}return null}function Ee(){Ce.call(this)}qe(Ee,Ce);Ee.prototype.kw=Ae;
function V(a){return null!=a&&a.kw===Ae?a:Fe(String(String(a)).replace(Ge,He),De(a))}var Fe=function(a){function c(){}c.prototype=a.prototype;return function(d,e){var f=new c;f.content=String(d);void 0!==e&&(f.jw=e);return f}}(Ee),Ie={"\x00":"&#0;",'"':"&quot;","&":"&amp;","'":"&#39;","<":"&lt;",">":"&gt;","\t":"&#9;","\n":"&#10;","\v":"&#11;","\f":"&#12;","\r":"&#13;"," ":"&#32;","-":"&#45;","/":"&#47;","=":"&#61;","`":"&#96;","\u0085":"&#133;","\u00a0":"&#160;","\u2028":"&#8232;","\u2029":"&#8233;"};
function He(a){return Ie[a]}var Ge=/[\x00\x22\x26\x27\x3c\x3e]/g;function Je(){return'<div class="farSide" style="padding: 1ex 3ex 0"><button class="secondary dialogOk" onclick="BlocklyDialogs.hideDialog(true)"></button></div>'};function Ke(){var a="skin="+V(Le),c='<table width="100%"><tr><td><h1><span id="title">'+((gd?'<a href="index.html?lang='+V(L)+'">':'<a href="./?lang='+V(L)+'">')+"Blockly Games</a> : "+V("Maze")+"</span>");if(M){a=""+(a?V(a):"");for(var d=" &nbsp; ",e=1;11>e;e++){var f="?lang="+V(L)+"&level="+V(e)+(a?"&"+V(a):"");d+=" "+(e==M?'<span class="level_number level_done" id="level'+V(e)+'">'+V(e)+"</span>":10==e?'<a class="level_number" id="level'+V(e)+'" href="'+V(f)+'">'+V(e)+"</a>":'<a class="level_dot" id="level'+
V(e)+'" href="'+V(f)+'"></a>')}a=d}else a="";return'<div style="display: none"><span id="Games_name">Blockly Games</span><span id="Games_puzzle">Puzzle</span><span id="Games_maze">Maze</span><span id="Games_bird">Bird</span><span id="Games_turtle">Turtle</span><span id="Games_movie">Movie</span><span id="Games_music">Music</span><span id="Games_pondTutor">Pond Tutor</span><span id="Games_pond">Pond</span><span id="Games_genetics">Genetics</span><span id="Games_linesOfCode1">You solved this level with 1 line of JavaScript:</span><span id="Games_linesOfCode2">You solved this level with %1 lines of JavaScript:</span><span id="Games_nextLevel">Are you ready for level %1?</span><span id="Games_finalLevel">Are you ready for the next challenge?</span><span id="Games_submitTitle">Title:</span><span id="Games_linkTooltip">Save and link to blocks.</span><span id="Games_runTooltip">Run the program you wrote.</span><span id="Games_runProgram">Run Program</span><span id="Games_resetTooltip">Stop the program and reset the level.</span><span id="Games_resetProgram">Reset</span><span id="Games_help">Help</span><span id="Games_catLogic">Logic</span><span id="Games_catLoops">Loops</span><span id="Games_catMath">Math</span><span id="Games_catText">Text</span><span id="Games_catLists">Lists</span><span id="Games_catColour">Colour</span><span id="Games_catVariables">Variables</span><span id="Games_catProcedures">Functions</span><span id="Games_httpRequestError">There was a problem with the request.</span><span id="Games_linkAlert">Share your blocks with this link:\\n\\n%1</span><span id="Games_hashError">Sorry, \'%1\' doesn\'t correspond with any saved program.</span><span id="Games_xmlError">Could not load your saved file. Perhaps it was created with a different version of Blockly?</span><span id="Games_submitted">Thank you for this program!  If our staff of trained monkeys like it, they will publish it to the gallery within a couple of days.</span><span id="Games_listVariable">list</span><span id="Games_textVariable">text</span><span id="Games_breakLink">Once you start editing JavaScript, you can\'t go back to editing blocks. Is this OK?</span><span id="Games_blocks">Blocks</div></div><div style="display: none"><span id="Maze_moveForward">\u0a86\u0a97\u0ab3 \u0ab5\u0aa7\u0acb</span><span id="Maze_turnLeft">\u0aa1\u0abe\u0aac\u0ac7 \u0ab5\u0ab3\u0acb</span><span id="Maze_turnRight">\u0a9c\u0aae\u0aa3\u0ac0 \u0aac\u0abe\u0a9c\u0ac1 \u0ab5\u0ab3\u0acb</span><span id="Maze_doCode">do</span><span id="Maze_elseCode">else</span><span id="Maze_helpIfElse">If-else blocks will do one thing or the other.</span><span id="Maze_pathAhead">if path ahead</span><span id="Maze_pathLeft">if path to the left</span><span id="Maze_pathRight">if path to the right</span><span id="Maze_repeatUntil">repeat until</span><span id="Maze_moveForwardTooltip">Moves the player forward one space.</span><span id="Maze_turnTooltip">Turns the player left or right by 90 degrees.</span><span id="Maze_ifTooltip">If there is a path in the specified direction, then do some actions.</span><span id="Maze_ifelseTooltip">If there is a path in the specified direction, then do the first block of actions. Otherwise, do the second block of actions.</span><span id="Maze_whileTooltip">Repeat the enclosed actions until finish point is reached.</span><span id="Maze_capacity0">You have %0 blocks left.</span><span id="Maze_capacity1">You have %1 block left.</span><span id="Maze_capacity2">You have %2 blocks left.</span></div>'+
(c+a+'</h1></td><td id="header_cta" class="farSide"><select id="languageMenu"></select>&nbsp;<button id="linkButton" title="Save and link to blocks."><img src="common/1x1.gif" class="link icon21"></button>&nbsp;'+('<button id="pegmanButton"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>'.kw===Be?"zSoyz":'<button id="pegmanButton"><img src="common/1x1.gif"><span id="pegmanButtonArrow"></span></button>')+'</td></tr></table><div id="visualization"><svg xmlns="http://www.w3.org/2000/svg" version="1.1" id="svgMaze" width="400px" height="400px"><g id="look"><path d="M 0,-15 a 15 15 0 0 1 15 15" /><path d="M 0,-35 a 35 35 0 0 1 35 35" /><path d="M 0,-55 a 55 55 0 0 1 55 55" /></g></svg><div id="capacityBubble"><div id="capacity"></div></div></div><table width="400"><tr><td style="width: 190px; text-align: center; vertical-align: top;"><td><button id="runButton" class="primary" title="Makes the player do what the blocks say."><img src="common/1x1.gif" class="run icon21"> \u0aaa\u0acd\u0ab0\u0acb\u0a97\u0acd\u0ab0\u0abe\u0aae \u0a9a\u0ab2\u0abe\u0ab5\u0acb</button><button id="resetButton" class="primary" style="display: none" title="Put the player back at the start of the maze."><img src="common/1x1.gif" class="stop icon21"> \u0ab0\u0ac0\u0ab8\u0ac7\u0a9f \u0a95\u0ab0\u0acb</button></td></tr></table><xml id="toolbox" xmlns="https://developers.google.com/blockly/xml"><block type="maze_moveForward"></block><block type="maze_turn"><field name="DIR">turnLeft</field></block><block type="maze_turn"><field name="DIR">turnRight</field></block>')+
((2<M?'<block type="maze_forever"></block>'+(6==M?'<block type="maze_if"><field name="DIR">isPathLeft</field></block>':6<M?'<block type="maze_if"></block>'+(8<M?'<block type="maze_ifElse"></block>':""):""):"")+'</xml><div id="blockly"></div><div id="pegmanMenu"></div><div id="dialogShadow" class="dialogAnimate"></div><div id="dialogBorder"></div><div id="dialog"></div><div id="dialogDone" class="dialogHiddenContent"><div style="font-size: large; margin: 1em;">Congratulations!</div><div id="dialogLinesText" style="font-size: large; margin: 1em;"></div><pre id="containerCode"></pre><div id="dialogDoneText" style="font-size: large; margin: 1em;"></div><div id="dialogDoneButtons" class="farSide" style="padding: 1ex 3ex 0"><button id="doneCancel" class="dialogCancel"></button><button id="doneOk" class="secondary dialogOk"></button></div></div><div id="dialogAbort" class="dialogHiddenContent">This level is extremely difficult. Would you like to skip it and go onto the next game? You can always come back later.<div class="farSide" style="padding: 1ex 3ex 0"><button id="abortCancel" class="dialogCancel"></button><button id="abortOk" class="secondary dialogOk"></button></div></div><div id="dialogStorage" class="dialogHiddenContent"><div id="containerStorage"></div>')+
(Je()+"</div>")+(1==M?'<div id="dialogHelpStack" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>\u0aae\u0aa8\u0ac7 \u0aa7\u0acd\u0aaf\u0ac7\u0aaf \u0ab8\u0ac1\u0aa7\u0ac0 \u0aaa\u0ab9\u0acb\u0a82\u0a9a\u0ab5\u0abe\u0aae\u0abe\u0a82 \u0aae\u0aa6\u0aa6 \u0a95\u0ab0\u0ab5\u0abe \u0aae\u0abe\u0a9f\u0ac7 \u0a95\u0ac7\u0a9f\u0ab2\u0abe\u0a95 \'\u0a86\u0a97\u0ab3 \u0ab5\u0aa7\u0acb\' \u0aac\u0acd\u0ab2\u0acb\u0a95\u0aa8\u0ac7 \u0a8f\u0a95\u0ab8\u0abe\u0aa5\u0ac7 \u0ab8\u0acd\u0a9f\u0ac5\u0a95 \u0a95\u0ab0\u0acb.</td><td valign="top"><img src="maze/help_stack.png" class="mirrorImg" height=63 width=136></td></tr></table></div><div id="dialogHelpOneTopBlock" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>On this level, you need to stack together all of the blocks in the white workspace.<div id="sampleOneTopBlock" class="readonly"></div></td></tr></table></div><div id="dialogHelpRun" class="dialogHiddenContent"><table><tr><td>Run your program to see what happens.</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="maze/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':
2==M?'<div id="dialogHelpReset" class="dialogHiddenContent"><table><tr><td>Your program didn\'t solve the maze. Press \'Reset\' and try again.</td><td rowspan=2><img src="common/help.png"></td></tr><tr><td><div><img src="maze/help_run.png" class="mirrorImg" height=27 width=141></div></td></tr></table></div>':3==M||4==M?(3==M?'<div id="dialogHelpRepeat" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td>Reach the end of this path using only two blocks. Use \'repeat\' to run a block more than once.</td><td><img src="common/help.png"></td></tr></table></div>':
"")+'<div id="dialogHelpCapacity" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>You have used up all the blocks for this level. To create a new block, you first need to delete an existing block.</td></tr></table></div><div id="dialogHelpRepeatMany" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td>You can fit more than one block inside a \'repeat\' block.</td><td><img src="common/help.png"></td></tr></table></div>':5==M?
'<div id="dialogHelpSkins" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td width="95%">Choose your favourite player from this menu.</td><td><img src="maze/help_up.png"></td></tr></table></div>':6==M?'<div id="dialogHelpIf" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td>An \'if\' block will do something only if the condition is true. Try turning left if there is a path to the left.</td><td><img src="common/help.png"></td></tr></table></div>':
7==M?'<div id="dialogHelpMenu" class="dialogHiddenContent"><table><tr><td><img src="maze/help_up.png"></td><td id="helpMenuText">Click on %1 in the \'if\' block to change its condition.</td><td><img src="common/help.png"></td></tr></table></div>':9==M?'<div id="dialogHelpIfElse" class="dialogHiddenContent"><table><tr><td><img src="maze/help_down.png"></td><td>If-else blocks will do one thing or the other.</td><td><img src="common/help.png"></td></tr></table></div>':10==M?'<div id="dialogHelpWallFollow" class="dialogHiddenContent"><table><tr><td><img src="common/help.png"></td><td>&nbsp;</td><td>Can you solve this complicated maze? Try following the left-hand wall. Advanced programmers only!'+
Je()+"</td></tr></table></div>":"")};var nd="maze";Yd=function(){10>M?window.location=window.location.protocol+"//"+window.location.host+window.location.pathname+"?lang="+L+"&level="+(M+1)+"&skin="+Le:Xd()};
var Me=[void 0,Infinity,Infinity,2,5,5,5,5,10,7,10][M],Ne=[{Yj:"maze/pegman.png",Rt:"maze/tiles_pegman.png",Ho:"maze/marker.png",background:!1,zs:"#000",au:["maze/win.mp3","maze/win.ogg"],$q:["maze/fail_pegman.mp3","maze/fail_pegman.ogg"],Rn:1},{Yj:"maze/astro.png",Rt:"maze/tiles_astro.png",Ho:"maze/marker.png",background:"maze/bg_astro.jpg",zs:"#fff",au:["maze/win.mp3","maze/win.ogg"],$q:["maze/fail_astro.mp3","maze/fail_astro.ogg"],Rn:2},{Yj:"maze/panda.png",Rt:"maze/tiles_panda.png",Ho:"maze/marker.png",
background:"maze/bg_panda.jpg",zs:"#000",au:["maze/win.mp3","maze/win.ogg"],$q:["maze/fail_panda.mp3","maze/fail_panda.ogg"],Rn:3}],Le=id("skin",0,Ne.length-1),U=Ne[Le],W=[void 0,[[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0],[0,0,2,1,3,0,0],[0,0,0,0,0,0,0],[0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,1,3,0,0,0],[0,0,2,1,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,
0,0,0,0,0],[0,2,1,1,1,1,3,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,1],[0,0,0,0,0,0,1,1],[0,0,0,0,0,3,1,0],[0,0,0,0,1,1,0,0],[0,0,0,1,1,0,0,0],[0,0,1,1,0,0,0,0],[0,2,1,0,0,0,0,0],[1,1,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,3,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,0,0,1,0,0],[0,0,0,2,1,1,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,1,0,0,0,1,0,0],[0,1,1,3,0,1,0,0],[0,0,0,0,0,1,0,0],[0,2,1,1,1,1,0,0],
[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,1,1,0],[0,2,1,1,1,1,0,0],[0,0,0,0,0,1,1,0],[0,1,1,3,0,1,0,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,0,0,0,0,0,0,0],[0,1,1,1,1,0,0,0],[0,1,0,0,1,1,0,0],[0,1,1,1,0,1,0,0],[0,0,0,1,0,1,0,0],[0,2,1,1,0,3,0,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,1,1,1,0,0],[0,0,1,0,0,0,0,0],[3,1,1,1,1,1,1,0],[0,1,0,1,0,1,1,0],[1,1,1,1,1,0,1,0],[0,1,0,1,0,2,1,0],[0,0,0,0,0,0,0,0]],[[0,0,0,0,0,0,0,0],[0,1,1,0,3,0,1,0],[0,1,1,
0,1,1,1,0],[0,1,0,1,0,1,0,0],[0,1,1,1,1,1,1,0],[0,0,0,1,0,0,1,0],[0,2,1,1,1,0,1,0],[0,0,0,0,0,0,0,0]]][M],Oe=W.length,Pe=W[0].length,Qe=50*Pe,Re=50*Oe,X=0,Y=[],Se={10010:[4,0],10001:[3,3],11E3:[0,1],10100:[0,2],11010:[4,1],10101:[3,2],10110:[0,0],10011:[2,0],11001:[4,2],11100:[2,3],11110:[1,1],10111:[1,0],11011:[2,1],11101:[1,2],11111:[2,2],null0:[4,3],null1:[3,0],null2:[3,1],null3:[0,3],null4:[1,3]};
function Te(){function a(m,n){return 0>m||m>=Pe||0>n||n>=Oe?"0":0==W[n][m]?"0":"1"}var c=document.getElementById("svgMaze"),d=50*Math.max(Oe,Pe);c.setAttribute("viewBox","0 0 "+d+" "+d);h.g.j.L("rect",{height:Re,width:Qe,fill:"#F1EEE7","stroke-width":1,stroke:"#CCB"},c);if(U.background){var e=h.g.j.L("image",{height:Re,width:Qe,x:0,y:0},c);e.setAttributeNS(h.g.j.fd,"xlink:href",U.background)}for(var f=d=0;f<Oe;f++)for(var g=0;g<Pe;g++){var k=a(g,f)+a(g,f-1)+a(g+1,f)+a(g,f+1)+a(g-1,f);Se[k]||(k="00000"==
k&&.3<Math.random()?"null0":"null"+Math.floor(1+4*Math.random()));e=Se[k][0];k=Se[k][1];var l=h.g.j.L("clipPath",{id:"tileClipPath"+d},c);h.g.j.L("rect",{height:50,width:50,x:50*g,y:50*f},l);e=h.g.j.L("image",{height:200,width:250,"clip-path":"url(#tileClipPath"+d+")",x:50*(g-e),y:50*(f-k)},c);e.setAttributeNS(h.g.j.fd,"xlink:href",U.Rt);d++}h.g.j.L("image",{id:"finish",height:34,width:20},c).setAttributeNS(h.g.j.fd,"xlink:href",U.Ho);d=h.g.j.L("clipPath",{id:"pegmanClipPath"},c);h.g.j.L("rect",{id:"clipRect",
height:52,width:49},d);h.g.j.L("image",{id:"pegman",height:52,width:1029,"clip-path":"url(#pegmanClipPath)"},c).setAttributeNS(h.g.j.fd,"xlink:href",U.Yj)}
function Ue(a){if(!(a&&a.rs||A.Yc()||1==X||ld(M))){a=jd();var c=h.I.Dd(h.I.Uy()),d=A.ya.m.vb(!0),e=null,f=null,g=null;if(1==M)2>D(A).length?(e=document.getElementById("dialogHelpStack"),g={width:"370px",top:"130px"},g[a?"right":"left"]="215px",f=d[0].qa()):(d=A.vb(!0),1<d.length?(e='<xml>;<block type="maze_moveForward" x="10" y="10">;<next>;<block type="maze_moveForward"></block>;</next>;</block>;</xml>'.split(";"),f=document.getElementById("sampleOneTopBlock"),f.firstChild||(f=h.Hg(f,{rtl:jd(),readOnly:!0}),
"string"!=typeof e&&(e=e.join("")),h.I.Lh(h.I.ue(e),f)),e=document.getElementById("dialogHelpOneTopBlock"),g={width:"360px",top:"120px"},g[a?"right":"left"]="225px",f=d[0].qa()):0==X&&(e=document.getElementById("dialogHelpRun"),g={width:"360px",top:"410px"},g[a?"right":"left"]="400px",f=document.getElementById("runButton")));else if(2==M)0!=X&&"none"==document.getElementById("runButton").style.display&&(e=document.getElementById("dialogHelpReset"),g={width:"360px",top:"410px"},g[a?"right":"left"]=
"400px",f=document.getElementById("resetButton"));else if(3==M)-1==c.indexOf("maze_forever")&&(0==kb(A)?(e=document.getElementById("dialogHelpCapacity"),g={width:"430px",top:"310px"},g[a?"right":"left"]="50px",f=document.getElementById("capacityBubble")):(e=document.getElementById("dialogHelpRepeat"),g={width:"360px",top:"360px"},g[a?"right":"left"]="425px",f=d[3].qa()));else if(4==M)if(0==kb(A)&&(-1==c.indexOf("maze_forever")||1<A.vb(!1).length))e=document.getElementById("dialogHelpCapacity"),g=
{width:"430px",top:"310px"},g[a?"right":"left"]="50px",f=document.getElementById("capacityBubble");else{c=!0;for(var k=D(A),l=0;l<k.length;l++){var m=k[l];if("maze_forever"==m.type){for(var n=0;m;)m=ea(m),m=m.length?m[0]:null,n++;if(2<n){c=!1;break}}}c&&(e=document.getElementById("dialogHelpRepeatMany"),g={width:"360px",top:"360px"},g[a?"right":"left"]="425px",f=d[3].qa())}else if(5==M)0!=Le||Ve.qB||(e=document.getElementById("dialogHelpSkins"),g={width:"360px",top:"60px"},g[a?"left":"right"]="20px",
f=document.getElementById("pegmanButton"));else if(6==M)-1==c.indexOf("maze_if")&&(e=document.getElementById("dialogHelpIf"),g={width:"360px",top:"430px"},g[a?"right":"left"]="425px",f=d[4].qa());else if(7==M){if(!Ue.oD){k=document.createElement("span");k.className="helpMenuFake";l=[N("Maze_pathAhead"),N("Maze_pathLeft"),N("Maze_pathRight")];n=h.g.Qa.cw(l);m=h.g.Qa.dw(l);k.textContent=(m?l[0].slice(n,-m):l[0].substring(n))+" "+h.Ya.Lm;n=document.getElementById("helpMenuText");l=n.textContent;n.textContent=
"";m=l.split(/%\d/);for(l=0;l<m.length;l++)n.appendChild(document.createTextNode(m[l])),l!=m.length-1&&n.appendChild(k.cloneNode(!0));Ue.oD=!0}-1==c.indexOf("isPathRight")&&(e=document.getElementById("dialogHelpMenu"),g={width:"360px",top:"430px"},g[a?"right":"left"]="425px",f=d[4].qa())}else 9==M&&-1==c.indexOf("maze_ifElse")&&(e=document.getElementById("dialogHelpIfElse"),g={width:"360px",top:"305px"},g[a?"right":"left"]="425px",f=d[5].qa());e?e.parentNode!=document.getElementById("dialog")&&P.om(e,
f,!0,!1,g,null):P.Ve(!1)}}function Ve(a){var c=document.getElementById("pegmanMenu");"block"==c.style.display?We(a):ae(a)||(a=document.getElementById("pegmanButton"),a.classList.add("buttonHover"),c.style.top=a.offsetTop+a.offsetHeight+"px",c.style.left=a.offsetLeft+"px",c.style.display="block",le.ht=h.Fh(document.body,"mousedown",null,We),(c=document.getElementById("dialogHelpSkins"))&&"dialogHiddenContent"!=c.className&&P.Ve(!1),Ve.qB=!0)}
function We(a){ae(a)||(document.getElementById("pegmanMenu").style.display="none",document.getElementById("pegmanButton").classList.remove("buttonHover"),le.ht&&(h.pp(le.ht),delete le.ht))}
function Xe(a){for(var c=0;c<Y.length;c++)clearTimeout(Y[c]);Y=[];R=me.x;S=me.y;a?(T=2,Ye(!1),Y.push(setTimeout(function(){Q=100;Ze([R,S,4*T-4]);T++},5*Q))):(T=1,Z(R,S,4*T));c=document.getElementById("finish");c.setAttribute("x",50*(ne.x+.5)-c.getAttribute("width")/2);c.setAttribute("y",50*(ne.y+.6)-c.getAttribute("height"));c=document.getElementById("look");c.style.display="none";c.parentNode.appendChild(c);a=c.getElementsByTagName("path");c=0;for(var d;d=a[c];c++)d.setAttribute("stroke",U.zs)}
function $e(a){if(!ae(a))if(P.Ve(!1),1==M&&1<A.vb(!1).length&&1!=X&&!ld(M))Ue();else{a=document.getElementById("runButton");var c=document.getElementById("resetButton");c.style.minWidth||(c.style.minWidth=a.offsetWidth+"px");a.style.display="none";c.style.display="inline";Xe(!1);af()}}function bf(a){ae(a)||(document.getElementById("runButton").style.display="inline",document.getElementById("resetButton").style.display="none",Vc(null),Xe(!1),Ue())}
function cf(a,c){var d=function(e){df(0,e)};a.setProperty(c,"moveForward",a.createNativeFunction(d));d=function(e){df(2,e)};a.setProperty(c,"moveBackward",a.createNativeFunction(d));d=function(e){ef(0,e)};a.setProperty(c,"turnLeft",a.createNativeFunction(d));d=function(e){ef(1,e)};a.setProperty(c,"turnRight",a.createNativeFunction(d));d=function(e){return ff(0,e)};a.setProperty(c,"isPathForward",a.createNativeFunction(d));d=function(e){return ff(1,e)};a.setProperty(c,"isPathRight",a.createNativeFunction(d));
d=function(e){return ff(2,e)};a.setProperty(c,"isPathBackward",a.createNativeFunction(d));d=function(e){return ff(3,e)};a.setProperty(c,"isPathLeft",a.createNativeFunction(d));a.setProperty(c,"notDone",a.createNativeFunction(function(){return R!=ne.x||S!=ne.y}))}
function af(){if("Interpreter"in window){oe=[];h.selected&&yb(h.selected);var a=h.P;var c=A;c||(console.warn("No workspace specified in workspaceToCode call.  Guessing."),c=h.Bg());var d=[];a.Ba(c);c=c.vb(!0);for(var e=0,f;f=c[e];e++){var g=ge(a,f);Array.isArray(g)&&(g=g[0]);g&&(f.T&&(g=a.vy(g),a.rn&&!f.Qt&&(g=he(a.rn,f)+g),a.sn&&!f.Qt&&(g+=he(a.sn,f))),d.push(g))}d=d.join("\n");d=a.finish(d);d=d.replace(/^\s+\n/,"");d=d.replace(/\n\s+$/,"\n");Pd=a=d=d.replace(/[ \t]+\n/g,"\n");Od=Rd();X=0;a=new Interpreter(a,
cf);try{for(d=1E4;a.step();)if(0==d--)throw Infinity;X=R!=ne.x||S!=ne.y?-1:1}catch(k){Infinity===k?X=2:!1===k?X=-2:(X=-2,alert(k))}1==X?(Q=100,oe.push(["finish",null])):Q=150;Xe(!1);Y.push(setTimeout(gf,100))}else setTimeout(af,250)}
function gf(){var a=oe.shift();if(a){Zd(a[1]);switch(a[0]){case "north":Ze([R,S-1,4*T]);S--;break;case "east":Ze([R+1,S,4*T]);R++;break;case "south":Ze([R,S+1,4*T]);S++;break;case "west":Ze([R-1,S,4*T]);R--;break;case "look_north":hf(0);break;case "look_east":hf(1);break;case "look_south":hf(2);break;case "look_west":hf(3);break;case "fail_forward":jf(!0);break;case "fail_backward":jf(!1);break;case "left":Ze([R,S,4*T-4]);T=kf(T-1);break;case "right":Ze([R,S,4*T+4]);T=kf(T+1);break;case "finish":Ye(!0),
window.localStorage&&(window.localStorage[nd+M]=Od),setTimeout(P.YB,1E3)}Y.push(setTimeout(gf,5*Q))}else Zd(null),Ue()}function lf(a){if("dialogHiddenContent"!=document.getElementById("dialogDone").className){var c=document.getElementById("pegSpin"),d=P.Jw(c),e=a.clientX-(d.x+d.width/2-window.pageXOffset);a=h.g.Jd.XE(Math.atan((a.clientY-(d.y+d.height/2-window.pageYOffset))/e));e=Math.round((0<e?a+90:a+270)/360*16);16==e&&(e=15);c.style.backgroundPosition=49*-e+"px 0px"}}
function Ze(a){var c=[R,S,4*T],d=[(a[0]-c[0])/4,(a[1]-c[1])/4,(a[2]-c[2])/4];Z(c[0]+d[0],c[1]+d[1],mf(c[2]+d[2]));Y.push(setTimeout(function(){Z(c[0]+2*d[0],c[1]+2*d[1],mf(c[2]+2*d[2]))},Q));Y.push(setTimeout(function(){Z(c[0]+3*d[0],c[1]+3*d[1],mf(c[2]+3*d[2]))},2*Q));Y.push(setTimeout(function(){Z(a[0],a[1],mf(a[2]))},3*Q))}
function jf(a){var c=0,d=0;switch(T){case 0:d=-1;break;case 1:c=1;break;case 2:d=1;break;case 3:c=-1}a||(c=-c,d=-d);if(1==U.Rn){c/=4;d/=4;var e=mf(4*T);Z(R+c,S+d,e);A.Uc.play("fail",.5);Y.push(setTimeout(function(){Z(R,S,e)},Q));Y.push(setTimeout(function(){Z(R+c,S+d,e);A.Uc.play("fail",.5)},2*Q));Y.push(setTimeout(function(){Z(R,S,e)},3*Q))}else{var f=10*(Math.random()-.5),g=(Math.random()-.5)/2;c+=(Math.random()-.5)/4;d+=(Math.random()-.5)/4;c/=8;d/=8;var k=0;3==U.Rn&&(k=.01);Y.push(setTimeout(function(){A.Uc.play("fail",
.5)},2*Q));a=function(m){return function(){Z(R+c*m,S+d*m,mf(4*T+g*m),f*m);d+=k}};for(var l=1;100>l;l++)Y.push(setTimeout(a(l),Q*l/2))}}function Ye(a){var c=mf(4*T);Z(R,S,16);a&&A.Uc.play("win",.5);Q=150;Y.push(setTimeout(function(){Z(R,S,18)},Q));Y.push(setTimeout(function(){Z(R,S,16)},2*Q));Y.push(setTimeout(function(){Z(R,S,c)},3*Q))}
function Z(a,c,d,e){var f=document.getElementById("pegman");f.setAttribute("x",50*a-49*d+1);f.setAttribute("y",50*(c+.5)-26-8);e?f.setAttribute("transform","rotate("+e+", "+(50*a+25)+", "+(50*c+25)+")"):f.setAttribute("transform","rotate(0, 0, 0)");c=document.getElementById("clipRect");c.setAttribute("x",50*a+1);c.setAttribute("y",f.getAttribute("y"))}
function hf(a){var c=R,d=S;switch(a){case 0:c+=.5;break;case 1:c+=1;d+=.5;break;case 2:c+=.5;d+=1;break;case 3:d+=.5}c*=50;d*=50;var e=90*a-45;a=document.getElementById("look");a.setAttribute("transform","translate("+c+", "+d+") rotate("+e+" 0 0) scale(.4)");c=a.getElementsByTagName("path");a.style.display="inline";for(d=0;a=c[d];d++)nf(a,Q*d)}function nf(a,c){Y.push(setTimeout(function(){a.style.display="inline";setTimeout(function(){a.style.display="none"},2*Q)},c))}
function kf(a){a=Math.round(a)%4;0>a&&(a+=4);return a}function mf(a){a=Math.round(a)%16;0>a&&(a+=16);return a}function df(a,c){if(!ff(a,null))throw oe.push(["fail_"+(a?"backward":"forward"),c]),!1;switch(kf(T+a)){case 0:S--;var d="north";break;case 1:R++;d="east";break;case 2:S++;d="south";break;case 3:R--,d="west"}oe.push([d,c])}function ef(a,c){a?(T++,oe.push(["right",c])):(T--,oe.push(["left",c]));T=kf(T)}
function ff(a,c){switch(kf(T+a)){case 0:var d=W[S-1]&&W[S-1][R];var e="look_north";break;case 1:d=W[S][R+1];e="look_east";break;case 2:d=W[S+1]&&W[S+1][R];e="look_south";break;case 3:d=W[S][R-1],e="look_west"}c&&oe.push([e,c]);return 0!==d&&void 0!==d}
window.addEventListener("load",function(){function a(){var t,u=q.offsetTop;if(B.matches)return c();p.style.top=Math.max(10,u-window.pageYOffset)+"px";p.style.left=n?"10px":"420px";p.style.width=window.innerWidth-440+"px";(null===(t=document)||void 0===t?void 0:t.getElementById("visualization").childNodes).forEach(function(w){w.style.width="400px";w.style.height="auto";w.style.position="fixed";w.style.top="120px";w.style.left="1%"})}function c(){var t,u,w,I,ab,bb,vc,wc,cb=null===(t=document)||void 0===
t?void 0:t.getElementById("runButton");t=null===(u=document)||void 0===u?void 0:u.getElementById("resetButton");[cb,t].forEach(function(H){H.style.top="2%";H.style.height="6vh";H.style.right="1%";H.style.fontSize="1rem"});cb.style.top="2%";cb.style.height="6vh";cb.style.right="1%";cb.style.fontSize="1rem";document.body.style.display="flex";document.body.style.flexDirection="column";p.style.top="57vh";p.style.width="90vw";p.style.height="37vh";p.style.left="1%";(null===(w=document)||void 0===w?void 0:
w.getElementById("visualization").childNodes).forEach(function(H){H.style.height="35vh";H.style.position="fixed";H.style.top="24vh";H.style.left="1%"});u=null===(I=document)||void 0===I?void 0:I.getElementById("dialogBorder");I=null===(ab=document)||void 0===ab?void 0:ab.getElementById("dialogShadow");ab=null===(bb=document)||void 0===bb?void 0:bb.getElementById("dialog");[u,ab,I].forEach(function(H){H.style.width="50vw";H.style.height="auto";H.style.top="15%";H.style.left="5%";H.style.opacity="0.9"});
(bb=null===(vc=document)||void 0===vc?void 0:null===(wc=vc.getElementById("dialog"))||void 0===wc?void 0:wc.getElementsByTagName("img"))&&e(bb).forEach(function(H){H.style.height="30px";H.style.width="30px"})}function d(t){return function(){window.sessionStorage&&(window.sessionStorage.ys=Rd());location=location.protocol+"//"+location.host+location.pathname+"?lang="+L+"&level="+M+"&skin="+t}}function e(t){var u=Array.isArray(t)?f(t):void 0;u||(u="undefined"!==typeof Symbol&&null!=t[Symbol.iterator]||
null!=t["@@iterator"]?Array.from(t):void 0);if(!u)a:{if(t){if("string"===typeof t){u=f(t,void 0);break a}u=Object.prototype.toString.call(t).slice(8,-1);"Object"===u&&t.constructor&&(u=t.constructor.name);if("Map"===u||"Set"===u){u=Array.from(t);break a}if("Arguments"===u||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(u)){u=f(t,void 0);break a}}u=void 0}if(!(t=u))throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.");
return t}function f(t,u){if(null==u||u>t.length)u=t.length;for(var w=0,I=Array(u);w<u;w++)I[w]=t[w];return I}document.body.innerHTML=Ke();Qd();document.querySelector("#pegmanButton>img").style.backgroundImage="url("+U.Yj+")";for(var g=document.getElementById("pegmanMenu"),k=0;k<Ne.length;k++)if(k!=Le){var l=document.createElement("div"),m=document.createElement("img");m.src="common/1x1.gif";m.style.backgroundImage="url("+Ne[k].Yj+")";l.appendChild(m);g.appendChild(l);h.Fh(l,"mousedown",null,d(k))}h.Fh(window,
"resize",null,We);g=document.getElementById("pegmanButton");h.Fh(g,"mousedown",null,Ve);g=document.getElementById("pegmanButtonArrow");k=document.createTextNode(h.Ya.Lm);g.appendChild(k);var n=jd(),p=document.getElementById("blockly"),q=document.getElementById("visualization"),B=window.matchMedia("(max-width: 700px )");B.matches&&c();window.addEventListener("scroll",function(){a(null);h.ym(A)});window.addEventListener("resize",a);a(null);Wd({maxBlocks:Me,rtl:n,trashcan:!0,zoom:{startScale:1+(1-M/
10)/3}});A.Uc.load(U.au,"win");A.Uc.load(U.$q,"fail");ke(h.P,"moveForward,moveBackward,turnRight,turnLeft,isPathForward,isPathRight,isPathBackward,isPathLeft");Te();Ud();for(g=0;g<Oe;g++)for(k=0;k<Pe;k++)2==W[g][k]?me={x:k,y:g}:3==W[g][k]&&(ne={x:k,y:g});Xe(!0);E(A,function(){var t=kb(A),u=document.getElementById("capacity");if(Infinity==t)u.style.display="none";else{u.style.display="inline";u.innerHTML="";t=Number(t);var w=document.createElement("span");w.className="capacityNumber";w.appendChild(document.createTextNode(t));
t=(0==t?N("Maze_capacity0"):1==t?N("Maze_capacity1"):N("Maze_capacity2")).split(/%\d/);for(var I=0;I<t.length;I++)u.appendChild(document.createTextNode(t[I])),I!=t.length-1&&u.appendChild(w.cloneNode(!0))}});document.body.addEventListener("mousemove",lf,!0);od("runButton",$e);od("resetButton",bf);1==M&&(h.nc*=2,h.tu=h.nc);10==M?ld(M)||(g=document.getElementById("dialogHelpWallFollow"),P.om(g,null,!1,!0,{width:"30%",left:"35%",top:"12em"},P.Dy),P.Ay(),setTimeout(P.Mv,3E5)):setTimeout(function(){E(A,
Ue);Ue()},5E3);g=document.getElementById("dialogDoneButtons");k=document.createElement("img");k.id="pegSpin";k.src="common/1x1.gif";k.style.backgroundImage="url("+U.Yj+")";g.parentNode.insertBefore(k,g);de();ee()});

